<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Challenge - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Theme Colors: Leisure & Weekend Fun */
            --primary-color: #00b894; /* Mint Green */
            --secondary-color: #fdcb6e; /* Sunflower Yellow */
            --accent-color: #6c5ce7; /* Purple */
            --text-dark: #2d3436;
            --text-light: #ffffff;
            --success: #00D26A;
            --error: #FF4757;
            --bg-gradient: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.8), rgba(255,255,255,0.95));
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Nunito', sans-serif;
            color: var(--text-dark);
            height: 100vh;
            overflow: hidden;
            /* Auto-generated Background SVG with Emojis: Art, Park, Cinema */
            background-color: #f0f3f5;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Ctext x='10' y='30' font-size='20'%3Eüé®%3C/text%3E%3Ctext x='60' y='70' font-size='20'%3Eüå≥%3C/text%3E%3Ctext x='80' y='20' font-size='20'%3Eüé¨%3C/text%3E%3C/svg%3E");
        }

        /* --- Header & Timer --- */
        header {
            background: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            height: 70px;
            z-index: 100;
            position: relative;
        }

        .teacher-brand {
            font-family: 'Quicksand', sans-serif;
            font-weight: 800;
            color: var(--accent-color);
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timer-container {
            background: var(--text-dark);
            color: white;
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: 700;
            display: flex;
            gap: 10px;
            align-items: center;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .timer-container:hover { transform: scale(1.05); }

        /* --- Main Layout --- */
        .main-container {
            display: flex;
            height: calc(100vh - 70px);
        }

        /* --- Left Panel: Reading --- */
        .reading-panel {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            border-right: 2px solid #e0e0e0;
            background: rgba(255, 255, 255, 0.9);
            scroll-behavior: smooth;
        }

        .reading-title {
            color: var(--primary-color);
            font-weight: 800;
            margin-bottom: 20px;
            border-bottom: 3px solid var(--secondary-color);
            display: inline-block;
            padding-bottom: 5px;
        }

        .passage-section {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.03);
            border-left: 5px solid var(--accent-color);
            position: relative;
        }
        
        .passage-label {
            font-weight: bold;
            color: var(--accent-color);
            font-size: 1.1em;
            margin-bottom: 5px;
            display: block;
        }

        .translate-btn {
            background: #dfe6e9;
            border: none;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            cursor: pointer;
            margin-top: 10px;
            color: #636e72;
            font-weight: 700;
            transition: all 0.3s;
        }

        .translate-btn:hover { background: var(--secondary-color); color: white; }
        
        .translation-text {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background: #f1f2f6;
            border-radius: 8px;
            color: #2d3436;
            font-style: italic;
            border-left: 3px solid var(--success);
        }

        .translation-text.show { display: block; animation: fadeIn 0.5s; }

        /* Glossary Table */
        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .glossary-table th { background: var(--accent-color); color: white; padding: 12px; }
        .glossary-table td { padding: 12px; border-bottom: 1px solid #eee; }
        .glossary-table tr:hover { background-color: #f8f9fa; }

        /* --- Right Panel: Exercises --- */
        .exercise-panel {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
            background: #f7f1e3; /* Soft beige */
        }

        .question-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 0 rgba(0,0,0,0.1); /* 3D effect */
            transition: transform 0.3s;
            border: 2px solid transparent;
        }

        .question-card.active { border-color: var(--primary-color); }
        .question-header { display: flex; gap: 15px; margin-bottom: 20px; }
        .q-number {
            background: var(--primary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 800;
            flex-shrink: 0;
        }

        /* Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .option-btn {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 15px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 0 #dcdcdc; /* 3D Button */
            text-align: center;
        }

        .option-btn:active { transform: translateY(4px); box-shadow: 0 0 0 #dcdcdc; }
        .option-btn:hover:not(:disabled) { transform: translateY(-2px); border-color: var(--primary-color); }

        /* States */
        .option-btn.correct {
            background: var(--success);
            color: white;
            border-color: var(--success);
            box-shadow: 0 4px 0 #00944A;
        }
        .option-btn.wrong {
            background: var(--error);
            color: white;
            border-color: var(--error);
            box-shadow: 0 4px 0 #c0392b;
            animation: shake 0.5s;
        }

        /* Feedback Section */
        .feedback-box {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px solid var(--accent-color);
        }
        
        .feedback-tools {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .tool-btn {
            flex: 1;
            padding: 8px;
            border: none;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            font-family: 'Quicksand', sans-serif;
            transition: 0.3s;
        }

        .btn-explain { background: #E1F5FE; color: #0288D1; }
        .btn-translate { background: #F3E5F5; color: #7B1FA2; }
        .btn-vocab { background: #E8F5E9; color: #2E7D32; }
        
        .tool-btn:hover { filter: brightness(0.95); transform: scale(1.05); }

        .explanation-content {
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .ms-mai-avatar {
            width: 30px; height: 30px; border-radius: 50%;
            vertical-align: middle; margin-right: 8px;
        }

        /* Final Result Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .score-display { font-size: 4rem; font-weight: 800; color: var(--primary-color); margin: 20px 0; }
        
        /* Animations */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes popIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* Button Finish */
        .submit-all-btn {
            display: block;
            width: 100%;
            padding: 20px;
            margin-top: 20px;
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.5rem;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 6px 0 #4834d4;
            transition: 0.3s;
        }
        .submit-all-btn:hover { transform: translateY(-3px); }

    </style>
</head>
<body>

<header>
    <div class="teacher-brand">
        üë©‚Äçüè´ Gi√°o vi√™n t·∫°o: Ms Mai An ULIS
    </div>
    <div class="timer-container" onclick="toggleTimer()">
        <span>‚è±Ô∏è</span>
        <span id="timer">10:00</span>
        <span id="timer-status" style="font-size:0.8em; opacity:0.8">(Click to Start)</span>
    </div>
</header>

<div class="main-container">
    <div class="reading-panel">
        <h2 class="reading-title">üìñ Reading Passage: Weekend Events</h2>
        <p style="margin-bottom: 20px; color: #666;">Look at the descriptions of 8 events (A-H) and the needs of 5 people. Decide which event fits each person best.</p>

        <div class="passage-section">
            <span class="passage-label">The People</span>
            <p><strong>1. Ben</strong> has a teenage son who is taking exams at the end of the year. He would like an activity that his son can attend on Saturday to work on his art project.</p>
            <p><strong>2. Tina</strong> wants to get her children outside this weekend to enjoy the sunshine. She‚Äôd like to find something that will keep them active so they use up some energy.</p>
            <p><strong>3. Philip</strong> is looking after his ten-year-old nephew. He is looking for an activity on Sunday morning. He‚Äôd like something where he can sit down as he has a bad back.</p>
            <p><strong>4. Tania</strong> is looking for something to do on either Saturday or Sunday evening. She and her friend Susan are taking their children and would like somewhere they can listen to music and get something to eat.</p>
            <p><strong>5. Anna</strong> and her husband Tom are visiting the area this weekend and would like to take their 12-year-old son somewhere on Saturday evening. They would prefer something that‚Äôs not too expensive.</p>
            <button class="translate-btn" onclick="toggleTrans('trans-people')">üáªüá≥ B·∫¢N D·ªäCH ƒê·∫¶Y ƒê·ª¶</button>
            <div id="trans-people" class="translation-text">
                <strong>1. Ben</strong> c√≥ m·ªôt c·∫≠u con trai tu·ªïi teen s·∫Øp thi cu·ªëi nƒÉm. Anh ·∫•y mu·ªën t√¨m m·ªôt ho·∫°t ƒë·ªông v√†o th·ª© B·∫£y ƒë·ªÉ con trai c√≥ th·ªÉ l√†m d·ª± √°n m·ªπ thu·∫≠t c·ªßa m√¨nh.<br>
                <strong>2. Tina</strong> mu·ªën ƒë∆∞a c√°c con ra ngo√†i v√†o cu·ªëi tu·∫ßn n√†y ƒë·ªÉ t·∫≠n h∆∞·ªüng √°nh n·∫Øng. C√¥ ·∫•y mu·ªën t√¨m th·ª© g√¨ ƒë√≥ gi√∫p b·ªçn tr·∫ª ho·∫°t ƒë·ªông ƒë·ªÉ ti√™u hao b·ªõt nƒÉng l∆∞·ª£ng.<br>
                <strong>3. Philip</strong> ƒëang tr√¥ng ch√°u trai 10 tu·ªïi. Anh ·∫•y t√¨m m·ªôt ho·∫°t ƒë·ªông v√†o s√°ng Ch·ªß nh·∫≠t. Anh ·∫•y mu·ªën n∆°i n√†o ƒë√≥ c√≥ th·ªÉ ng·ªìi xu·ªëng v√¨ anh ·∫•y b·ªã ƒëau l∆∞ng.<br>
                <strong>4. Tania</strong> ƒëang t√¨m vi·ªác g√¨ ƒë√≥ ƒë·ªÉ l√†m v√†o t·ªëi th·ª© B·∫£y ho·∫∑c Ch·ªß nh·∫≠t. C√¥ ·∫•y v√† b·∫°n Susan s·∫Ω ƒë∆∞a con ƒëi c√πng v√† mu·ªën m·ªôt n∆°i c√≥ th·ªÉ nghe nh·∫°c v√† ƒÉn u·ªëng.<br>
                <strong>5. Anna</strong> v√† ch·ªìng Tom ƒëang ƒë·∫øn thƒÉm khu v·ª±c n√†y cu·ªëi tu·∫ßn v√† mu·ªën ƒë∆∞a con trai 12 tu·ªïi ƒëi ƒë√¢u ƒë√≥ v√†o t·ªëi th·ª© B·∫£y. H·ªç th√≠ch n∆°i n√†o ƒë√≥ kh√¥ng qu√° ƒë·∫Øt.
            </div>
        </div>

        <hr style="margin: 20px 0; border: none; height: 1px; background: #ddd;">

        <div class="passage-section">
            <span class="passage-label">A. Open Air Entertainment</span>
            <p>From old black-and-white classics to the latest award-winning films. We open for the summer season this Saturday. Come along and enjoy your favourite film in the evening, outside under the stars ‚Äì the weather looks good this weekend! Children under 13 enter for free.</p>
            <button class="translate-btn" onclick="toggleTrans('trans-A')">üáªüá≥ D·ªäCH</button>
            <div id="trans-A" class="translation-text">T·ª´ nh·ªØng b·ªô phim kinh ƒëi·ªÉn ƒëen tr·∫Øng c≈© ƒë·∫øn nh·ªØng phim ƒëo·∫°t gi·∫£i m·ªõi nh·∫•t. Ch√∫ng t√¥i m·ªü c·ª≠a m√πa h√® v√†o th·ª© B·∫£y n√†y. H√£y ƒë·∫øn v√† th∆∞·ªüng th·ª©c b·ªô phim y√™u th√≠ch v√†o bu·ªïi t·ªëi, ngo√†i tr·ªùi d∆∞·ªõi nh·ªØng v√¨ sao... Tr·∫ª em d∆∞·ªõi 13 tu·ªïi ƒë∆∞·ª£c mi·ªÖn ph√≠.</div>
        </div>

        <div class="passage-section">
            <span class="passage-label">B. Find Robert the Rabbit</span>
            <p>Bring the children along to our annual ‚ÄòFind Robert‚Äô event at Kings Shelley Park this Saturday morning. Each year Robert finds a different place to hide away, and this year we think the kids will find it hard to locate him. Lots of running around and fun for children of all ages!</p>
            <button class="translate-btn" onclick="toggleTrans('trans-B')">üáªüá≥ D·ªäCH</button>
            <div id="trans-B" class="translation-text">H√£y ƒë∆∞a tr·∫ª ƒë·∫øn s·ª± ki·ªán 'T√¨m Th·ªè Robert' th∆∞·ªùng ni√™n t·∫°i C√¥ng vi√™n Kings Shelley v√†o s√°ng th·ª© B·∫£y n√†y... R·∫•t nhi·ªÅu ho·∫°t ƒë·ªông ch·∫°y nh·∫£y v√† vui v·∫ª cho tr·∫ª em m·ªçi l·ª©a tu·ªïi!</div>
        </div>

        <div class="passage-section">
            <span class="passage-label">C. Open Gardens</span>
            <p>We‚Äôre pleased to announce this popular summer event will be taking place this weekend. For anyone interested in gardens and gardening, now‚Äôs your chance to have a look at some of the best in town as people open up their gardens to visitors any time between 9.00 and 5.00. Children are welcome.</p>
            <button class="translate-btn" onclick="toggleTrans('trans-C')">üáªüá≥ D·ªäCH</button>
            <div id="trans-C" class="translation-text">S·ª± ki·ªán m√πa h√® n·ªïi ti·∫øng n√†y s·∫Ω di·ªÖn ra cu·ªëi tu·∫ßn n√†y. D√†nh cho ai y√™u th√≠ch l√†m v∆∞·ªùn... m·ªçi ng∆∞·ªùi m·ªü c·ª≠a v∆∞·ªùn cho kh√°ch tham quan t·ª´ 9h ƒë·∫øn 17h.</div>
        </div>

        <div class="passage-section">
            <span class="passage-label">D. Tom and Larry‚Äôs Garden Party</span>
            <p>This Sunday Tom and Larry will be performing your favourite tunes and a few new ones you may not have heard of. Entrance fee for the evening entertainment includes an evening of music, a buffet with a wide range of food and hot and cold drinks along with ice-cream for the kids.</p>
            <button class="translate-btn" onclick="toggleTrans('trans-D')">üáªüá≥ D·ªäCH</button>
            <div id="trans-D" class="translation-text">Ch·ªß nh·∫≠t n√†y Tom v√† Larry s·∫Ω bi·ªÉu di·ªÖn c√°c giai ƒëi·ªáu y√™u th√≠ch... V√© v√†o c·ª≠a bao g·ªìm m·ªôt bu·ªïi t·ªëi √¢m nh·∫°c, ti·ªác buffet v·ªõi nhi·ªÅu m√≥n ƒÉn, ƒë·ªì u·ªëng... v√† kem cho tr·∫ª em.</div>
        </div>

        <div class="passage-section">
            <span class="passage-label">E. Mansfield Arts Market</span>
            <p>Come along this Sunday to check out some of the fantastic artistic talent the region has to offer. Have a look at some of the works and support our local artists by buying one to take home. We also have face-painting for the younger children and an art workshop for children who want to have a go themselves.</p>
            <button class="translate-btn" onclick="toggleTrans('trans-E')">üáªüá≥ D·ªäCH</button>
            <div id="trans-E" class="translation-text">H√£y ƒë·∫øn v√†o Ch·ªß nh·∫≠t n√†y ƒë·ªÉ xem t√†i nƒÉng ngh·ªá thu·∫≠t tuy·ªát v·ªùi c·ªßa v√πng... Ch√∫ng t√¥i c≈©ng c√≥ v·∫Ω m·∫∑t cho tr·∫ª nh·ªè v√† x∆∞·ªüng ngh·ªá thu·∫≠t cho tr·∫ª mu·ªën t·ª± th·ª≠ s·ª©c.</div>
        </div>

        <div class="passage-section">
            <span class="passage-label">F. Art Attack</span>
            <p>Come along to our art club for children this weekend. We offer a safe place where children from 6-16 can have time working alone or with others on a piece of art. And if your child needs help with their schoolwork there‚Äôll be someone available to offer help and advice.</p>
            <button class="translate-btn" onclick="toggleTrans('trans-F')">üáªüá≥ D·ªäCH</button>
            <div id="trans-F" class="translation-text">H√£y ƒë·∫øn c√¢u l·∫°c b·ªô ngh·ªá thu·∫≠t cho tr·∫ª em cu·ªëi tu·∫ßn n√†y... tr·∫ª t·ª´ 6-16 tu·ªïi c√≥ th·ªÉ l√†m vi·ªác m·ªôt m√¨nh ho·∫∑c c√πng ng∆∞·ªùi kh√°c. N·∫øu con b·∫°n c·∫ßn gi√∫p b√†i t·∫≠p v·ªÅ nh√†, s·∫Ω c√≥ ng∆∞·ªùi s·∫µn s√†ng gi√∫p ƒë·ª° v√† t∆∞ v·∫•n.</div>
        </div>

        <div class="passage-section">
            <span class="passage-label">G. Wanted: Young Musicians</span>
            <p>For ages 14 and over, Middlechurch Musicians are holding a series of activities over the weekend for young people of any ability to learn or practise an instrument of their choice. Bring your child and their favourite instrument along, or if they haven‚Äôt got to this stage let them try one of our own.</p>
            <button class="translate-btn" onclick="toggleTrans('trans-G')">üáªüá≥ D·ªäCH</button>
            <div id="trans-G" class="translation-text">D√†nh cho l·ª©a tu·ªïi 14 tr·ªü l√™n... h·ªçc ho·∫∑c luy·ªán t·∫≠p nh·∫°c c·ª•. Mang theo nh·∫°c c·ª• y√™u th√≠ch, ho·∫∑c th·ª≠ m·ªôt trong nh·ªØng nh·∫°c c·ª• c·ªßa ch√∫ng t√¥i.</div>
        </div>

        <div class="passage-section">
            <span class="passage-label">H. Hassocks Green Festival</span>
            <p>In addition to our regular favourites, organisers this year have introduced a children‚Äôs theme. Take a chair, then relax and enjoy action films and some of the funniest cartoons that will keep your kids entertained. The festival opens on Sunday at 10.00 and is free.</p>
            <button class="translate-btn" onclick="toggleTrans('trans-H')">üáªüá≥ D·ªäCH</button>
            <div id="trans-H" class="translation-text">NƒÉm nay ban t·ªï ch·ª©c gi·ªõi thi·ªáu ch·ªß ƒë·ªÅ tr·∫ª em. H√£y l·∫•y m·ªôt chi·∫øc gh·∫ø, th∆∞ gi√£n v√† th∆∞·ªüng th·ª©c phim h√†nh ƒë·ªông v√† ho·∫°t h√¨nh... L·ªÖ h·ªôi m·ªü c·ª≠a Ch·ªß nh·∫≠t l√∫c 10h v√† mi·ªÖn ph√≠.</div>
        </div>

        <h3 style="color: var(--text-dark); margin-top: 30px;">üìö Academic Glossary</h3>
        <table class="glossary-table">
            <thead><tr><th>Word</th><th>Type</th><th>Vietnamese Meaning</th></tr></thead>
            <tbody>
                <tr><td>Suitable</td><td>(adj)</td><td>Ph√π h·ª£p, th√≠ch h·ª£p</td></tr>
                <tr><td>Attend</td><td>(v)</td><td>Tham d·ª±, c√≥ m·∫∑t</td></tr>
                <tr><td>Locate</td><td>(v)</td><td>ƒê·ªãnh v·ªã, t√¨m th·∫•y</td></tr>
                <tr><td>Annual</td><td>(adj)</td><td>H√†ng nƒÉm</td></tr>
                <tr><td>Region</td><td>(n)</td><td>V√πng, khu v·ª±c</td></tr>
                <tr><td>Workshop</td><td>(n)</td><td>Bu·ªïi h·ªôi th·∫£o/th·ª±c h√†nh</td></tr>
                <tr><td>Instrument</td><td>(n)</td><td>Nh·∫°c c·ª•</td></tr>
                <tr><td>Entertain</td><td>(v)</td><td>Gi·∫£i tr√≠, mua vui</td></tr>
                <tr><td>Perform</td><td>(v)</td><td>Bi·ªÉu di·ªÖn</td></tr>
                <tr><td>Classic</td><td>(n/adj)</td><td>T√°c ph·∫©m kinh ƒëi·ªÉn</td></tr>
            </tbody>
        </table>
    </div>

    <div class="exercise-panel">
        <h2 style="margin-bottom:20px; text-align:center; color: var(--accent-color);">üéØ Matching Challenge</h2>

        <div class="question-card" id="q1">
            <div class="question-header">
                <div class="q-number">1</div>
                <div>
                    <p><strong>Ben</strong> (son needs help with art project, Saturday). Which event is best?</p>
                </div>
            </div>
            <div class="options-grid">
                <button class="option-btn" onclick="checkAnswer(1, 'A', this)">A</button>
                <button class="option-btn" onclick="checkAnswer(1, 'B', this)">B</button>
                <button class="option-btn" onclick="checkAnswer(1, 'C', this)">C</button>
                <button class="option-btn" onclick="checkAnswer(1, 'D', this)">D</button>
                <button class="option-btn" onclick="checkAnswer(1, 'E', this)">E</button>
                <button class="option-btn" onclick="checkAnswer(1, 'F', this)">F</button>
                <button class="option-btn" onclick="checkAnswer(1, 'G', this)">G</button>
                <button class="option-btn" onclick="checkAnswer(1, 'H', this)">H</button>
            </div>
            <div class="feedback-box" id="fb-1">
                <div class="feedback-tools">
                    <button class="tool-btn btn-explain" onclick="showExplain(1)">üë©‚Äçüè´ Gi·∫£i th√≠ch</button>
                    <button class="tool-btn btn-translate" onclick="showTransQ(1)">üåê D·ªãch c√¢u</button>
                    <button class="tool-btn btn-vocab" onclick="showVocab(1)">üìñ T·ª´ v·ª±ng</button>
                </div>
                <div class="explanation-content" id="content-1"></div>
            </div>
        </div>

        <div class="question-card" id="q2">
            <div class="question-header">
                <div class="q-number">2</div>
                <div>
                    <p><strong>Tina</strong> (kids outside, sunshine, active/energy). Which event is best?</p>
                </div>
            </div>
            <div class="options-grid">
                <button class="option-btn" onclick="checkAnswer(2, 'A', this)">A</button>
                <button class="option-btn" onclick="checkAnswer(2, 'B', this)">B</button>
                <button class="option-btn" onclick="checkAnswer(2, 'C', this)">C</button>
                <button class="option-btn" onclick="checkAnswer(2, 'D', this)">D</button>
                <button class="option-btn" onclick="checkAnswer(2, 'E', this)">E</button>
                <button class="option-btn" onclick="checkAnswer(2, 'F', this)">F</button>
                <button class="option-btn" onclick="checkAnswer(2, 'G', this)">G</button>
                <button class="option-btn" onclick="checkAnswer(2, 'H', this)">H</button>
            </div>
            <div class="feedback-box" id="fb-2">
                <div class="feedback-tools">
                    <button class="tool-btn btn-explain" onclick="showExplain(2)">üë©‚Äçüè´ Gi·∫£i th√≠ch</button>
                    <button class="tool-btn btn-translate" onclick="showTransQ(2)">üåê D·ªãch c√¢u</button>
                    <button class="tool-btn btn-vocab" onclick="showVocab(2)">üìñ T·ª´ v·ª±ng</button>
                </div>
                <div class="explanation-content" id="content-2"></div>
            </div>
        </div>

        <div class="question-card" id="q3">
            <div class="question-header">
                <div class="q-number">3</div>
                <div>
                    <p><strong>Philip</strong> (nephew 10yo, Sunday morning, bad back/sit down). Which event is best?</p>
                </div>
            </div>
            <div class="options-grid">
                <button class="option-btn" onclick="checkAnswer(3, 'A', this)">A</button>
                <button class="option-btn" onclick="checkAnswer(3, 'B', this)">B</button>
                <button class="option-btn" onclick="checkAnswer(3, 'C', this)">C</button>
                <button class="option-btn" onclick="checkAnswer(3, 'D', this)">D</button>
                <button class="option-btn" onclick="checkAnswer(3, 'E', this)">E</button>
                <button class="option-btn" onclick="checkAnswer(3, 'F', this)">F</button>
                <button class="option-btn" onclick="checkAnswer(3, 'G', this)">G</button>
                <button class="option-btn" onclick="checkAnswer(3, 'H', this)">H</button>
            </div>
            <div class="feedback-box" id="fb-3">
                <div class="feedback-tools">
                    <button class="tool-btn btn-explain" onclick="showExplain(3)">üë©‚Äçüè´ Gi·∫£i th√≠ch</button>
                    <button class="tool-btn btn-translate" onclick="showTransQ(3)">üåê D·ªãch c√¢u</button>
                    <button class="tool-btn btn-vocab" onclick="showVocab(3)">üìñ T·ª´ v·ª±ng</button>
                </div>
                <div class="explanation-content" id="content-3"></div>
            </div>
        </div>

        <div class="question-card" id="q4">
            <div class="question-header">
                <div class="q-number">4</div>
                <div>
                    <p><strong>Tania</strong> (Sat/Sun evening, music, food). Which event is best?</p>
                </div>
            </div>
            <div class="options-grid">
                <button class="option-btn" onclick="checkAnswer(4, 'A', this)">A</button>
                <button class="option-btn" onclick="checkAnswer(4, 'B', this)">B</button>
                <button class="option-btn" onclick="checkAnswer(4, 'C', this)">C</button>
                <button class="option-btn" onclick="checkAnswer(4, 'D', this)">D</button>
                <button class="option-btn" onclick="checkAnswer(4, 'E', this)">E</button>
                <button class="option-btn" onclick="checkAnswer(4, 'F', this)">F</button>
                <button class="option-btn" onclick="checkAnswer(4, 'G', this)">G</button>
                <button class="option-btn" onclick="checkAnswer(4, 'H', this)">H</button>
            </div>
            <div class="feedback-box" id="fb-4">
                <div class="feedback-tools">
                    <button class="tool-btn btn-explain" onclick="showExplain(4)">üë©‚Äçüè´ Gi·∫£i th√≠ch</button>
                    <button class="tool-btn btn-translate" onclick="showTransQ(4)">üåê D·ªãch c√¢u</button>
                    <button class="tool-btn btn-vocab" onclick="showVocab(4)">üìñ T·ª´ v·ª±ng</button>
                </div>
                <div class="explanation-content" id="content-4"></div>
            </div>
        </div>

        <div class="question-card" id="q5">
            <div class="question-header">
                <div class="q-number">5</div>
                <div>
                    <p><strong>Anna</strong> (Sat evening, son 12yo, not too expensive). Which event is best?</p>
                </div>
            </div>
            <div class="options-grid">
                <button class="option-btn" onclick="checkAnswer(5, 'A', this)">A</button>
                <button class="option-btn" onclick="checkAnswer(5, 'B', this)">B</button>
                <button class="option-btn" onclick="checkAnswer(5, 'C', this)">C</button>
                <button class="option-btn" onclick="checkAnswer(5, 'D', this)">D</button>
                <button class="option-btn" onclick="checkAnswer(5, 'E', this)">E</button>
                <button class="option-btn" onclick="checkAnswer(5, 'F', this)">F</button>
                <button class="option-btn" onclick="checkAnswer(5, 'G', this)">G</button>
                <button class="option-btn" onclick="checkAnswer(5, 'H', this)">H</button>
            </div>
            <div class="feedback-box" id="fb-5">
                <div class="feedback-tools">
                    <button class="tool-btn btn-explain" onclick="showExplain(5)">üë©‚Äçüè´ Gi·∫£i th√≠ch</button>
                    <button class="tool-btn btn-translate" onclick="showTransQ(5)">üåê D·ªãch c√¢u</button>
                    <button class="tool-btn btn-vocab" onclick="showVocab(5)">üìñ T·ª´ v·ª±ng</button>
                </div>
                <div class="explanation-content" id="content-5"></div>
            </div>
        </div>

        <button class="submit-all-btn" onclick="finishTest()">N·ªòP B√ÄI & XEM ƒêI·ªÇM üèÜ</button>
        <div style="height: 50px;"></div>
    </div>
</div>

<div class="modal" id="resultModal">
    <div class="modal-content">
        <h2>üéâ K·∫æT QU·∫¢ C·ª¶A B·∫†N üéâ</h2>
        <div class="score-display" id="finalScore">0/5</div>
        <p id="finalMsg" style="font-size: 1.2rem; color: #666;"></p>
        <button class="submit-all-btn" onclick="closeModal()" style="margin-top:20px; font-size:1rem;">Xem l·∫°i b√†i</button>
    </div>
</div>

<script>
    // --- DATA & CONFIG ---
    const answers = { 1: 'F', 2: 'B', 3: 'H', 4: 'D', 5: 'A' };
    const userAnswers = { 1: null, 2: null, 3: null, 4: null, 5: null };
    let score = 0;
    
    // Explanation Data (Ms Mai An's Brain)
    const explanations = {
        1: {
            explain: `<strong>T·∫°i sao ch·ªçn F?</strong><br>
                      Trong b√†i ƒë·ªçc, <strong>F (Art Attack)</strong> nh·∫Øc ƒë·∫øn: "working... on a piece of art" (l√†m t√°c ph·∫©m ngh·ªá thu·∫≠t) v√† "help with their schoolwork" (gi√∫p l√†m b√†i t·∫≠p v·ªÅ nh√†).<br>
                      ƒêi·ªÅu n√†y kh·ªõp ho√†n to√†n v·ªõi nhu c·∫ßu c·ªßa Ben: "work on his art project" (d·ª± √°n m·ªπ thu·∫≠t) cho con trai.<br>
                      <em>C√°c ƒë√°p √°n kh√°c nh∆∞ E c≈©ng c√≥ ngh·ªá thu·∫≠t nh∆∞ng l√† 'workshop' ƒë·ªÉ th·ª≠ s·ª©c ch·ª© kh√¥ng n√≥i v·ªÅ vi·ªác gi√∫p l√†m b√†i t·∫≠p tr∆∞·ªùng.</em>`,
            trans: `Ben c√≥ con trai ƒëang thi cu·ªëi k·ª≥. Anh ·∫•y mu·ªën t√¨m ho·∫°t ƒë·ªông v√†o th·ª© 7 ƒë·ªÉ con l√†m d·ª± √°n m·ªπ thu·∫≠t.`,
            vocab: `Teenage (thanh thi·∫øu ni√™n), Project (d·ª± √°n), Attend (tham d·ª±).`
        },
        2: {
            explain: `<strong>T·∫°i sao ch·ªçn B?</strong><br>
                      Tina mu·ªën con "outside" (ngo√†i tr·ªùi) v√† "active" (nƒÉng ƒë·ªông) ƒë·ªÉ ti√™u hao "energy" (nƒÉng l∆∞·ª£ng).<br>
                      ƒê√°p √°n <strong>B (Find Robert the Rabbit)</strong> di·ªÖn ra ·ªü "Park" (C√¥ng vi√™n -> Outside) v√† c√≥ "Lots of running around" (Ch·∫°y nh·∫£y nhi·ªÅu -> Active).`,
            trans: `Tina mu·ªën ƒë∆∞a con ra ngo√†i tr·ªùi cu·ªëi tu·∫ßn n√†y ƒë·ªÉ t·∫≠n h∆∞·ªüng √°nh n·∫Øng v√† ti√™u hao nƒÉng l∆∞·ª£ng.`,
            vocab: `Active (nƒÉng ƒë·ªông), Energy (nƒÉng l∆∞·ª£ng), Sunshine (√°nh n·∫Øng).`
        },
        3: {
            explain: `<strong>T·∫°i sao ch·ªçn H?</strong><br>
                      Philip c·∫ßn t√¨m ch·ªó v√†o "Sunday morning" v√† mu·ªën "sit down" v√¨ b·ªã "bad back" (ƒëau l∆∞ng).<br>
                      ƒê√°p √°n <strong>H (Hassocks Green Festival)</strong> m·ªü c·ª≠a l√∫c "Sunday at 10.00" (S√°ng CN) v√† m·ªùi g·ªçi: "Take a chair, then relax" (L·∫•y gh·∫ø v√† th∆∞ gi√£n -> ph√π h·ª£p ƒëau l∆∞ng).`,
            trans: `Philip tr√¥ng ch√°u trai 10 tu·ªïi v√†o s√°ng CN. Anh ·∫•y c·∫ßn n∆°i c√≥ th·ªÉ ng·ªìi v√¨ b·ªã ƒëau l∆∞ng.`,
            vocab: `Nephew (ch√°u trai), Bad back (ƒëau l∆∞ng), Look after (tr√¥ng nom).`
        },
        4: {
            explain: `<strong>T·∫°i sao ch·ªçn D?</strong><br>
                      Tania c·∫ßn "music" v√† "get something to eat".<br>
                      ƒê√°p √°n <strong>D (Tom and Larry‚Äôs Garden Party)</strong> cung c·∫•p "performing... tunes" (bi·ªÉu di·ªÖn giai ƒëi·ªáu -> Music) v√† "buffet... food" (ti·ªác ƒë·ª©ng... ƒë·ªì ƒÉn).`,
            trans: `Tania t√¨m ho·∫°t ƒë·ªông t·ªëi T7 ho·∫∑c CN. C√¥ ·∫•y mu·ªën n∆°i nghe nh·∫°c v√† ƒÉn u·ªëng.`,
            vocab: `Perform (bi·ªÉu di·ªÖn), Buffet (ti·ªác ƒë·ª©ng), Tunes (giai ƒëi·ªáu).`
        },
        5: {
            explain: `<strong>T·∫°i sao ch·ªçn A?</strong><br>
                      Anna mu·ªën ƒëi "Saturday evening", con trai "12-year-old" v√† "not too expensive" (kh√¥ng ƒë·∫Øt).<br>
                      ƒê√°p √°n <strong>A (Open Air)</strong> di·ªÖn ra v√†o bu·ªïi t·ªëi, v√† quan tr·ªçng nh·∫•t: "Children under 13 enter for free" (Tr·∫ª d∆∞·ªõi 13 mi·ªÖn ph√≠). Con Anna 12 tu·ªïi -> Mi·ªÖn ph√≠ (R·∫•t r·∫ª!).`,
            trans: `Anna v√† ch·ªìng mu·ªën ƒë∆∞a con trai 12 tu·ªïi ƒëi ch∆°i t·ªëi th·ª© 7 ·ªü n∆°i kh√¥ng qu√° ƒë·∫Øt.`,
            vocab: `Expensive (ƒë·∫Øt), Prefer (th√≠ch h∆°n), Award-winning (ƒëo·∫°t gi·∫£i).`
        }
    };

    // --- AUDIO SYSTEM (Web Audio API) ---
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playSound(type) {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        
        if (type === 'correct') {
            // Ding sound (High pitch)
            osc.type = 'sine';
            osc.frequency.setValueAtTime(523.25, audioCtx.currentTime); // C5
            osc.frequency.exponentialRampToValueAtTime(1046.5, audioCtx.currentTime + 0.1); // C6
            gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.5);
            fireConfetti();
        } else {
            // Error sound (Low wobble)
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(150, audioCtx.currentTime);
            osc.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
            gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.3);
        }
    }

    // --- LOGIC ---
    function toggleTrans(id) {
        const el = document.getElementById(id);
        el.classList.toggle('show');
    }

    function checkAnswer(qIndex, selectedOption, btnElement) {
        // Disable all buttons in this question to prevent spamming
        const parentGrid = btnElement.parentElement;
        const buttons = parentGrid.getElementsByClassName('option-btn');
        for(let btn of buttons) {
            btn.disabled = true;
            if (btn.innerText === answers[qIndex]) {
                btn.classList.add('correct'); // Highlight correct answer even if user picked wrong
            }
        }

        userAnswers[qIndex] = selectedOption;
        
        const feedbackBox = document.getElementById(`fb-${qIndex}`);
        feedbackBox.style.display = 'block';

        if (selectedOption === answers[qIndex]) {
            btnElement.classList.add('correct');
            playSound('correct');
            showExplain(qIndex); // Auto show explanation if correct
        } else {
            btnElement.classList.add('wrong');
            playSound('wrong');
            // Shake effect logic is in CSS
        }
    }

    function showExplain(qId) {
        document.getElementById(`content-${qId}`).innerHTML = explanations[qId].explain;
    }
    function showTransQ(qId) {
        document.getElementById(`content-${qId}`).innerHTML = explanations[qId].trans;
    }
    function showVocab(qId) {
        document.getElementById(`content-${qId}`).innerHTML = `<strong>T·ª´ v·ª±ng c·∫ßn nh·ªõ:</strong><br>` + explanations[qId].vocab;
    }

    // --- TIMER ---
    let timeLeft = 600; // 10 minutes
    let timerId = null;
    let isPaused = true;

    function toggleTimer() {
        if(isPaused) {
            startTimer();
            document.getElementById('timer-status').innerText = "(Click to Pause)";
        } else {
            clearInterval(timerId);
            isPaused = true;
            document.getElementById('timer-status').innerText = "(Paused)";
        }
    }

    function startTimer() {
        if (!isPaused) return;
        isPaused = false;
        timerId = setInterval(() => {
            if (timeLeft <= 0) {
                clearInterval(timerId);
                alert("‚è∞ ƒê√£ h·∫øt gi·ªù l√†m b√†i! B·∫°n v·∫´n c√≥ th·ªÉ ti·∫øp t·ª•c, nh∆∞ng h√£y nh·ªõ t·ªëc ƒë·ªô l√†m b√†i nh√©.");
                return;
            }
            timeLeft--;
            const m = Math.floor(timeLeft / 60).toString().padStart(2, '0');
            const s = (timeLeft % 60).toString().padStart(2, '0');
            document.getElementById('timer').innerText = `${m}:${s}`;
        }, 1000);
    }

    // --- FINISH & CONFETTI ---
    function finishTest() {
        // Calculate Score
        let correctCount = 0;
        for (let i = 1; i <= 5; i++) {
            if (userAnswers[i] === answers[i]) correctCount++;
        }
        
        const msgEl = document.getElementById('finalMsg');
        const scoreEl = document.getElementById('finalScore');
        
        scoreEl.innerText = `${correctCount}/5`;
        
        if(correctCount === 5) {
            msgEl.innerText = "üåü XU·∫§T S·∫ÆC! B·∫°n l√† thi√™n t√†i ƒë·ªçc hi·ªÉu! üåü";
            fireConfetti();
            fireConfetti();
        } else if (correctCount >= 3) {
            msgEl.innerText = "üëè L√†m t·ªët l·∫Øm! C·ªë g·∫Øng th√™m ch√∫t n·ªØa l√† ho√†n h·∫£o.";
        } else {
            msgEl.innerText = "üí™ C·ªë l√™n nh√©! H√£y ƒë·ªçc k·ªπ ph·∫ßn gi·∫£i th√≠ch c·ªßa c√¥ Mai An.";
        }

        document.getElementById('resultModal').style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('resultModal').style.display = 'none';
    }

    // Simple Confetti Implementation
    function fireConfetti() {
        const colors = ['#00b894', '#fdcb6e', '#e17055', '#6c5ce7'];
        for(let i=0; i<50; i++) {
            const conf = document.createElement('div');
            conf.style.position = 'fixed';
            conf.style.left = Math.random() * 100 + 'vw';
            conf.style.top = '-10px';
            conf.style.width = '10px';
            conf.style.height = '10px';
            conf.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            conf.style.zIndex = 9999;
            conf.style.transition = 'top 2s ease-in, transform 2s ease-in';
            document.body.appendChild(conf);
            
            setTimeout(() => {
                conf.style.top = '110vh';
                conf.style.transform = `rotate(${Math.random() * 360}deg)`;
            }, 10);
            setTimeout(() => conf.remove(), 2000);
        }
    }
</script>

</body>
</html>