<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 9: Cities of the World - Ms. Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8854C0; /* H·ªìng t√≠m nh·∫°t */
            --secondary: #00C9A7; /* Xanh ng·ªçc */
            --correct: #00D26A; /* Xanh l√° */
            --wrong: #FF4757; /* ƒê·ªè cam */
            --bg-pattern: #f0f3f9;
            --text-dark: #2f3542;
            --white: #ffffff;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-pattern);
            background-image: radial-gradient(var(--primary) 1px, transparent 1px), radial-gradient(var(--secondary) 1px, transparent 1px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            color: var(--text-dark);
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* HEADER */
        header {
            text-align: center;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        header h1 {
            margin: 0;
            font-family: 'Quicksand', sans-serif;
            font-weight: 800;
            font-size: 2rem;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.1);
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-top: 5px;
        }

        /* SCOREBOARD */
        .scoreboard-sticky {
            position: sticky;
            top: 10px;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.95);
            padding: 10px 20px;
            border-radius: 50px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            backdrop-filter: blur(5px);
            border: 2px solid var(--primary);
        }

        .score-item {
            font-weight: 800;
            font-size: 1.2rem;
        }

        .score-correct { color: var(--correct); }
        .score-wrong { color: var(--wrong); }

        /* QUESTION CARD */
        .card {
            background: var(--white);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 0 rgba(0,0,0,0.05), 0 15px 20px rgba(0,0,0,0.05);
            border: 2px solid #eee;
            position: relative;
            transition: transform 0.3s ease;
        }

        .section-title {
            color: var(--primary);
            font-weight: 800;
            text-transform: uppercase;
            border-bottom: 3px dashed var(--secondary);
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--text-dark);
        }

        .question-text u {
            text-decoration: none;
            border-bottom: 3px solid var(--primary);
            padding-bottom: 2px;
        }

        /* OPTIONS GRID */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .full-width {
            grid-template-columns: 1fr;
        }

        .btn-option {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 15px;
            font-family: 'Nunito', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 5px 0 #d0d0d0;
            transition: all 0.1s;
            text-align: left;
            position: relative;
        }

        .btn-option:hover {
            transform: scale(1.02);
            border-color: var(--secondary);
        }

        .btn-option:active {
            transform: translateY(5px);
            box-shadow: 0 0 0 #d0d0d0;
        }

        /* STATES */
        .btn-option.correct {
            background-color: var(--correct);
            color: white;
            border-color: #00b85c;
            box-shadow: 0 5px 0 #008f47;
        }

        .btn-option.wrong {
            background-color: var(--wrong);
            color: white;
            border-color: #e03b4b;
            box-shadow: 0 5px 0 #c22d3b;
            animation: shake 0.5s;
        }

        .btn-option.disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        /* EXPLANATION BOX */
        .explanation {
            display: none;
            margin-top: 20px;
            background: #eef9fd;
            border-left: 5px solid var(--secondary);
            padding: 20px;
            border-radius: 10px;
            animation: slideDown 0.4s ease-out;
        }

        .explanation h4 {
            margin-top: 0;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .exp-detail {
            font-size: 1rem;
            line-height: 1.6;
        }

        .exp-step {
            margin-bottom: 10px;
        }

        .vocab-list {
            background: white;
            padding: 10px;
            border-radius: 8px;
            border: 1px dashed #ccc;
            margin: 10px 0;
        }
        
        .vocab-item {
            display: block;
            margin-bottom: 5px;
        }

        /* ANIMATIONS */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            50% { transform: translateX(10px) rotate(5deg); }
            75% { transform: translateX(-10px) rotate(-5deg); }
            100% { transform: translateX(0); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* CONFETTI CANVAS */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 9999;
        }

        /* FOOTER */
        .submit-section {
            text-align: center;
            margin-top: 50px;
            margin-bottom: 50px;
        }

        .btn-submit {
            background: linear-gradient(to bottom, #FFD700, #FFA500);
            color: white;
            font-size: 1.5rem;
            padding: 15px 50px;
            border: none;
            border-radius: 50px;
            box-shadow: 0 8px 0 #cc8400;
            cursor: pointer;
            font-weight: 800;
            transition: transform 0.2s;
        }

        .btn-submit:active {
            transform: translateY(8px);
            box-shadow: none;
        }

        /* RESPONSIVE */
        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

    <canvas id="confetti-canvas"></canvas>

    <div class="container">
        <header>
            <h1>ENGLISH TEST - UNIT 9</h1>
            <p>Cities of the World - Teacher: Ms. Mai An ULIS</p>
        </header>

        <div class="scoreboard-sticky">
            <div class="score-item score-correct">ƒê√∫ng: <span id="count-correct">0</span></div>
            <div class="score-item score-wrong">Sai: <span id="count-wrong">0</span></div>
        </div>

        <div class="card">
            <div class="section-title">PART I: PHONETICS - SOUND IDENTIFICATION</div>
            <p style="margin-bottom: 20px;">Ch·ªçn c√°ch ph√°t √¢m ƒë√∫ng cho ph·∫ßn g·∫°ch ch√¢n: <b>/ai/</b> ho·∫∑c <b>/…™/</b></p>
            
            <div class="question-block" id="q1">
                <div class="question-text">1. exc<u>i</u>ting</div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q1')">A. /ai/</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q1')">B. /…™/</button>
                </div>
                <div class="explanation" id="exp-q1">
                    <h4><span style="font-size: 20px">üë©‚Äçüè´</span> Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div class="exp-detail">
                        <div class="exp-step"><b>Ph√¢n t√≠ch:</b> T·ª´ "exciting" phi√™n √¢m l√† /…™kÀàs<b>a…™</b>t…™≈ã/.</div>
                        <div class="exp-step"><b>T·∫°i sao ƒê√öNG:</b> Ch·ªØ "i" ƒë∆∞·ª£c nh·∫•n tr·ªçng √¢m, ƒë·ªçc l√† nguy√™n √¢m ƒë√¥i /ai/.</div>
                        <div class="exp-step"><b>D·ªãch nghƒ©a:</b> Th√∫ v·ªã, h·ª©ng th√∫.</div>
                    </div>
                </div>
            </div>
            <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

            <div class="question-block" id="q2">
                <div class="question-text">2. c<u>i</u>ty</div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q2')">A. /ai/</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q2')">B. /…™/</button>
                </div>
                <div class="explanation" id="exp-q2">
                    <h4><span style="font-size: 20px">üë©‚Äçüè´</span> Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div class="exp-detail">
                        <div class="exp-step"><b>Ph√¢n t√≠ch:</b> T·ª´ "city" phi√™n √¢m l√† /Ààs<b>…™</b>ti/.</div>
                        <div class="exp-step"><b>T·∫°i sao ƒê√öNG:</b> Ch·ªØ "i" ·ªü ƒë√¢y ƒë·ªçc l√† √¢m /…™/ ng·∫Øn.</div>
                        <div class="exp-step"><b>D·ªãch nghƒ©a:</b> Th√†nh ph·ªë.</div>
                    </div>
                </div>
            </div>
             <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

            <div class="question-block" id="q3">
                <div class="question-text">3. Sydn<u>ey</u></div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q3')">A. /ai/</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q3')">B. /…™/ (ho·∫∑c /i/)</button>
                </div>
                <div class="explanation" id="exp-q3">
                    <h4><span style="font-size: 20px">üë©‚Äçüè´</span> Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div class="exp-detail">
                        <div class="exp-step"><b>Ph√¢n t√≠ch:</b> T·ª´ "Sydney" phi√™n √¢m l√† /Ààs…™dn<b>i</b>/ ho·∫∑c /Ààs…™dn<b>…™</b>/.</div>
                        <div class="exp-step"><b>T·∫°i sao ƒê√öNG:</b> √Çm cu·ªëi "ey" ƒë·ªçc nh·∫π l√† /…™/ (ho·∫∑c /i/), kh√¥ng ph·∫£i /ai/.</div>
                    </div>
                </div>
            </div>
            <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

            <div class="question-block" id="q4">
                <div class="question-text">4. tw<u>i</u>ce</div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q4')">A. /ai/</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4')">B. /…™/</button>
                </div>
                <div class="explanation" id="exp-q4">
                    <h4><span style="font-size: 20px">üë©‚Äçüè´</span> Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div class="exp-detail">
                        <div class="exp-step"><b>Ph√¢n t√≠ch:</b> /tw<b>a…™</b>s/.</div>
                        <div class="exp-step"><b>T·∫°i sao ƒê√öNG:</b> Ch·ªØ "i" + ph·ª• √¢m + "e" c√¢m th∆∞·ªùng ƒë·ªçc l√† /ai/.</div>
                        <div class="exp-step"><b>D·ªãch nghƒ©a:</b> Hai l·∫ßn.</div>
                    </div>
                </div>
            </div>
             <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

            <div class="question-block" id="q5">
                <div class="question-text">5. sk<u>y</u></div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q5')">A. /ai/</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q5')">B. /…™/</button>
                </div>
                <div class="explanation" id="exp-q5">
                    <h4><span style="font-size: 20px">üë©‚Äçüè´</span> Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div class="exp-detail">
                        <div class="exp-step"><b>Ph√¢n t√≠ch:</b> /sk<b>a…™</b>/.</div>
                        <div class="exp-step"><b>T·∫°i sao ƒê√öNG:</b> Ch·ªØ "y" ƒë·ª©ng cu·ªëi t·ª´ ƒë∆°n √¢m ti·∫øt th∆∞·ªùng ƒë·ªçc l√† /ai/.</div>
                        <div class="exp-step"><b>D·ªãch nghƒ©a:</b> B·∫ßu tr·ªùi.</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="section-title">PART II: VOWEL CLASSIFICATION</div>
            <p>T·ª´ v·ª±ng n√†y ch·ª©a √¢m <b>/…ô ä/</b> (nh∆∞ trong "go") hay <b>/…í/</b> (nh∆∞ trong "hot")?</p>

            <div class="question-block" id="q2-1">
                <div class="question-text">Word: <b>home</b></div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q2-1')">A. /…ô ä/</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q2-1')">B. /…í/</button>
                </div>
                <div class="explanation" id="exp-q2-1">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div><b>Home</b> /h…ô äm/ (Ng√¥i nh√†) -> √Çm /…ô ä/ (√¥-u).</div>
                </div>
            </div>
            <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

            <div class="question-block" id="q2-2">
                <div class="question-text">Word: <b>hot</b></div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q2-2')">A. /…ô ä/</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q2-2')">B. /…í/</button>
                </div>
                <div class="explanation" id="exp-q2-2">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div><b>Hot</b> /h…ít/ (N√≥ng) -> √Çm /…í/ (o ng·∫Øn, m·ªü r·ªông mi·ªáng).</div>
                </div>
            </div>
             <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

             <div class="question-block" id="q2-3">
                <div class="question-text">Word: <b>photo</b></div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q2-3')">A. /…ô ä/</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q2-3')">B. /…í/</button>
                </div>
                <div class="explanation" id="exp-q2-3">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div><b>Photo</b> /Ààf…ô ät…ô ä/ (B·ª©c ·∫£nh) -> C·∫£ 2 √¢m o ƒë·ªÅu l√† /…ô ä/.</div>
                </div>
            </div>
            <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

            <div class="question-block" id="q2-4">
                <div class="question-text">Word: <b>modern</b></div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q2-4')">A. /…ô ä/</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q2-4')">B. /…í/</button>
                </div>
                <div class="explanation" id="exp-q2-4">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div><b>Modern</b> /Ààm…ídn/ (Hi·ªán ƒë·∫°i) -> √Çm o l√† /…í/.</div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="section-title">PART III: ODD ONE OUT (PHONETICS)</div>
            <p>Ch·ªçn t·ª´ c√≥ ph·∫ßn g·∫°ch ch√¢n ph√°t √¢m <b>KH√ÅC</b> c√°c t·ª´ c√≤n l·∫°i.</p>

            <div class="question-block">
                <div class="question-text">1. Choose the odd one out:</div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q3-1')">A. both</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q3-1')">B. cloth</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q3-1')">C. clothes</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q3-1')">D. road</button>
                </div>
                <div class="explanation" id="exp-q3-1">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div class="vocab-list">
                        <span class="vocab-item">A. both /b…ô äŒ∏/</span>
                        <span class="vocab-item">B. cloth /kl…íŒ∏/ (V·∫£i) -> <b>√Çm /…í/</b></span>
                        <span class="vocab-item">C. clothes /kl…ô ä√∞z/</span>
                        <span class="vocab-item">D. road /r…ô äd/</span>
                    </div>
                    <div><b>T·∫°i sao B ƒë√∫ng:</b> 'Cloth' l√† √¢m /…í/ ng·∫Øn, trong khi c√°c t·ª´ c√≤n l·∫°i l√† nguy√™n √¢m ƒë√¥i /…ô ä/.</div>
                </div>
            </div>
            <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

            <div class="question-block">
                <div class="question-text">2. Choose the odd one out:</div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q3-2')">A. prize</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q3-2')">B. fight</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q3-2')">C. litter</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q3-2')">D. bike</button>
                </div>
                <div class="explanation" id="exp-q3-2">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div class="vocab-list">
                        <span class="vocab-item">A. prize /pra…™z/</span>
                        <span class="vocab-item">B. fight /fa…™t/</span>
                        <span class="vocab-item">C. litter /Ààl…™t…ô(r)/ (R√°c) -> <b>√Çm /…™/</b></span>
                        <span class="vocab-item">D. bike /ba…™k/</span>
                    </div>
                    <div><b>T·∫°i sao C ƒë√∫ng:</b> 'Litter' l√† √¢m /…™/ ng·∫Øn, c√≤n l·∫°i l√† /ai/.</div>
                </div>
            </div>
            <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

            <div class="question-block">
                <div class="question-text">3. Choose the odd one out:</div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q3-3')">A. town</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q3-3')">B. snow</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q3-3')">C. show</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q3-3')">D. bowl</button>
                </div>
                <div class="explanation" id="exp-q3-3">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div class="vocab-list">
                        <span class="vocab-item">A. town /ta än/ (Th·ªã tr·∫•n) -> <b>√Çm /a ä/</b></span>
                        <span class="vocab-item">B. snow /sn…ô ä/</span>
                        <span class="vocab-item">C. show / É…ô ä/</span>
                        <span class="vocab-item">D. bowl /b…ô äl/</span>
                    </div>
                    <div><b>T·∫°i sao A ƒë√∫ng:</b> 'Town' ph√°t √¢m l√† /a ä/, c√°c t·ª´ c√≤n l·∫°i l√† /…ô ä/.</div>
                </div>
            </div>
        </div>

        <div class="card">
            <div class="section-title">PART IV: OPPOSITES (ANTONYMS)</div>
            <p>Ch·ªçn t·ª´ <b>TR√ÅI NGHƒ®A (Opposite)</b> v·ªõi t·ª´ ƒë∆∞·ª£c g·∫°ch ch√¢n.</p>

            <div class="question-block">
                <div class="question-text">1. Rio de Janeiro is an <u>exciting</u> city.</div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-1')">A. interesting</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-1')">B. dangerous</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q4-1')">C. boring</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-1')">D. expensive</button>
                </div>
                <div class="explanation" id="exp-q4-1">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div><b>D·ªãch c√¢u:</b> Rio de Janeiro l√† m·ªôt th√†nh ph·ªë th√∫ v·ªã.</div>
                    <div class="vocab-list">
                        <span class="vocab-item">T·ª´ g·ªëc: <b>Exciting</b> (adj): Th√∫ v·ªã, s√¥i ƒë·ªông.</span>
                        <span class="vocab-item">A. Interesting (adj): Th√∫ v·ªã (ƒê·ªìng nghƒ©a -> Lo·∫°i)</span>
                        <span class="vocab-item">B. Dangerous (adj): Nguy hi·ªÉm</span>
                        <span class="vocab-item">C. Boring (adj): T·∫ª nh·∫°t, ch√°n ng·∫Øt (Tr√°i nghƒ©a -> <b>Ch·ªçn C</b>)</span>
                        <span class="vocab-item">D. Expensive (adj): ƒê·∫Øt ƒë·ªè</span>
                    </div>
                </div>
            </div>
            <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

            <div class="question-block">
                <div class="question-text">2. The beaches in Sydney are <u>clean</u> and beautiful.</div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-2')">A. clear</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q4-2')">B. dirty</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-2')">C. famous</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-2')">D. fresh</button>
                </div>
                <div class="explanation" id="exp-q4-2">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div><b>D·ªãch c√¢u:</b> C√°c b√£i bi·ªÉn ·ªü Sydney th√¨ s·∫°ch s·∫Ω v√† xinh ƒë·∫πp.</div>
                    <div class="vocab-list">
                        <span class="vocab-item">T·ª´ g·ªëc: <b>Clean</b> (adj): S·∫°ch s·∫Ω.</span>
                        <span class="vocab-item">A. Clear (adj): Trong tr·∫ªo</span>
                        <span class="vocab-item">B. Dirty (adj): B·∫©n th·ªâu (Tr√°i nghƒ©a -> <b>Ch·ªçn B</b>)</span>
                        <span class="vocab-item">C. Famous (adj): N·ªïi ti·∫øng</span>
                        <span class="vocab-item">D. Fresh (adj): T∆∞∆°i m·ªõi</span>
                    </div>
                </div>
            </div>
             <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

            <div class="question-block">
                <div class="question-text">3. It's <u>dangerous</u> to walk around the city at night.</div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q4-3')">A. safe</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-3')">B. exciting</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-3')">C. cold</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-3')">D. popular</button>
                </div>
                <div class="explanation" id="exp-q4-3">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div><b>D·ªãch c√¢u:</b> ƒêi d·∫°o quanh th√†nh ph·ªë v√†o ban ƒë√™m th√¨ nguy hi·ªÉm.</div>
                    <div class="vocab-list">
                        <span class="vocab-item">T·ª´ g·ªëc: <b>Dangerous</b> (adj): Nguy hi·ªÉm.</span>
                        <span class="vocab-item">A. Safe (adj): An to√†n (Tr√°i nghƒ©a -> <b>Ch·ªçn A</b>)</span>
                        <span class="vocab-item">B. Exciting (adj): Th√∫ v·ªã</span>
                        <span class="vocab-item">C. Cold (adj): L·∫°nh</span>
                        <span class="vocab-item">D. Popular (adj): Ph·ªï bi·∫øn</span>
                    </div>
                </div>
            </div>
             <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

            <div class="question-block">
                <div class="question-text">4. The dish is <u>delicious</u> with cheese. (Choose opposite)</div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-4')">A. tasty</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-4')">B. pleasant</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-4')">C. fatty</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q4-4')">D. awful</button>
                </div>
                <div class="explanation" id="exp-q4-4">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div><b>D·ªãch c√¢u:</b> M√≥n ƒÉn n√†y r·∫•t ngon khi ƒÉn k√®m ph√¥ mai.</div>
                    <div class="vocab-list">
                        <span class="vocab-item">T·ª´ g·ªëc: <b>Delicious</b> (adj): Ngon tuy·ªát.</span>
                        <span class="vocab-item">A. Tasty (adj): Ngon (ƒê·ªìng nghƒ©a -> Lo·∫°i)</span>
                        <span class="vocab-item">B. Pleasant (adj): D·ªÖ ch·ªãu</span>
                        <span class="vocab-item">C. Fatty (adj): B√©o ng·∫≠y</span>
                        <span class="vocab-item">D. Awful (adj): D·ªü t·ªá, kinh kh·ªßng (Tr√°i nghƒ©a -> <b>Ch·ªçn D</b>)</span>
                    </div>
                </div>
            </div>
             <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">
            
             <div class="question-block">
                <div class="question-text">5. The streets were very <u>noisy</u> throughout the night.</div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-5')">A. crowded</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-5')">B. busy</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q4-5')">C. quiet</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-5')">D. empty</button>
                </div>
                <div class="explanation" id="exp-q4-5">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div><b>D·ªãch c√¢u:</b> ƒê∆∞·ªùng ph·ªë r·∫•t ·ªìn √†o su·ªët c·∫£ ƒë√™m.</div>
                    <div class="vocab-list">
                        <span class="vocab-item">T·ª´ g·ªëc: <b>Noisy</b> (adj): ·ªín √†o.</span>
                        <span class="vocab-item">A. Crowded (adj): ƒê√¥ng ƒë√∫c</span>
                        <span class="vocab-item">B. Busy (adj): B·∫≠n r·ªôn, nh·ªôn nh·ªãp</span>
                        <span class="vocab-item">C. Quiet (adj): Y√™n tƒ©nh (Tr√°i nghƒ©a -> <b>Ch·ªçn C</b>)</span>
                        <span class="vocab-item">D. Empty (adj): Tr·ªëng r·ªóng</span>
                    </div>
                </div>
            </div>
            <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

            <div class="question-block">
                <div class="question-text">6. That modern building is so <u>ugly</u>!</div>
                <div class="options-grid full-width">
                   <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q4-6')">Beautiful / Attractive (Tr√°i nghƒ©a)</button>
                   <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-6')">Unattractive (ƒê·ªìng nghƒ©a)</button>
                   <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-6')">Big (Kh√¥ng li√™n quan)</button>
                </div>
                <div class="explanation" id="exp-q4-6">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div><b>D·ªãch c√¢u:</b> T√≤a nh√† hi·ªán ƒë·∫°i kia x·∫•u qu√°!</div>
                    <div class="vocab-list">
                        <span class="vocab-item">T·ª´ g·ªëc: <b>Ugly</b> (adj): X·∫•u x√≠.</span>
                        <span class="vocab-item"><b>ƒê√°p √°n ƒë√∫ng:</b> Beautiful (Xinh ƒë·∫πp) l√† t·ª´ tr√°i nghƒ©a.</span>
                    </div>
                </div>
            </div>
             <hr style="margin: 20px 0; border: 0; border-top: 1px dashed #ddd;">

             <div class="question-block">
                <div class="question-text">7. We didn't go camping last weekend. The weather was <u>awful</u>.</div>
                <div class="options-grid">
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-7')">A. unpleasant</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'correct', 'exp-q4-7')">B. nice</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-7')">C. bad</button>
                    <button class="btn-option" onclick="checkAnswer(this, 'wrong', 'exp-q4-7')">D. terrible</button>
                </div>
                <div class="explanation" id="exp-q4-7">
                    <h4>üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch:</h4>
                    <div><b>D·ªãch c√¢u:</b> Ch√∫ng t√¥i kh√¥ng ƒëi c·∫Øm tr·∫°i cu·ªëi tu·∫ßn tr∆∞·ªõc. Th·ªùi ti·∫øt r·∫•t t·ªá.</div>
                    <div class="vocab-list">
                        <span class="vocab-item">T·ª´ g·ªëc: <b>Awful</b> (adj): T·ªìi t·ªá, kh·ªßng khi·∫øp.</span>
                        <span class="vocab-item">A. Unpleasant (adj): Kh√≥ ch·ªãu (G·∫ßn nghƒ©a -> Lo·∫°i)</span>
                        <span class="vocab-item">B. Nice (adj): ƒê·∫πp, t·ªët (Tr√°i nghƒ©a -> <b>Ch·ªçn B</b>)</span>
                        <span class="vocab-item">C. Bad (adj): X·∫•u (ƒê·ªìng nghƒ©a -> Lo·∫°i)</span>
                        <span class="vocab-item">D. Terrible (adj): Kinh kh·ªßng (ƒê·ªìng nghƒ©a -> Lo·∫°i)</span>
                    </div>
                </div>
            </div>

        </div>

        <div class="submit-section">
            <button class="btn-submit" onclick="showFinalScore()">N·ªòP B√ÄI (FINISH) üéâ</button>
        </div>

    </div>

    <script>
        // --- AUDIO CONTEXT SETUP (SOUNDS) ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playSound(type) {
            if (audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            if (type === 'correct') {
                // Ding sound (Sine wave, High pitch)
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(800, audioCtx.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.1);
                gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.5);
            } else {
                // Wrong sound (Sawtooth, Low pitch descending)
                oscillator.type = 'sawtooth';
                oscillator.frequency.setValueAtTime(300, audioCtx.currentTime);
                oscillator.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
                gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.3);
            }
        }

        // --- SCORE LOGIC ---
        let correctCount = 0;
        let wrongCount = 0;

        function checkAnswer(btn, status, explanationId) {
            // Prevent clicking again if already answered (parent contains 'answered')
            const parent = btn.parentElement;
            if (parent.classList.contains('answered')) return;
            
            parent.classList.add('answered'); // Lock this question

            // Show explanation
            const explanation = document.getElementById(explanationId);
            explanation.style.display = "block";

            // Visual feedback
            if (status === 'correct') {
                btn.classList.add('correct');
                playSound('correct');
                triggerConfetti();
                correctCount++;
                document.getElementById('count-correct').innerText = correctCount;
            } else {
                btn.classList.add('wrong');
                playSound('wrong');
                wrongCount++;
                document.getElementById('count-wrong').innerText = wrongCount;
                
                // Highlight the correct answer automatically
                const siblings = parent.getElementsByClassName('btn-option');
                for (let sibling of siblings) {
                    if (sibling.getAttribute('onclick').includes("'correct'")) {
                        sibling.classList.add('correct');
                        sibling.style.opacity = "0.7"; // Dim it slightly to show it wasn't picked
                    }
                }
            }

            // Disable all buttons in this group
            const siblings = parent.getElementsByClassName('btn-option');
            for (let sibling of siblings) {
                sibling.classList.add('disabled');
            }
        }

        function showFinalScore() {
            let total = correctCount + wrongCount;
            let msg = "";
            if (correctCount === total && total > 0) msg = "Xu·∫•t s·∫Øc! B·∫°n l√† thi√™n t√†i ti·∫øng Anh! üåü";
            else if (correctCount > total/2) msg = "L√†m t·ªët l·∫Øm! C·ªë g·∫Øng ph√°t huy nh√©! üí™";
            else msg = "C·∫ßn √¥n t·∫≠p th√™m nh√© b·∫°n nh·ªè! üìö";

            alert(`K·∫æT QU·∫¢ C·ª¶A B·∫†N:\n\nƒê√∫ng: ${correctCount}\nSai: ${wrongCount}\n\n${msg}`);
        }

        // --- CONFETTI LOGIC ---
        const canvas = document.getElementById('confetti-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        let confetti = [];
        const colors = ['#8854C0', '#00C9A7', '#FFD700', '#FF4757', '#FFFFFF'];

        function triggerConfetti() {
            for (let i = 0; i < 100; i++) {
                confetti.push({
                    x: Math.random() * canvas.width,
                    y: -10,
                    r: Math.random() * 6 + 2,
                    d: Math.random() * 10 + 2, // density
                    color: colors[Math.floor(Math.random() * colors.length)],
                    tilt: Math.floor(Math.random() * 10) - 10
                });
            }
            drawConfetti();
        }

        function drawConfetti() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            let active = false;

            confetti.forEach((p, index) => {
                p.y += Math.cos(p.d) + 1 + p.r / 2;
                p.x += Math.sin(0);
                p.tilt = Math.sin(p.d);

                ctx.beginPath();
                ctx.lineWidth = p.r / 2;
                ctx.strokeStyle = p.color;
                ctx.moveTo(p.x + p.tilt + p.r / 4, p.y);
                ctx.lineTo(p.x + p.tilt, p.y + p.tilt + p.r / 4);
                ctx.stroke();

                if (p.y < canvas.height) active = true;
                else confetti.splice(index, 1);
            });

            if (active) requestAnimationFrame(drawConfetti);
        }

        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });

    </script>
</body>
</html>