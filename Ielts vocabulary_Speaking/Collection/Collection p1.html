<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gamified Reading Test - Detective Theme</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700;900&family=Nunito:wght@600;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8854C0;
            --secondary: #FDCB6E;
            --accent: #00C9A7;
            --correct: #00D26A;
            --wrong: #FF4757;
            --text-dark: #2C3E50;
            --bg-light: #F8F9FA;
            --card-bg: rgba(255, 255, 255, 0.95);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Nunito', sans-serif;
        }

        body {
            height: 100vh;
            overflow: hidden;
            color: var(--text-dark);
            background: linear-gradient(-45deg, var(--primary), var(--secondary), var(--accent), #FF9A9E);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            position: relative;
        }

        body::before {
            content: "";
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='150' height='150'%3E%3Ctext x='20' y='40' font-size='30' opacity='0.3'%3EüïµÔ∏è‚Äç‚ôÇÔ∏è%3C/text%3E%3Ctext x='80' y='100' font-size='30' opacity='0.3'%3Eüîç%3C/text%3E%3Ctext x='120' y='30' font-size='30' opacity='0.3'%3Eüöì%3C/text%3E%3C/svg%3E");
            background-repeat: repeat;
            animation: floatPattern 40s linear infinite;
            z-index: 0;
            pointer-events: none;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes floatPattern {
            0% { background-position: 0 0; }
            100% { background-position: 1000px 1000px; }
        }

        #top-bar {
            position: relative;
            z-index: 10;
            height: 70px;
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px;
            border-bottom: 4px solid var(--secondary);
        }

        .author-tag {
            font-size: 14px;
            color: var(--primary);
            font-weight: 900;
            background: #E8F0FE;
            padding: 5px 15px;
            border-radius: 20px;
            text-transform: uppercase;
        }

        .timer-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        #timer-display {
            font-family: 'Quicksand', sans-serif;
            font-size: 28px;
            font-weight: 900;
            color: var(--text-dark);
            min-width: 100px;
            text-align: center;
        }

        .btn-gamify {
            background: var(--accent);
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            font-weight: 800;
            border-radius: 15px;
            cursor: pointer;
            box-shadow: 0 6px 0 #00997F;
            transition: all 0.1s;
            text-transform: uppercase;
        }

        .btn-gamify:active {
            transform: translateY(6px);
            box-shadow: 0 0px 0 #00997F;
        }

        #main-container {
            display: flex;
            height: calc(100vh - 70px);
            position: relative;
            z-index: 5;
            padding: 15px;
            gap: 15px;
        }

        .pane {
            flex: 1;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            overflow-y: auto;
            padding: 30px;
            border: 3px solid rgba(255,255,255,0.5);
            backdrop-filter: blur(10px);
        }

        .pane::-webkit-scrollbar { width: 10px; }
        .pane::-webkit-scrollbar-thumb { background: var(--secondary); border-radius: 10px; }

        h2 { font-size: 24px; color: var(--primary); margin-bottom: 20px; text-align: center; font-weight: 900;}
        h3 { font-size: 20px; color: #E67E22; margin-top: 25px; margin-bottom: 15px; font-weight: 800; border-bottom: 2px dashed #E67E22; padding-bottom: 5px;}
        
        .passage-segment {
            background: #fff;
            padding: 20px;
            border-radius: 15px;
            border: 2px dashed #ccc;
            margin-bottom: 15px;
            transition: all 0.3s ease;
        }
        
        .passage-segment:hover {
            border-color: var(--primary);
            box-shadow: 0 4px 10px rgba(136, 84, 192, 0.1);
        }

        .passage-text {
            font-family: 'Quicksand', sans-serif;
            font-size: 18px;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .blank {
            display: inline-block;
            min-width: 60px;
            border-bottom: 3px solid var(--primary);
            text-align: center;
            font-weight: bold;
            color: var(--primary);
            margin: 0 5px;
        }

        .mini-trans-btn {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 5px 12px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 800;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .mini-trans-btn:hover { background: var(--primary); color: white; }

        .translation-content {
            display: none;
            background: #FFF3CD;
            padding: 12px 15px;
            border-radius: 10px;
            margin-top: 10px;
            border-left: 4px solid #FFC107;
            font-style: italic;
            font-size: 15.5px;
            color: #555;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .glossary-table th { background: var(--primary); color: white; padding: 12px; text-align: left; }
        .glossary-table td { padding: 12px; border-bottom: 1px solid #eee; }
        .glossary-table tr:last-child td { border-bottom: none; }
        .word-tag { font-weight: 800; color: #D35400; }

        .question-card {
            background: #fff;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            margin-bottom: 25px;
            border: 2px solid #E0E6ED;
        }

        .question-text {
            font-size: 18px;
            font-weight: 800;
            margin-bottom: 20px;
            color: #34495E;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .option-btn {
            background: #fff;
            border: 3px solid #E0E6ED;
            padding: 15px;
            border-radius: 15px;
            font-size: 16px;
            font-weight: 700;
            color: var(--text-dark);
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 6px 0 #E0E6ED;
        }

        .option-btn:hover:not(:disabled) {
            transform: scale(1.05);
            border-color: var(--secondary);
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(6px);
            box-shadow: 0 0px 0 #E0E6ED;
        }

        .option-btn.correct {
            background: var(--correct);
            color: white;
            border-color: var(--correct);
            box-shadow: 0 6px 0 #00A653;
        }

        .option-btn.wrong {
            background: var(--wrong);
            color: white;
            border-color: var(--wrong);
            box-shadow: 0 6px 0 #CC3945;
            animation: shake 0.4s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-5px); }
            40%, 80% { transform: translateX(5px); }
        }

        .explanation {
            display: none;
            margin-top: 20px;
            background: #E8F0FE;
            padding: 15px;
            border-radius: 12px;
            border-left: 5px solid var(--primary);
            font-size: 15px;
            line-height: 1.6;
        }

        #submit-btn {
            width: 100%;
            padding: 20px;
            font-size: 22px;
            background: linear-gradient(45deg, #FF6B6B, #FF8E53);
            box-shadow: 0 8px 0 #D94A4A;
            margin-top: 20px;
            margin-bottom: 40px;
        }

        #result-modal, #timeout-modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 25px;
            text-align: center;
            max-width: 500px;
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        .score-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: var(--secondary);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 40px;
            font-weight: 900;
            color: white;
            margin: 0 auto 20px auto;
            border: 10px solid #FFF3CD;
        }
    </style>
</head>
<body>

    <div id="top-bar">
        <div class="author-tag"><h4>Gi√°o vi√™n t·∫°o: Ms Mai An ULIS</h4></div>
        <div class="timer-container">
            <div id="timer-display">10:00</div>
            <button class="btn-gamify" id="timer-btn" onclick="toggleTimer()">B·∫ÆT ƒê·∫¶U T√çNH GI·ªú</button>
        </div>
    </div>

    <div id="main-container">
        <div class="pane" id="left-pane">
            <h2>üìñ READING PASSAGE: THE THRILLER & TRUE CRIME</h2>
            
            <h3>Part 1: The Undercover Cop</h3>
            
            <div class="passage-segment">
                <div class="passage-text">
                    "I‚Äôd like to describe a gripping thriller I watched recently. It tells the story of an undercover cop investigating a dangerous suspect. The villain was a tall man with a very muscular <span class="blank" id="b-1">(1)</span>, who always put up a <span class="blank" id="b-2">(2)</span> of being a friendly and <span class="blank" id="b-3">(3)</span> neighbor. However, behind closed doors, he was completely cold and <span class="blank" id="b-4">(4)</span>. I really have to <span class="blank" id="b-5">(5)</span> for his incredible acting skills in this role."
                </div>
                <button class="mini-trans-btn" onclick="toggleTranslation('t-1')">üåü M·ªü d·ªãch ƒëo·∫°n n√†y</button>
                <div class="translation-content" id="t-1">
                    "T√¥i mu·ªën k·ªÉ v·ªÅ m·ªôt b·ªô phim kinh d·ªã li k·ª≥ m√† t√¥i m·ªõi xem g·∫ßn ƒë√¢y. N√≥ k·ªÉ v·ªÅ m·ªôt c·∫£nh s√°t ch√¨m ƒëi·ªÅu tra m·ªôt nghi ph·∫°m nguy hi·ªÉm. K·∫ª ph·∫£n di·ªán l√† m·ªôt ng∆∞·ªùi ƒë√†n √¥ng cao l·ªõn v·ªõi v√≥c d√°ng c∆° b·∫Øp, k·∫ª lu√¥n gi·∫£ v·ªù l√† m·ªôt ng∆∞·ªùi h√†ng x√≥m th√¢n thi·ªán v√† d·ªÖ g·∫ßn. Tuy nhi√™n, ƒë·∫±ng sau c√°nh c·ª≠a ƒë√≥ng k√≠n, h·∫Øn ta ho√†n to√†n l·∫°nh l√πng v√† xa c√°ch. T√¥i th·ª±c s·ª± ph·∫£i d√†nh l·ªùi khen ng·ª£i cho k·ªπ nƒÉng di·ªÖn xu·∫•t tuy·ªát v·ªùi c·ªßa anh ·∫•y trong vai di·ªÖn n√†y."
                </div>
            </div>

            <div class="passage-segment">
                <div class="passage-text">
                    "The climax of the movie happens when the cop decides to hide and <span class="blank" id="b-6">(6)</span> on the suspect's secret meeting. He discovers that the suspect uses his basement to <span class="blank" id="b-7">(7)</span> dangerous fugitives. The basement was completely dark, and the terrible <span class="blank" id="b-8">(8)</span> of rotting garbage down there almost made the cop want to <span class="blank" id="b-9">(9)</span>."
                </div>
                <button class="mini-trans-btn" onclick="toggleTranslation('t-2')">üåü M·ªü d·ªãch ƒëo·∫°n n√†y</button>
                <div class="translation-content" id="t-2">
                    "ƒê·ªânh ƒëi·ªÉm c·ªßa b·ªô phim x·∫£y ra khi vi√™n c·∫£nh s√°t quy·∫øt ƒë·ªãnh tr·ªën v√† nghe l√©n cu·ªôc h·ªçp b√≠ m·∫≠t c·ªßa nghi ph·∫°m. Anh ph√°t hi·ªán ra r·∫±ng nghi ph·∫°m s·ª≠ d·ª•ng t·∫ßng h·∫ßm c·ªßa m√¨nh ƒë·ªÉ ch·ª©a ch·∫•p nh·ªØng k·∫ª ƒë√†o t·∫©u nguy hi·ªÉm. T·∫ßng h·∫ßm t·ªëi om, v√† m√πi h√¥i th·ªëi kh·ªßng khi·∫øp c·ªßa r√°c r∆∞·ªüi m·ª•c n√°t d∆∞·ªõi ƒë√≥ g·∫ßn nh∆∞ khi·∫øn vi√™n c·∫£nh s√°t mu·ªën n√¥n m·ª≠a."
                </div>
            </div>

            <div class="passage-segment">
                <div class="passage-text">
                    "Suddenly, a fight broke out. One of the gang members was pushed onto an exposed power line and got severely <span class="blank" id="b-10">(10)</span>. He fell to the ground, <span class="blank" id="b-11">(11)</span> and <span class="blank" id="b-12">(12)</span>, which was a truly terrifying scene to watch."
                </div>
                <button class="mini-trans-btn" onclick="toggleTranslation('t-3')">üåü M·ªü d·ªãch ƒëo·∫°n n√†y</button>
                <div class="translation-content" id="t-3">
                    "ƒê·ªôt nhi√™n, m·ªôt cu·ªôc chi·∫øn n·ªï ra. M·ªôt th√†nh vi√™n trong bƒÉng ƒë·∫£ng b·ªã ƒë·∫©y v√†o ƒë∆∞·ªùng d√¢y ƒëi·ªán h·ªü v√† b·ªã ƒëi·ªán gi·∫≠t nghi√™m tr·ªçng. H·∫Øn ta ng√£ xu·ªëng ƒë·∫•t, co gi·∫≠t v√† s√πi b·ªçt m√©p, qu·∫£ l√† m·ªôt c·∫£nh t∆∞·ª£ng th·ª±c s·ª± ƒë√°ng s·ª£."
                </div>
            </div>

            <div class="passage-segment">
                <div class="passage-text">
                    "When the villain was finally arrested at the end of the movie, he didn't look embarrassed or <span class="blank" id="b-13">(13)</span> at all. He wasn't <span class="blank" id="b-14">(14)</span> for his crimes either. Instead, he just sat in the interrogation room, giving the cops a <span class="blank" id="b-15">(15)</span> glare."
                </div>
                <button class="mini-trans-btn" onclick="toggleTranslation('t-4')">üåü M·ªü d·ªãch ƒëo·∫°n n√†y</button>
                <div class="translation-content" id="t-4">
                    "Khi k·∫ª ph·∫£n di·ªán cu·ªëi c√πng b·ªã b·∫Øt ·ªü cu·ªëi phim, h·∫Øn kh√¥ng h·ªÅ t·ªè ra b·ªëi r·ªëi hay x·∫•u h·ªï ch√∫t n√†o. H·∫Øn c≈©ng kh√¥ng h·ªÅ h·ªëi l·ªói v·ªÅ t·ªôi √°c c·ªßa m√¨nh. Thay v√†o ƒë√≥, h·∫Øn ch·ªâ ng·ªìi trong ph√≤ng th·∫©m v·∫•n, d√†nh cho c·∫£nh s√°t m·ªôt c√°i nh√¨n h·∫±n h·ªçc."
                </div>
            </div>

            <h3>Part 2: The Notorious Criminal</h3>
            
            <div class="passage-segment">
                <div class="passage-text">
                    "Today, I want to talk about a mind-blowing true-crime documentary I watched last week. It was about a notorious <span class="blank" id="b-16">(16)</span> who scammed and harmed multiple people. To his family and neighbors, he would always <span class="blank" id="b-17">(17)</span> and act like a perfect family man. But behind the scenes, he was a deceitful <span class="blank" id="b-18">(18)</span>."
                </div>
                <button class="mini-trans-btn" onclick="toggleTranslation('t-5')">üåü M·ªü d·ªãch ƒëo·∫°n n√†y</button>
                <div class="translation-content" id="t-5">
                    "H√¥m nay, t√¥i mu·ªën n√≥i v·ªÅ m·ªôt b·ªô phim t√†i li·ªáu t·ªôi ph·∫°m c√≥ th·∫≠t g√¢y s·ªëc m√† t√¥i ƒë√£ xem tu·∫ßn tr∆∞·ªõc. N√≥ n√≥i v·ªÅ m·ªôt k·∫ª l·ª´a ƒë·∫£o kh√©t ti·∫øng, k·∫ª ƒë√£ l·ª´a g·∫°t v√† l√†m h·∫°i nhi·ªÅu ng∆∞·ªùi. V·ªõi gia ƒë√¨nh v√† h√†ng x√≥m, h·∫Øn lu√¥n ƒë√≥ng vai m·ªôt ng∆∞·ªùi ch·ªìng t·ªët v√† h√†nh ƒë·ªông nh∆∞ m·ªôt ng∆∞·ªùi ƒë√†n √¥ng ho√†n h·∫£o c·ªßa gia ƒë√¨nh. Nh∆∞ng sau b·ª©c m√†n, h·∫Øn l√† m·ªôt k·∫ª c·∫∑n b√£ d·ªëi tr√°."
                </div>
            </div>

            <div class="passage-segment">
                <div class="passage-text">
                    "The police eventually tracked him down to a secret basement he rented. It was an absolute <span class="blank" id="b-19">(19)</span>, full of trash and rats. The entire room would <span class="blank" id="b-20">(20)</span> of harsh chemicals. We learned that during his time in the army, where they used to <span class="blank" id="b-21">(21)</span> his unit in an old facility, he learned how to completely <span class="blank" id="b-22">(22)</span> his tools to remove fingerprints and <span class="blank" id="b-23">(23)</span> the evidence so badly that it was unrecognizable."
                </div>
                <button class="mini-trans-btn" onclick="toggleTranslation('t-6')">üåü M·ªü d·ªãch ƒëo·∫°n n√†y</button>
                <div class="translation-content" id="t-6">
                    "Cu·ªëi c√πng, c·∫£nh s√°t ƒë√£ theo d√µi h·∫Øn ƒë·∫øn m·ªôt t·∫ßng h·∫ßm b√≠ m·∫≠t m√† h·∫Øn thu√™. ƒê√≥ ho√†n to√†n l√† m·ªôt ƒë·ªãa ng·ª•c t·ªìi t√†n, ƒë·∫ßy r√°c v√† chu·ªôt. CƒÉn ph√≤ng b·ªëc m√πi h√≥a ch·∫•t n·ªìng n·∫∑c. Ch√∫ng t√¥i bi·∫øt ƒë∆∞·ª£c r·∫±ng trong th·ªùi gian ·ªü qu√¢n ng≈©, n∆°i h·ªç t·ª´ng ƒë√≥ng qu√¢n t·∫°i m·ªôt c∆° s·ªü c≈©, h·∫Øn ƒë√£ h·ªçc ƒë∆∞·ª£c c√°ch kh·ª≠ tr√πng ho√†n to√†n c√°c c√¥ng c·ª• c·ªßa m√¨nh ƒë·ªÉ x√≥a d·∫•u v√¢n tay v√† ph√° h·ªßy b·∫±ng ch·ª©ng ƒë·∫øn m·ª©c kh√¥ng th·ªÉ nh·∫≠n ra."
                </div>
            </div>

            <div class="passage-segment">
                <div class="passage-text">
                    "However, the forensic team was brilliant. They found a crucial piece of evidence: a victim's torn <span class="blank" id="b-24">(24)</span> that the criminal had strangely tried to <span class="blank" id="b-25">(25)</span> with a needle and thread to cover up his tracks. Using advanced DNA technology, the investigators also discovered hidden traces of <span class="blank" id="b-26">(26)</span> at the crime scene, which directly linked him to the case."
                </div>
                <button class="mini-trans-btn" onclick="toggleTranslation('t-7')">üåü M·ªü d·ªãch ƒëo·∫°n n√†y</button>
                <div class="translation-content" id="t-7">
                    "Tuy nhi√™n, ƒë·ªôi ph√°p y r·∫•t xu·∫•t s·∫Øc. H·ªç ƒë√£ t√¨m th·∫•y m·ªôt manh m·ªëi quan tr·ªçng: qu·∫ßn l√≥t b·ªã r√°ch c·ªßa n·∫°n nh√¢n m√† t√™n t·ªôi ph·∫°m ƒë√£ c·ªë g·∫Øng v√° l·∫°i m·ªôt c√°ch k·ª≥ l·∫° b·∫±ng kim ch·ªâ ƒë·ªÉ che gi·∫•u d·∫•u v·∫øt. S·ª≠ d·ª•ng c√¥ng ngh·ªá DNA ti√™n ti·∫øn, c√°c nh√† ƒëi·ªÅu tra c≈©ng ph√°t hi·ªán ra nh·ªØng d·∫•u v·∫øt tinh d·ªãch ƒë∆∞·ª£c gi·∫•u k√≠n t·∫°i hi·ªán tr∆∞·ªùng, tr·ª±c ti·∫øp li√™n k·∫øt h·∫Øn v·ªõi v·ª• √°n."
                </div>
            </div>

            <div class="passage-segment">
                <div class="passage-text">
                    "During the court trial, his true colors showed. He was incredibly <span class="blank" id="b-27">(27)</span>, always wearing expensive suits and acting like he was smarter than everyone else. He would constantly <span class="blank" id="b-28">(28)</span> about the police on the internet and even dared to <span class="blank" id="b-29">(29)</span> the judge when being questioned. When the final guilty verdict was read, he stood there staring coldly, completely <span class="blank" id="b-30">(30)</span> for the lives he had ruined."
                </div>
                <button class="mini-trans-btn" onclick="toggleTranslation('t-8')">üåü M·ªü d·ªãch ƒëo·∫°n n√†y</button>
                <div class="translation-content" id="t-8">
                    "Trong phi√™n t√≤a x√©t x·ª≠, b·∫£n ch·∫•t th·∫≠t c·ªßa h·∫Øn ƒë√£ l·ªô r√µ. H·∫Øn v√¥ c√πng ki√™u ng·∫°o t·ª± ph·ª•, lu√¥n m·∫∑c nh·ªØng b·ªô vest ƒë·∫Øt ti·ªÅn v√† t·ªè ra m√¨nh th√¥ng minh h∆°n t·∫•t c·∫£ m·ªçi ng∆∞·ªùi. H·∫Øn li√™n t·ª•c n√≥i x·∫•u c·∫£nh s√°t tr√™n m·∫°ng v√† th·∫≠m ch√≠ d√°m c√£i l·∫°i th·∫©m ph√°n khi b·ªã th·∫©m v·∫•n. Khi ph√°n quy·∫øt c√≥ t·ªôi cu·ªëi c√πng ƒë∆∞·ª£c tuy√™n, h·∫Øn ƒë·ª©ng ƒë√≥ ch·∫±m ch·∫±m m·ªôt c√°ch l·∫°nh l√πng, ho√†n to√†n kh√¥ng h·ªÅ h·ªëi h·∫≠n v√¨ nh·ªØng cu·ªôc ƒë·ªùi m√† h·∫Øn ƒë√£ h·ªßy ho·∫°i."
                </div>
            </div>

            <h3>üìö GLOSSARY (T·ª™ V·ª∞NG H·ªåC THU·∫¨T N√ÇNG CAO B2-C2)</h3>
            <table class="glossary-table">
                <tr><th>T·ª´ v·ª±ng</th><th>Lo·∫°i t·ª´</th><th>Nghƒ©a Ti·∫øng Vi·ªát</th></tr>
                <tr><td class="word-tag">1. physique</td><td>Noun</td><td>V√≥c d√°ng, th·ªÉ ch·∫•t (th∆∞·ªùng n√≥i v·ªÅ c∆° b·∫Øp).</td></tr>
                <tr><td class="word-tag">2. congenial</td><td>Adjective</td><td>D·ªÖ g·∫ßn, th√¢n thi·ªán, h√≤a ƒë·ªìng.</td></tr>
                <tr><td class="word-tag">3. aloof</td><td>Adjective</td><td>Xa c√°ch, l·∫°nh l√πng, kh√¥ng th√¢n thi·ªán.</td></tr>
                <tr><td class="word-tag">4. eavesdrop</td><td>Verb</td><td>Nghe l√©n, nghe tr·ªôm.</td></tr>
                <tr><td class="word-tag">5. harbour</td><td>Verb</td><td>Ch·ª©a ch·∫•p, bao che (t·ªôi ph·∫°m/k·∫ª tr·ªën truy n√£).</td></tr>
                <tr><td class="word-tag">6. stench</td><td>Noun</td><td>M√πi h√¥i th·ªëi n·ªìng n·∫∑c.</td></tr>
                <tr><td class="word-tag">7. spiteful</td><td>Adjective</td><td>H·∫±n h·ªçc, mang √Ω ƒë·ªì x·∫•u, ƒë·∫ßy th√π h·∫≠n.</td></tr>
                <tr><td class="word-tag">8. con artist</td><td>Noun</td><td>K·∫ª l·ª´a ƒë·∫£o (chuy√™n nghi·ªáp).</td></tr>
                <tr><td class="word-tag">9. lowlife</td><td>Noun</td><td>K·∫ª c·∫∑n b√£, t·ªìi t·ªá trong x√£ h·ªôi.</td></tr>
                <tr><td class="word-tag">10. reek</td><td>Verb</td><td>B·ªëc m√πi h√¥i th·ªëi (th∆∞·ªùng ƒëi v·ªõi "of").</td></tr>
                <tr><td class="word-tag">11. mangle</td><td>Verb</td><td>L√†m nh·ª´ t·ª≠, c·∫Øt x√©n, ph√° h·ªßy l√†m bi·∫øn d·∫°ng.</td></tr>
                <tr><td class="word-tag">12. darn</td><td>Verb</td><td>V√° (qu·∫ßn √°o) b·∫±ng kim ch·ªâ.</td></tr>
                <tr><td class="word-tag">13. pretentious</td><td>Adjective</td><td>Ki√™u ng·∫°o, t·ª± ph·ª•, t·ªè v·∫ª ta ƒë√¢y.</td></tr>
            </table>
        </div>

        <div class="pane" id="right-pane">
            <h2>üéÆ B√ÄI T·∫¨P TR·∫ÆC NGHI·ªÜM (30 C√ÇU)</h2>
            <div id="quiz-container">
                </div>
            <button class="btn-gamify" id="submit-btn" onclick="submitQuiz()">üéâ N·ªòP B√ÄI V√Ä XEM ƒêI·ªÇM üéâ</button>
        </div>
    </div>

    <div id="result-modal">
        <div class="modal-content">
            <h1 style="color: var(--primary); font-weight: 900; margin-bottom: 20px;">K·∫æT QU·∫¢ C·ª¶A B·∫†N!</h1>
            <div class="score-circle" id="final-score">0/30</div>
            <h2 id="feedback-text" style="color: #34495E; margin-bottom: 20px;">L√†m t·ªët l·∫Øm!</h2>
            <button class="btn-gamify" onclick="location.reload()">L√†m L·∫°i L·∫ßn N·ªØa üîÑ</button>
        </div>
    </div>

    <div id="timeout-modal">
        <div class="modal-content">
            <h2 style="color: var(--wrong); margin-bottom: 15px;">‚è∞ ƒê√É H·∫æT GI·ªú L√ÄM B√ÄI!</h2>
            <p style="font-size: 18px; margin-bottom: 20px;">B·∫°n v·∫´n c√≥ th·ªÉ ti·∫øp t·ª•c l√†m, nh∆∞ng nh·ªõ l√† trong ph√≤ng thi th·∫≠t, b·∫°n ch·ªâ n√™n l√†m m·ªôt b√†i nh∆∞ th·∫ø n√†y trong 10 ph√∫t th√¥i nha.</p>
            <button class="btn-gamify" onclick="document.getElementById('timeout-modal').style.display='none'">Ti·∫øp T·ª•c L√†m B√†i</button>
        </div>
    </div>

    <script>
        /* === AUDIO API === */
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playCorrectSound() {
            if(audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            osc.type = 'sine';
            osc.frequency.setValueAtTime(880, audioCtx.currentTime); // A5
            osc.frequency.exponentialRampToValueAtTime(1760, audioCtx.currentTime + 0.1); // A6
            gain.gain.setValueAtTime(0.5, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
            osc.start(); osc.stop(audioCtx.currentTime + 0.5);
        }
        function playWrongSound() {
            if(audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(300, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(100, audioCtx.currentTime + 0.4);
            gain.gain.setValueAtTime(0.5, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.4);
            osc.start(); osc.stop(audioCtx.currentTime + 0.4);
        }

        /* === CONFETTI LOGIC === */
        function fireConfetti() {
            for(let i=0; i<30; i++) {
                let conf = document.createElement('div');
                conf.style.position = 'fixed';
                conf.style.width = '10px'; conf.style.height = '10px';
                conf.style.backgroundColor = ['#FF4757', '#00D26A', '#FDCB6E', '#8854C0', '#00C9A7'][Math.floor(Math.random()*5)];
                conf.style.left = Math.random() * 100 + 'vw';
                conf.style.top = '-10px';
                conf.style.borderRadius = '50%';
                conf.style.zIndex = '9999';
                document.body.appendChild(conf);
                
                let angle = Math.random() * Math.PI * 2;
                let velocity = 2 + Math.random() * 3;
                let x = 0; let y = 0;
                
                function fall() {
                    y += velocity; x += Math.sin(angle) * 2;
                    conf.style.transform = `translate(${x}px, ${y}px) rotate(${y*2}deg)`;
                    if(y < window.innerHeight) requestAnimationFrame(fall);
                    else conf.remove();
                }
                requestAnimationFrame(fall);
            }
        }

        /* === TIMER LOGIC === */
        let timerSeconds = 600; // 10 minutes
        let timerInterval = null;
        let isTimerRunning = false;

        function updateTimerDisplay() {
            let m = Math.floor(timerSeconds / 60);
            let s = timerSeconds % 60;
            document.getElementById('timer-display').innerText = `${m < 10 ? '0':''}${m}:${s < 10 ? '0':''}${s}`;
        }

        function toggleTimer() {
            const btn = document.getElementById('timer-btn');
            if(isTimerRunning) {
                clearInterval(timerInterval);
                btn.innerText = "TI·∫æP T·ª§C";
                btn.style.background = "var(--secondary)";
            } else {
                btn.innerText = "T·∫†M D·ª™NG";
                btn.style.background = "var(--wrong)";
                timerInterval = setInterval(() => {
                    timerSeconds--;
                    updateTimerDisplay();
                    if(timerSeconds <= 0) {
                        clearInterval(timerInterval);
                        document.getElementById('timeout-modal').style.display = 'flex';
                        btn.innerText = "H·∫æT GI·ªú";
                        btn.disabled = true;
                    }
                }, 1000);
            }
            isTimerRunning = !isTimerRunning;
        }

        function toggleTranslation(id) {
            let el = document.getElementById(id);
            let btn = el.previousElementSibling;
            if (el.style.display === 'block') {
                el.style.display = 'none';
                btn.innerHTML = "üåü M·ªü d·ªãch ƒëo·∫°n n√†y";
            } else {
                el.style.display = 'block';
                btn.innerHTML = "‚ùå ƒê√≥ng b·∫£n d·ªãch";
            }
        }

        /* === QUIZ DATA (30 Questions) === */
        const quizData = [
            // PART 1
            { id: 1, text: "The villain was a tall man with a very muscular (1) _________", correct: "physique", options: ["pretence", "physique", "stench", "congenial"], expl: "<b>physique (n): v√≥c d√°ng.</b> Ph√π h·ª£p v·ªõi t√≠nh t·ª´ muscular (c∆° b·∫Øp).<br>Lo·∫°i pretence (s·ª± gi·∫£ v·ªù), stench (m√πi h√¥i), congenial (h√≤a ƒë·ªìng)." },
            { id: 2, text: "...who always put up a (2) _________ of being a friendly...", correct: "pretence", options: ["pretence", "sheepish", "quarter", "aloof"], expl: "<b>put up a pretence (c·ª•m t·ª´): gi·∫£ v·ªù, t·ªè v·∫ª.</b><br>Lo·∫°i sheepish (x·∫•u h·ªï), quarter (ch·ªó ·ªü), aloof (xa c√°ch)." },
            { id: 3, text: "...being a friendly and (3) _________ neighbor.", correct: "congenial", options: ["spiteful", "congenial", "apologetic", "pretentious"], expl: "<b>congenial (adj): h√≤a ƒë·ªìng, d·ªÖ g·∫ßn.</b> C·∫•u tr√∫c song song 'friendly and...'.<br>Lo·∫°i spiteful (h·∫±n h·ªçc), apologetic (h·ªëi l·ªói)." },
            { id: 4, text: "However, behind closed doors, he was completely cold and (4) _________.", correct: "aloof", options: ["aloof", "electrocuted", "congenial", "having convulsions"], expl: "<b>aloof (adj): xa c√°ch, l·∫°nh l√πng.</b> Ph√π h·ª£p v·ªõi t·ª´ 'cold'.<br>Lo·∫°i electrocuted (b·ªã ƒëi·ªán gi·∫≠t), congenial (h√≤a ƒë·ªìng)." },
            { id: 5, text: "I really have to (5) _________ for his incredible acting skills...", correct: "give him a credit", options: ["give him a credit", "puke", "eavesdrop", "mangle"], expl: "<b>give someone (a) credit: c√¥ng nh·∫≠n, d√†nh l·ªùi khen ng·ª£i.</b><br>Lo·∫°i puke (n√¥n m·ª≠a), eavesdrop (nghe l√©n), mangle (c·∫Øt x√©n)." },
            { id: 6, text: "...decides to hide and (6) _________ on the suspect's secret meeting.", correct: "eavesdrop", options: ["harbour", "eavesdrop", "sterilize", "darn"], expl: "<b>eavesdrop on (v): nghe l√©n.</b> Ph√π h·ª£p v·ªõi b·ªëi c·∫£nh tr·ªën (hide) v√† h·ªçp b√≠ m·∫≠t.<br>Lo·∫°i harbour (ch·ª©a ch·∫•p)." },
            { id: 7, text: "He discovers that the suspect uses his basement to (7) _________ dangerous fugitives.", correct: "harbour", options: ["mangle", "harbour", "sterilize", "puke"], expl: "<b>harbour (v): ch·ª©a ch·∫•p, bao che.</b> (ƒë·∫∑c bi·ªát l√† t·ªôi ph·∫°m/fugitives).<br>Lo·∫°i sterilize (kh·ª≠ tr√πng), puke (n√¥n)." },
            { id: 8, text: "...and the terrible (8) _________ of rotting garbage...", correct: "stench", options: ["physique", "hellhole", "stench", "semen"], expl: "<b>stench (n): m√πi h√¥i th·ªëi n·ªìng n·∫∑c.</b> Ph√π h·ª£p v·ªõi rotting garbage (r√°c m·ª•c n√°t)." },
            { id: 9, text: "...almost made the cop want to (9) _________.", correct: "puke", options: ["puke", "darn", "talk trash", "eavesdrop"], expl: "<b>puke (v): n√¥n m·ª≠a.</b> Do ng·ª≠i th·∫•y m√πi h√¥i th·ªëi.<br>Lo·∫°i darn (v√° √°o), talk trash (n√≥i x·∫•u)." },
            { id: 10, text: "...pushed onto an exposed power line and got severely (10) _________.", correct: "electrocuted", options: ["electrocuted", "apologetic", "congenial", "sheepish"], expl: "<b>electrocuted (v-ed): b·ªã ƒëi·ªán gi·∫≠t ch·∫øt/b·ªã th∆∞∆°ng.</b> Ph√π h·ª£p v·ªõi power line (d√¢y ƒëi·ªán)." },
            { id: 11, text: "He fell to the ground, (11) _________ and...", correct: "having convulsions", options: ["having convulsions", "foaming at the mouth", "playing a good husband", "talking back to"], expl: "<b>having convulsions: b·ªã co gi·∫≠t.</b> Bi·ªÉu hi·ªán khi b·ªã ƒëi·ªán gi·∫≠t.<br>(L∆∞u √Ω: v·ªã tr√≠ 11 v√† 12 c√≥ th·ªÉ ƒë·ªïi ch·ªó, nh∆∞ng d·ª±a v√†o th·ª© t·ª± li·ªát k√™ chung th∆∞·ªùng th·∫•y)." },
            { id: 12, text: "...and (12) _________, which was a truly terrifying scene.", correct: "foaming at the mouth", options: ["foaming at the mouth", "having convulsions", "giving him a credit", "mangling"], expl: "<b>foaming at the mouth: s√πi b·ªçt m√©p.</b>" },
            { id: 13, text: "...he didn't look embarrassed or (13) _________ at all.", correct: "sheepish", options: ["sheepish", "congenial", "pretentious", "aloof"], expl: "<b>sheepish (adj): b·∫Ωn l·∫Ωn, x·∫•u h·ªï (v√¨ l√†m sai).</b> ƒê·ªìng nghƒ©a v·ªõi embarrassed.<br>Lo·∫°i pretentious (t·ª± ph·ª•)." },
            { id: 14, text: "He wasn't (14) _________ for his crimes either.", correct: "apologetic", options: ["apologetic", "spiteful", "unapologetic", "aloof"], expl: "<b>apologetic (adj): c·∫£m th·∫•y h·ªëi l·ªói.</b> Ph√π h·ª£p c·∫•u tr√∫c ph·ªß ƒë·ªãnh 'wasn't apologetic'.<br>Lo·∫°i spiteful (h·∫±n h·ªçc)." },
            { id: 15, text: "...giving the cops a (15) _________ glare.", correct: "spiteful", options: ["spiteful", "sheepish", "congenial", "apologetic"], expl: "<b>spiteful (adj): h·∫±n h·ªçc, mang √°c √Ω.</b> Ph√π h·ª£p v·ªõi 'glare' (c√°i nh√¨n tr·ª´ng tr·ª´ng)." },
            
            // PART 2
            { id: 16, text: "It was about a notorious (16) _________ who scammed and harmed multiple people.", correct: "con artist", options: ["con artist", "lowlife", "hellhole", "panty"], expl: "<b>con artist (n): k·∫ª l·ª´a ƒë·∫£o.</b> Ph√π h·ª£p v·ªõi t·ª´ 'scammed' (l·ª´a ti·ªÅn).<br>Lo·∫°i hellhole (ƒë·ªãa ng·ª•c t·ªìi t√†n)." },
            { id: 17, text: "...he would always (17) _________ and act like a perfect family man.", correct: "play a good husband", options: ["play a good husband", "talk trash", "talk back to", "sterilize"], expl: "<b>play a good husband: ƒë√≥ng vai ng∆∞·ªùi ch·ªìng t·ªët.</b> Ph√π h·ª£p v·ªõi 'perfect family man'." },
            { id: 18, text: "But behind the scenes, he was a deceitful (18) _________.", correct: "lowlife", options: ["lowlife", "con artist", "hellhole", "semen"], expl: "<b>lowlife (n): k·∫ª c·∫∑n b√£.</b> Ph√π h·ª£p v·ªõi 'deceitful' (d·ªëi tr√°)." },
            { id: 19, text: "It was an absolute (19) _________, full of trash and rats.", correct: "hellhole", options: ["hellhole", "quarter", "stench", "physique"], expl: "<b>hellhole (n): n∆°i t·ªìi t√†n, nh∆∞ ƒë·ªãa ng·ª•c.</b> Ph√π h·ª£p v·ªõi 'trash and rats'." },
            { id: 20, text: "The entire room would (20) _________ of harsh chemicals.", correct: "reek", options: ["reek", "mangle", "darn", "puke"], expl: "<b>reek (v): b·ªëc m√πi n·ªìng n·∫∑c (reek of sth).</b> Ph√π h·ª£p v·ªõi 'chemicals'." },
            { id: 21, text: "...where they used to (21) _________ his unit in an old facility...", correct: "quarter", options: ["quarter", "sterilize", "harbour", "mangle"], expl: "<b>quarter (v): ƒë√≥ng qu√¢n, cho binh l√≠nh ·ªü.</b>" },
            { id: 22, text: "...he learned how to completely (22) _________ his tools to remove fingerprints...", correct: "sterilize", options: ["sterilize", "mangle", "darn", "reek"], expl: "<b>sterilize (v): ti·ªát tr√πng, l√†m s·∫°ch ho√†n to√†n.</b> ƒê·ªÉ x√≥a v√¢n tay." },
            { id: 23, text: "...and (23) _________ the evidence so badly that it was unrecognizable.", correct: "mangle", options: ["mangle", "sterilize", "harbour", "eavesdrop"], expl: "<b>mangle (v): l√†m bi·∫øn d·∫°ng, c·∫Øt x√©n.</b> Ph√π h·ª£p v·ªõi 'unrecognizable' (kh√¥ng nh·∫≠n ra ƒë∆∞·ª£c)." },
            { id: 24, text: "...a victim's torn (24) _________ that the criminal had strangely tried to...", correct: "panty", options: ["panty", "semen", "hellhole", "physique"], expl: "<b>panty (n): qu·∫ßn l√≥t n·ªØ.</b> Ph√π h·ª£p v·ªõi 'torn' (b·ªã r√°ch)." },
            { id: 25, text: "...strangely tried to (25) _________ with a needle and thread...", correct: "darn", options: ["darn", "mangle", "reek", "puke"], expl: "<b>darn (v): v√° (qu·∫ßn √°o).</b> ƒêi k√®m 'needle and thread' (kim v√† ch·ªâ)." },
            { id: 26, text: "...discovered hidden traces of (26) _________ at the crime scene...", correct: "semen", options: ["semen", "stench", "panty", "hellhole"], expl: "<b>semen (n): tinh d·ªãch.</b> D·∫•u v·∫øt sinh h·ªçc d√πng trong DNA technology." },
            { id: 27, text: "He was incredibly (27) _________, always wearing expensive suits...", correct: "pretentious", options: ["pretentious", "apologetic", "sheepish", "unapologetic"], expl: "<b>pretentious (adj): ki√™u ng·∫°o, t·ª± ph·ª•, th√≠ch khoe khoang.</b>" },
            { id: 28, text: "He would constantly (28) _________ about the police on the internet...", correct: "talk trash", options: ["talk trash", "talk back to", "play a good husband", "eavesdrop"], expl: "<b>talk trash: n√≥i x·∫•u, ch√¢m bi·∫øm.</b>" },
            { id: 29, text: "...and even dared to (29) _________ the judge when being questioned.", correct: "talk back to", options: ["talk back to", "talk trash", "give him a credit", "darn"], expl: "<b>talk back to: c√£i l·∫°i (ai ƒë√≥ c√≥ th·∫©m quy·ªÅn).</b>" },
            { id: 30, text: "...completely (30) _________ for the lives he had ruined.", correct: "unapologetic", options: ["unapologetic", "apologetic", "congenial", "sheepish"], expl: "<b>unapologetic (adj): kh√¥ng h·ªÅ h·ªëi l·ªói.</b> Ph√π h·ª£p v·ªõi th√°i ƒë·ªô 'staring coldly' (nh√¨n ch·∫±m ch·∫±m l·∫°nh l√πng)." }
        ];

        let score = 0;
        let answeredQuestions = new Set();

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function renderQuiz() {
            const container = document.getElementById('quiz-container');
            quizData.forEach((q, index) => {
                let shuffledOptions = shuffleArray([...q.options]);
                let card = document.createElement('div');
                card.className = 'question-card';
                card.id = `q-card-${q.id}`;
                
                let html = `<div class="question-text">Question ${index + 1}: ${q.text}</div>`;
                html += `<div class="options-grid" id="opts-${q.id}">`;
                
                shuffledOptions.forEach(opt => {
                    html += `<button class="option-btn" onclick="checkAnswer(${q.id}, '${opt}', this, '${q.correct}')">${opt}</button>`;
                });
                
                html += `</div>`;
                html += `<div class="explanation" id="expl-${q.id}">${q.expl}</div>`;
                
                card.innerHTML = html;
                container.appendChild(card);
            });
        }

        function checkAnswer(qId, selected, btnElement, correctAns) {
            if(answeredQuestions.has(qId)) return; 
            
            answeredQuestions.add(qId);
            const explDiv = document.getElementById(`expl-${qId}`);
            const allBtns = document.getElementById(`opts-${qId}`).getElementsByTagName('button');
            const blankSpan = document.getElementById(`b-${qId}`);

            for(let btn of allBtns) {
                btn.disabled = true;
                if(btn.innerText === correctAns) {
                    btn.classList.add('correct');
                }
            }

            if(selected === correctAns) {
                btnElement.classList.add('correct');
                playCorrectSound();
                fireConfetti();
                score++;
            } else {
                btnElement.classList.add('wrong');
                playWrongSound();
            }

            blankSpan.innerText = correctAns;
            blankSpan.style.color = selected === correctAns ? "var(--correct)" : "var(--wrong)";
            blankSpan.style.borderBottomColor = selected === correctAns ? "var(--correct)" : "var(--wrong)";

            explDiv.style.display = 'block';
        }

        function submitQuiz() {
            clearInterval(timerInterval);
            document.getElementById('result-modal').style.display = 'flex';
            document.getElementById('final-score').innerText = `${score}/${quizData.length}`;
            
            let feedback = document.getElementById('feedback-text');
            if(score === 30) {
                feedback.innerText = "üèÜ THI√äN T√ÄI NG√îN NG·ªÆ! B·∫°n ƒë√£ xu·∫•t s·∫Øc tuy·ªát ƒë·ªëi!";
                fireConfetti(); fireConfetti();
            } else if (score >= 20) {
                feedback.innerText = "üåü R·∫•t Xu·∫•t S·∫Øc! B·∫°n n·∫Øm t·ª´ v·ª±ng r·∫•t t·ªët!";
                fireConfetti();
            } else if (score >= 10) {
                feedback.innerText = "üëç L√†m T·ªët L·∫Øm! C·ªë g·∫Øng √¥n th√™m m·ªôt ch√∫t nh√©!";
            } else {
                feedback.innerText = "üí™ ƒê·ª´ng n·∫£n ch√≠! H√£y ƒë·ªçc k·ªπ ph·∫ßn gi·∫£i th√≠ch v√† th·ª≠ l·∫°i nha!";
            }
        }

        window.onload = () => {
            renderQuiz();
            updateTimerDisplay();
        };
    </script>
</body>
</html>
