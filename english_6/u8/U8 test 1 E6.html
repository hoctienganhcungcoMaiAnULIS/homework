<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 8: Sports and Games - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #8854C0; /* H·ªìng t√≠m pastel */
            --secondary-color: #00C9A7; /* Xanh ng·ªçc */
            --accent-color: #FF9F43; /* Cam */
            --correct-color: #00D26A; /* Xanh l√° */
            --wrong-color: #FF4757; /* ƒê·ªè */
            --bg-color: #f0f3f5;
            --text-color: #2d3436;
            --card-bg: #ffffff;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#e0e0e0 10%, transparent 10%), radial-gradient(#e0e0e0 10%, transparent 10%);
            background-size: 30px 30px;
            background-position: 0 0, 15px 15px;
            color: var(--text-color);
            margin: 0;
            padding-bottom: 80px; /* Space for footer */
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary-color), #a29bfe);
            color: white;
            padding: 20px;
            text-align: center;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            box-shadow: 0 10px 20px rgba(136, 84, 192, 0.3);
            position: relative;
            z-index: 10;
        }

        h1 {
            margin: 0;
            font-weight: 800;
            font-size: 1.8rem;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.1);
        }

        .subtitle {
            font-family: 'Quicksand', sans-serif;
            font-size: 1rem;
            opacity: 0.9;
            margin-top: 5px;
            font-weight: 700;
        }

        /* Container */
        .container {
            max-width: 800px;
            margin: 30px auto;
            padding: 0 15px;
        }

        /* Card Styles */
        .card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 0 rgba(0,0,0,0.1);
            border: 2px solid #eee;
            position: relative;
            transition: transform 0.3s;
        }

        .question-title {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        .question-text {
            font-size: 1.2rem;
            margin-bottom: 20px;
            font-weight: 600;
            line-height: 1.5;
        }

        /* Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Button Styles */
        .option-btn {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 15px;
            font-family: 'Nunito', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            text-align: left;
            transition: all 0.2s;
            box-shadow: 0 4px 0 #e0e0e0;
            position: relative;
        }

        .option-btn:hover:not(.disabled) {
            transform: scale(1.02);
            border-color: var(--secondary-color);
            background-color: #f0fffc;
        }

        .option-btn:active:not(.disabled) {
            transform: translateY(4px);
            box-shadow: none;
        }

        /* Status Colors */
        .option-btn.correct {
            background-color: var(--correct-color);
            color: white;
            border-color: #00b85c;
            box-shadow: 0 4px 0 #00b85c;
        }

        .option-btn.wrong {
            background-color: var(--wrong-color);
            color: white;
            border-color: #ff2e40;
            box-shadow: 0 4px 0 #ff2e40;
            animation: shake 0.5s;
        }

        .option-btn.correct-answer {
            background-color: var(--correct-color); /* Highlight correct if user picked wrong */
            color: white;
            opacity: 0.8;
        }

        /* Explanation Box */
        .explanation {
            display: none;
            margin-top: 20px;
            background-color: #f8f9fa;
            border-left: 5px solid var(--secondary-color);
            padding: 15px;
            border-radius: 10px;
            animation: fadeIn 0.5s;
        }
        
        .explanation.visible {
            display: block;
        }

        .exp-header {
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .exp-content p {
            margin: 5px 0;
            font-size: 0.95rem;
        }

        .exp-label {
            font-weight: 700;
            color: #555;
            text-decoration: underline;
        }

        /* Reading Passage Box */
        .reading-box {
            background-color: #fff4e6;
            border: 2px dashed var(--accent-color);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-family: 'Quicksand', sans-serif;
            line-height: 1.6;
        }

        /* Glossary Table */
        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .glossary-table th {
            background-color: var(--primary-color);
            color: white;
            padding: 10px;
            text-align: left;
        }
        
        .glossary-table td {
            padding: 10px;
            border-bottom: 1px solid #eee;
            font-size: 0.9rem;
        }

        /* Special layouts for Q37-40 (Gap Fill) */
        .gap-fill-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .options-pool {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #2196f3;
        }
        .pool-item {
            margin-bottom: 5px;
            font-weight: bold;
            color: #1565c0;
        }
        .text-content-gap {
            background: #fff;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 10px;
            line-height: 1.8;
        }

        /* Sign CSS Art */
        .sign-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        .sign-circle {
            width: 120px;
            height: 120px;
            border: 12px solid #FF0000;
            border-radius: 50%;
            position: relative;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }
        .sign-diagonal {
            position: absolute;
            width: 12px;
            height: 140px;
            background: #FF0000;
            transform: rotate(-45deg);
            z-index: 5;
        }
        .sign-icon svg {
            width: 70px;
            height: 70px;
            fill: black;
        }

        /* Sticky Footer */
        .sticky-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            padding: 15px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
        }

        .score-display {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--primary-color);
            margin-left: 20px;
        }

        .submit-btn {
            background: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 30px;
            font-size: 1.2rem;
            font-weight: 800;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 0 #009e82;
            margin-right: 20px;
            transition: transform 0.2s;
        }

        .submit-btn:active {
            transform: translateY(5px);
            box-shadow: none;
        }

        /* Animations */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            75% { transform: translateX(-10px); }
            100% { transform: translateX(0); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Result Popup */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 200;
            justify-content: center;
            align-items: center;
        }
        
        .result-card {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            max-width: 400px;
            animation: fadeIn 0.5s;
        }
        
        .result-score {
            font-size: 3rem;
            font-weight: 900;
            color: var(--primary-color);
            margin: 20px 0;
        }

        u {
            text-decoration: underline;
            text-decoration-thickness: 3px;
            text-decoration-color: var(--primary-color);
        }

    </style>
</head>
<body>

<header>
    <h1>UNIT 8: SPORTS AND GAMES</h1>
    <div class="subtitle">Gi√°o vi√™n t·∫°o: Ms Mai An ULIS - TEST 01</div>
</header>

<div class="container" id="quiz-container">
    </div>

<div class="sticky-footer">
    <div class="score-display" id="live-score">C√¢u ƒë√∫ng: 0/40</div>
    <button class="submit-btn" onclick="submitQuiz()">N·ªòP B√ÄI</button>
</div>

<div class="modal-overlay" id="result-modal">
    <div class="result-card">
        <h2>K·∫æT QU·∫¢ B√ÄI L√ÄM</h2>
        <div class="result-score" id="final-score">0/40</div>
        <p id="feedback-text">C·ªë g·∫Øng l√™n nh√©!</p>
        <button class="submit-btn" onclick="closeModal()">Xem l·∫°i b√†i</button>
    </div>
</div>

<script>
    // Data Questions
    const quizData = [
        // --- PRONUNCIATION ---
        {
            id: 1,
            type: "phonetics",
            question: "Choose the word whose underlined part differs from the other three in pronunciation:",
            text: "A. c<u>a</u>ptain &nbsp;&nbsp; B. b<u>a</u>dminton &nbsp;&nbsp; C. <u>a</u>ctive &nbsp;&nbsp; D. b<u>a</u>seball",
            options: ["A", "B", "C", "D"],
            answer: 3, // Index 3 = D
            explanation: {
                translate_q: "Ch·ªçn t·ª´ c√≥ ph·∫ßn g·∫°ch ch√¢n ph√°t √¢m kh√°c c√°c t·ª´ c√≤n l·∫°i.",
                options: [
                    "A. Captain /Ààk√¶pt…™n/: ƒê·ªôi tr∆∞·ªüng (√¢m /√¶/)",
                    "B. Badminton /Ààb√¶dm…™nt…ôn/: C·∫ßu l√¥ng (√¢m /√¶/)",
                    "C. Active /Àà√¶kt…™v/: NƒÉng ƒë·ªông (√¢m /√¶/)",
                    "D. Baseball /Ààbe…™sb…îÀêl/: B√≥ng ch√†y (√¢m /e…™/)"
                ],
                correct: "ƒê√°p √°n D ph√°t √¢m l√† /e…™/ (nh∆∞ trong 'day').",
                wrong: "C√°c ƒë√°p √°n A, B, C ƒë·ªÅu ph√°t √¢m l√† /√¶/ (mi·ªáng m·ªü r·ªông, lai gi·ªØa a v√† e)."
            }
        },
        {
            id: 2,
            type: "phonetics",
            question: "Choose the word whose underlined part differs from the other three in pronunciation:",
            text: "A. m<u>e</u>mber &nbsp;&nbsp; B. karat<u>e</u> &nbsp;&nbsp; C. m<u>e</u>dal &nbsp;&nbsp; D. int<u>e</u>lligent",
            options: ["A", "B", "C", "D"],
            answer: 1, // B
            explanation: {
                translate_q: "Ch·ªçn t·ª´ c√≥ ph·∫ßn g·∫°ch ch√¢n ph√°t √¢m kh√°c c√°c t·ª´ c√≤n l·∫°i.",
                options: [
                    "A. Member /Ààmemb…ôr/: Th√†nh vi√™n (√¢m /e/)",
                    "B. Karate /k…ôÀàr…ëÀêti/: V√µ Karate (√¢m /i/ ·ªü cu·ªëi)",
                    "C. Medal /Ààmedl/: Huy ch∆∞∆°ng (√¢m /e/)",
                    "D. Intelligent /…™nÀàtel…™d í…ônt/: Th√¥ng minh (√¢m /e/)"
                ],
                correct: "ƒê√°p √°n B (ch·ªØ 'e' cu·ªëi) ph√°t √¢m l√† /i/.",
                wrong: "C√°c ƒë√°p √°n c√≤n l·∫°i ch·ªØ 'e' ƒë·ªÅu ƒë∆∞·ª£c ph√°t √¢m l√† /e/ ng·∫Øn."
            }
        },
        // --- STRESS ---
        {
            id: 3,
            type: "stress",
            question: "Choose the word that differs from the other three in the position of primary stress:",
            text: "A. equipment &nbsp;&nbsp; B. fantastic &nbsp;&nbsp; C. karate &nbsp;&nbsp; D. marathon",
            options: ["A", "B", "C", "D"],
            answer: 3, // D
            explanation: {
                translate_q: "Ch·ªçn t·ª´ c√≥ tr·ªçng √¢m ch√≠nh kh√°c v·ªõi c√°c t·ª´ c√≤n l·∫°i.",
                options: [
                    "A. e'quipment (√¢m 2)",
                    "B. fan'tastic (√¢m 2)",
                    "C. ka'rate (√¢m 2)",
                    "D. 'marathon (√¢m 1)"
                ],
                correct: "ƒê√°p √°n D tr·ªçng √¢m r∆°i v√†o √¢m ti·∫øt th·ª© nh·∫•t.",
                wrong: "C√°c t·ª´ c√≤n l·∫°i tr·ªçng √¢m ƒë·ªÅu r∆°i v√†o √¢m ti·∫øt th·ª© hai."
            }
        },
        {
            id: 4,
            type: "stress",
            question: "Choose the word that differs from the other three in the position of primary stress:",
            text: "A. racket &nbsp;&nbsp; B. sporty &nbsp;&nbsp; C. goggles &nbsp;&nbsp; D. career",
            options: ["A", "B", "C", "D"],
            answer: 3, // D
            explanation: {
                translate_q: "Ch·ªçn t·ª´ c√≥ tr·ªçng √¢m ch√≠nh kh√°c v·ªõi c√°c t·ª´ c√≤n l·∫°i.",
                options: [
                    "A. 'racket (√¢m 1)",
                    "B. 'sporty (√¢m 1)",
                    "C. 'goggles (√¢m 1)",
                    "D. ca'reer (√¢m 2)"
                ],
                correct: "ƒê√°p √°n D (S·ª± nghi·ªáp) tr·ªçng √¢m r∆°i v√†o √¢m ti·∫øt th·ª© 2.",
                wrong: "C√°c t·ª´ c√≤n l·∫°i tr·ªçng √¢m ƒë·ªÅu r∆°i v√†o √¢m ti·∫øt th·ª© nh·∫•t."
            }
        },
        // --- GRAMMAR & VOCAB ---
        {
            id: 5,
            type: "grammar",
            question: "I _______ born on the first of May.",
            options: ["A. Were", "B. was", "C. are", "D. is"],
            answer: 1, // B
            explanation: {
                translate_q: "T√¥i ƒë∆∞·ª£c sinh ra v√†o ng√†y 1 th√°ng 5.",
                options: ["A. Were (qu√° kh·ª©, s·ªë nhi·ªÅu)", "B. was (qu√° kh·ª©, s·ªë √≠t)", "C. are (hi·ªán t·∫°i)", "D. is (hi·ªán t·∫°i)"],
                correct: "C·∫•u tr√∫c 'to be born' (ƒë∆∞·ª£c sinh ra) lu√¥n ·ªü qu√° kh·ª©. Ch·ªß ng·ªØ 'I' ƒëi v·ªõi 'was'.",
                wrong: "'Were' d√πng cho You/We/They. 'Are/Is' sai th√¨."
            }
        },
        {
            id: 6,
            type: "grammar",
            question: "The enemy __________ last night.",
            options: ["A. Attack", "B. attacks", "C. attacked", "D. did attack"],
            answer: 2, // C
            explanation: {
                translate_q: "K·∫ª th√π ƒë√£ t·∫•n c√¥ng t·ªëi qua.",
                options: ["A. Attack (V-inf)", "B. attacks (V-s)", "C. attacked (V-ed)", "D. did attack (Nh·∫•n m·∫°nh)"],
                correct: "D·∫•u hi·ªáu 'last night' (t·ªëi qua) -> Chia th√¨ Qu√° kh·ª© ƒë∆°n (V-ed).",
                wrong: "A v√† B l√† hi·ªán t·∫°i. D d√πng ƒë·ªÉ nh·∫•n m·∫°nh nh∆∞ng √≠t d√πng trong c√¢u kh·∫≥ng ƒë·ªãnh th∆∞·ªùng, C t·ª± nhi√™n nh·∫•t."
            }
        },
        {
            id: 7,
            type: "grammar",
            question: "______ in this class!",
            options: ["A. Not smoke", "B. Don‚Äôt smoke", "C. Smoke", "D. Doesn‚Äôt smoke"],
            answer: 1, // B
            explanation: {
                translate_q: "ƒê·ª´ng h√∫t thu·ªëc trong l·ªõp h·ªçc n√†y!",
                options: ["A. Sai c·∫•u tr√∫c", "B. ƒê·ª´ng h√∫t thu·ªëc", "C. H√£y h√∫t thu·ªëc", "D. Sai c·∫•u tr√∫c"],
                correct: "C√¢u m·ªánh l·ªánh ph·ªß ƒë·ªãnh b·∫Øt ƒë·∫ßu b·∫±ng 'Don't + V-inf'.",
                wrong: "'Smoke' sai nghƒ©a (x√∫i gi·ª•c). A v√† D sai ng·ªØ ph√°p m·ªánh l·ªánh."
            }
        },
        {
            id: 8,
            type: "grammar",
            question: "______carefully to avoid accidents!",
            options: ["A. Drives", "B. Drove", "C. Drive", "D. Driving"],
            answer: 2, // C
            explanation: {
                translate_q: "H√£y l√°i xe c·∫©n th·∫≠n ƒë·ªÉ tr√°nh tai n·∫°n!",
                options: ["A. Drives (V-s)", "B. Drove (V-ed)", "C. Drive (V-nguy√™n th·ªÉ)", "D. Driving (V-ing)"],
                correct: "C√¢u m·ªánh l·ªánh kh·∫≥ng ƒë·ªãnh b·∫Øt ƒë·∫ßu b·∫±ng ƒê·ªông t·ª´ nguy√™n th·ªÉ (V-inf).",
                wrong: "Kh√¥ng chia th√¨ (s/es/ed) trong c√¢u m·ªánh l·ªánh."
            }
        },
        {
            id: 9,
            type: "grammar",
            question: "_____up or you‚Äôll miss the show!",
            options: ["A. Step", "B. Hurry", "C. Jump", "D. Listen"],
            answer: 1, // B
            explanation: {
                translate_q: "Nhanh l√™n n·∫øu kh√¥ng b·∫°n s·∫Ω l·ª° bu·ªïi bi·ªÉu di·ªÖn!",
                options: ["A. B∆∞·ªõc", "B. Nhanh l√™n (Hurry up)", "C. Nh·∫£y", "D. Nghe"],
                correct: "C·ª•m ƒë·ªông t·ª´ 'Hurry up' nghƒ©a l√† nhanh l√™n/kh·∫©n tr∆∞∆°ng.",
                wrong: "C√°c ƒë·ªông t·ª´ kh√°c kh√¥ng ƒëi v·ªõi 'up' ƒë·ªÉ t·∫°o nghƒ©a ph√π h·ª£p ng·ªØ c·∫£nh v·ªôi v√£."
            }
        },
        {
            id: 10,
            type: "grammar",
            question: "Daisy _______ swimming with her friends last weekend.",
            options: ["A. went", "B. go", "C. is going", "D. goes"],
            answer: 0, // A
            explanation: {
                translate_q: "Daisy ƒë√£ ƒëi b∆°i v·ªõi b·∫°n v√†o cu·ªëi tu·∫ßn tr∆∞·ªõc.",
                options: ["A. went (qu√° kh·ª©)", "B. go (nguy√™n th·ªÉ)", "C. is going (hi·ªán t·∫°i ti·∫øp di·ªÖn)", "D. goes (hi·ªán t·∫°i ƒë∆°n)"],
                correct: "D·∫•u hi·ªáu 'last weekend' -> Qu√° kh·ª© ƒë∆°n. 'Go swimming' -> 'Went swimming'.",
                wrong: "Sai th√¨."
            }
        },
        {
            id: 11,
            type: "vocab",
            question: "At the weekend we can play a ______ of badminton or join in a football match.",
            options: ["A. sport", "B. game", "C. match", "D. ball"],
            answer: 1, // B
            explanation: {
                translate_q: "Cu·ªëi tu·∫ßn ch√∫ng ta c√≥ th·ªÉ ch∆°i m·ªôt v√°n c·∫ßu l√¥ng...",
                options: ["A. m√¥n th·ªÉ thao", "B. tr√≤ ch∆°i/v√°n ƒë·∫•u", "C. tr·∫≠n ƒë·∫•u", "D. qu·∫£ b√≥ng"],
                correct: "Collocation: 'play a game of badminton/tennis'.",
                wrong: "'Match' th∆∞·ªùng d√πng cho b√≥ng ƒë√° (football match). 'Sport' qu√° chung chung."
            }
        },
        {
            id: 12,
            type: "comm",
            question: "Tom: ‚ÄúDid you have a good trip?‚Äù ‚Äì ‚Äú__________‚Äù",
            options: ["A. Thank you", "B. Yes, it was fun", "C. Yes, it was delicious", "D. It‚Äôs my pleasure"],
            answer: 1, // B
            explanation: {
                translate_q: "Tom: 'B·∫°n c√≥ chuy·∫øn ƒëi vui kh√¥ng?'",
                options: ["A. C·∫£m ∆°n", "B. C√≥, vui l·∫Øm", "C. C√≥, ngon l·∫Øm (d√πng cho ƒë·ªì ƒÉn)", "D. ƒê√≥ l√† ni·ªÅm vinh h·∫°nh c·ªßa t√¥i"],
                correct: "Tr·∫£ l·ªùi tr·ª±c ti·∫øp cho c√¢u h·ªèi v·ªÅ tr·∫£i nghi·ªám chuy·∫øn ƒëi.",
                wrong: "C sai ng·ªØ nghƒ©a (delicious). A v√† D kh√¥ng kh·ªõp h·ªôi tho·∫°i."
            }
        },
        // --- CLOZE 1 (Sports Event) ---
        {
            id: 13,
            type: "cloze",
            question: "<b>NEW SPORTS EVENT!</b><br>This event (13) ______ place at Greenfield Stadium next Saturday.",
            options: ["A. take", "B. takes", "C. taking", "D. taken"],
            answer: 1, // B
            explanation: {
                translate_q: "S·ª± ki·ªán n√†y di·ªÖn ra t·∫°i S√¢n v·∫≠n ƒë·ªông Greenfield v√†o th·ª© 7 t·ªõi.",
                options: ["A. take", "B. takes", "C. taking", "D. taken"],
                correct: "Ch·ªß ng·ªØ 'This event' (s·ªë √≠t) + L·ªãch tr√¨nh c·ªë ƒë·ªãnh (Schedule) -> D√πng Hi·ªán t·∫°i ƒë∆°n 'takes place'.",
                wrong: "Sai ng·ªØ ph√°p (chia ƒë·ªông t·ª´)."
            }
        },
        {
            id: 14,
            type: "cloze",
            question: "Athletes from different schools will (14) _____ in various sports...",
            options: ["A. compete", "B. complete", "C. compare", "D. compass"],
            answer: 0, // A
            explanation: {
                translate_q: "C√°c v·∫≠n ƒë·ªông vi√™n s·∫Ω tranh t√†i ·ªü nhi·ªÅu m√¥n th·ªÉ thao...",
                options: ["A. compete (thi ƒë·∫•u)", "B. complete (ho√†n th√†nh)", "C. compare (so s√°nh)", "D. compass (la b√†n)"],
                correct: "V·∫≠n ƒë·ªông vi√™n (Athletes) th√¨ ph·∫£i 'compete' (thi ƒë·∫•u).",
                wrong: "Sai nghƒ©a."
            }
        },
        {
            id: 15,
            type: "cloze",
            question: "...in various sports, (15) ______ football, basketball, and swimming.",
            options: ["A. such as", "B. so", "C. but", "D. or"],
            answer: 0, // A
            explanation: {
                translate_q: "...nhi·ªÅu m√¥n th·ªÉ thao, v√≠ d·ª• nh∆∞ b√≥ng ƒë√°, b√≥ng r·ªï...",
                options: ["A. such as (v√≠ d·ª• nh∆∞)", "B. so (n√™n)", "C. but (nh∆∞ng)", "D. or (ho·∫∑c)"],
                correct: "D√πng ƒë·ªÉ li·ªát k√™ v√≠ d·ª•.",
                wrong: "C√°c li√™n t·ª´ kh√°c kh√¥ng d√πng ƒë·ªÉ li·ªát k√™."
            }
        },
        {
            id: 16,
            type: "cloze",
            question: "The prizes for the winners are (16) ______, so don‚Äôt miss this amazing event!",
            options: ["A. value", "B. valuable", "C. valueless", "D. values"],
            answer: 1, // B
            explanation: {
                translate_q: "Gi·∫£i th∆∞·ªüng cho ng∆∞·ªùi chi·∫øn th·∫Øng r·∫•t c√≥ gi√° tr·ªã...",
                options: ["A. gi√° tr·ªã (n)", "B. c√≥ gi√° tr·ªã (adj)", "C. v√¥ gi√° tr·ªã (adj)", "D. gi√° tr·ªã (s·ªë nhi·ªÅu)"],
                correct: "Sau ƒë·ªông t·ª´ to be c·∫ßn t√≠nh t·ª´. 'Valuable' mang nghƒ©a t√≠ch c·ª±c ph√π h·ª£p v·ªõi ng·ªØ c·∫£nh k√™u g·ªçi tham gia.",
                wrong: "'Valueless' l√† kh√¥ng c√≥ gi√° tr·ªã. A v√† D l√† danh t·ª´."
            }
        },
        // --- ORDERING ---
        {
            id: 17,
            type: "ordering",
            question: "Arrange the sentences to make a meaningful story:<br>a. Then, the first raindrops fell...<br>b. At first, it was just a cool breeze...<br>c. Last Saturday, we held a football match.<br>d. But things didn‚Äôt happen as we expected.<br>e. Dark clouds gathered...",
            options: ["A. b-d-c-a-e", "B. b-e-d-a-c", "C. c-d-e-b-a", "D. d-a-c-e-b"],
            answer: 2, // C
            explanation: {
                translate_q: "S·∫Øp x·∫øp c√¢u th√†nh ƒëo·∫°n vƒÉn.",
                options: ["C√°c tr·∫≠t t·ª± s·∫Øp x·∫øp"],
                correct: "Tr·∫≠t t·ª± logic: (c) Gi·ªõi thi·ªáu (Th·ª© 7 c√≥ tr·∫≠n ƒë·∫•u) -> (d) M√¢u thu·∫´n (M·ªçi th·ª© kh√¥ng nh∆∞ mong ƒë·ª£i) -> (e) D·∫•u hi·ªáu x·∫•u (M√¢y ƒëen k√©o ƒë·∫øn) -> (b) Gi√≥ n·ªïi l√™n -> (a) M∆∞a r∆°i.",
                wrong: "C√°c tr·∫≠t t·ª± kh√°c kh√¥ng theo tr√¨nh t·ª± th·ªùi gian v√† logic k·ªÉ chuy·ªán."
            }
        },
        {
            id: 18,
            type: "logic",
            question: "Choose the sentence that can end the text (in Question 17) most suitablely.",
            options: ["A. Lightning struck the goalpost, and we ran home.", "B. The rain made the field too slippery, but the match was canceled.", "C. We kept playing and won easily in the rain.", "D. We were so scared of the lightning."],
            answer: 0, // A
            explanation: {
                translate_q: "Ch·ªçn c√¢u k·∫øt th√∫c ph√π h·ª£p nh·∫•t.",
                options: ["A. S√©t ƒë√°nh v√†o c·ªôt g√¥n v√† ch√∫ng t√¥i ch·∫°y v·ªÅ nh√†.", "B. M∆∞a l√†m s√¢n tr∆°n, nh∆∞ng tr·∫≠n ƒë·∫•u b·ªã h·ªßy (Sai t·ª´ n·ªëi 'but').", "C. V·∫´n ch∆°i v√† th·∫Øng d·ªÖ d√†ng (V√¥ l√Ω v·ªõi b·ªëi c·∫£nh b√£o).", "D. Ch√∫ng t√¥i r·∫•t s·ª£ (Ch∆∞a ph·∫£i l√† k·∫øt th√∫c h√†nh ƒë·ªông)."],
                correct: "ƒê√°p √°n A mi√™u t·∫£ h√†nh ƒë·ªông k·∫øt th√∫c c√¢u chuy·ªán k·ªãch t√≠nh v√† h·ª£p l√Ω nh·∫•t.",
                wrong: "B sai ng·ªØ ph√°p/logic t·ª´ n·ªëi. C phi logic. D ch·ªâ mi√™u t·∫£ c·∫£m x√∫c."
            }
        },
        // --- CLOZE 2 (Michael Jordan) ---
        {
            id: 19,
            type: "cloze",
            question: "He (19) ____ a famous basketball player in American NBA.",
            options: ["A. is", "B. was", "C. has", "D. be"],
            answer: 0, // A
            explanation: {
                translate_q: "√îng ·∫•y l√† m·ªôt c·∫ßu th·ªß b√≥ng r·ªï n·ªïi ti·∫øng...",
                options: ["A. is", "B. was", "C. has", "D. be"],
                correct: "Michael Jordan v·∫´n l√† m·ªôt huy·ªÅn tho·∫°i s·ªëng v√† s·ª± n·ªïi ti·∫øng l√† s·ª± th·∫≠t hi·ªÉn nhi√™n -> D√πng 'is'. (Tuy nhi√™n n·∫øu x√©t √¥ng ·∫•y 'ƒë√£ t·ª´ng' ch∆°i th√¨ l√† 'was', nh∆∞ng c√¢u n√†y gi·ªõi thi·ªáu th√¢n th·∫ø n√™n 'is' ph·ªï bi·∫øn h∆°n). Trong ng·ªØ c·∫£nh b√†i n√†y, ƒëo·∫°n sau c√≥ c√¢u 'He is also...', n√™n ch·ªçn A.",
                wrong: "Sai th√¨ ho·∫∑c sai ƒë·ªông t·ª´."
            }
        },
        {
            id: 20,
            type: "cloze",
            question: "He (20) _____ 15 seasons in the NBA...",
            options: ["A. played", "B. did", "C. took", "D. take"],
            answer: 0, // A
            explanation: {
                translate_q: "√îng ·∫•y ƒë√£ ch∆°i 15 m√πa gi·∫£i...",
                options: ["A. ch∆°i", "B. l√†m", "C. c·∫ßm/n·∫Øm", "D. c·∫ßm (hi·ªán t·∫°i)"],
                correct: "Th·ªÉ thao/M√πa gi·∫£i d√πng 'play'. ƒê√£ x·∫£y ra trong qu√° kh·ª© -> 'played'.",
                wrong: "Sai collocation."
            }
        },
        {
            id: 21,
            type: "cloze",
            question: "Michael Jordan is (21) _____ the greatest basketball player...",
            options: ["A. the greatest", "B. greatest", "C. greater", "D. great"],
            answer: 0, // A
            explanation: {
                translate_q: "MJ l√† c·∫ßu th·ªß vƒ© ƒë·∫°i nh·∫•t...",
                options: ["A. the greatest (so s√°nh nh·∫•t)", "B. greatest (thi·∫øu the)", "C. greater (so s√°nh h∆°n)", "D. great (t√≠nh t·ª´ th∆∞·ªùng)"],
                correct: "C·∫•u tr√∫c so s√°nh nh·∫•t: 'the' + t√≠nh t·ª´ ng·∫Øn + 'est'. ·ªû ƒë√¢y ƒë·ªÅ b√†i c√≥ v·∫ª l·∫∑p t·ª´, nh∆∞ng ch·ªçn 'the greatest' l√† ƒë√∫ng ng·ªØ ph√°p nh·∫•t.",
                wrong: "Thi·∫øu 'the' ho·∫∑c sai c·∫•p ƒë·ªô so s√°nh."
            }
        },
        {
            id: 22,
            type: "cloze",
            question: "...player (22) ____all time.",
            options: ["A. in", "B. on", "C. of", "D. about"],
            answer: 2, // C
            explanation: {
                translate_q: "...c·ªßa m·ªçi th·ªùi ƒë·∫°i.",
                options: ["A. trong", "B. tr√™n", "C. c·ªßa", "D. v·ªÅ"],
                correct: "C·ª•m c·ªë ƒë·ªãnh (Idiom): 'of all time' (c·ªßa m·ªçi th·ªùi ƒë·∫°i).",
                wrong: "Sai gi·ªõi t·ª´."
            }
        },
        {
            id: 23,
            type: "cloze",
            question: "The spirit of Michael Jordan (23) _____ that he never gave up.",
            options: ["A. was", "B. had", "C. made", "D. have"],
            answer: 0, // A
            explanation: {
                translate_q: "Tinh th·∫ßn c·ªßa MJ l√† √¥ng ·∫•y kh√¥ng bao gi·ªù b·ªè cu·ªôc.",
                options: ["A. l√† (qu√° kh·ª©)", "B. c√≥", "C. l√†m", "D. c√≥ (s·ªë nhi·ªÅu)"],
                correct: "ƒê·ªãnh nghƒ©a v·ªÅ tinh th·∫ßn trong qu√° kh·ª© -> d√πng 'was'.",
                wrong: "Sai nghƒ©a."
            }
        },
        {
            id: 24,
            type: "cloze",
            question: "...so we (24) _____try our best if we want to be successful.",
            options: ["A. could", "B. should", "C. may", "D. will"],
            answer: 1, // B
            explanation: {
                translate_q: "...v√¨ v·∫≠y ch√∫ng ta n√™n c·ªë g·∫Øng h·∫øt s·ª©c...",
                options: ["A. c√≥ th·ªÉ", "B. n√™n", "C. c√≥ l·∫Ω", "D. s·∫Ω"],
                correct: "L·ªùi khuy√™n -> d√πng 'should'.",
                wrong: "C√°c t·ª´ kh√°c kh√¥ng mang t√≠nh ch·∫•t khuy√™n b·∫£o ph√π h·ª£p ng·ªØ c·∫£nh b√†i h·ªçc ƒë·∫°o ƒë·ª©c."
            }
        },
        // --- TRANSFORMATION ---
        {
            id: 25,
            type: "grammar",
            question: "Closest meaning: 'My brother plays football very well.'",
            options: ["A. My brother is good football player.", "B. My brother is well football player.", "C. My brother plays football very good.", "D. My brother are good football player."],
            answer: 0, // A
            explanation: {
                translate_q: "Anh trai t√¥i ch∆°i b√≥ng ƒë√° r·∫•t gi·ªèi.",
                options: ["A. Anh t√¥i l√† c·∫ßu th·ªß gi·ªèi (Thi·∫øu 'a' nh∆∞ng ƒë√∫ng nh·∫•t)", "B. Sai (well l√† adv)", "C. Sai (good l√† adj, play c·∫ßn adv)", "D. Sai (are)"],
                correct: "C·∫•u tr√∫c: S + V + adv = S + be + a/an + adj + Noun. (L∆∞u √Ω: ƒê√°p √°n A g·ªëc thi·∫øu m·∫°o t·ª´ 'a' nh∆∞ng l√† ƒë√°p √°n ch·∫•p nh·∫≠n ƒë∆∞·ª£c nh·∫•t trong 4 l·ª±a ch·ªçn).",
                wrong: "B d√πng 'well' sai lo·∫°i t·ª´. C d√πng 'good' sai lo·∫°i t·ª´. D chia ƒë·ªông t·ª´ 'are' sai."
            }
        },
        {
            id: 26,
            type: "grammar",
            question: "Closest meaning: 'Sports and games are very important in children‚Äôs lives.'",
            options: ["A. Sports and games play an important role in children‚Äôs lives.", "B. Sports and games get an important role...", "C. Sports and games make an important role...", "D. Sports and games is an important role..."],
            answer: 0, // A
            explanation: {
                translate_q: "Th·ªÉ thao v√† tr√≤ ch∆°i r·∫•t quan tr·ªçng...",
                options: ["A. ...ƒë√≥ng vai tr√≤ quan tr·ªçng...", "B. get (sai)", "C. make (sai)", "D. is (sai s·ªë √≠t)"],
                correct: "C·ª•m t·ª´ c·ªë ƒë·ªãnh: 'play an important role' (ƒë√≥ng vai tr√≤ quan tr·ªçng) = 'be important'.",
                wrong: "Sai collocation (get/make) v√† ng·ªØ ph√°p (is)."
            }
        },
        // --- BUILDING SENTENCES ---
        {
            id: 27,
            type: "grammar",
            question: "Make sentence: How often/ you/ practise/ play/ table tennis?",
            options: ["A. How often do you practise play table tennis?", "B. How often did you practised play table tennis?", "C. How often do you practise playing table tennis?", "D. How often are you practise playing table tennis?"],
            answer: 2, // C
            explanation: {
                translate_q: "B·∫°n c√≥ th∆∞·ªùng xuy√™n luy·ªán t·∫≠p ch∆°i b√≥ng b√†n kh√¥ng?",
                options: ["A. Thi·∫øu ing", "B. Sai th√¨/d·∫°ng t·ª´", "C. ƒê√∫ng", "D. Th·ª´a to be"],
                correct: "C·∫•u tr√∫c: Practise + V-ing. C√¢u h·ªèi hi·ªán t·∫°i ƒë∆°n: Do you...?",
                wrong: "A d√πng 'play' nguy√™n th·ªÉ. B sai th√¨ qu√° kh·ª© l·ªôn x·ªôn. D sai c·∫•u tr√∫c c√¢u h·ªèi."
            }
        },
        {
            id: 28,
            type: "grammar",
            question: "Make sentence: You/ join/ sports competition/ last week?",
            options: ["A. Were you join...", "B. Did you join sports competition last week?", "C. Do you join...", "D. Are you join..."],
            answer: 1, // B
            explanation: {
                translate_q: "B·∫°n c√≥ tham gia cu·ªôc thi th·ªÉ thao tu·∫ßn tr∆∞·ªõc kh√¥ng?",
                options: ["A. Sai (Were + V-inf)", "B. ƒê√∫ng", "C. Sai th√¨ (Do - Last week)", "D. Sai (Are + V-inf)"],
                correct: "'Last week' -> Qu√° kh·ª© ƒë∆°n. C√¢u h·ªèi v·ªõi ƒë·ªông t·ª´ th∆∞·ªùng 'join' ph·∫£i m∆∞·ª£n tr·ª£ ƒë·ªông t·ª´ 'Did'.",
                wrong: "Sai tr·ª£ ƒë·ªông t·ª´."
            }
        },
        // --- SIGNS ---
        {
            id: 29,
            type: "sign",
            question: "What is the meaning of the sign below?",
            image: "fishing", // Marker to render fishing SVG
            options: ["A. You cannot smoke here.", "B. You cannot go fishing here.", "C. You cannot swim here", "D. You can go fishing here."],
            answer: 1, // B
            explanation: {
                translate_q: "Bi·ªÉn b√°o b√™n d∆∞·ªõi c√≥ √Ω nghƒ©a g√¨?",
                options: ["A. C·∫•m h√∫t thu·ªëc", "B. C·∫•m c√¢u c√°", "C. C·∫•m b∆°i", "D. ƒê∆∞·ª£c ph√©p c√¢u c√°"],
                correct: "Bi·ªÉn b√°o h√¨nh tr√≤n ƒë·ªè g·∫°ch ch√©o l√† bi·ªÉn c·∫•m. H√¨nh ng∆∞·ªùi c√¢u c√° -> C·∫•m c√¢u c√° (No fishing).",
                wrong: "Smoke (h√∫t thu·ªëc), Swim (b∆°i) kh√¥ng kh·ªõp h√¨nh."
            }
        },
        {
            id: 30,
            type: "sign",
            question: "What is the meaning of the sign below?",
            image: "swimming", // Marker to render swimming SVG
            options: ["A. You can not swim here.", "B. You can go swimming here.", "C. You can not swim alone", "D. You can go fishing here."],
            answer: 0, // A
            explanation: {
                translate_q: "Bi·ªÉn b√°o b√™n d∆∞·ªõi c√≥ √Ω nghƒ©a g√¨?",
                options: ["A. C·∫•m b∆°i ·ªü ƒë√¢y", "B. ƒê∆∞·ª£c ph√©p b∆°i", "C. Kh√¥ng ƒë∆∞·ª£c b∆°i m·ªôt m√¨nh", "D. ƒê∆∞·ª£c c√¢u c√°"],
                correct: "Bi·ªÉn b√°o c·∫•m (g·∫°ch ch√©o) + h√¨nh ng∆∞·ªùi b∆°i -> No Swimming (C·∫•m b∆°i).",
                wrong: "B sai nghƒ©a (cho ph√©p). C sai n·ªôi dung. D sai h√¨nh."
            }
        },
        // --- READING (Water Polo) ---
        {
            id: 31,
            type: "reading",
            passageTitle: "Water Polo Reading",
            glossary: [
                {word: "Water polo", type: "n", meaning: "B√≥ng n∆∞·ªõc"},
                {word: "Competition", type: "n", meaning: "Cu·ªôc thi ƒë·∫•u"},
                {word: "Score a goal", type: "vp", meaning: "Ghi b√†n"},
                {word: "Opposite", type: "adj", meaning: "ƒê·ªëi di·ªán/tr√°i nghƒ©a"},
                {word: "Fit", type: "adj", meaning: "Kh·ªèe kho·∫Øn/V·ª´a v·∫∑n"}
            ],
            passage: "‚ÄúWater polo is a new sport at our school, but we have a good team now. We practise after school on Thursday at the Northside Pool and we‚Äôre doing well in the National Schools Competition.<br>There are seven players in a water polo team. The game is a bit like football because each team tries to score a goal with a ball. But in water polo you don‚Äôt use your feet ‚Äì you catch and throw the ball with one hand. And you never stop swimming. A game lasts 32 minutes, and in that time you swim up and down a 30-metre pool lots of times. If you aren‚Äôt fit, water polo isn‚Äôt the sport for you!<br>For me, it‚Äôs great, because I love being in the water and I can swim fast. I also enjoy being part of a team. We have some excellent players and we‚Äôre all good friends. So it‚Äôs fun, and it‚Äôs also a fantastic way to get fit.‚Äù",
            question: "Which is the main idea of the passage?",
            options: ["A. Water polo is a difficult sport.", "B. The writer loves playing water polo.", "C. Water polo is a new but successful sport at the writer‚Äôs school.", "D. The writer wants to quit playing water polo."],
            answer: 2, // C
            explanation: {
                translate_q: "√ù ch√≠nh c·ªßa ƒëo·∫°n vƒÉn l√† g√¨?",
                options: ["A. M√¥n kh√≥", "B. T√°c gi·∫£ th√≠ch ch∆°i", "C. M√¥n m·ªõi nh∆∞ng th√†nh c√¥ng t·∫°i tr∆∞·ªùng", "D. Mu·ªën b·ªè ch∆°i"],
                correct: "C√¢u ƒë·∫ßu ti√™n t√≥m t·∫Øt √Ω ch√≠nh: 'Water polo is a new sport at our school, but we have a good team now.' ƒêo·∫°n vƒÉn m√¥ t·∫£ v·ªÅ ƒë·ªôi b√≥ng, c√°ch ch∆°i v√† c·∫£m nh·∫≠n t√≠ch c·ª±c.",
                wrong: "A v√† B l√† √Ω ph·ª•. D sai ho√†n to√†n."
            }
        },
        {
            id: 32,
            type: "reading-child", // Child of the previous passage context
            question: "How many players are there in a water polo team?",
            options: ["A. 5", "B. 6", "C. 7", "D. 8"],
            answer: 2, // C
            explanation: {
                translate_q: "C√≥ bao nhi√™u ng∆∞·ªùi ch∆°i trong m·ªôt ƒë·ªôi b√≥ng n∆∞·ªõc?",
                options: ["A. 5", "B. 6", "C. 7", "D. 8"],
                correct: "D·∫´n ch·ª©ng trong b√†i: 'There are seven players in a water polo team.'",
                wrong: "Th√¥ng tin sai v·ªõi b√†i ƒë·ªçc."
            }
        },
        {
            id: 33,
            type: "reading-child",
            question: "Which of the following is NOT TRUE according to the passage?",
            options: ["A. The writer‚Äôs team practices every day", "B. Water polo is played in a swimming pool.", "C. Players use their hands to catch and throw the ball.", "D. The game lasts 32 minutes."],
            answer: 0, // A
            explanation: {
                translate_q: "ƒêi·ªÅu n√†o KH√îNG ƒê√öNG theo ƒëo·∫°n vƒÉn?",
                options: ["A. T·∫≠p m·ªói ng√†y", "B. Ch∆°i ·ªü b·ªÉ b∆°i", "C. D√πng tay n√©m b√≥ng", "D. K√©o d√†i 32 ph√∫t"],
                correct: "D·∫´n ch·ª©ng b√†i ƒë·ªçc: 'We practise after school on Thursday' (Ch·ªâ th·ª© 5), kh√¥ng ph·∫£i every day.",
                wrong: "B, C, D ƒë·ªÅu l√† th√¥ng tin ƒë√∫ng c√≥ trong b√†i."
            }
        },
        {
            id: 34,
            type: "reading-child",
            question: "The word ‚Äúfantastic‚Äù is CLOSEST in meaning to _________.",
            options: ["A. Amazing", "B. Boring", "C. Difficult", "D. Slow"],
            answer: 0, // A
            explanation: {
                translate_q: "T·ª´ 'fantastic' g·∫ßn nghƒ©a nh·∫•t v·ªõi t·ª´ n√†o?",
                options: ["A. Tuy·ªát v·ªùi", "B. Nh√†m ch√°n", "C. Kh√≥ khƒÉn", "D. Ch·∫≠m"],
                correct: "Fantastic = Amazing (Tuy·ªát v·ªùi/Th√∫ v·ªã).",
                wrong: "Tr√°i nghƒ©a ho·∫∑c kh√¥ng li√™n quan."
            }
        },
        {
            id: 35,
            type: "reading-child",
            question: "The word ‚Äúfast‚Äù is OPPOSITE in meaning to _______.",
            options: ["A. Strong", "B. Weak", "C. Slow", "D. Fun"],
            answer: 2, // C
            explanation: {
                translate_q: "T·ª´ 'fast' (nhanh) tr√°i nghƒ©a v·ªõi t·ª´ n√†o?",
                options: ["A. M·∫°nh", "B. Y·∫øu", "C. Ch·∫≠m", "D. Vui"],
                correct: "Fast (Nhanh) >< Slow (Ch·∫≠m).",
                wrong: "Kh√¥ng ph·∫£i t·ª´ tr√°i nghƒ©a."
            }
        },
        {
            id: 36,
            type: "reading-child",
            question: "What does the writer say about being part of the water polo team?",
            options: ["A. It‚Äôs boring and tiring.", "B. It‚Äôs fun and a great way to get fit.", "C. It‚Äôs difficult and lonely.", "D. It‚Äôs expensive and time-consuming."],
            answer: 1, // B
            explanation: {
                translate_q: "T√°c gi·∫£ n√≥i g√¨ v·ªÅ vi·ªác l√† th√†nh vi√™n ƒë·ªôi b√≥ng?",
                options: ["A. Ch√°n v√† m·ªát", "B. Vui v√† gi√∫p kh·ªèe m·∫°nh", "C. Kh√≥ v√† c√¥ ƒë∆°n", "D. ƒê·∫Øt ƒë·ªè v√† t·ªën th·ªùi gian"],
                correct: "D·∫´n ch·ª©ng cu·ªëi b√†i: 'So it‚Äôs fun, and it‚Äôs also a fantastic way to get fit.'",
                wrong: "Tr√°i ng∆∞·ª£c v·ªõi th√°i ƒë·ªô t√≠ch c·ª±c c·ªßa t√°c gi·∫£."
            }
        },
        // --- GAP FILL / MATCHING ---
        {
            id: 37,
            type: "gap-fill-group",
            question: "Fill in the blanks with the correct sentences:",
            pool: [
                "A - I go swimming with my closet friend",
                "B - so I play basketball from 7 am to 9 am",
                "C - I spend much of my time doing different kinds of sports",
                "D - I join a chess club at my school"
            ],
            passage: "I love sports. (37) [___] . Every Monday and Wednesday afternoon, at 5 o‚Äôclock, (38) [___] . On Tuesday morning, I don‚Äôt have a class, (39) [___] . I can‚Äôt do any sports on Thursday because I have too many classes at school. Every Friday morning, (40) [___] . Saturday and Sunday afternoon are for exciting football matches. I am in a strong team, and we often win the matches.",
            subQuestions: [
                {id: 37, q: "Question 37 matches with:", ans: 2, explain: "C√¢u m·ªü ƒëo·∫°n gi·ªõi thi·ªáu t·ªïng qu√°t: 'T√¥i d√†nh nhi·ªÅu th·ªùi gian ch∆°i c√°c m√¥n th·ªÉ thao kh√°c nhau' (C)."}, // C
                {id: 38, q: "Question 38 matches with:", ans: 3, explain: "Th·ª© 2 & 4 l√∫c 5h chi·ªÅu -> Tham gia CLB c·ªù vua (D)."}, // D
                {id: 39, q: "Question 39 matches with:", ans: 1, explain: "Th·ª© 3 s√°ng r·∫£nh -> Ch∆°i b√≥ng r·ªï (B)."}, // B
                {id: 40, q: "Question 40 matches with:", ans: 0, explain: "Th·ª© 6 s√°ng -> ƒêi b∆°i (A)."}  // A
            ]
        }
    ];

    // Main Render Function
    function renderQuiz() {
        const container = document.getElementById('quiz-container');
        let html = '';

        quizData.forEach((item, index) => {
            if (item.type === 'gap-fill-group') {
                // Special render for Q37-40
                html += renderGapFillGroup(item);
            } else if (item.type === 'reading' || item.type === 'reading-child') {
                if (item.type === 'reading') {
                     html += `<div class="reading-box">
                        <h3 style="color:var(--primary-color); margin-top:0;">${item.passageTitle}</h3>
                        <p>${item.passage}</p>
                        ${renderGlossary(item.glossary)}
                     </div>`;
                }
                html += renderStandardQuestion(item);
            } else {
                html += renderStandardQuestion(item);
            }
        });

        container.innerHTML = html;
    }

    function renderGlossary(list) {
        if(!list) return '';
        let rows = list.map(i => `<tr><td><b>${i.word}</b></td><td>${i.type}</td><td>${i.meaning}</td></tr>`).join('');
        return `<table class="glossary-table">
            <thead><tr><th>Word</th><th>Type</th><th>Meaning</th></tr></thead>
            <tbody>${rows}</tbody>
        </table>`;
    }

    function renderStandardQuestion(item) {
        let imageHTML = '';
        if (item.image === 'fishing') {
            imageHTML = `<div class="sign-container"><div class="sign-circle"><div class="sign-icon">
                <svg viewBox="0 0 24 24"><path d="M12 2C13.1 2 14 2.9 14 4V13.8C14 15.6 13.1 16.6 12 16.6C10.9 16.6 10 15.6 10 13.8V11H8V13.8C8 16.5 9.8 18.6 12 18.6C14.2 18.6 16 16.5 16 13.8V4C16 1.8 14.2 0 12 0C11.4 0 11 0.4 11 1H13C13 1.6 12.6 2 12 2ZM6 22H18V20H6V22Z"/></svg>
            </div><div class="sign-diagonal"></div></div></div>`;
        } else if (item.image === 'swimming') {
            imageHTML = `<div class="sign-container"><div class="sign-circle"><div class="sign-icon">
                <svg viewBox="0 0 24 24"><path d="M12 2C10.3 2 9 3.3 9 5C9 6.7 10.3 8 12 8C13.7 8 15 6.7 15 5C15 3.3 13.7 2 12 2ZM21 16L18.5 13.5L16.5 15.5L18 17C18 17 14 20 10 18C7 16.5 6 12 6 12L2 14C2 14 4 21 10 22C14 22.8 18.5 20.5 21 16ZM22 13C22 13 20 10 15 10C12 10 10 11.5 10 11.5L12 13.5C12 13.5 14 12 15.5 12.5C17 13 19 14.5 19 14.5L22 13Z"/></svg>
            </div><div class="sign-diagonal"></div></div></div>`;
        }

        let optionsHTML = item.options.map((opt, idx) => 
            `<button class="option-btn" id="btn-${item.id}-${idx}" onclick="checkAnswer(${item.id}, ${idx}, ${item.answer})">${opt}</button>`
        ).join('');

        // Explanation HTML
        let exp = item.explanation;
        let expHTML = `<div class="explanation" id="exp-${item.id}">
            <div class="exp-header">üåà C√¥ Mai An gi·∫£i th√≠ch:</div>
            <div class="exp-content">
                <p><span class="exp-label">D·ªãch c√¢u h·ªèi:</span> ${exp.translate_q}</p>
                <p><span class="exp-label">ƒê√°p √°n ƒë√∫ng:</span> <span style="color:var(--correct-color); font-weight:bold;">${exp.correct}</span></p>
                <p><span class="exp-label">T·∫°i sao sai:</span> ${exp.wrong}</p>
            </div>
        </div>`;

        return `<div class="card" id="card-${item.id}">
            <div class="question-title">Question ${item.id}</div>
            <div class="question-text">${item.question} <br> ${item.text || ''}</div>
            ${imageHTML}
            <div class="options-grid">
                ${optionsHTML}
            </div>
            ${expHTML}
        </div>`;
    }

    function renderGapFillGroup(item) {
        let poolHTML = item.pool.map(p => `<div class="pool-item">${p}</div>`).join('');
        
        let questionsHTML = item.subQuestions.map(sub => {
            let options = ["A", "B", "C", "D"];
            let btns = options.map((opt, idx) => 
                `<button class="option-btn" id="btn-${sub.id}-${idx}" onclick="checkAnswer(${sub.id}, ${idx}, ${sub.ans}, 'gap')">${opt}</button>`
            ).join('');
            
            let expHTML = `<div class="explanation" id="exp-${sub.id}">
                <div class="exp-header">üåà Gi·∫£i th√≠ch:</div>
                <div class="exp-content">
                    <p>${sub.explain}</p>
                </div>
            </div>`;

            return `<div class="card" id="card-${sub.id}">
                <div class="question-title">Question ${sub.id}</div>
                <div class="question-text">${sub.q}</div>
                <div class="options-grid" style="grid-template-columns: repeat(4, 1fr);">
                    ${btns}
                </div>
                ${expHTML}
            </div>`;
        }).join('');

        return `<div class="card" style="border-color: #2196f3; background:#f0f8ff;">
            <h3>Read and Fill (Q37-40)</h3>
            <div class="gap-fill-container">
                <div class="options-pool"><b>Options:</b><br>${poolHTML}</div>
                <div class="text-content-gap">${item.passage}</div>
            </div>
        </div>
        ${questionsHTML}`;
    }

    // Checking Logic
    let userScore = 0;
    let answeredCount = 0;
    const totalQuestions = 40;
    let answeredMap = {};

    function checkAnswer(questionId, selectedIdx, correctIdx, type) {
        if (answeredMap[questionId]) return; // Prevent re-answering
        answeredMap[questionId] = true;
        answeredCount++;

        const btnSelected = document.getElementById(`btn-${questionId}-${selectedIdx}`);
        const btnCorrect = document.getElementById(`btn-${questionId}-${correctIdx}`);
        const expBox = document.getElementById(`exp-${questionId}`);

        if (selectedIdx === correctIdx) {
            // Correct
            userScore++;
            btnSelected.classList.add('correct');
            // Confetti effect (simulated via alert or just visual)
            btnSelected.innerHTML += ' üéâ';
        } else {
            // Wrong
            btnSelected.classList.add('wrong');
            btnCorrect.classList.add('correct-answer'); // Show correct one
        }

        // Show explanation
        expBox.classList.add('visible');
        
        // Update live score
        document.getElementById('live-score').innerText = `C√¢u ƒë√∫ng: ${userScore}/${totalQuestions}`;
    }

    function submitQuiz() {
        const modal = document.getElementById('result-modal');
        const scoreText = document.getElementById('final-score');
        const feedback = document.getElementById('feedback-text');

        scoreText.innerText = `${userScore}/${totalQuestions}`;
        
        if (userScore >= 35) {
            feedback.innerText = "Xu·∫•t s·∫Øc! C√¥ Mai An r·∫•t t·ª± h√†o v·ªÅ con! üåü";
        } else if (userScore >= 25) {
            feedback.innerText = "L√†m t·ªët l·∫Øm! C·ªë g·∫Øng √¥n th√™m t·ª´ v·ª±ng nh√©! üí™";
        } else {
            feedback.innerText = "ƒê·ª´ng bu·ªìn nh√©! H√£y xem l·∫°i ph·∫ßn gi·∫£i th√≠ch ƒë·ªÉ ti·∫øn b·ªô h∆°n! üìö";
        }

        modal.style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('result-modal').style.display = 'none';
        // Scroll to top or review mode
    }

    // Initialize
    window.onload = renderQuiz;

</script>

</body>
</html>