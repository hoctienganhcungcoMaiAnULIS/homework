<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Placement Examination - English Grade 7 - Ms Mai An</title>
    <style>
        :root {
            --primary-color: #0056b3;
            --secondary-color: #e9ecef;
            --success-color: #28a745;
            --error-color: #dc3545;
            --warning-color: #fff3cd;
            --text-color: #333;
            --bg-color: #f4f7f6;
            --card-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding-bottom: 80px; /* Space for footer */
        }

        /* Header Styles */
        header {
            background: linear-gradient(135deg, #0056b3, #004494);
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        header h1 {
            margin: 0;
            font-size: 1.5rem;
            font-weight: 700;
        }

        header .teacher-name {
            font-size: 0.9rem;
            margin-top: 5px;
            opacity: 0.9;
            font-style: italic;
        }

        /* Container */
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 15px;
        }

        /* Data Box (Reading Passages) */
        .data-box {
            background-color: #fff;
            border-left: 5px solid var(--primary-color);
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 4px;
            box-shadow: var(--card-shadow);
            font-size: 0.95rem;
            line-height: 1.6;
            background-color: #eef7ff;
        }

        .data-box h3 {
            margin-top: 0;
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        /* Question Card */
        .question-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--card-shadow);
            transition: transform 0.2s;
            position: relative;
        }

        .question-number {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: block;
        }

        .question-text {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
        }

        /* Visual Signs simulation */
        .sign-box {
            border: 2px solid #333;
            padding: 15px;
            text-align: center;
            margin: 10px auto;
            max-width: 300px;
            font-family: Arial, sans-serif;
            font-weight: bold;
            background: #fff;
        }
        .sign-box.warning { border-color: #d9534f; color: #d9534f; }
        .sign-box.info { border-color: #0275d8; color: #0275d8; }

        /* Options */
        .options-grid {
            display: grid;
            gap: 10px;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-label:hover {
            background-color: var(--secondary-color);
        }

        .option-label input {
            margin-right: 12px;
            transform: scale(1.2);
        }

        /* Feedback States */
        .question-card.correct {
            border: 2px solid var(--success-color);
        }
        
        .question-card.incorrect {
            border: 2px solid var(--error-color);
        }

        .question-card.unanswered {
            border: 2px solid #ffc107;
        }

        /* Explanation Section */
        .explanation {
            margin-top: 15px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 8px;
            border-top: 3px solid var(--primary-color);
            display: none; /* Hidden by default */
            font-size: 0.95rem;
        }

        .explanation.show {
            display: block;
        }

        .explanation h4 {
            margin: 0 0 10px 0;
            color: var(--primary-color);
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .explanation ul {
            padding-left: 20px;
            margin: 5px 0;
        }
        
        .vocab-tag {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-right: 5px;
        }
        .tag-n { background: #e3f2fd; color: #0d47a1; border: 1px solid #bbdefb; } /* Noun */
        .tag-v { background: #e8f5e9; color: #1b5e20; border: 1px solid #c8e6c9; } /* Verb */
        .tag-adj { background: #fff3e0; color: #e65100; border: 1px solid #ffe0b2; } /* Adjective */
        .tag-adv { background: #f3e5f5; color: #4a148c; border: 1px solid #e1bee7; } /* Adverb */

        /* Buttons */
        .btn-check {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            font-size: 0.9rem;
        }

        .btn-check:hover {
            background-color: #004494;
        }

        /* Footer */
        .footer-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            padding: 15px;
            text-align: center;
            z-index: 1000;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .btn-submit {
            background-color: var(--success-color);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(40, 167, 69, 0.3);
            transition: transform 0.1s;
        }

        .btn-submit:active {
            transform: scale(0.98);
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .score-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            margin: 0 auto 20px;
        }
        
        .close-modal {
            margin-top: 20px;
            padding: 10px 20px;
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        u {
            text-decoration: underline;
            text-underline-offset: 3px;
            font-weight: bold;
        }

        @media (max-width: 600px) {
            .question-text { font-size: 1rem; }
            .option-label { font-size: 0.95rem; }
        }
    </style>
</head>
<body>

<header>
    <h1>PLACEMENT EXAMINATION - ENGLISH GRADE 7</h1>
    <div class="teacher-name">Gi√°o vi√™n t·∫°o: Ms Mai An ULIS</div>
</header>

<div class="container" id="quiz-container">
    </div>

<div class="footer-bar">
    <button class="btn-submit" onclick="submitAll()">N·ªòP B√ÄI & XEM ƒêI·ªÇM</button>
</div>

<div id="resultModal" class="modal">
    <div class="modal-content">
        <h2>K·∫øt Qu·∫£ B√†i L√†m</h2>
        <div class="score-circle" id="scoreDisplay">0/0</div>
        <p id="scoreMessage">B·∫°n h√£y c·ªë g·∫Øng h∆°n nh√©!</p>
        <button class="close-modal" onclick="closeModal()">Xem chi ti·∫øt l·ªùi gi·∫£i</button>
    </div>
</div>

<script>
    const quizData = [
        // NOTICE QUESTIONS
        {
            id: 1,
            type: "notice",
            content: "Look at the notice and choose the correct answer to show what the notice says.",
            signText: "Chinese and Thai<br>cooking lessons<br>start here on Saturday",
            signClass: "info",
            options: [
                "A. You can learn how to make different kinds of food on this course.",
                "B. You can eat here.",
                "C. The food here is delicious.",
                "D. The cooking lessons are free."
            ],
            correct: 0,
            explanation: `
                <strong>üîç Ph√¢n t√≠ch ƒë√°p √°n:</strong><br>
                Bi·ªÉn b√°o ghi: "Chinese and Thai cooking lessons start here" (C√°c l·ªõp h·ªçc n·∫•u ƒÉn m√≥n Th√°i v√† Trung Hoa b·∫Øt ƒë·∫ßu t·∫°i ƒë√¢y).<br>
                <ul>
                    <li>‚úÖ <strong>A.</strong> B·∫°n c√≥ th·ªÉ h·ªçc c√°ch l√†m (make) c√°c lo·∫°i ƒë·ªì ƒÉn kh√°c nhau trong kh√≥a h·ªçc n√†y. -> ƒê·ªìng nghƒ©a v·ªõi "cooking lessons".</li>
                    <li>‚ùå <strong>B.</strong> B·∫°n c√≥ th·ªÉ ƒÉn ·ªü ƒë√¢y. (Sai, ƒë√¢y l√† l·ªõp h·ªçc n·∫•u, kh√¥ng ph·∫£i nh√† h√†ng).</li>
                    <li>‚ùå <strong>C.</strong> ƒê·ªì ƒÉn ·ªü ƒë√¢y ngon. (Sai, kh√¥ng ƒë·ªÅ c·∫≠p ch·∫•t l∆∞·ª£ng).</li>
                    <li>‚ùå <strong>D.</strong> Mi·ªÖn ph√≠. (Sai, kh√¥ng c√≥ t·ª´ "free").</li>
                </ul>
                <span class="vocab-tag tag-n">Vocab</span> <em>Cooking lessons</em> = L·ªõp d·∫°y n·∫•u ƒÉn.
            `
        },
        {
            id: 2,
            type: "notice",
            content: "Look at the notice and choose the correct answer to show what the notice says.",
            signText: "üî•<br>Keep this nightdress<br>away from fire!",
            signClass: "warning",
            options: [
                "A. We can help you day and night.",
                "B. You can have dinner here.",
                "C. Come here to book a holiday.",
                "D. Be careful because this will burn."
            ],
            correct: 3,
            explanation: `
                <strong>üîç Ph√¢n t√≠ch ƒë√°p √°n:</strong><br>
                Bi·ªÉn b√°o ghi: "Keep this nightdress away from fire!" (H√£y gi·ªØ v√°y ng·ªß n√†y tr√°nh xa l·ª≠a!).<br>
                <ul>
                    <li>‚úÖ <strong>D.</strong> H√£y c·∫©n th·∫≠n v√¨ c√°i n√†y s·∫Ω ch√°y (burn). -> "Away from fire" ng·ª• √Ω v·∫≠t n√†y d·ªÖ b·∫Øt l·ª≠a.</li>
                    <li>‚ùå <strong>A.</strong> Gi√∫p ƒë·ª° ng√†y ƒë√™m. (Sai, nh·∫ßm l·∫´n t·ª´ "nightdress" v·ªõi "night").</li>
                    <li>‚ùå <strong>B.</strong> ƒÇn t·ªëi. (Kh√¥ng li√™n quan).</li>
                    <li>‚ùå <strong>C.</strong> ƒê·∫∑t k·ª≥ ngh·ªâ. (Kh√¥ng li√™n quan).</li>
                </ul>
                <span class="vocab-tag tag-v">Vocab</span> <em>Burn</em> (v): Ch√°y. <em>Nightdress</em> (n): V√°y ng·ªß.
            `
        },
        {
            id: 3,
            type: "notice",
            content: "Look at the notice and choose the correct answer to show what the notice says.",
            signText: "üöÜ<br>Passengers for Cambridge<br>change at Stevenage Station",
            signClass: "info",
            options: [
                "A. We can help you day and night.",
                "B. You can have dinner here.",
                "C. Come here to book a holiday.",
                "D. You have to get off one train and get on another if you want to go to Cambridge."
            ],
            correct: 3,
            explanation: `
                <strong>üîç Ph√¢n t√≠ch ƒë√°p √°n:</strong><br>
                Bi·ªÉn b√°o ghi: "Passengers for Cambridge change at Stevenage Station" (H√†nh kh√°ch ƒëi Cambridge ƒë·ªïi t√†u t·∫°i ga Stevenage).<br>
                <ul>
                    <li>‚úÖ <strong>D.</strong> B·∫°n ph·∫£i xu·ªëng t√†u n√†y v√† l√™n t√†u kh√°c (get off one... get on another) n·∫øu mu·ªën ƒëi Cambridge. -> ƒê√¢y ch√≠nh l√† ƒë·ªãnh nghƒ©a c·ªßa t·ª´ "change" (ƒë·ªïi t√†u) trong giao th√¥ng.</li>
                    <li>‚ùå <strong>A, B, C</strong>: C√°c ƒë√°p √°n n√†y kh√¥ng li√™n quan ƒë·∫øn n·ªôi dung t√†u xe.</li>
                </ul>
                <span class="vocab-tag tag-v">Vocab</span> <em>Change</em> (v): ƒê·ªïi (t√†u/xe).
            `
        },
        {
            id: 4,
            type: "notice",
            content: "Look at the notice and choose the correct answer to show what the notice says.",
            signText: "üì∑<br>Passport photographs<br>are ready in 5 minutes",
            signClass: "info",
            options: [
                "A. If you go shopping here this week, you'll pay much less than usual.",
                "B. This place is not open every day.",
                "C. You won't have to wait long before you get your pictures.",
                "D. You need stay outside."
            ],
            correct: 2,
            explanation: `
                <strong>üîç Ph√¢n t√≠ch ƒë√°p √°n:</strong><br>
                Bi·ªÉn b√°o ghi: "Passport photographs are ready in 5 minutes" (·∫¢nh h·ªô chi·∫øu s·∫µn s√†ng trong 5 ph√∫t).<br>
                <ul>
                    <li>‚úÖ <strong>C.</strong> B·∫°n s·∫Ω kh√¥ng ph·∫£i ƒë·ª£i l√¢u (won't have to wait long) ƒë·ªÉ l·∫•y ·∫£nh. -> 5 ph√∫t l√† kho·∫£ng th·ªùi gian r·∫•t ng·∫Øn.</li>
                    <li>‚ùå <strong>A.</strong> Gi·∫£m gi√° mua s·∫Øm. (Sai).</li>
                    <li>‚ùå <strong>B.</strong> Gi·ªù m·ªü c·ª≠a. (Sai).</li>
                    <li>‚ùå <strong>D.</strong> ƒê·ª©ng b√™n ngo√†i. (Sai).</li>
                </ul>
            `
        },
        // DEFINITION QUESTIONS (Converted to MC for interactivity)
        {
            id: 5,
            type: "mc",
            content: "Read the description and find out the word.<br><em>'This is a person who is or was in the same class as you at school or college.'</em> (C...... - 9 letters)",
            options: [
                "A. Classmate",
                "B. Classman",
                "C. Classroom",
                "D. Collegemate"
            ],
            correct: 0,
            explanation: `
                <strong>ƒê√°p √°n ƒë√∫ng: Classmate</strong> (B·∫°n c√πng l·ªõp).<br>
                <ul>
                    <li><strong>C...... (9 letters):</strong> T·ª´ b·∫Øt ƒë·∫ßu b·∫±ng C v√† c√≥ 9 ch·ªØ c√°i.</li>
                    <li><em>Classmate</em> (n) gh√©p t·ª´ <em>Class</em> (l·ªõp) + <em>Mate</em> (b·∫°n).</li>
                </ul>
            `
        },
        {
            id: 6,
            type: "mc",
            content: "Read the description and find out the word.<br><em>'This is the object that players hit backwards and forwards in the game of badminton.'</em> (S........... - 11 letters)",
            options: [
                "A. Shuttleball",
                "B. Shuttlecock",
                "C. Superracket",
                "D. Serviceball"
            ],
            correct: 1,
            explanation: `
                <strong>ƒê√°p √°n ƒë√∫ng: Shuttlecock</strong> (Qu·∫£ c·∫ßu l√¥ng).<br>
                <ul>
                    <li>ƒê·ªãnh nghƒ©a m√¥ t·∫£ v·∫≠t ƒë∆∞·ª£c ƒë√°nh qua l·∫°i (hit backwards and forwards) trong m√¥n c·∫ßu l√¥ng.</li>
                    <li><strong>S........... (11 letters):</strong> Shuttlecock th·ªèa m√£n ƒëi·ªÅu ki·ªán.</li>
                </ul>
            `
        },
        {
            id: 7,
            type: "mc",
            content: "Read the description and find out the word.<br><em>'This green plant eaten by cows and horses when they are outside.'</em> (G............... - 5 letters)",
            options: [
                "A. Green",
                "B. Grain",
                "C. Grass",
                "D. Grape"
            ],
            correct: 2,
            explanation: `
                <strong>ƒê√°p √°n ƒë√∫ng: Grass</strong> (C·ªè).<br>
                <ul>
                    <li>M√¥ t·∫£: C√¢y m√†u xanh (green plant), b√≤ v√† ng·ª±a ƒÉn (eaten by cows and horses).</li>
                    <li><strong>G............... (5 letters):</strong> Grass.</li>
                </ul>
            `
        },
        // CONVERSATION RESPONSE
        {
            id: 8,
            type: "mc",
            content: "Choose the correct response:<br><strong>'How much was your new shirt?'</strong>",
            options: [
                "A. It's a red shirt.",
                "B. It was very cheap.",
                "C. It was in a shop."
            ],
            correct: 1,
            explanation: `
                <strong>üîç Gi·∫£i th√≠ch:</strong><br>
                C√¢u h·ªèi b·∫Øt ƒë·∫ßu b·∫±ng <strong>"How much"</strong> d√πng ƒë·ªÉ h·ªèi v·ªÅ GI√Å C·∫¢.<br>
                <ul>
                    <li>‚úÖ <strong>B. It was very cheap.</strong> (N√≥ r·∫•t r·∫ª) -> Tr·∫£ l·ªùi v·ªÅ gi√° tr·ªã ti·ªÅn.</li>
                    <li>‚ùå <strong>A.</strong> Tr·∫£ l·ªùi v·ªÅ m√†u s·∫Øc (red).</li>
                    <li>‚ùå <strong>C.</strong> Tr·∫£ l·ªùi v·ªÅ ƒë·ªãa ƒëi·ªÉm (in a shop).</li>
                </ul>
            `
        },
        {
            id: 9,
            type: "mc",
            content: "Choose the correct response:<br><strong>'Look at that cool skateboard!'</strong>",
            options: [
                "A. Why don't you like it?",
                "B. I had one like that.",
                "C. That's a good idea."
            ],
            correct: 1,
            explanation: `
                <strong>üîç Gi·∫£i th√≠ch:</strong><br>
                C√¢u n√≥i: "Nh√¨n c√°i v√°n tr∆∞·ª£t ng·∫ßu ch∆∞a k√¨a!" (C√¢u c·∫£m th√°n/ra hi·ªáu).<br>
                <ul>
                    <li>‚úÖ <strong>B. I had one like that.</strong> (T·ªõ ƒë√£ t·ª´ng c√≥ m·ªôt c√°i nh∆∞ th·∫ø). -> ƒê√¢y l√† c√°ch duy tr√¨ h·ªôi tho·∫°i t·ª± nhi√™n nh·∫•t, chia s·∫ª tr·∫£i nghi·ªám li√™n quan.</li>
                    <li>‚ùå <strong>A.</strong> T·∫°i sao b·∫°n kh√¥ng th√≠ch n√≥? (V√¥ l√Ω v√¨ ng∆∞·ªùi n√≥i ƒëang khen "cool").</li>
                    <li>‚ùå <strong>C.</strong> ƒê√≥ l√† √Ω ki·∫øn hay. (D√πng ƒë·ªÉ h∆∞·ªüng ·ª©ng m·ªôt l·ªùi ƒë·ªÅ ngh·ªã, kh√¥ng d√πng cho c√¢u ch·ªâ tr·ªè ƒë·ªì v·∫≠t).</li>
                </ul>
            `
        },
        // GRAMMAR & VOCAB
        {
            id: 10,
            type: "mc",
            content: "Her mother made a big chocolate _____ with 'Happy Birthday' on the top.",
            options: [
                "A. meal",
                "B. cake",
                "C. dish"
            ],
            correct: 1,
            explanation: `
                <strong>ƒê√°p √°n: B. cake</strong><br>
                <ul>
                    <li><strong>D·∫•u hi·ªáu:</strong> "Happy Birthday on the top" (Ch·ªØ Ch√∫c m·ª´ng sinh nh·∫≠t b√™n tr√™n) v√† "chocolate".</li>
                    <li><strong>Collocation:</strong> <em>Chocolate cake</em> (B√°nh kem s√¥-c√¥-la) l√† m√≥n ƒë·∫∑c tr∆∞ng c·ªßa sinh nh·∫≠t.</li>
                    <li><em>Meal</em> (b·ªØa ƒÉn) v√† <em>Dish</em> (m√≥n ƒÉn) qu√° chung chung v√† kh√¥ng ai vi·∫øt ch·ªØ l√™n "meal" c·∫£.</li>
                </ul>
            `
        },
        {
            id: 11,
            type: "mc",
            content: "When they had to go, everybody _____ Nina and her mother for the party.",
            options: [
                "A. said",
                "B. thanked",
                "C. told"
            ],
            correct: 1,
            explanation: `
                <strong>ƒê√°p √°n: B. thanked</strong><br>
                <ul>
                    <li><strong>C·∫•u tr√∫c:</strong> <em>Thank somebody for something</em> (C·∫£m ∆°n ai v√¨ c√°i g√¨).</li>
                    <li>C√¢u: "M·ªçi ng∆∞·ªùi c·∫£m ∆°n Nina v√† m·∫π c√¥ ·∫•y v√¨ b·ªØa ti·ªác".</li>
                    <li><em>Said</em> ph·∫£i ƒëi v·ªõi "Goodbye to..." ho·∫∑c n√≥i m·ªôt c√¢u c·ª• th·ªÉ.</li>
                    <li><em>Told</em> ph·∫£i l√† "told Nina..." (k·ªÉ/b·∫£o) nh∆∞ng kh√¥ng h·ª£p ng·ªØ c·∫£nh r·ªùi ƒëi sau b·ªØa ti·ªác b·∫±ng "thanked".</li>
                </ul>
            `
        },
        {
            id: 12,
            type: "mc",
            content: "We _____ out when we lived in the city.",
            options: [
                "A. eat",
                "B. have eaten",
                "C. ate"
            ],
            correct: 2,
            explanation: `
                <strong>ƒê√°p √°n: C. ate</strong><br>
                <ul>
                    <li><strong>Ng·ªØ ph√°p:</strong> Th√¨ Qu√° kh·ª© ƒë∆°n (Past Simple).</li>
                    <li><strong>D·∫•u hi·ªáu:</strong> M·ªánh ƒë·ªÅ "when we lived in the city" (khi ch√∫ng t√¥i ƒê√É s·ªëng ·ªü th√†nh ph·ªë) ch·ªâ m·ªôt th·ªùi ƒëi·ªÉm ƒë√£ ch·∫•m d·ª©t trong qu√° kh·ª©.</li>
                    <li>ƒê·ªông t·ª´ <em>eat</em> (ƒÉn) -> Qu√° kh·ª©: <em>ate</em>. C·ª•m <em>eat out</em>: ƒÉn h√†ng/ƒÉn ti·ªám.</li>
                </ul>
            `
        },
        // READING COMPREHENSION 1
        {
            id: 13,
            type: "mc",
            content: "<strong>Based on the Reading Text above (School Trip):</strong><br>What class is Suzanna in?",
            options: [
                "A. Class 3A",
                "B. Class 4A",
                "C. Class 3B",
                "D. Class 4B"
            ],
            correct: 1,
            dataBoxId: "reading1",
            explanation: `
                <strong>ƒê√°p √°n: B. Class 4A</strong><br>
                <ul>
                    <li><strong>D·∫´n ch·ª©ng:</strong> Trong th∆∞ c√¥ Lois Jones n√≥i chuy·∫øn ƒëi d√†nh cho l·ªõp "3A and 4A".</li>
                    <li>Trong ghi ch√∫ Suzanna g·ª≠i b·ªë, b·∫°n ·∫•y vi·∫øt: <em>"Remember, I'm not in 3A now!"</em> (B·ªë nh·ªõ nh√©, con kh√¥ng c√≤n h·ªçc l·ªõp 3A n·ªØa ƒë√¢u!).</li>
                    <li>Suy lu·∫≠n: N·∫øu chuy·∫øn ƒëi ch·ªâ cho 3A v√† 4A, m√† Suzanna kh√¥ng ·ªü 3A, th√¨ c√¥ b√© ph·∫£i ·ªü <strong>4A</strong>.</li>
                </ul>
            `
        },
        {
            id: 14,
            type: "mc",
            content: "<strong>Based on the Reading Text above (School Trip):</strong><br>How does Suzanna want to travel?",
            options: [
                "A. By bus",
                "B. By train",
                "C. By car",
                "D. By plane"
            ],
            correct: 1,
            dataBoxId: "reading1",
            explanation: `
                <strong>ƒê√°p √°n: B. By train</strong><br>
                <ul>
                    <li><strong>D·∫´n ch·ª©ng:</strong> Suzanna vi·∫øt: <em>"I don't want to travel by bus - it takes too Long!"</em> (Con kh√¥ng mu·ªën ƒëi xe bu√Ωt - l√¢u l·∫Øm!).</li>
                    <li>Trong th∆∞ g·ªëc c√≥ 2 l·ª±a ch·ªçn: "train or bus".</li>
                    <li>Suy lu·∫≠n: Kh√¥ng ch·ªçn Bus th√¨ s·∫Ω ch·ªçn <strong>Train</strong>.</li>
                </ul>
            `
        },
        // MORE GRAMMAR
        {
            id: 15,
            type: "mc",
            content: "Britain's most common _____ activities are watching TV and films, and listening to the radio.",
            options: [
                "A. kind",
                "B. free",
                "C. leisure",
                "D. good"
            ],
            correct: 2,
            explanation: `
                <strong>ƒê√°p √°n: C. leisure</strong><br>
                <ul>
                    <li><strong>Collocation:</strong> <em>Leisure activities</em> (C√°c ho·∫°t ƒë·ªông gi·∫£i tr√≠/l√∫c r·∫£nh r·ªói).</li>
                    <li>Ng·ªØ c·∫£nh li·ªát k√™: xem TV, nghe ƒë√†i -> ƒë√¢y l√† gi·∫£i tr√≠.</li>
                    <li><em>Free time</em> th√¨ ƒë√∫ng, nh∆∞ng "free activities" √≠t d√πng h∆°n "leisure activities" trong ng·ªØ c·∫£nh h·ªçc thu·∫≠t/b√†i ƒë·ªçc x√£ h·ªôi h·ªçc n√†y.</li>
                </ul>
            `
        },
        {
            id: 16,
            type: "mc",
            content: "I _____ Peter for a long time.",
            options: [
                "A. haven't seen",
                "B. don't see",
                "C. haven't see",
                "D. hasn't seen"
            ],
            correct: 0,
            explanation: `
                <strong>ƒê√°p √°n: A. haven't seen</strong><br>
                <ul>
                    <li><strong>D·∫•u hi·ªáu:</strong> "for a long time" (trong m·ªôt kho·∫£ng th·ªùi gian d√†i) -> D√πng th√¨ Hi·ªán t·∫°i ho√†n th√†nh (Present Perfect).</li>
                    <li><strong>C√¥ng th·ª©c:</strong> S + have/has + V3/ed.</li>
                    <li>Ch·ªß ng·ªØ "I" -> d√πng "have". Ph·ªß ƒë·ªãnh -> "haven't seen".</li>
                    <li>L·ªói sai c√°c c√¢u kh√°c: C sai V3 (see), D sai tr·ª£ t·ª´ (has), B sai th√¨.</li>
                </ul>
            `
        },
        {
            id: 17,
            type: "mc",
            content: "_____ any milk in the fridge right now.",
            options: [
                "A. There is",
                "B. There are",
                "C. There aren't",
                "D. There isn't"
            ],
            correct: 3,
            explanation: `
                <strong>ƒê√°p √°n: D. There isn't</strong><br>
                <ul>
                    <li><strong>Ng·ªØ ph√°p:</strong> "Milk" l√† danh t·ª´ KH√îNG ƒë·∫øm ƒë∆∞·ª£c (uncountable noun) -> D√πng ƒë·ªông t·ª´ to be s·ªë √≠t "is".</li>
                    <li>C√¢u c√≥ t·ª´ "any" th∆∞·ªùng d√πng trong ph·ªß ƒë·ªãnh ho·∫∑c nghi v·∫•n.</li>
                    <li>K·∫øt h·ª£p: S·ªë √≠t + Ph·ªß ƒë·ªãnh -> <strong>There isn't</strong>.</li>
                    <li><em>There aren't</em> d√πng cho danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c s·ªë nhi·ªÅu.</li>
                </ul>
            `
        },
        {
            id: 18,
            type: "mc",
            content: "This is _____ way to our school.",
            options: [
                "A. the far",
                "B. the furthest",
                "C. furthest",
                "D. the more far"
            ],
            correct: 1,
            explanation: `
                <strong>ƒê√°p √°n: B. the furthest</strong><br>
                <ul>
                    <li><strong>Ng·ªØ ph√°p:</strong> So s√°nh nh·∫•t (Superlative).</li>
                    <li>T√≠nh t·ª´ "far" (xa) l√† b·∫•t quy t·∫Øc. So s√°nh nh·∫•t l√† <em>farthest</em> ho·∫∑c <em>furthest</em>.</li>
                    <li>C·∫•u tr√∫c so s√°nh nh·∫•t b·∫Øt bu·ªôc ph·∫£i c√≥ m·∫°o t·ª´ <strong>the</strong>.</li>
                    <li>-> <strong>the furthest</strong> (con ƒë∆∞·ªùng xa nh·∫•t).</li>
                </ul>
            `
        },
        // SENTENCE ARRANGEMENT
        {
            id: 19,
            type: "mc",
            content: "Rearrange the words to make a meaningful sentence:<br><em>stay / grandmother / vacation / are / with / next / We / to / our / going / summer</em>",
            options: [
                "A. We are going to stay with our grandmother next summer vacation.",
                "B. We are going with our grandmother to stay next summer vacation.",
                "C. We are going to stay next summer vacation with our grandmother.",
                "D. We stay with our grandmother are going to next summer vacation."
            ],
            correct: 0,
            explanation: `
                <strong>ƒê√°p √°n: A</strong><br>
                <ul>
                    <li><strong>C·∫•u tr√∫c:</strong> T∆∞∆°ng lai g·∫ßn (Be going to V).</li>
                    <li>Ch·ªß ng·ªØ: We</li>
                    <li>ƒê·ªông t·ª´: are going to stay (d·ª± ƒë·ªãnh ·ªü)</li>
                    <li>V·ªõi ai: with our grandmother</li>
                    <li>Th·ªùi gian: next summer vacation</li>
                    <li>C√¢u C ƒë√∫ng ng·ªØ ph√°p nh∆∞ng tr·∫≠t t·ª± t·ª´ ch·ªâ th·ªùi gian th∆∞·ªùng ƒë·ª©ng cu·ªëi c√¢u s·∫Ω t·ª± nhi√™n h∆°n ƒë√°p √°n A. Tuy nhi√™n trong ti·∫øng Anh chu·∫©n, A l√† ƒë√°p √°n t·ªëi ∆∞u nh·∫•t v·ªÅ c·∫•u tr√∫c S + V + O + Adv.</li>
                    <li>D·ªãch: Ch√∫ng t√¥i d·ª± ƒë·ªãnh s·∫Ω ·ªü v·ªõi b√† v√†o k·ª≥ ngh·ªâ h√® t·ªõi.</li>
                </ul>
            `
        },
        {
            id: 20,
            type: "mc",
            content: "Rearrange the words to make a meaningful sentence:<br><em>'No parking' / here / , so / sign / mustn't / says / park / this / we</em>",
            options: [
                "A. This sign says 'No parking', so we mustn't park here.",
                "B. This sign says 'No parking' here, so we mustn't park.",
                "C. We mustn't park here, so this sign says 'No parking'.",
                "D. So we mustn't park here, this sign says 'No parking'."
            ],
            correct: 0,
            explanation: `
                <strong>ƒê√°p √°n: A</strong><br>
                <ul>
                    <li><strong>Logic:</strong> Nguy√™n nh√¢n -> K·∫øt qu·∫£.</li>
                    <li>Nguy√™n nh√¢n: Bi·ªÉn b√°o ghi 'C·∫•m ƒë·ªó' (This sign says 'No parking').</li>
                    <li>Li√™n t·ª´ k·∫øt n·ªëi: so (v√¨ v·∫≠y).</li>
                    <li>K·∫øt qu·∫£/H·ªá qu·∫£: ch√∫ng ta kh√¥ng ƒë∆∞·ª£c ph√©p ƒë·ªó ·ªü ƒë√¢y (we mustn't park here).</li>
                    <li>C·∫•u tr√∫c <em>Mustn't</em> = C·∫•m ƒëo√°n.</li>
                </ul>
            `
        },
        // PRONUNCIATION
        {
            id: 21,
            type: "mc",
            content: "Choose the word that has the underlined part pronounced differently (Ending -ed sound):",
            options: [
                "A. call<u>ed</u>",
                "B. wait<u>ed</u>",
                "C. play<u>ed</u>",
                "D. lov<u>ed</u>"
            ],
            correct: 1,
            explanation: `
                <strong>ƒê√°p √°n: B. waited</strong><br>
                <strong>Quy t·∫Øc ph√°t √¢m ƒëu√¥i -ed:</strong>
                <ul>
                    <li><strong>/id/:</strong> Khi ƒë·ªông t·ª´ k·∫øt th√∫c b·∫±ng /t/ ho·∫∑c /d/. -> <em>Wait<strong>ed</strong></em> (/we…™t…™d/).</li>
                    <li><strong>/d/:</strong> Khi ƒë·ªông t·ª´ k·∫øt th√∫c b·∫±ng √¢m h·ªØu thanh (l, n, r, g, v, s, w, y...). -> <em>Call<strong>ed</strong>, Play<strong>ed</strong>, Lov<strong>ed</strong></em>.</li>
                    <li>V·∫≠y B ph√°t √¢m l√† /id/, c√°c c√¢u c√≤n l·∫°i l√† /d/.</li>
                </ul>
            `
        },
        {
            id: 22,
            type: "mc",
            content: "Circle the word that has the underlined part pronounced differently (Sound 'a'):",
            options: [
                "A. <u>a</u>nimation",
                "B. fem<u>a</u>le",
                "C. s<u>a</u>fety",
                "D. p<u>a</u>vement"
            ],
            correct: 0,
            explanation: `
                <strong>ƒê√°p √°n: A. animation</strong><br>
                <ul>
                    <li><strong>A. animation</strong> /Àå√¶n.…™Ààme…™. É…ôn/ -> √Çm 'a' ƒë·∫ßu ti√™n ph√°t √¢m l√† <strong>/√¶/</strong>.</li>
                    <li><strong>B. female</strong> /ÀàfiÀê.me…™l/ -> √Çm 'a' l√† <strong>/e…™/</strong>.</li>
                    <li><strong>C. safety</strong> /Ààse…™f.ti/ -> √Çm 'a' l√† <strong>/e…™/</strong>.</li>
                    <li><strong>D. pavement</strong> /Ààpe…™v.m…ônt/ -> √Çm 'a' l√† <strong>/e…™/</strong>.</li>
                    <li>V·∫≠y A l√† ƒë√°p √°n kh√°c bi·ªát.</li>
                </ul>
            `
        },
        // READING COMPREHENSION 2
        {
            id: 23,
            type: "mc",
            content: "<strong>Based on Reading Text 'The missing cups':</strong><br>The writer lived in California when she was a child.",
            options: [
                "A. Right",
                "B. Wrong",
                "C. Doesn't say"
            ],
            correct: 0,
            dataBoxId: "reading2",
            explanation: `
                <strong>ƒê√°p √°n: A. Right (ƒê√∫ng)</strong><br>
                <ul>
                    <li><strong>D·∫´n ch·ª©ng:</strong> "When I was young, my parents moved from California to Illinois..." (Khi t√¥i c√≤n nh·ªè, b·ªë m·∫π chuy·ªÉn t·ª´ California ƒë·∫øn Illinois...).</li>
                    <li><strong>Suy lu·∫≠n:</strong> ƒêi·ªÅu n√†y nghƒ©a l√† TR∆Ø·ªöC khi chuy·ªÉn ƒëi, t√°c gi·∫£ ƒë√£ s·ªëng ·ªü California l√∫c nh·ªè.</li>
                </ul>
            `
        },
        {
            id: 24,
            type: "mc",
            content: "<strong>Based on Reading Text 'The missing cups':</strong><br>The family forgot all about the grandmother's cups.",
            options: [
                "A. Right",
                "B. Wrong",
                "C. Doesn't say"
            ],
            correct: 1,
            dataBoxId: "reading2",
            explanation: `
                <strong>ƒê√°p √°n: B. Wrong (Sai)</strong><br>
                <ul>
                    <li><strong>D·∫´n ch·ª©ng:</strong> B√†i vi·∫øt n√≥i: <em>"We remembered those cups and were sad that we did not have them anymore."</em> (Ch√∫ng t√¥i v·∫´n nh·ªõ nh·ªØng chi·∫øc t√°ch ƒë√≥ v√† r·∫•t bu·ªìn...).</li>
                    <li>C√¢u h·ªèi b·∫£o "forgot all about" (qu√™n s·∫°ch) l√† tr√°i ng∆∞·ª£c v·ªõi th√¥ng tin "remembered" (nh·ªõ).</li>
                </ul>
            `
        },
        {
            id: 25,
            type: "mc",
            content: "<strong>Based on Reading Text 'The missing cups':</strong><br>The writer went to the market alone in her first summer in California.",
            options: [
                "A. Right",
                "B. Wrong",
                "C. Doesn't say"
            ],
            correct: 1,
            dataBoxId: "reading2",
            explanation: `
                <strong>ƒê√°p √°n: B. Wrong (Sai)</strong><br>
                <ul>
                    <li><strong>D·∫´n ch·ª©ng:</strong> <em>"a friend asked me to spend the day at an antique market with her... we had a great day there"</em>.</li>
                    <li>T√°c gi·∫£ ƒëi c√πng m·ªôt ng∆∞·ªùi b·∫°n (with her friend), kh√¥ng ph·∫£i ƒëi m·ªôt m√¨nh (alone).</li>
                </ul>
            `
        }
    ];

    const readingPassages = {
        "reading1": `
            <h3>School Trip Letters</h3>
            <p><strong>8 December - Dear Mr Taylor,</strong><br>
            On 6th January there is a trip for classes 3A and 4A to Blackfort Castle or Walton Zoo. The cost is only ¬£10 (last year it was ¬£15). We could go by train or by bus. Please tell us which you prefer by 15th December.<br>
            <em>Lois Jones</em></p>
            <hr>
            <p><strong>Dad,</strong><br>
            Please fill in my form. I don't want to visit a castle, but the zoo sounds great. <strong>Remember, I'm not in 3A now!</strong> I don't want to travel by bus - it takes too Long!<br>
            <em>Suzanna</em></p>
        `,
        "reading2": `
            <h3>The Missing Cups</h3>
            <p>When I was young, my parents moved from California to Illinois with me and my two sisters. We all helped my mother pack everything from our old house into boxes. Inside three of the boxes were my grandmother's special cups, bowls and plates. They were special because my grandmother, a clever artist, painted them herself with a lovely pattern of blue flowers.</p>
            <p>Sadly, one of those three boxes was lost. We never got the cups, but the plates and bowls arrived safely. We used them on special days in the year, like birthdays. We remembered those cups and were sad that we did not have them anymore.</p>
            <p>Ten years later, I decided to go to university in California. In my first summer there, a friend asked me to spend the day at an antique market with her. At first, I didn't want to go, but I finally agreed and we had a great day there looking around. There were many old and interesting things for sale. We were just leaving when I saw a woman selling twelve beautiful cups with a pattern of blue flowers. I looked closely and saw they were my grandmother's cups!</p>
        `
    };

    function renderQuiz() {
        const container = document.getElementById('quiz-container');
        let currentReadingId = null;

        quizData.forEach((q, index) => {
            // Check if we need to insert a reading passage before this question
            if (q.dataBoxId && q.dataBoxId !== currentReadingId) {
                const readingDiv = document.createElement('div');
                readingDiv.className = 'data-box';
                readingDiv.innerHTML = readingPassages[q.dataBoxId];
                container.appendChild(readingDiv);
                currentReadingId = q.dataBoxId;
            }

            const card = document.createElement('div');
            card.className = 'question-card';
            card.id = `q-${q.id}`;

            let signHtml = '';
            if (q.type === 'notice') {
                signHtml = `<div class="sign-box ${q.signClass}">${q.signText}</div>`;
            }

            let optionsHtml = q.options.map((opt, i) => `
                <label class="option-label">
                    <input type="radio" name="question${q.id}" value="${i}">
                    ${opt}
                </label>
            `).join('');

            card.innerHTML = `
                <span class="question-number">Question ${q.id}</span>
                <div class="question-text">${q.content}</div>
                ${signHtml}
                <div class="options-grid">
                    ${optionsHtml}
                </div>
                <button class="btn-check" onclick="checkAnswer(${q.id})">Ki·ªÉm tra ƒë√°p √°n</button>
                <div class="explanation" id="expl-${q.id}">
                    <h4><span style="font-size:1.2rem">üí°</span> Gi·∫£i th√≠ch chi ti·∫øt t·ª´ Ms Mai An:</h4>
                    ${q.explanation}
                </div>
            `;
            container.appendChild(card);
        });
    }

    function checkAnswer(id) {
        const qData = quizData.find(q => q.id === id);
        const card = document.getElementById(`q-${id}`);
        const selected = document.querySelector(`input[name="question${id}"]:checked`);
        const explanation = document.getElementById(`expl-${id}`);

        // Reset classes
        card.classList.remove('correct', 'incorrect', 'unanswered');

        if (!selected) {
            card.classList.add('unanswered');
            alert("B·∫°n ch∆∞a ch·ªçn ƒë√°p √°n n√†o cho c√¢u " + id + "!");
            return;
        }

        const userVal = parseInt(selected.value);
        if (userVal === qData.correct) {
            card.classList.add('correct');
        } else {
            card.classList.add('incorrect');
        }
        
        // Show explanation
        explanation.classList.add('show');
    }

    function submitAll() {
        let score = 0;
        let unanswered = 0;

        quizData.forEach(q => {
            const selected = document.querySelector(`input[name="question${q.id}"]:checked`);
            const card = document.getElementById(`q-${q.id}`);
            const explanation = document.getElementById(`expl-${q.id}`);
            
            card.classList.remove('correct', 'incorrect', 'unanswered');

            if (!selected) {
                unanswered++;
                card.classList.add('unanswered');
                // Force show explanation for learning even if skipped
                explanation.classList.add('show'); 
            } else {
                const userVal = parseInt(selected.value);
                if (userVal === q.correct) {
                    score++;
                    card.classList.add('correct');
                } else {
                    card.classList.add('incorrect');
                }
                explanation.classList.add('show');
            }
        });

        // Show Modal
        const modal = document.getElementById('resultModal');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const scoreMessage = document.getElementById('scoreMessage');

        scoreDisplay.textContent = `${score}/${quizData.length}`;
        
        if (score === quizData.length) {
            scoreMessage.textContent = "Xu·∫•t s·∫Øc! B·∫°n ƒë√£ l√†m ƒë√∫ng t·∫•t c·∫£ c√°c c√¢u!";
            scoreMessage.style.color = "var(--success-color)";
        } else if (score >= quizData.length * 0.7) {
            scoreMessage.textContent = "L√†m t·ªët l·∫Øm! H√£y xem l·∫°i c√°c l·ªói sai nh√©.";
            scoreMessage.style.color = "var(--primary-color)";
        } else {
            scoreMessage.textContent = "ƒê·ª´ng bu·ªìn nh√©! H√£y ƒë·ªçc k·ªπ ph·∫ßn gi·∫£i th√≠ch c·ªßa c√¥ Mai An ƒë·ªÉ ti·∫øn b·ªô h∆°n.";
            scoreMessage.style.color = "var(--error-color)";
        }

        modal.style.display = "flex";
    }

    function closeModal() {
        document.getElementById('resultModal').style.display = "none";
        // Scroll to top to review
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Initialize
    window.onload = renderQuiz;

    // Close modal when clicking outside
    window.onclick = function(event) {
        const modal = document.getElementById('resultModal');
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>

</body>
</html>