<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNIT 8 - SHOPPING TEST 01 | Ms. Mai An</title>
    <style>
        :root {
            --primary: #0056b3;
            --secondary: #004494;
            --accent: #ffc107;
            --success: #28a745;
            --danger: #dc3545;
            --light: #f8f9fa;
            --dark: #343a40;
            --font-main: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        * { box-sizing: border-box; }
        
        body {
            font-family: var(--font-main);
            background-color: #f0f2f5;
            color: var(--dark);
            margin: 0;
            padding-bottom: 80px; /* Space for footer */
            line-height: 1.6;
        }

        /* HEADER */
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header h1 { margin: 0; font-size: 1.5rem; font-weight: 700; }
        header p { margin: 5px 0 0; font-size: 0.9rem; opacity: 0.9; }

        /* CONTAINER */
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 15px;
        }

        /* DATA BOX (Reading Passages) */
        .data-box {
            background: #fff border-left: 5px solid var(--primary);
            background-color: #e9ecef;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            font-size: 0.95rem;
            color: #495057;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.05);
        }
        
        .data-box h4 { margin-top: 0; color: var(--primary); text-transform: uppercase; font-size: 0.85rem; }

        /* QUESTION CARD */
        .card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            transition: transform 0.2s;
            border: 1px solid rgba(0,0,0,0.05);
        }

        .card:hover { transform: translateY(-2px); }

        .question-text {
            font-weight: 600;
            font-size: 1.05rem;
            margin-bottom: 15px;
            color: #212529;
        }

        .question-number {
            color: var(--primary);
            font-weight: 800;
            margin-right: 5px;
        }

        /* OPTIONS */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }
        
        @media(min-width: 600px) {
            .options-grid { grid-template-columns: 1fr 1fr; }
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.95rem;
        }

        .option-label:hover { background-color: #f8f9fa; border-color: var(--primary); }
        
        input[type="radio"] {
            margin-right: 12px;
            transform: scale(1.2);
            accent-color: var(--primary);
        }

        /* CHECK BUTTON PER QUESTION */
        .btn-check-single {
            margin-top: 15px;
            padding: 8px 16px;
            background-color: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.2s;
            display: inline-block;
        }

        .btn-check-single:hover {
            background-color: var(--primary);
            color: white;
        }

        /* EXPLANATION AREA */
        .explanation {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            background-color: #f1f8ff;
            border-left: 4px solid var(--primary);
            display: none; /* Hidden by default */
            font-size: 0.9rem;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .explanation h5 { margin: 0 0 5px; color: var(--primary); }
        .explanation p { margin: 5px 0; }
        .tag {
            display: inline-block;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: bold;
            color: white;
            margin-right: 5px;
        }
        .tag-v { background-color: #17a2b8; } /* Verb */
        .tag-n { background-color: #6c757d; } /* Noun */
        .tag-adj { background-color: #fd7e14; } /* Adj */
        .tag-adv { background-color: #6f42c1; } /* Adv */

        /* FEEDBACK STATES */
        .card.correct .option-label.selected {
            background-color: #d4edda;
            border-color: var(--success);
            color: #155724;
        }
        .card.incorrect .option-label.selected {
            background-color: #f8d7da;
            border-color: var(--danger);
            color: #721c24;
        }
        .card.unanswered { border-left: 5px solid var(--accent); }

        /* VISUALS FOR Q29 & Q30 */
        .sign-visual {
            border: 2px solid #333;
            padding: 10px;
            text-align: center;
            margin-bottom: 10px;
            background: white;
            max-width: 300px;
        }
        .sign-q29 {
            border-radius: 10px;
            border: 3px solid #0056b3;
            padding: 20px;
        }
        .dog-icon { font-size: 3rem; display: block; margin-bottom: 5px; }
        .muzzle { color: var(--success); font-weight: bold; font-size: 1.5rem; }
        
        .notice-q30 {
            border: 2px solid #dc3545;
            padding: 15px;
            font-family: 'Courier New', Courier, monospace;
            color: #dc3545;
            font-weight: bold;
            background: #fff5f5;
        }

        /* FOOTER SUBMIT */
        .footer-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            padding: 15px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .btn-submit {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,86,179,0.3);
            transition: transform 0.2s;
        }
        
        .btn-submit:hover { transform: scale(1.05); background-color: var(--secondary); }

        /* MODAL */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        .score-circle {
            width: 100px; height: 100px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            font-weight: bold;
            margin: 0 auto 20px;
        }

        /* GAP FILL LAYOUT */
        .gap-fill-container {
            border: 1px solid #ced4da;
            border-radius: 8px;
            overflow: hidden;
        }
        .gap-options-box {
            background: #e2e6ea;
            padding: 10px;
            font-weight: bold;
            border-bottom: 1px solid #ced4da;
        }
        .gap-text-box {
            padding: 15px;
            background: white;
            font-size: 1rem;
            line-height: 1.8;
        }

    </style>
</head>
<body>

<header>
    <h1>UNIT 8 - SHOPPING TEST 01</h1>
    <p>Teacher: Ms. Mai An (ULIS) - English Mastery</p>
</header>

<div class="container" id="quiz-container">
    </div>

<div class="footer-bar">
    <button class="btn-submit" onclick="submitAll()">N·ªòP B√ÄI (SUBMIT)</button>
</div>

<div class="modal" id="resultModal">
    <div class="modal-content">
        <div class="score-circle" id="scoreDisplay">0/40</div>
        <h2>K·∫øt qu·∫£ c·ªßa b·∫°n</h2>
        <p id="feedbackText">H√£y xem l·∫°i chi ti·∫øt b√™n d∆∞·ªõi nh√©!</p>
        <button class="btn-check-single" onclick="closeModal()" style="background: var(--dark); color: white; border: none;">Xem chi ti·∫øt</button>
    </div>
</div>

<script>
    // --- DATA ---
    const quizData = [
        // PHONETICS
        {
            id: 1,
            type: 'phonetics',
            question: "Choose the word whose underlined part differs from the other three in pronunciation.",
            text: "A. acc<u>e</u>ss &nbsp;&nbsp; B. c<u>e</u>ntre &nbsp;&nbsp; C. mark<u>e</u>t &nbsp;&nbsp; D. w<u>e</u>ll-lit",
            options: ["A", "B", "C", "D"],
            correct: 2, // C
            explain: `
                <b>ƒê√°p √°n C (market)</b><br>
                - A. acc<u>e</u>ss /Àà√¶kses/ (√¢m /e/)<br>
                - B. c<u>e</u>ntre /Ààsent…ô(r)/ (√¢m /e/)<br>
                - C. mark<u>e</u>t /Ààm…ëÀêk…™t/ (√¢m /…™/ - √¢m i ng·∫Øn)<br>
                - D. w<u>e</u>ll-lit /wel Ààl…™t/ (√¢m /e/)<br>
                => ƒê√°p √°n C ph√°t √¢m l√† /…™/, c√≤n l·∫°i l√† /e/.
            `
        },
        {
            id: 2,
            type: 'phonetics',
            question: "Choose the word whose underlined part differs from the other three in pronunciation.",
            text: "A. ret<u>ur</u>n &nbsp;&nbsp; B. f<u>ur</u>ther &nbsp;&nbsp; C. sch<u>e</u>dule &nbsp;&nbsp; D. p<u>ur</u>chase",
            options: ["A", "B", "C", "D"],
            correct: 2, // C
            explain: `
                <b>ƒê√°p √°n C (schedule)</b><br>
                - A. ret<u>ur</u>n /r…™Ààt…úÀên/ (√¢m /…úÀê/ d√†i)<br>
                - B. f<u>ur</u>ther /Ààf…úÀê√∞…ô(r)/ (√¢m /…úÀê/ d√†i)<br>
                - C. sch<u>e</u>dule /Àà ÉedjuÀêl/ ho·∫∑c /Ààsked íuÀêl/ (√¢m /e/ - kh√¥ng c√≥ √¢m ur/er d√†i)<br>
                - D. p<u>ur</u>chase /Ààp…úÀêt É…ôs/ (√¢m /…úÀê/ d√†i)<br>
                => ƒê√°p √°n C kh√°c bi·ªát r√µ r·ªát.
            `
        },
        // STRESS
        {
            id: 3,
            type: 'stress',
            question: "Choose the word that differs in the position of primary stress.",
            options: ["customer", "advantage", "decorate", "homemaker"],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B (advantage)</b><br>
                - A. <b>cus</b>tomer (tr·ªçng √¢m 1)<br>
                - B. ad<b>van</b>tage (tr·ªçng √¢m 2)<br>
                - C. <b>de</b>corate (tr·ªçng √¢m 1)<br>
                - D. <b>home</b>maker (tr·ªçng √¢m 1 - danh t·ª´ gh√©p)<br>
                => B nh·∫•n √¢m 2, c√≤n l·∫°i √¢m 1.
            `
        },
        {
            id: 4,
            type: 'stress',
            question: "Choose the word that differs in the position of primary stress.",
            options: ["builder", "teacher", "writer", "career"],
            correct: 3, // D
            explain: `
                <b>ƒê√°p √°n D (career)</b><br>
                - A. <b>buil</b>der (tr·ªçng √¢m 1)<br>
                - B. <b>tea</b>cher (tr·ªçng √¢m 1)<br>
                - C. <b>wri</b>ter (tr·ªçng √¢m 1)<br>
                - D. ca<b>reer</b> (tr·ªçng √¢m 2)<br>
                => D nh·∫•n √¢m 2, c√≤n l·∫°i √¢m 1.
            `
        },
        // GRAMMAR & VOCAB
        {
            id: 5,
            question: "The bowl is ______ glass and paper is ______ tree.",
            options: ["Made from/ made by", "made by/ made in", "made of/ made by", "made of/ made from"],
            correct: 3, // D
            explain: `
                <b>ƒê√°p √°n D (made of / made from)</b><br>
                - <b>Made of:</b> L√†m t·ª´ ch·∫•t li·ªáu g√¨ (gi·ªØ nguy√™n t√≠nh ch·∫•t v·∫≠t l√Ω, nh√¨n v√†o th·∫•y ngay). C√°i b√°t l√†m t·ª´ th·ªßy tinh -> <i>made of glass</i>.<br>
                - <b>Made from:</b> L√†m t·ª´ nguy√™n li·ªáu g√¨ (qua ch·∫ø bi·∫øn bi·∫øn ƒë·ªïi h√≥a h·ªçc/v·∫≠t l√Ω, kh√¥ng c√≤n nh√¨n th·∫•y nguy√™n li·ªáu g·ªëc r√µ r√†ng). Gi·∫•y l√†m t·ª´ c√¢y -> <i>made from tree</i>.<br>
            `
        },
        {
            id: 6,
            question: "I was late for work only one time last year. I‚Äôm _____ late.",
            options: ["Sometimes", "always", "never", "rarely"],
            correct: 3, // D
            explain: `
                <b>ƒê√°p √°n D (rarely)</b><br>
                - Ng·ªØ c·∫£nh: NƒÉm ngo√°i ch·ªâ ƒëi mu·ªôn 1 l·∫ßn (only one time) -> R·∫•t hi·∫øm khi.<br>
                - A. Sometimes (Th·ªânh tho·∫£ng - t·∫ßn su·∫•t cao h∆°n)<br>
                - B. Always (Lu√¥n lu√¥n - Sai)<br>
                - C. Never (Kh√¥ng bao gi·ªù - Sai v√¨ ƒë√£ mu·ªôn 1 l·∫ßn)<br>
                - D. Rarely (Hi·∫øm khi - ƒê√∫ng).
            `
        },
        {
            id: 7,
            question: "Never buy things you don‚Äôt need just because they are _____.",
            options: ["In sale", "on sale", "off sale", "up sale"],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B (on sale)</b><br>
                - <span class="tag tag-n">Collocation</span> <b>On sale</b>: ƒêang gi·∫£m gi√° / ƒêang ƒë∆∞·ª£c b√°n.<br>
                - D·ªãch: ƒê·ª´ng bao gi·ªù mua nh·ªØng th·ª© b·∫°n kh√¥ng c·∫ßn ch·ªâ v√¨ ch√∫ng ƒëang gi·∫£m gi√°.<br>
                - C√°c ƒë√°p √°n kh√°c kh√¥ng ƒë√∫ng c·ª•m t·ª´ c·ªë ƒë·ªãnh trong ng·ªØ c·∫£nh n√†y.
            `
        },
        {
            id: 8,
            question: "Lily prefers _____ at the supermarket to the market.",
            options: ["Shop", "to shopping", "shops", "to shop"],
            correct: 1, // B is "to shopping" in list, wait. Prefer V-ing to V-ing. Let's check text.
            // Text: A. Shop, B. to shopping, C. shops, D. to shop.
            // Structure: Prefer + V-ing + to + V-ing OR Prefer + to V + rather than + V.
            // Text says "to the market" (noun). 
            // So: Prefer [V-ing/Noun] to [Noun].
            // "Lily prefers shopping at the supermarket to the market." -> Correct would be "shopping".
            // However, Option B is "to shopping". Option D is "to shop". Option A "Shop". 
            // Wait, looking closely at source provided: "Lily prefers _____ at the supermarket to the market."
            // If the blank is "shopping", option isn't purely "shopping".
            // Let's re-read standard grammar. Prefer to do sth.
            // "Prefer to shop at the supermarket to the market" -> Clumsy "to... to...".
            // usually "Prefer shopping... to...".
            // Is it possible option B is a typo in source and should be "shopping"? Or is it "prefers to shop"?
            // If I choose D "to shop": "Lily prefers to shop at the supermarket to the market." (Grammatically Acceptable but "to... to..." clash).
            // Usually: Prefer A to B. Here B is "the market". So A must be a Noun/Gerund. -> "Shopping".
            // None of the options are just "shopping".
            // Let's look at B: "to shopping". Maybe the question implies "prefers [going] to shopping"? No.
            // Let's assume Option B is meant to be "shopping" or the question is "Prefer ... TO ...".
            // Actually, "Prefer + to V" is possible.
            // Let's analyze: "Prefer [to shop] ... [rather than] ...".
            // Given the constraints and typical Vietnamese grammar tests, sometimes they mix up. 
            // BUT, if the structure is "Prefer X to Y", X and Y must be parallel. Y is "the market" (Noun/Place). So X should be Noun/Place or Gerund.
            // If X is "to shop" (infinitive), it doesn't balance well with "the market".
            // HOWEVER, if I MUST choose:
            // A. Shop (Wrong form)
            // B. to shopping (Wrong form - prefer to V, not prefer to Ving)
            // C. shops (Verb s - wrong)
            // D. to shop (Infinitive).
            // Let's look at a potential typo in my parsing?
            // "Question 8: Lily prefers _____ at the supermarket to the market."
            // If the answer is "shopping", and B is "to shopping", maybe the 'to' belongs to 'prefers'? No.
            // Let's pick D "to shop" as the most grammatically plausible verb form if we ignore the parallelism slightly, OR assume B is a typo for "shopping".
            // *Correction*: In many tests, "Prefer + to V" is taught. Let's select D and explain the nuance.
            // *Wait*, actually, look at the destination: "at the supermarket".
            // "Lily prefers [shopping] at the..."
            // Let's assume B is "shopping" (Typo in user input? "B. to shopping"). 
            // If user input is literally "to shopping", it's wrong grammar (prefer to V-ing is rare/wrong).
            // Let's look at D: "to shop".
            // Ms. Mai An will choose D but note that "shopping" would be better.
            // *RE-READING INPUT*: "Question 8: ... B. to shopping ... D. to shop".
            // Okay, I will set D as the "intended" answer for "Prefer to V", but explain that "Shopping" (Gerund) is better parallel with "to the market".
            // Actually, maybe the 'to' in B is the preposition? "Lily prefers to shopping"? No.
            // Let's go with D and explain.
            explain: `
                <b>ƒê√°p √°n D (to shop) ho·∫∑c B (n·∫øu ƒë·ªÅ l·ªói)</b><br>
                - C·∫•u tr√∫c: <b>Prefer + V-ing/Noun + to + V-ing/Noun</b> (Th√≠ch c√°i g√¨ h∆°n c√°i g√¨).<br>
                - ·ªû ƒë√¢y v·∫ø sau l√† "to the market" (N∆°i ch·ªën). N√™n v·∫ø tr∆∞·ªõc t·ªët nh·∫•t l√† "Shopping" (V-ing ƒë√≥ng vai tr√≤ danh t·ª´).<br>
                - Tuy nhi√™n, trong c√°c ƒë√°p √°n ƒë∆∞a ra: A. Shop (sai), C. Shops (sai).<br>
                - B. "to shopping" (Sai ng·ªØ ph√°p c∆° b·∫£n).<br>
                - D. "to shop" (D·∫°ng To-V). C·∫•u tr√∫c <i>Prefer + to V</i> c≈©ng t·ªìn t·∫°i (Th√≠ch l√†m g√¨ h∆°n).<br>
                => <b>Ch·ªçn D</b> l√† ph∆∞∆°ng √°n kh·∫£ dƒ© nh·∫•t v·ªÅ m·∫∑t ng·ªØ ph√°p ƒë·ªông t·ª´, d√π ch∆∞a song song ho√†n h·∫£o v·ªõi "the market".
            `
        },
        {
            id: 9,
            question: "Amy: 'Hello, I‚Äôd like to make a complaint about my internet service.' <br> Manager: '_______'",
            options: ["Thank you for your service", "I‚Äôm sorry to hear that, what is the problem?", "Help yourself", "Your internet speed is very slow."],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B</b><br>
                - Amy ƒëang ph√†n n√†n (make a complaint).<br>
                - Qu·∫£n l√Ω c·∫ßn ph·∫£n h·ªìi l·ªãch s·ª± v√† h·ªèi v·∫•n ƒë·ªÅ.<br>
                - A. C·∫£m ∆°n v√¨ d·ªãch v·ª• (Sai ng·ªØ c·∫£nh).<br>
                - B. "T√¥i r·∫•t ti·∫øc khi nghe ƒëi·ªÅu ƒë√≥, v·∫•n ƒë·ªÅ l√† g√¨ v·∫≠y?" (L·ªãch s·ª±, chu·∫©n x√°c).<br>
                - C. C·ª© t·ª± nhi√™n (Sai).<br>
                - D. M·∫°ng c·ªßa b·∫°n ch·∫≠m l·∫Øm (ƒê√¢y l√† l·ªùi ph√†n n√†n, kh√¥ng ph·∫£i l·ªùi ƒë√°p c·ªßa qu·∫£n l√Ω khi ch∆∞a nghe v·∫•n ƒë·ªÅ).
            `
        },
        {
            id: 10,
            question: "We‚Äôve already booked our holiday. We ______ to Rome in May.",
            options: ["Are going", "go", "went", "will go"],
            correct: 0, // A
            explain: `
                <b>ƒê√°p √°n A (are going)</b><br>
                - D·∫•u hi·ªáu: "We've already booked" (ƒê√£ ƒë·∫∑t v√©/ch·ªó r·ªìi) -> K·∫ø ho·∫°ch ƒë√£ ƒë∆∞·ª£c s·∫Øp x·∫øp ch·∫Øc ch·∫Øn.<br>
                - Ng·ªØ ph√°p: D√πng <b>Present Continuous (Hi·ªán t·∫°i ti·∫øp di·ªÖn)</b> ƒë·ªÉ di·ªÖn t·∫£ m·ªôt k·∫ø ho·∫°ch trong t∆∞∆°ng lai ƒë√£ ƒë∆∞·ª£c l√™n l·ªãch c·ª• th·ªÉ (Fixed arrangement).<br>
                - "Will go" ch·ªâ d√πng cho quy·∫øt ƒë·ªãnh t·ª©c th√¨ ho·∫∑c d·ª± ƒëo√°n kh√¥ng cƒÉn c·ª©.
            `
        },
        {
            id: 11,
            question: "_______ happy when he talks to his friend?",
            options: ["Is always he", "Is he always", "Always is he", "He always is"],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B (Is he always)</b><br>
                - ƒê√¢y l√† c√¢u h·ªèi nghi v·∫•n (Question).<br>
                - C·∫•u tr√∫c ƒë·∫£o ng·ªØ v·ªõi TO BE: <b>To Be + S + Adv + Adj?</b><br>
                - Is (To be) + he (S) + always (Tr·∫°ng t·ª´ t·∫ßn su·∫•t) + happy (Adj)?<br>
                - Tr·∫°ng t·ª´ ch·ªâ t·∫ßn su·∫•t (always) ƒë·ª©ng SAU ƒë·ªông t·ª´ To Be.
            `
        },
        {
            id: 12,
            question: "My father ______ in the morning.",
            options: ["Hardly ever jog", "hardly ever jogs", "jogs hardly ever", "hardly jogs ever"],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B (hardly ever jogs)</b><br>
                - C·∫•u tr√∫c: Tr·∫°ng t·ª´ ch·ªâ t·∫ßn su·∫•t (hardly ever - hi·∫øm khi) ƒë·ª©ng TR∆Ø·ªöC ƒë·ªông t·ª´ th∆∞·ªùng.<br>
                - Ch·ªß ng·ªØ "My father" l√† ng√¥i th·ª© 3 s·ªë √≠t -> ƒê·ªông t·ª´ "jog" ph·∫£i th√™m "s" -> <b>jogs</b>.<br>
                - A sai v√¨ thi·∫øu "s". C v√† D sai v·ªã tr√≠ tr·∫°ng t·ª´.
            `
        },
        // GAP FILL (13-16)
        {
            id: 13,
            type: 'gapfill',
            context: `
                <div style="text-align: center; border: 2px dashed var(--primary); padding: 10px; background: #fff;">
                    <h4>FUTURE ENGLISH TUITION</h4>
                    <p>Do you want to (13) _____ your English?</p>
                    <p>Do you enjoy speaking with foreigners?</p>
                    <p>So you fancy getting (14) ____ at school?</p>
                    <p>Come here and get your great (15) ______ .</p>
                    <p>(16) _____ 0989,08.14.65 (Mr. Glory) or visit our campus at 50 Highway 80, Ha Noi.</p>
                </div>
            `,
            question: "Question 13:",
            options: ["better", "improving", "mastering", "increase"],
            correct: 0, // A? "Want to better your English" is a valid phrase (Verb). "Want to increase your English" (No). "Want to improving" (Grammar wrong - want to V). "Want to mastering" (Wrong).
            // Wait. "Do you want to [Verb] your English?".
            // A. better (Verb: l√†m cho t·ªët h∆°n). Correct grammar: want to better.
            // B. improving (V-ing). Wrong after "want to". Should be "improve".
            // C. mastering (V-ing). Wrong.
            // D. increase (Verb). "Increase your English" is unnatural. We say improve/enhance.
            // So A is the only grammatical fit if 'better' is treated as a verb.
            explain: `
                <b>ƒê√°p √°n A (better)</b><br>
                - Sau "want to" c·∫ßn m·ªôt ƒê·ªông t·ª´ nguy√™n th·ªÉ (V-inf).<br>
                - B (improving) v√† C (mastering) l√† V-ing -> Sai.<br>
                - D (increase) l√† V-inf nh∆∞ng sai nghƒ©a (kh√¥ng n√≥i "tƒÉng ti·∫øng Anh").<br>
                - A (better) ƒë√≥ng vai tr√≤ l√† ƒë·ªông t·ª´: C·∫£i thi·ªán, l√†m cho t·ªët h∆°n. = Improve.<br>
                => "Do you want to better your English?"
            `
        },
        {
            id: 14,
            type: 'gapfill',
            question: "Question 14:",
            options: ["higher games", "higher marks", "higher presents", "higher friends"],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B (higher marks)</b><br>
                - Ng·ªØ c·∫£nh: "getting ____ at school" (ƒë·∫°t ƒë∆∞·ª£c ... ·ªü tr∆∞·ªùng).<br>
                - H·ªçc sinh th√¨ mong mu·ªën ƒë·∫°t ƒëi·ªÉm cao (marks/grades).<br>
                - Games, presents, friends kh√¥ng ƒëi v·ªõi t√≠nh t·ª´ "higher" trong ng·ªØ c·∫£nh h·ªçc t·∫≠p h·ª£p l√Ω.
            `
        },
        {
            id: 15,
            type: 'gapfill',
            question: "Question 15:",
            options: ["satisfied", "satisfy", "satisfaction", "satisfying"],
            correct: 2, // C
            explain: `
                <b>ƒê√°p √°n C (satisfaction)</b><br>
                - C·∫•u tr√∫c: Sau t√≠nh t·ª´ s·ªü h·ªØu "your" v√† t√≠nh t·ª´ "great" c·∫ßn m·ªôt <b>Danh t·ª´ (Noun)</b>.<br>
                - A. satisfied (Adj)<br>
                - B. satisfy (Verb)<br>
                - C. satisfaction (Noun) - S·ª± h√†i l√≤ng.<br>
                - D. satisfying (Adj)<br>
                => "Get your great satisfaction" (ƒê·∫°t ƒë∆∞·ª£c s·ª± h√†i l√≤ng tuy·ªát ƒë·ªëi).
            `
        },
        {
            id: 16,
            type: 'gapfill',
            question: "Question 16:",
            options: ["call us", "Phone us", "Visit us", "Contact us at"],
            correct: 3, // D. "Contact us at [Phone Number]". "Call us [Number]" is ok but usually "Call us AT/ON". However, "Contact us at" is standard formal.
            // Text: "(16) _____ 0989...".
            // A. Call us 0989... (Possible spoken).
            // D. Contact us at 0989... (Most formal and grammatically complete with preposition 'at' often used before numbers/contact details in signs).
            // Let's check typical usage. "Phone us 0989" (Clunky). "Visit us 0989" (Wrong).
            // Between A and D. D is safest for announcements.
            explain: `
                <b>ƒê√°p √°n D (Contact us at)</b><br>
                - ƒê√¢y l√† c√¢u m·ªánh l·ªánh trong th√¥ng b√°o.<br>
                - "Contact us at + [S·ªë ƒëi·ªán tho·∫°i]" l√† c√°ch di·ªÖn ƒë·∫°t trang tr·ªçng, ƒë·∫ßy ƒë·ªß.<br>
                - "Call us" th∆∞·ªùng ƒëi tr·ª±c ti·∫øp v·ªõi s·ªë ho·∫∑c "Call us on...", nh∆∞ng "Contact us at" ph·ªï bi·∫øn nh·∫•t trong vƒÉn vi·∫øt qu·∫£ng c√°o.
            `
        },
        // SENTENCE REARRANGEMENT
        {
            id: 17,
            type: 'rearrange',
            context: `
                <div class="data-box">
                    <p><b>Arrange the sentences to make a meaningful letter:</b></p>
                    <p>(a) Moreover, she has shown excellence in her product knowledge and customer service skills.</p>
                    <p>(b) Erica has been an absolute joy to work with. She is very pleasant and courteous to our customers.</p>
                    <p>(c) Dear Sir/ Madam,</p>
                    <p>(d) Besides, Erica demonstrates the characters and qualities that you look for in an employee.</p>
                    <p>(e) Sincerely,</p>
                    <p>(f) It is with great pleasure that I write this recommendation letter for Erica Rudi. I have been Errica‚Äôs supervisor for the last five years.</p>
                </div>
            `,
            question: "Question 17: Choose the correct order.",
            options: ["c-f-d-a-b-e", "c-a-f-b-d-e", "c-f-b-d-a-e", "c-b-f-a-d-e"],
            correct: 2, // C
            explain: `
                <b>ƒê√°p √°n C (c-f-b-d-a-e)</b><br>
                - <b>c:</b> M·ªü ƒë·∫ßu th∆∞ (Salutation) - Dear Sir/Madam.<br>
                - <b>f:</b> L√Ω do vi·∫øt th∆∞ & Gi·ªõi thi·ªáu m·ªëi quan h·ªá (Intro) - I write this recommendation...<br>
                - <b>b:</b> L·ªùi khen t·ªïng quan (General praise) - Absolute joy, pleasant.<br>
                - <b>d:</b> L·ªùi khen b·ªï sung (Besides) - Character & qualities.<br>
                - <b>a:</b> L·ªùi khen chi ti·∫øt h∆°n (Moreover) - Product knowledge...<br>
                - <b>e:</b> K·∫øt th∆∞ (Closing) - Sincerely.
            `
        },
        {
            id: 18,
            type: 'rearrange',
            context: `
                <div class="data-box">
                    <p><b>Arrange the sentences to make a meaningful letter:</b></p>
                    <p>(a) Shall we meet at 10 a.m?</p>
                    <p>(b) I am so glad to come and try some recipes from the book with you.</p>
                    <p>(c) Hi Gloria,</p>
                    <p>(d) Please tell me if I need to buy something in advance</p>
                    <p>(e) Thank you for inviting me to your house this Sunday.</p>
                </div>
            `,
            question: "Question 18: Choose the correct order.",
            options: ["c-a-e-d-b", "c-e-a-b-d", "c-e-b-a-d", "c-e-a-d-b"],
            correct: 2, // C
            explain: `
                <b>ƒê√°p √°n C (c-e-b-a-d)</b><br>
                - <b>c:</b> Ch√†o h·ªèi - Hi Gloria.<br>
                - <b>e:</b> C·∫£m ∆°n l·ªùi m·ªùi - Thank you for inviting...<br>
                - <b>b:</b> B√†y t·ªè c·∫£m x√∫c/M·ª•c ƒë√≠ch - I am so glad to come...<br>
                - <b>a:</b> Ch·ªët gi·ªù h·∫πn - Shall we meet at 10 a.m?<br>
                - <b>d:</b> H·ªèi th√™m (chu·∫©n b·ªã ƒë·ªì) - Please tell me if I need to buy...
            `
        },
        // CLOZE TEST (19-24)
        {
            id: 19,
            type: 'cloze',
            context: `
                <div class="data-box">
                    <h4>SHOPPING APPS</h4>
                    <p>If you have some favorite stores or online retailers, you may already have their shopping apps on your phone. Or, you might (19) ____ an app to get a discount on your first purchase with a business, or early access to sales. Some shopping apps do several things. They might let you (20) ____ a shopping list and will send you sale alerts, (21) ____ codes, coupons, special promotions, or other rewards based on how much you (22) ____.</p>
                    <p>When you set up your profile or buy something with a shopping app for the first time, it will likely ask you to link or store your (23) _____ information. Some apps charge your credit or debit card or your bank account each time you buy something. (24) ____ apps let you store value with the app and spend down the stored value every time you buy something...</p>
                </div>
            `,
            question: "Question 19:",
            options: ["upload", "download", "report", "uninstall"],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B (download)</b><br>
                - Ng·ªØ c·∫£nh: B·∫°n ____ m·ªôt ·ª©ng d·ª•ng ƒë·ªÉ nh·∫≠n gi·∫£m gi√°.<br>
                - V·ªõi App, h√†nh ƒë·ªông ph√π h·ª£p nh·∫•t l√† "t·∫£i xu·ªëng" (download).<br>
                - Upload (t·∫£i l√™n), Report (b√°o c√°o), Uninstall (g·ª° c√†i ƒë·∫∑t) kh√¥ng h·ª£p l√Ω.
            `
        },
        {
            id: 20,
            type: 'cloze',
            question: "Question 20:",
            options: ["store", "to store", "storing", "stored"],
            correct: 0, // A - Let you + V_inf
            explain: `
                <b>ƒê√°p √°n A (store)</b><br>
                - C·∫•u tr√∫c: <b>Let + O + V(bare/nguy√™n th·ªÉ)</b> (ƒê·ªÉ ai l√†m g√¨).<br>
                - ·ªû ƒë√¢y: "They might let you [store] a shopping list..." (Cho ph√©p b·∫°n l∆∞u danh s√°ch mua s·∫Øm).
            `
        },
        {
            id: 21,
            type: 'cloze',
            question: "Question 21:",
            options: ["password", "recovery", "account", "discount"],
            correct: 3, // D. Discount codes.
            explain: `
                <b>ƒê√°p √°n D (discount)</b><br>
                - Collocation: <b>Discount codes</b> (M√£ gi·∫£m gi√°).<br>
                - Ng·ªØ c·∫£nh li·ªát k√™ c√°c l·ª£i √≠ch: coupons, special promotions -> Discount code l√† ph√π h·ª£p nh·∫•t.
            `
        },
        {
            id: 22,
            type: 'cloze',
            question: "Question 22:",
            options: ["buy", "make", "sell", "take"],
            correct: 0, // A. buy. "based on how much you buy".
            explain: `
                <b>ƒê√°p √°n A (buy)</b><br>
                - Ng·ªØ c·∫£nh: Nh·∫≠n ph·∫ßn th∆∞·ªüng d·ª±a tr√™n vi·ªác b·∫°n MUA bao nhi√™u (how much you buy).<br>
                - Make (l√†m), Sell (b√°n), Take (l·∫•y) kh√¥ng ph√π h·ª£p v·ªõi ng·ªØ c·∫£nh kh√°ch h√†ng d√πng app mua s·∫Øm.
            `
        },
        {
            id: 23,
            type: 'cloze',
            question: "Question 23:",
            options: ["paid", "payment", "paying", "payer"],
            correct: 1, // B. Payment information.
            explain: `
                <b>ƒê√°p √°n B (payment)</b><br>
                - C·ª•m danh t·ª´: <b>Payment information</b> (Th√¥ng tin thanh to√°n).<br>
                - C√¢u sau nh·∫Øc ƒë·∫øn "credit or debit card" -> ƒê√¢y l√† th√¥ng tin thanh to√°n.
            `
        },
        {
            id: 24,
            type: 'cloze',
            question: "Question 24:",
            options: ["Other", "Another", "Others", "One another"],
            correct: 0, // A. Other apps.
            explain: `
                <b>ƒê√°p √°n A (Other)</b><br>
                - <b>Other + Danh t·ª´ s·ªë nhi·ªÅu</b> (Other apps): Nh·ªØng ·ª©ng d·ª•ng kh√°c.<br>
                - Another + Danh t·ª´ s·ªë √≠t (M·ªôt c√°i kh√°c).<br>
                - Others (ƒê·∫°i t·ª´, ƒë·ª©ng m·ªôt m√¨nh, kh√¥ng k√®m danh t·ª´ "apps" ph√≠a sau).<br>
                - One another (Nhau - ƒë·∫°i t·ª´ t∆∞∆°ng h·ªó).
            `
        },
        // CLOSEST MEANING
        {
            id: 25,
            question: "I don‚Äôt often buy clothes online because they don‚Äôt look as they do in person.",
            options: [
                "I don‚Äôt like purchase clothing online since it doesn‚Äôt appear like what I see in person",
                "Because they don‚Äôt appear like in real life; I usually purchase clothing online",
                "Because they don‚Äôt look like they do in real life, I seldom ever purchase clothing online.",
                "I buy rarely clothing online since it doesn‚Äôt appear like what I see in person."
            ],
            correct: 2, // C
            explain: `
                <b>ƒê√°p √°n C</b><br>
                - C√¢u g·ªëc: T√¥i kh√¥ng th∆∞·ªùng mua (don't often buy) ... v√¨ ch√∫ng kh√¥ng gi·ªëng ngo√†i ƒë·ªùi (don't look as they do in person).<br>
                - C. "seldom ever purchase" = "don't often buy" (hi·∫øm khi mua). "don't look like they do in real life" = "don't look as they do in person".<br>
                - A sai ng·ªØ ph√°p ("don't like purchase" thi·∫øu 'to').<br>
                - B sai nghƒ©a ("usually purchase" - th∆∞·ªùng mua).<br>
                - D sai tr·∫≠t t·ª± t·ª´ ("buy rarely" -> rarely buy).
            `
        },
        {
            id: 26,
            question: "Do you usually go shopping at a speciality shop?",
            options: [
                "Do usually you go shopping at a speciality shop.",
                "Do you frequently visit speciality stores to shop?",
                "Do you go shopping at a speciality shop frequently?",
                "Do you typically shopping at speciality stores?"
            ],
            correct: 1, // B or C? 
            // C: "Do you go shopping at a speciality shop frequently?" (Correct meaning, grammatical).
            // B: "Do you frequently visit speciality stores to shop?" (Good paraphrase).
            // D: "Do you typically shopping" (Grammar error - Do you V, not Ving).
            // A: "Do usually you" (Wrong word order).
            // Between B and C. "Usually" -> "Frequently". 
            // "Go shopping at X" -> "Visit X to shop".
            // Both are close. However, sentence transformation usually seeks the best paraphrase.
            // B sounds slightly more natural as a paraphrase ("Visit stores to shop").
            // C puts "frequently" at the end, which is ok.
            // Let's look at B again. "Speciality shop" -> "Speciality stores". Correct.
            // Let's check provided Answer Key styles. Usually, B is a stronger paraphrase.
            explain: `
                <b>ƒê√°p √°n B</b><br>
                - "Usually" (th∆∞·ªùng xuy√™n) ~ "Frequently".<br>
                - "Go shopping at a speciality shop" ~ "Visit speciality stores to shop".<br>
                - C√¢u B di·ªÖn ƒë·∫°t l·∫°i t·ª± nhi√™n nh·∫•t.<br>
                - C√¢u C ƒë√∫ng ng·ªØ ph√°p nh∆∞ng B thay ƒë·ªïi c·∫•u tr√∫c t·ªët h∆°n (visit... to shop).<br>
                - D sai ng·ªØ ph√°p (Do... shopping).
            `
        },
        // SENTENCE BUILDING
        {
            id: 27,
            question: "Build sentence: I/ interested/ hang out/ chat/ browse/ shopping malls.",
            options: [
                "I am interested in hang out, chat and browse through shopping malls.",
                "I am interested in hanging out, chatting and browsing through shopping malls.",
                "I am interested of hanging out, chatting and browsing through shopping malls.",
                "I am interested of hang out, chat and browse through shopping malls."
            ],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B</b><br>
                - C·∫•u tr√∫c: <b>be interested in + V-ing</b>.<br>
                - Li·ªát k√™ c√°c h√†nh ƒë·ªông: hanging out, chatting, browsing (c·∫ßn song song d·∫°ng V-ing).<br>
                - A sai (in + V nguy√™n).<br>
                - C, D sai gi·ªõi t·ª´ (interested OF -> sai, ph·∫£i l√† IN).
            `
        },
        {
            id: 28,
            question: "Build sentence: Her income/ low/ she/ not/ resist/ buy/ new things.",
            options: [
                "Despite her income to be low, she cannot resist buying new things",
                "Although her income is low, she cannot resist buying new things",
                "Although her income to be low, she cannot resist buying new things",
                "Despite of her low income, she cannot resist buying new things."
            ],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B</b><br>
                - C·∫•u tr√∫c nh∆∞·ª£ng b·ªô: <b>Although + S + V</b> (M·∫∑c d√π...).<br>
                - "Although her income is low" (ƒê√∫ng S + V).<br>
                - V·∫ø sau: "resist + V-ing" (kh√¥ng c∆∞·ª°ng l·∫°i vi·ªác l√†m g√¨).<br>
                - A sai: Despite + Noun/Ving, kh√¥ng d√πng "income to be".<br>
                - C sai: Although c·∫ßn m·ªánh ƒë·ªÅ chia th√¨, "to be" ch∆∞a chia.<br>
                - D sai: "Despite of" (Despite kh√¥ng c√≥ of, ch·ªâ In spite of m·ªõi c√≥ of).
            `
        },
        // SIGNS (29-30)
        {
            id: 29,
            type: 'visual',
            visual: `
                <div class="sign-visual sign-q29">
                    <span class="dog-icon">üêï + <span class="muzzle">Muzzle</span></span>
                    <h4 style="color: #007bff; margin: 0;">Dogs on the m√©tro</h4>
                </div>
            `,
            question: "Question 29: What does the sign say?",
            options: [
                "Dogs are allowed to roam without any rules",
                "Dogs must wear muzzles while they are in this area",
                "Only some dogs need to wear muzzles here",
                "Dogs do not need to wear muzzles in this area."
            ],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B</b><br>
                - H√¨nh ·∫£nh ch√∫ ch√≥ ƒëeo r·ªç m√µm (muzzle) tr√™n t√†u ƒëi·ªán (metro).<br>
                - √ù nghƒ©a: Ch√≥ b·∫Øt bu·ªôc ph·∫£i ƒëeo r·ªç m√µm khi ·ªü khu v·ª±c n√†y.<br>
                - A (ƒëi t·ª± do), C (ch·ªâ m·ªôt s·ªë con), D (kh√¥ng c·∫ßn ƒëeo) ƒë·ªÅu sai.
            `
        },
        {
            id: 30,
            type: 'visual',
            visual: `
                <div class="sign-visual notice-q30">
                    <p>Please clean up the kitchen after using it.</p>
                    <p>Throw away any leftover food and wash your dishes.</p>
                    <p style="text-decoration: underline;">This keeps the kitchen clean for everyone.</p>
                </div>
            `,
            question: "Question 30: What does the notice say?",
            options: [
                "Just throw away leftovers in the trash",
                "Throw away leftover food and wash dishes immediately",
                "Only clean up if you make a mess",
                "You don‚Äôt need to clean up if you‚Äôre in a hurry."
            ],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B</b><br>
                - Th√¥ng b√°o y√™u c·∫ßu 2 vi·ªác: "Throw away leftover food" (V·ª©t th·ª©c ƒÉn th·ª´a) V√Ä "wash your dishes" (R·ª≠a b√°t).<br>
                - "After using it" h√†m √Ω l√†m ngay sau khi d√πng.<br>
                - A sai v√¨ thi·∫øu vi·ªác r·ª≠a b√°t.<br>
                - C v√† D sai n·ªôi dung ho√†n to√†n.
            `
        },
        // READING (31-36)
        {
            id: 31,
            type: 'reading',
            context: `
                <div class="data-box">
                    <h4>SHOPPING HABITS</h4>
                    <p>Shopping is a necessary part of life which very few people can avoid. Some people go shopping more regularly than other people to browse products in shops even when they do not have much money. This is known as window shopping and allows people to plan ahead and save for the things they want to buy in the future or wait for the items to drop in price. Some people spend a lot of time looking for bargains while others do not think of the price and are happy to spend a lot. Some people believe that the more expensive the item, the better the quality, but this is not always true. It is sensible to buy items which are affordable, but some people use a credit card or borrow money from the bank so that they can buy the items they really want rather than wait for it.</p>
                    <p>Sometimes shopping can be stressful when choosing a gift to buy for other people for a special occasion. It is common to buy a gift voucher so that a friend or loved one can go shopping themselves at their own convenience. Shopping online is often popular with people who have a busy lifestyle. People are able to order their necessary and luxury items from the comfort of their own home, or even on the move. Delivery is usually free and items are often cheaper than in shops on the high street. The only real problem is that the item description and quality may be more different than what they hoped for. This could mean the customer may become disappointed with the item they receive and will need to return it at their own cost. People who go to shops to do their shopping often use self-service payment machines. This usually saves time as the shopper does not need to join a long queue. However, it can be frustrating when the machine has a problem and the sales assistant is not always available to help.</p>
                </div>
            `,
            question: "Question 31: What is the main idea of the passage?",
            options: [
                "Shopping online is always better than shopping in stores",
                "People have different shopping habits, and each has its own advantages and disadvantages",
                "Shopping is stressful and should be avoided",
                "Bargain hunting is the best way to shop"
            ],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B</b><br>
                - B√†i ƒë·ªçc th·∫£o lu·∫≠n v·ªÅ nhi·ªÅu ki·ªÉu mua s·∫Øm: window shopping, bargain hunting, shopping online, d√πng th·∫ª t√≠n d·ª•ng...<br>
                - N√≥ c≈©ng n√™u ra l·ª£i √≠ch (ti·ªán l·ª£i, gi√° r·∫ª) v√† b·∫•t l·ª£i (h√†ng kh√¥ng gi·ªëng ·∫£nh, stress, m√°y h·ªèng).<br>
                - Do ƒë√≥, √Ω ch√≠nh l√† th√≥i quen mua s·∫Øm ƒëa d·∫°ng v√† ∆∞u/nh∆∞·ª£c ƒëi·ªÉm c·ªßa ch√∫ng.
            `
        },
        {
            id: 32,
            type: 'reading',
            question: "Question 32: Which word is CLOSEST in meaning to 'bargains'?",
            options: ["Discounts", "loans", "vouchers", "expenses"],
            correct: 0, // A - Bargains ~ good deals/discounts.
            explain: `
                <b>ƒê√°p √°n A (Discounts/Good deals)</b><br>
                - <b>Bargain</b>: M√≥n h·ªùi, h√†ng gi√° r·∫ª.<br>
                - G·∫ßn nghƒ©a nh·∫•t l√† Discounts (Gi·∫£m gi√°).<br>
                - Loans (kho·∫£n vay), Vouchers (phi·∫øu mua h√†ng), Expenses (chi ph√≠) kh√¥ng s√°t nghƒ©a b·∫±ng.
            `
        },
        {
            id: 33,
            type: 'reading',
            question: "Question 33: Which word is OPPOSITE in meaning to 'affordable'?",
            options: ["Expensive", "cheap", "sensible", "convenient"],
            correct: 0, // A
            explain: `
                <b>ƒê√°p √°n A (Expensive)</b><br>
                - <b>Affordable</b>: Gi√° c·∫£ ph·∫£i chƒÉng, v·ª´a t√∫i ti·ªÅn.<br>
                - Tr√°i nghƒ©a l√† Expensive (ƒê·∫Øt ƒë·ªè).
            `
        },
        {
            id: 34,
            type: 'reading',
            question: "Question 34: Which of the following is NOT TRUE according to the passage?",
            options: [
                "Window shopping helps people plan purchases and save money",
                "Shopping online is always cheaper than shopping in physical stores",
                "People sometimes buy gifts like vouchers for others to choose their own items.",
                "Self-service machines can save time but may cause frustration when they malfunction"
            ],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B</b><br>
                - ƒêo·∫°n vƒÉn n√≥i: "items are <b>often</b> cheaper" (TH∆Ø·ªúNG r·∫ª h∆°n), kh√¥ng ph·∫£i "always" (LU√îN LU√îN).<br>
                - C√°c √Ω c√≤n l·∫°i ƒë·ªÅu c√≥ trong b√†i:<br>
                + A: "allows people to plan ahead"<br>
                + C: "common to buy a gift voucher"<br>
                + D: "frustrating when the machine has a problem"
            `
        },
        {
            id: 35,
            type: 'reading',
            question: "Question 35: Which is one reason people prefer online shopping?",
            options: [
                "Online shopping guarantees better products quality",
                "Delivery is usually free, and items are often cheaper",
                "Sales assistants are always available online.",
                "Customers never have to return items purchased online."
            ],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B</b><br>
                - D·∫´n ch·ª©ng trong b√†i: "Delivery is usually free and items are often cheaper than in shops..."
            `
        },
        {
            id: 36,
            type: 'reading',
            question: "Question 36: Why do some people use credit cards or borrow money to shop?",
            options: [
                "They want to avoid long queues in physical stores",
                "They prefer to buy items immediately instead of waiting",
                "It helps them find better bargains",
                "They do not care about the item‚Äôs quality"
            ],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B</b><br>
                - D·∫´n ch·ª©ng: "...so that they can buy the items they really want <b>rather than wait for it</b>." (ƒë·ªÉ mua ngay thay v√¨ ph·∫£i ch·ªù ƒë·ª£i).
            `
        },
        // INSERTION (37-40)
        {
            id: 37,
            type: 'insertion',
            context: `
                <div class="gap-fill-container">
                    <div class="gap-options-box">
                        <p>A ‚Äì The government is considering banning Black Friday due to the impact on the planet and the promotion of unsustainable consuming habits.</p>
                        <p>B ‚Äì The negative impact of Black Friday is also significant from non-recyclable.</p>
                        <p>C ‚Äì but also from the return of unwanted items.</p>
                        <p>D ‚Äì where much of the online returns are tossed into the landfill because the logistics</p>
                    </div>
                    <div class="gap-text-box">
                        <p>Black Friday and Cyber Monday promote mindless consumption, excessive packaging and shipping waste, especially with the rise of online shopping. The sales produce massive waste not just from the unwanted single-use plastic and cardboard packaging, <b>(37) _____</b>. This mindset also ensures that the earth overshoot day keeps moving back.</p>
                        <p>This is especially true of the clothing industry, <b>(38) ______</b> and the cost of putting the item back on the shelf are much too complicated. Britons throw away approximately 300,000 tonnes of clothes every year and many of them are only worn a handful of times.</p>
                        <p><b>(39) ______</b>. Mostly plastic toys, to e-waste, to fast fashion that is only used for one season. In fact, in France, <b>(40) _____</b>.</p>
                    </div>
                </div>
            `,
            question: "Question 37: Choose the sentence for blank (37)",
            options: ["A", "B", "C", "D"],
            correct: 2, // C
            explain: `
                <b>ƒê√°p √°n C</b><br>
                - Tr∆∞·ªõc ch·ªó tr·ªëng c√≥ c·∫•u tr√∫c "not just from..." (kh√¥ng ch·ªâ t·ª´...).<br>
                - C·∫ßn m·ªôt v·∫ø "but also..." (m√† c√≤n...) ƒë·ªÉ ho√†n thi·ªán.<br>
                - N·ªôi dung: R√°c th·∫£i kh√¥ng ch·ªâ t·ª´ bao b√¨ "m√† c√≤n t·ª´ vi·ªác tr·∫£ l·∫°i h√†ng h√≥a kh√¥ng mong mu·ªën" (return of unwanted items).
            `
        },
        {
            id: 38,
            type: 'insertion',
            question: "Question 38: Choose the sentence for blank (38)",
            options: ["A", "B", "C", "D"],
            correct: 3, // D
            explain: `
                <b>ƒê√°p √°n D</b><br>
                - Ch·ªó tr·ªëng c·∫ßn m·ªôt m·ªánh ƒë·ªÅ quan h·ªá b·ªï nghƒ©a cho "clothing industry" ho·∫∑c gi·∫£i th√≠ch t√¨nh tr·∫°ng.<br>
                - "where much of the online returns are tossed into the landfill because the logistics..." (n∆°i m√† ph·∫ßn l·ªõn h√†ng tr·∫£ l·∫°i b·ªã n√©m ra b√£i r√°c v√¨ kh√¢u h·∫≠u c·∫ßn...).<br>
                - C√¢u ti·∫øp theo "and the cost of putting..." kh·ªõp v·ªõi ch·ªß ng·ªØ "the logistics" v√† c·∫•u tr√∫c c√¢u.
            `
        },
        {
            id: 39,
            type: 'insertion',
            question: "Question 39: Choose the sentence for blank (39)",
            options: ["A", "B", "C", "D"],
            correct: 1, // B
            explain: `
                <b>ƒê√°p √°n B</b><br>
                - Ch·ªó tr·ªëng ƒë·ª©ng ƒë·∫ßu ƒëo·∫°n, c·∫ßn c√¢u ch·ªß ƒë·ªÅ.<br>
                - C√¢u sau li·ªát k√™ "Mostly plastic toys, e-waste..." -> ƒê√¢y l√† c√°c v√≠ d·ª• c·ªßa r√°c th·∫£i.<br>
                - B: "The negative impact... is also significant from non-recyclable." (T√°c ƒë·ªông ti√™u c·ª±c c≈©ng ƒë√°ng k·ªÉ t·ª´ nh·ªØng th·ª© kh√¥ng t√°i ch·∫ø ƒë∆∞·ª£c). R·∫•t kh·ªõp v·ªõi c√°c v√≠ d·ª• ph√≠a sau.
            `
        },
        {
            id: 40,
            type: 'insertion',
            question: "Question 40: Choose the sentence for blank (40)",
            options: ["A", "B", "C", "D"],
            correct: 0, // A
            explain: `
                <b>ƒê√°p √°n A</b><br>
                - D·∫•u hi·ªáu: "In fact, in France..." (Th·ª±c t·∫ø, ·ªü Ph√°p...).<br>
                - C·∫ßn m·ªôt h√†nh ƒë·ªông c·ª• th·ªÉ c·ªßa Ph√°p.<br>
                - A: "The government is considering banning Black Friday..." (Ch√≠nh ph·ªß ƒëang xem x√©t c·∫•m Black Friday...).<br>
                - C√¢u n√†y h·ª£p l√Ω v·ªÅ m·∫∑t logic k·∫øt b√†i.
            `
        }
    ];

    // --- RENDER FUNCTION ---
    function renderQuiz() {
        const container = document.getElementById('quiz-container');
        let html = '';

        quizData.forEach((q, index) => {
            // Check if we need to render context block first (only once for grouped questions)
            // Logic: If q has context AND (it's the first question OR the previous question didn't have the same context)
            // But for simplicity in this format, I will render context inside the question card if provided, 
            // OR checks if I should create a separate div.
            // Better approach: Render context ONLY if it's different from prev context.
            
            // However, the object structure above repeats context for some Qs. I'll just render it if present.
            // To avoid dupes, I check if prev question had same context string.
            
            let contextHTML = '';
            const prevQ = index > 0 ? quizData[index-1] : null;
            
            // For grouped questions (like Gap Fill 13-16), context is same.
            // I will render context inside the card of the first question of the group.
            if (q.context && (!prevQ || prevQ.context !== q.context)) {
                contextHTML = `<div class="data-box">${q.context}</div>`;
            }

            // For Q29, 30 visual
            let visualHTML = q.visual ? q.visual : '';

            // Options HTML
            let optionsHTML = '<div class="options-grid">';
            q.options.forEach((opt, optIndex) => {
                optionsHTML += `
                    <label class="option-label" id="q${index}_opt${optIndex}">
                        <input type="radio" name="q${index}" value="${optIndex}">
                        <span>${['A. ', 'B. ', 'C. ', 'D. '][optIndex] + opt}</span>
                    </label>
                `;
            });
            optionsHTML += '</div>';

            html += `
                ${contextHTML}
                <div class="card" id="card-q${index}">
                    ${visualHTML}
                    <div class="question-text">
                        <span class="question-number">Question ${q.id}:</span> ${q.question}
                        ${q.text ? `<br><span style="font-weight:normal; display:block; margin-top:5px;">${q.text}</span>` : ''}
                    </div>
                    ${optionsHTML}
                    
                    <button class="btn-check-single" onclick="checkIndividualAnswer(${index})">Ki·ªÉm tra c√¢u n√†y</button>
                    
                    <div class="explanation" id="explain-q${index}">
                        <h5>üë®‚Äçüè´ Gi·∫£i th√≠ch chi ti·∫øt c·ªßa Ms. Mai An:</h5>
                        ${q.explain}
                    </div>
                </div>
            `;
        });

        container.innerHTML = html;
    }

    // --- INTERACTION LOGIC ---

    function checkIndividualAnswer(index) {
        const q = quizData[index];
        const radios = document.getElementsByName(`q${index}`);
        let selectedValue = -1;

        for (let r of radios) {
            if (r.checked) {
                selectedValue = parseInt(r.value);
                break;
            }
        }

        if (selectedValue === -1) {
            alert("B·∫°n ch∆∞a ch·ªçn ƒë√°p √°n n√†o!");
            return;
        }

        // Show explanation
        document.getElementById(`explain-q${index}`).style.display = 'block';
        
        // Highlight correct/incorrect
        const card = document.getElementById(`card-q${index}`);
        const labels = card.querySelectorAll('.option-label');
        
        // Reset styles first
        labels.forEach(l => l.classList.remove('selected'));
        card.classList.remove('correct', 'incorrect');

        // Style the selected one
        const selectedLabel = document.getElementById(`q${index}_opt${selectedValue}`);
        selectedLabel.classList.add('selected');

        if (selectedValue === q.correct) {
            card.classList.add('correct');
        } else {
            card.classList.add('incorrect');
            // Highlight the correct one lightly to show answer?
            // The explanation shows the answer, but let's visually mark the correct one too?
            // Prompt says: "Hi·ªÉn th·ªã m√†u ƒê√∫ng/Sai tr√™n t·ª´ng c√¢u."
            // Let's mark the correct one green border as well.
            const correctLabel = document.getElementById(`q${index}_opt${q.correct}`);
            correctLabel.style.borderColor = 'var(--success)';
            correctLabel.style.backgroundColor = '#e8f5e9';
        }
    }

    function submitAll() {
        let score = 0;
        let unanswered = 0;

        quizData.forEach((q, index) => {
            const radios = document.getElementsByName(`q${index}`);
            let selectedValue = -1;

            for (let r of radios) {
                if (r.checked) {
                    selectedValue = parseInt(r.value);
                    break;
                }
            }

            const card = document.getElementById(`card-q${index}`);
            const explanation = document.getElementById(`explain-q${index}`);
            const labels = card.querySelectorAll('.option-label');

            // Reset classes
            card.classList.remove('correct', 'incorrect', 'unanswered');
            labels.forEach(l => {
                l.classList.remove('selected'); 
                l.style.borderColor = ''; 
                l.style.backgroundColor = '';
            });

            // Reveal explanation for all
            explanation.style.display = 'block';

            if (selectedValue === -1) {
                unanswered++;
                card.classList.add('unanswered');
                // Show correct answer
                const correctLabel = document.getElementById(`q${index}_opt${q.correct}`);
                correctLabel.style.backgroundColor = '#fff3cd'; // Yellowish for warning/suggestion
                correctLabel.style.border = '2px solid var(--accent)';
            } else {
                const selectedLabel = document.getElementById(`q${index}_opt${selectedValue}`);
                selectedLabel.classList.add('selected');
                
                if (selectedValue === q.correct) {
                    score++;
                    card.classList.add('correct');
                } else {
                    card.classList.add('incorrect');
                    // Show correct answer
                    const correctLabel = document.getElementById(`q${index}_opt${q.correct}`);
                    correctLabel.style.borderColor = 'var(--success)';
                    correctLabel.style.backgroundColor = '#d4edda';
                }
            }
        });

        // Show Modal
        const modal = document.getElementById('resultModal');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const feedback = document.getElementById('feedbackText');

        scoreDisplay.innerText = `${score}/${quizData.length}`;
        
        let message = "";
        if (score === quizData.length) message = "Xu·∫•t s·∫Øc! B·∫°n l√† thi√™n t√†i mua s·∫Øm! üèÜ";
        else if (score >= 30) message = "L√†m r·∫•t t·ªët! B·∫°n n·∫Øm v·ªØng ki·∫øn th·ª©c r·ªìi ƒë·∫•y. üåü";
        else if (score >= 20) message = "Kh√° t·ªët, nh∆∞ng h√£y xem l·∫°i c√°c l·ªói sai nh√©. üí™";
        else message = "C·ªë g·∫Øng l√™n! H√£y ƒë·ªçc k·ªπ ph·∫ßn gi·∫£i th√≠ch chi ti·∫øt. üìö";

        if (unanswered > 0) message += `<br>(B·∫°n ƒë√£ b·ªè qua ${unanswered} c√¢u)`;

        feedback.innerHTML = message;
        modal.style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('resultModal').style.display = 'none';
        // Scroll to top or first incorrect? 
        // Let's just stay put so user can review.
    }

    // Initialize
    window.onload = renderQuiz;

</script>

</body>
</html>
