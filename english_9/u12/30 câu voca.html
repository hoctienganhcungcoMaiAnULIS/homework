<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr·∫Øc nghi·ªám T·ª´ v·ª±ng & Ng·ªØ ph√°p - Ms Mai An ULIS</title>
    <style>
        :root {
            --primary-color: #0056b3; /* M√†u theo y√™u c·∫ßu: Xanh ƒë·∫≠m */
            --primary-light: #e6f0ff;
            --success-color: #28a745; /* M√†u ƒë√∫ng */
            --error-color: #dc3545;   /* M√†u sai */
            --warning-color: #ffc107; /* M√†u c·∫£nh b√°o */
            --text-color: #333;
            --bg-color: #f4f7f6;
            --card-shadow: 0 4px 6px rgba(0,0,0,0.1);
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            padding-bottom: 80px; /* Space for sticky footer */
        }

        /* Header */
        header {
            background-color: #fff;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 3px solid var(--primary-color);
        }

        header h1 {
            color: var(--primary-color);
            font-size: 1.5rem;
            margin-bottom: 5px;
            text-transform: uppercase;
        }

        header p {
            color: #666;
            font-size: 0.9rem;
            font-weight: 600;
        }

        /* Container */
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 15px;
        }

        /* Question Card */
        .question-card {
            background: #fff;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: var(--card-shadow);
            border-left: 5px solid transparent;
            transition: all 0.3s ease;
        }

        .question-card.answered-correct {
            border-left-color: var(--success-color);
        }

        .question-card.answered-incorrect {
            border-left-color: var(--error-color);
        }

        .q-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            align-items: center;
        }

        .q-number {
            font-weight: bold;
            color: #fff;
            background-color: var(--primary-color);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .q-text {
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 20px;
        }

        /* Options */
        .options-grid {
            display: grid;
            gap: 12px;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .option-label:hover {
            background-color: var(--primary-light);
            border-color: var(--primary-color);
        }

        .option-label input[type="radio"] {
            margin-right: 12px;
            accent-color: var(--primary-color);
            transform: scale(1.2);
        }

        /* States for options after check */
        .option-label.correct {
            background-color: #d4edda;
            border-color: var(--success-color);
            color: #155724;
        }

        .option-label.incorrect {
            background-color: #f8d7da;
            border-color: var(--error-color);
            color: #721c24;
        }

        .option-label.dimmed {
            opacity: 0.6;
            background-color: #f9f9f9;
        }

        /* Check Button specific to card */
        .btn-check-single {
            margin-top: 20px;
            padding: 8px 20px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            display: inline-block;
        }
        
        .btn-check-single:hover {
            background-color: #004494;
        }

        .btn-check-single:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        /* Explanation Box */
        .explanation-box {
            margin-top: 20px;
            padding: 20px;
            background-color: #f1f8ff;
            border-radius: 8px;
            border: 1px solid #cce5ff;
            display: none; /* Hidden by default */
            font-size: 0.95rem;
        }

        .explanation-box.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        .exp-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        
        .exp-content {
            white-space: pre-line; /* Respect line breaks from JSON */
        }

        /* Sticky Footer */
        .sticky-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            padding: 15px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 900;
        }

        .score-preview {
            font-weight: bold;
            color: var(--text-color);
        }

        .btn-submit {
            background-color: var(--success-color);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(40, 167, 69, 0.3);
            transition: transform 0.2s;
        }

        .btn-submit:hover {
            transform: translateY(-2px);
            background-color: #218838;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            animation: slideIn 0.3s;
        }

        .modal h2 {
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .score-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background: var(--primary-light);
            color: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            margin: 0 auto 20px;
            border: 4px solid var(--primary-color);
        }

        .btn-close {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Mobile Responsive */
        @media (max-width: 600px) {
            .container { padding: 0 10px; }
            .question-card { padding: 15px; }
            header h1 { font-size: 1.2rem; }
        }
    </style>
</head>
<body>

    <header>
        <h1>B√†i Ki·ªÉm Tra T·ª´ V·ª±ng & Ng·ªØ Ph√°p</h1>
        <p>Gi√°o vi√™n: Ms Mai An (ULIS)</p>
    </header>

    <div class="container" id="quiz-container">
        <!-- Questions will be injected here by JS -->
    </div>

    <div class="sticky-footer">
        <div class="score-preview" id="progress-text">ƒê√£ l√†m: 0/30</div>
        <button class="btn-submit" onclick="submitQuiz()">N·ªòP B√ÄI</button>
    </div>

    <!-- Result Modal -->
    <div id="resultModal" class="modal">
        <div class="modal-content">
            <h2>K·∫æT QU·∫¢</h2>
            <div class="score-circle" id="final-score">0</div>
            <p id="result-message">B·∫°n ƒë√£ ho√†n th√†nh b√†i thi!</p>
            <button class="btn-close" onclick="closeModal()">Xem l·∫°i b√†i l√†m</button>
        </div>
    </div>

<script>
    // D·ªØ li·ªáu c√¢u h·ªèi t·ª´ file JSON
    const questionsData = [
    {
      "questionNumber": 1,
      "question": "She started her __________________ as an EFL teacher in Egypt in 1996.",
      "answerOptions": [
        { "text": "work", "isCorrect": false },
        { "text": "career", "isCorrect": true },
        { "text": "employment", "isCorrect": false },
        { "text": "occupation", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. work (n): c√¥ng vi·ªác (danh t·ª´ kh√¥ng ƒë·∫øm ƒë∆∞·ª£c/ƒë·∫øm ƒë∆∞·ª£c), t√°c ph·∫©m.\n- B. career (n): s·ª± nghi·ªáp (c√¥ng vi·ªác l√†m trong th·ªùi gian d√†i v√† c√≥ s·ª± thƒÉng ti·∫øn).\n- C. employment (n): s·ª± thu√™ m∆∞·ªõn, vi·ªác l√†m.\n- D. occupation (n): ngh·ªÅ nghi·ªáp (t√™n g·ªçi c·ªßa ngh·ªÅ).\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"C√¥ ·∫•y b·∫Øt ƒë·∫ßu s·ª± nghi·ªáp c·ªßa m√¨nh v·ªõi t∆∞ c√°ch l√† m·ªôt gi√°o vi√™n ti·∫øng Anh (EFL) t·∫°i Ai C·∫≠p v√†o nƒÉm 1996.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: \"Career\" l√† t·ª´ ch√≠nh x√°c nh·∫•t ƒë·ªÉ n√≥i v·ªÅ qu√° tr√¨nh l√†m vi·ªác chuy√™n nghi·ªáp l√¢u d√†i trong m·ªôt lƒ©nh v·ª±c c·ª• th·ªÉ."
    },
    {
      "questionNumber": 2,
      "question": "______________ learning is considered very crucial when one wants to develop in his/ her career.",
      "answerOptions": [
        { "text": "Life-long", "isCorrect": true },
        { "text": "Lifetime", "isCorrect": false },
        { "text": "Life", "isCorrect": false },
        { "text": "All-life", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. Life-long (adj): su·ªët ƒë·ªùi.\n- B. Lifetime (n/adj): c·∫£ ƒë·ªùi.\n- C. Life (n): cu·ªôc s·ªëng.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"H·ªçc t·∫≠p su·ªët ƒë·ªùi ƒë∆∞·ª£c coi l√† r·∫•t quan tr·ªçng khi m·ªôt ng∆∞·ªùi mu·ªën ph√°t tri·ªÉn s·ª± nghi·ªáp c·ªßa m√¨nh.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: C·ª•m t·ª´ c·ªë ƒë·ªãnh (collocation) l√† \"Life-long learning\" (h·ªçc t·∫≠p su·ªët ƒë·ªùi)."
    },
    {
      "questionNumber": 3,
      "question": "Students who have more skills and knowledge can get a ______________ job in the future.",
      "answerOptions": [
        { "text": "high-payment", "isCorrect": false },
        { "text": "poorly-paid", "isCorrect": false },
        { "text": "well-paid", "isCorrect": true },
        { "text": "good-pay", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. high-payment (n): s·ª± thanh to√°n cao.\n- B. poorly-paid (adj): ƒë∆∞·ª£c tr·∫£ l∆∞∆°ng th·∫•p.\n- C. well-paid (adj): ƒë∆∞·ª£c tr·∫£ l∆∞∆°ng cao.\n- D. good-pay: sai c·∫•u tr√∫c.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Nh·ªØng h·ªçc sinh c√≥ nhi·ªÅu k·ªπ nƒÉng v√† ki·∫øn th·ª©c h∆°n c√≥ th·ªÉ ki·∫øm ƒë∆∞·ª£c m·ªôt c√¥ng vi·ªác l∆∞∆°ng cao trong t∆∞∆°ng lai.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: \"Well-paid\" l√† t√≠nh t·ª´ gh√©p ƒë√∫ng nghƒ©a v√† ng·ªØ ph√°p ƒë·ªÉ b·ªï nghƒ©a cho \"job\". Ng·ªØ c·∫£nh t√≠ch c·ª±c (more skills) -> well-paid."
    },
    {
      "questionNumber": 4,
      "question": "Modern schools provide __________________ activities including sports, music and gym clubs.",
      "answerOptions": [
        { "text": "extra class", "isCorrect": false },
        { "text": "extracurricular", "isCorrect": true },
        { "text": "past-time", "isCorrect": false },
        { "text": "overtime", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. extra class: l·ªõp h·ªçc th√™m.\n- B. extracurricular (adj): ngo·∫°i kh√≥a.\n- C. past-time: th√∫ ti√™u khi·ªÉn (vi·∫øt sai pastime).\n- D. overtime: l√†m th√™m gi·ªù.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"C√°c tr∆∞·ªùng h·ªçc hi·ªán ƒë·∫°i cung c·∫•p c√°c ho·∫°t ƒë·ªông ngo·∫°i kh√≥a bao g·ªìm th·ªÉ thao, √¢m nh·∫°c v√† c√¢u l·∫°c b·ªô th·ªÉ h√¨nh.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: \"Extracurricular activities\" l√† c·ª•m t·ª´ c·ªë ƒë·ªãnh ch·ªâ c√°c ho·∫°t ƒë·ªông ngo·∫°i kh√≥a."
    },
    {
      "questionNumber": 5,
      "question": "A university degree will give you a better chance to find a good ___________.",
      "answerOptions": [
        { "text": "employment", "isCorrect": false },
        { "text": "task", "isCorrect": false },
        { "text": "job", "isCorrect": true },
        { "text": "work", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. employment (n): vi·ªác l√†m (kh√¥ng ƒë·∫øm ƒë∆∞·ª£c).\n- B. task (n): nhi·ªám v·ª•.\n- C. job (n): c√¥ng vi·ªác (ƒë·∫øm ƒë∆∞·ª£c).\n- D. work (n): c√¥ng vi·ªác (kh√¥ng ƒë·∫øm ƒë∆∞·ª£c).\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"B·∫±ng ƒë·∫°i h·ªçc s·∫Ω cho b·∫°n c∆° h·ªôi t·ªët h∆°n ƒë·ªÉ t√¨m ƒë∆∞·ª£c m·ªôt c√¥ng vi·ªác t·ªët.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: \"Job\" l√† danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c, ph√π h·ª£p v·ªõi m·∫°o t·ª´ \"a\". C·ª•m \"find a job\" l√† collocation ph·ªï bi·∫øn."
    },
    {
      "questionNumber": 6,
      "question": "As a(n) __________________, he focuses on designing machinery that enhances efficiency in planting and harvesting.",
      "answerOptions": [
        { "text": "agricultural engineer", "isCorrect": true },
        { "text": "assembly worker", "isCorrect": false },
        { "text": "architect", "isCorrect": false },
        { "text": "biologist", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. agricultural engineer: k·ªπ s∆∞ n√¥ng nghi·ªáp.\n- B. assembly worker: c√¥ng nh√¢n l·∫Øp r√°p.\n- C. architect: ki·∫øn tr√∫c s∆∞.\n- D. biologist: nh√† sinh h·ªçc.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"L√† m·ªôt k·ªπ s∆∞ n√¥ng nghi·ªáp, anh ·∫•y t·∫≠p trung thi·∫øt k·∫ø m√°y m√≥c gi√∫p n√¢ng cao hi·ªáu qu·∫£ trong vi·ªác gieo tr·ªìng v√† thu ho·∫°ch.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: T·ª´ kh√≥a \"planting and harvesting\" (gieo tr·ªìng v√† thu ho·∫°ch) li√™n quan tr·ª±c ti·∫øp ƒë·∫øn n√¥ng nghi·ªáp."
    },
    {
      "questionNumber": 7,
      "question": "Most schools now ______________ digital records of students‚Äô performance so students can ask for these when necessary.",
      "answerOptions": [
        { "text": "take", "isCorrect": false },
        { "text": "make", "isCorrect": false },
        { "text": "keep", "isCorrect": true },
        { "text": "store", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. take: l·∫•y.\n- B. make: l√†m.\n- C. keep: gi·ªØ, l∆∞u gi·ªØ.\n- D. store: l∆∞u tr·ªØ.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"H·∫ßu h·∫øt c√°c tr∆∞·ªùng h·ªçc hi·ªán nay ƒë·ªÅu l∆∞u gi·ªØ h·ªì s∆° k·ªπ thu·∫≠t s·ªë v·ªÅ th√†nh t√≠ch c·ªßa h·ªçc sinh...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: \"Keep records\" l√† collocation chu·∫©n ch·ªâ vi·ªác l∆∞u gi·ªØ h·ªì s∆°, ghi ch√©p l·∫°i th√¥ng tin m·ªôt c√°ch li√™n t·ª•c."
    },
    {
      "questionNumber": 8,
      "question": "To be able to choose a(n) ______________ path students may have to think carefully of their interests, abilities, skills, experience and even your core values.",
      "answerOptions": [
        { "text": "employment", "isCorrect": false },
        { "text": "job", "isCorrect": false },
        { "text": "career", "isCorrect": true },
        { "text": "occupation", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. employment: vi·ªác l√†m.\n- B. job: c√¥ng vi·ªác.\n- C. career: s·ª± nghi·ªáp.\n- D. occupation: ngh·ªÅ nghi·ªáp.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"ƒê·ªÉ ch·ªçn m·ªôt con ƒë∆∞·ªùng s·ª± nghi·ªáp, h·ªçc sinh ph·∫£i suy nghƒ© k·ªπ...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: \"Career path\" (con ƒë∆∞·ªùng s·ª± nghi·ªáp) l√† c·ª•m t·ª´ c·ªë ƒë·ªãnh."
    },
    {
      "questionNumber": 9,
      "question": "School-leavers may consider taking a gap year to work for ______________ experience before entering a university.",
      "answerOptions": [
        { "text": "hands-on", "isCorrect": true },
        { "text": "handful", "isCorrect": false },
        { "text": "hand-made", "isCorrect": false },
        { "text": "handy", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. hands-on (adj): th·ª±c t·∫ø, th·ª±c h√†nh.\n- B. handful (n): m·ªôt n·∫Øm.\n- C. hand-made (adj): th·ªß c√¥ng.\n- D. handy (adj): ti·ªán d·ª•ng.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"H·ªçc sinh m·ªõi t·ªët nghi·ªáp c√≥ th·ªÉ c√¢n nh·∫Øc ngh·ªâ m·ªôt nƒÉm ƒë·ªÉ l√†m vi·ªác l·∫•y kinh nghi·ªám th·ª±c t·∫ø...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: \"Hands-on experience\" l√† c·ª•m t·ª´ c·ªë ƒë·ªãnh ch·ªâ kinh nghi·ªám th·ª±c ti·ªÖn."
    },
    {
      "questionNumber": 10,
      "question": "Tim wants to become a ___________ because he loves fixing machines and vehicles.",
      "answerOptions": [
        { "text": "singer", "isCorrect": false },
        { "text": "bartender", "isCorrect": false },
        { "text": "teacher", "isCorrect": false },
        { "text": "mechanic", "isCorrect": true }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. singer: ca sƒ©.\n- B. bartender: nh√¢n vi√™n pha ch·∫ø.\n- C. teacher: gi√°o vi√™n.\n- D. mechanic: th·ª£ c∆° kh√≠.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Tim mu·ªën tr·ªü th√†nh th·ª£ c∆° kh√≠ v√¨ c·∫≠u ·∫•y th√≠ch s·ª≠a ch·ªØa m√°y m√≥c v√† xe c·ªô.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: T·ª´ kh√≥a \"fixing machines and vehicles\" ch·ªâ ngh·ªÅ th·ª£ c∆° kh√≠."
    },
    {
      "questionNumber": 11,
      "question": "The talented __________________ in the restaurant can prepare a variety of dishes.",
      "answerOptions": [
        { "text": "chefs", "isCorrect": true },
        { "text": "tailors", "isCorrect": false },
        { "text": "cashiers", "isCorrect": false },
        { "text": "managers", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. chefs: ƒë·∫ßu b·∫øp.\n- B. tailors: th·ª£ may.\n- C. cashiers: thu ng√¢n.\n- D. managers: qu·∫£n l√Ω.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Nh·ªØng ƒë·∫ßu b·∫øp t√†i nƒÉng trong nh√† h√†ng c√≥ th·ªÉ ch·∫ø bi·∫øn ƒëa d·∫°ng c√°c m√≥n ƒÉn.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: T·ª´ kh√≥a \"restaurant\" v√† \"prepare dishes\" ch·ªâ ƒë·∫ßu b·∫øp."
    },
    {
      "questionNumber": 12,
      "question": "Seeking __________ after graduating university is not an easy job for most students.",
      "answerOptions": [
        { "text": "employable", "isCorrect": false },
        { "text": "employer", "isCorrect": false },
        { "text": "employee", "isCorrect": false },
        { "text": "employment", "isCorrect": true }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. employable (adj): c√≥ th·ªÉ thu√™ ƒë∆∞·ª£c.\n- B. employer (n): √¥ng ch·ªß.\n- C. employee (n): nh√¢n vi√™n.\n- D. employment (n): vi·ªác l√†m.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"T√¨m ki·∫øm vi·ªác l√†m sau khi t·ªët nghi·ªáp ƒë·∫°i h·ªçc kh√¥ng ph·∫£i l√† m·ªôt vi·ªác d·ªÖ d√†ng...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: C·ª•m \"Seeking employment\" (t√¨m ki·∫øm vi·ªác l√†m) l√† c√°ch di·ªÖn ƒë·∫°t trang tr·ªçng."
    },
    {
      "questionNumber": 13,
      "question": "Many of my friends are __________________. They are fashion designers, painters and musicians.",
      "answerOptions": [
        { "text": "skillful", "isCorrect": false },
        { "text": "artistic", "isCorrect": true },
        { "text": "patient", "isCorrect": false },
        { "text": "technical", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. skillful: kh√©o l√©o.\n- B. artistic: c√≥ khi·∫øu ngh·ªá thu·∫≠t.\n- C. patient: ki√™n nh·∫´n.\n- D. technical: k·ªπ thu·∫≠t.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Nhi·ªÅu ng∆∞·ªùi b·∫°n c·ªßa t√¥i c√≥ khi·∫øu ngh·ªá thu·∫≠t. H·ªç l√† nh√† thi·∫øt k·∫ø th·ªùi trang, h·ªça sƒ©...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: C√°c ngh·ªÅ nghi·ªáp ƒë∆∞·ª£c li·ªát k√™ ƒë·ªÅu thu·ªôc lƒ©nh v·ª±c ngh·ªá thu·∫≠t -> d√πng \"artistic\"."
    },
    {
      "questionNumber": 14,
      "question": "The most ___________ part of this training course is a three-day field trip to Sa Pa.",
      "answerOptions": [
        { "text": "rewarding", "isCorrect": true },
        { "text": "training", "isCorrect": false },
        { "text": "designing", "isCorrect": false },
        { "text": "demanding", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. rewarding (adj): b·ªï √≠ch, ƒë√°ng gi√°.\n- B. training: ƒë√†o t·∫°o.\n- C. designing: thi·∫øt k·∫ø.\n- D. demanding: v·∫•t v·∫£.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Ph·∫ßn b·ªï √≠ch nh·∫•t c·ªßa kh√≥a ƒë√†o t·∫°o n√†y l√† chuy·∫øn ƒëi th·ª±c t·∫ø 3 ng√†y t·ªõi Sa Pa.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: Chuy·∫øn ƒëi th·ª±c t·∫ø (field trip) mang l·∫°i tr·∫£i nghi·ªám th√∫ v·ªã -> \"rewarding\"."
    },
    {
      "questionNumber": 15,
      "question": "Students of grade 12 often have to burn the midnight oil to ______________ deadlines.",
      "answerOptions": [
        { "text": "meet", "isCorrect": true },
        { "text": "take", "isCorrect": false },
        { "text": "keep", "isCorrect": false },
        { "text": "avoid", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. meet: g·∫∑p, ƒë√°p ·ª©ng.\n- B. take: l·∫•y.\n- C. keep: gi·ªØ.\n- D. avoid: tr√°nh.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"H·ªçc sinh l·ªõp 12 th∆∞·ªùng ph·∫£i th·ª©c khuya ƒë·ªÉ k·ªãp th·ªùi h·∫°n.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: \"Meet a deadline\" (k·ªãp th·ªùi h·∫°n) l√† collocation kinh ƒëi·ªÉn."
    },
    {
      "questionNumber": 16,
      "question": "_________________ training is focused on building skills specific to an occupation or career field.",
      "answerOptions": [
        { "text": "Educational", "isCorrect": false },
        { "text": "Theoretical", "isCorrect": false },
        { "text": "Vocational", "isCorrect": true },
        { "text": "Academic", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. Educational: gi√°o d·ª•c.\n- B. Theoretical: l√Ω thuy·∫øt.\n- C. Vocational: thu·ªôc ngh·ªÅ nghi·ªáp/d·∫°y ngh·ªÅ.\n- D. Academic: h·ªçc thu·∫≠t.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"ƒê√†o t·∫°o ngh·ªÅ t·∫≠p trung v√†o vi·ªác x√¢y d·ª±ng c√°c k·ªπ nƒÉng c·ª• th·ªÉ cho m·ªôt ngh·ªÅ nghi·ªáp...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: ƒê·ªãnh nghƒ©a c·ªßa \"Vocational training\"."
    },
    {
      "questionNumber": 17,
      "question": "Teaching young children can be challenging, but the __________________ moments make it worthwhile.",
      "answerOptions": [
        { "text": "rewarding", "isCorrect": true },
        { "text": "demanding", "isCorrect": false },
        { "text": "repetitive", "isCorrect": false },
        { "text": "boring", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. rewarding: b·ªï √≠ch, th·ªèa m√£n.\n- B. demanding: ƒë√≤i h·ªèi cao.\n- C. repetitive: l·∫∑p l·∫°i.\n- D. boring: ch√°n.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"D·∫°y tr·∫ª nh·ªè c√≥ th·ªÉ ƒë·∫ßy th√°ch th·ª©c, nh∆∞ng nh·ªØng kho·∫£nh kh·∫Øc √Ω nghƒ©a khi·∫øn ƒëi·ªÅu ƒë√≥ tr·ªü n√™n ƒë√°ng gi√°.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: C·∫ßn t√≠nh t·ª´ t√≠ch c·ª±c ƒë·ªÉ ƒë·ªëi l·∫≠p v·ªõi \"challenging\" v√† ph√π h·ª£p v·ªõi \"worthwhile\"."
    },
    {
      "questionNumber": 18,
      "question": "He intends to _________________ in medical school to qualify as a doctor and specialise in health care.",
      "answerOptions": [
        { "text": "enrol", "isCorrect": true },
        { "text": "manage", "isCorrect": false },
        { "text": "take", "isCorrect": false },
        { "text": "promote", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. enrol (v): ƒëƒÉng k√Ω nh·∫≠p h·ªçc.\n- B. manage (v): qu·∫£n l√Ω.\n- C. take (v): l·∫•y.\n- D. promote (v): thƒÉng ch·ª©c.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Anh ·∫•y d·ª± ƒë·ªãnh ƒëƒÉng k√Ω v√†o tr∆∞·ªùng y...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: \"Enrol in school\" l√† c·∫•u tr√∫c chu·∫©n."
    },
    {
      "questionNumber": 19,
      "question": "Matt works part-time at a hairdresser's to gain more ___________.  ",
      "answerOptions": [
        { "text": "experience", "isCorrect": true },
        { "text": "lessons", "isCorrect": false },
        { "text": "orientation", "isCorrect": false },
        { "text": "salary", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. experience: kinh nghi·ªám.\n- B. lessons: b√†i h·ªçc.\n- C. orientation: ƒë·ªãnh h∆∞·ªõng.\n- D. salary: l∆∞∆°ng.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Matt l√†m vi·ªác b√°n th·ªùi gian... ƒë·ªÉ t√≠ch l≈©y th√™m kinh nghi·ªám.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: C·ª•m \"gain experience\" (t√≠ch l≈©y kinh nghi·ªám) r·∫•t ph·ªï bi·∫øn."
    },
    {
      "questionNumber": 20,
      "question": "Susan decided to __________________ a course in art and design because it‚Äôs a good way to progress her career.",
      "answerOptions": [
        { "text": "teach", "isCorrect": false },
        { "text": "run", "isCorrect": false },
        { "text": "access", "isCorrect": false },
        { "text": "take", "isCorrect": true }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. teach: d·∫°y.\n- B. run: ƒëi·ªÅu h√†nh.\n- C. access: truy c·∫≠p.\n- D. take: tham gia/h·ªçc.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Susan quy·∫øt ƒë·ªãnh tham gia m·ªôt kh√≥a h·ªçc v·ªÅ ngh·ªá thu·∫≠t...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: \"Take a course\" (tham gia kh√≥a h·ªçc) l√† c·ª•m t·ª´ c·ªë ƒë·ªãnh."
    },
    {
      "questionNumber": 21,
      "question": "He tried to __________________ by teaching French in Harvard College.",
      "answerOptions": [
        { "text": "earn a living", "isCorrect": true },
        { "text": "find a way", "isCorrect": false },
        { "text": "do a job", "isCorrect": false },
        { "text": "make a progress", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. earn a living: ki·∫øm s·ªëng.\n- B. find a way: t√¨m c√°ch.\n- C. do a job: l√†m vi·ªác.\n- D. make a progress: sai ng·ªØ ph√°p (progress kh√¥ng c√≥ 'a').\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Anh ·∫•y c·ªë g·∫Øng ki·∫øm s·ªëng b·∫±ng c√°ch d·∫°y ti·∫øng Ph√°p...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: \"Earn a living\" l√† th√†nh ng·ªØ ch·ªâ vi·ªác l√†m vi·ªác ƒë·ªÉ ki·∫øm ti·ªÅn trang tr·∫£i cu·ªôc s·ªëng."
    },
    {
      "questionNumber": 22,
      "question": "After leaving university, I wasn‚Äôt sure which career __________________ to choose.",
      "answerOptions": [
        { "text": "path", "isCorrect": true },
        { "text": "route", "isCorrect": false },
        { "text": "track", "isCorrect": false },
        { "text": "road", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. path: con ƒë∆∞·ªùng (nghƒ©a b√≥ng).\n- B. route: tuy·∫øn ƒë∆∞·ªùng.\n- C. track: ƒë∆∞·ªùng ray.\n- D. road: con ƒë∆∞·ªùng (nghƒ©a ƒëen).\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Sau khi r·ªùi ƒë·∫°i h·ªçc, t√¥i kh√¥ng ch·∫Øc n√™n ch·ªçn con ƒë∆∞·ªùng s·ª± nghi·ªáp n√†o.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: \"Career path\" l√† thu·∫≠t ng·ªØ chu·∫©n."
    },
    {
      "questionNumber": 23,
      "question": "______________ training is a program that focuses on the skills that a specific job requires.",
      "answerOptions": [
        { "text": "Work", "isCorrect": false },
        { "text": "Job", "isCorrect": false },
        { "text": "Employment", "isCorrect": false },
        { "text": "Vocational", "isCorrect": true }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. Work: c√¥ng vi·ªác.\n- B. Job: ngh·ªÅ nghi·ªáp.\n- C. Employment: vi·ªác l√†m.\n- D. Vocational: thu·ªôc ngh·ªÅ nghi·ªáp/d·∫°y ngh·ªÅ.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"ƒê√†o t·∫°o ngh·ªÅ l√† m·ªôt ch∆∞∆°ng tr√¨nh t·∫≠p trung v√†o c√°c k·ªπ nƒÉng m√† m·ªôt c√¥ng vi·ªác c·ª• th·ªÉ y√™u c·∫ßu.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: ƒê·ªãnh nghƒ©a chu·∫©n c·ªßa \"Vocational training\"."
    },
    {
      "questionNumber": 24,
      "question": "Despite long hours working with computers, a software engineer is often ___________. ",
      "answerOptions": [
        { "text": "creative", "isCorrect": false },
        { "text": "stress-free", "isCorrect": false },
        { "text": "well-paid", "isCorrect": true },
        { "text": "decisive", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. creative: s√°ng t·∫°o.\n- B. stress-free: kh√¥ng cƒÉng th·∫≥ng.\n- C. well-paid: l∆∞∆°ng cao.\n- D. decisive: quy·∫øt ƒëo√°n.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"M·∫∑c d√π ph·∫£i l√†m vi·ªác nhi·ªÅu gi·ªù... m·ªôt k·ªπ s∆∞ ph·∫ßn m·ªÅm th∆∞·ªùng ƒë∆∞·ª£c tr·∫£ l∆∞∆°ng cao.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: D√πng \"well-paid\" ƒë·ªÉ t·∫°o s·ª± ƒë·ªëi l·∫≠p (Despite) v·ªõi s·ª± v·∫•t v·∫£ (long hours)."
    },
    {
      "questionNumber": 25,
      "question": "Many parents tend to be worried when students spend more time on ______________ subjects.",
      "answerOptions": [
        { "text": "academic", "isCorrect": false },
        { "text": "part-time", "isCorrect": false },
        { "text": "extra", "isCorrect": false },
        { "text": "non-academic", "isCorrect": true }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. academic: h·ªçc thu·∫≠t.\n- B. part-time: b√°n th·ªùi gian.\n- C. extra: th√™m.\n- D. non-academic: phi h·ªçc thu·∫≠t.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Nhi·ªÅu b·∫≠c cha m·∫π c√≥ xu h∆∞·ªõng lo l·∫Øng khi h·ªçc sinh d√†nh nhi·ªÅu th·ªùi gian h∆°n cho c√°c m√¥n phi h·ªçc thu·∫≠t.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: Ph·ª• huynh th∆∞·ªùng lo l·∫Øng n·∫øu con xao nh√£ng c√°c m√¥n ch√≠nh (academic) ƒë·ªÉ h·ªçc c√°c m√¥n ph·ª• (non-academic)."
    },
    {
      "questionNumber": 26,
      "question": "It‚Äôs ______________ for students to take part in school clubs to gain and improve social skills.",
      "answerOptions": [
        { "text": "rewarding", "isCorrect": true },
        { "text": "award", "isCorrect": false },
        { "text": "awarding", "isCorrect": false },
        { "text": "reward", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. rewarding (adj): b·ªï √≠ch.\n- B. award (n/v): gi·∫£i th∆∞·ªüng.\n- C. awarding (v-ing): trao th∆∞·ªüng.\n- D. reward (n/v): ph·∫ßn th∆∞·ªüng.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Th·∫≠t b·ªï √≠ch cho h·ªçc sinh khi tham gia c√°c c√¢u l·∫°c b·ªô...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: C·∫•u tr√∫c \"It is + adj + for smb...\" c·∫ßn t√≠nh t·ª´."
    },
    {
      "questionNumber": 27,
      "question": "________ it was so cold, he went out without an overcoat.",
      "answerOptions": [
        { "text": "Because", "isCorrect": false },
        { "text": "Since", "isCorrect": false },
        { "text": "Although", "isCorrect": true },
        { "text": "If", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. Because: B·ªüi v√¨.\n- B. Since: B·ªüi v√¨.\n- C. Although: M·∫∑c d√π.\n- D. If: N·∫øu.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"M·∫∑c d√π tr·ªùi r·∫•t l·∫°nh, anh ·∫•y v·∫´n ƒëi ra ngo√†i m√† kh√¥ng m·∫∑c √°o kho√°c.\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: Hai v·∫ø ƒë·ªëi l·∫≠p (l·∫°nh >< kh√¥ng m·∫∑c √°o) -> D√πng \"Although\"."
    },
    {
      "questionNumber": 28,
      "question": "____________ Alice had a fear of heights, she bravely agreed to go rock climbing with her friends.",
      "answerOptions": [
        { "text": "So", "isCorrect": false },
        { "text": "But", "isCorrect": false },
        { "text": "Although", "isCorrect": true },
        { "text": "However", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. So: V√¨ v·∫≠y.\n- B. But: Nh∆∞ng.\n- C. Although: M·∫∑c d√π.\n- D. However: Tuy nhi√™n.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"M·∫∑c d√π Alice m·∫Øc ch·ª©ng s·ª£ ƒë·ªô cao, c√¥ ·∫•y v·∫´n d≈©ng c·∫£m ƒë·ªìng √Ω ƒëi leo n√∫i...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: Hai v·∫ø ƒë·ªëi l·∫≠p (s·ª£ ƒë·ªô cao >< ƒëi leo n√∫i) -> D√πng \"Although\"."
    },
    {
      "questionNumber": 29,
      "question": "Lily didn't attend the job fair on Wednesday ________ she had an English test on that day.",
      "answerOptions": [
        { "text": "and", "isCorrect": false },
        { "text": "so", "isCorrect": false },
        { "text": "though", "isCorrect": false },
        { "text": "because", "isCorrect": true }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. and: v√†.\n- B. so: v√¨ v·∫≠y.\n- C. though: m·∫∑c d√π.\n- D. because: b·ªüi v√¨.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Lily ƒë√£ kh√¥ng tham d·ª± h·ªôi ch·ª£ vi·ªác l√†m... v√¨ c√¥ ·∫•y c√≥ b√†i ki·ªÉm tra...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: V·∫ø sau gi·∫£i th√≠ch nguy√™n nh√¢n cho v·∫ø tr∆∞·ªõc -> D√πng \"because\"."
    },
    {
      "questionNumber": 30,
      "question": "______________ university study offers students many opportunities for future jobs, vocational training has its benefits of hands-on experience.",
      "answerOptions": [
        { "text": "Although", "isCorrect": true },
        { "text": "Yet", "isCorrect": false },
        { "text": "But", "isCorrect": false },
        { "text": "However", "isCorrect": false }
      ],
      "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. Although: M·∫∑c d√π.\n- B. Yet: Tuy nhi√™n.\n- C. But: Nh∆∞ng.\n- D. However: Tuy nhi√™n.\n\n2. D·ªãch nghƒ©a to√†n c√¢u: \"M·∫∑c d√π h·ªçc ƒë·∫°i h·ªçc mang l·∫°i... c∆° h·ªôi... nh∆∞ng ƒë√†o t·∫°o ngh·ªÅ c≈©ng c√≥ l·ª£i √≠ch...\"\n\n3. Gi·∫£i th√≠ch chi ti·∫øt: C√¢u so s√°nh 2 v·∫ø ƒë·ªëi l·∫≠p nh·∫π, \"Although\" ƒë·ª©ng ƒë·∫ßu c√¢u l√† ph√π h·ª£p nh·∫•t."
    }
    ];

    const quizContainer = document.getElementById('quiz-container');
    const progressText = document.getElementById('progress-text');
    let userAnswers = new Array(questionsData.length).fill(null);
    let checkedQuestions = new Array(questionsData.length).fill(false);

    // Render Quiz
    function renderQuiz() {
        quizContainer.innerHTML = '';
        questionsData.forEach((q, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';
            card.id = `q-card-${index}`;

            let optionsHtml = '';
            q.answerOptions.forEach((opt, optIndex) => {
                optionsHtml += `
                    <label class="option-label" id="lbl-${index}-${optIndex}">
                        <input type="radio" name="question${index}" value="${optIndex}" onchange="selectOption(${index}, ${optIndex})">
                        <span>${["A", "B", "C", "D"][optIndex]}. ${opt.text}</span>
                    </label>
                `;
            });

            card.innerHTML = `
                <div class="q-header">
                    <span class="q-number">C√¢u ${q.questionNumber}</span>
                </div>
                <div class="q-text">${q.question}</div>
                <div class="options-grid">${optionsHtml}</div>
                <button class="btn-check-single" id="btn-check-${index}" onclick="checkQuestion(${index})" disabled>KI·ªÇM TRA C√ÇU N√ÄY</button>
                <div class="explanation-box" id="exp-${index}">
                    <div class="exp-title">üìù GI·∫¢I TH√çCH CHI TI·∫æT:</div>
                    <div class="exp-content">${q.rationale}</div>
                </div>
            `;
            quizContainer.appendChild(card);
        });
        updateProgress();
    }

    // Handle Selection
    window.selectOption = function(qIndex, optIndex) {
        if (checkedQuestions[qIndex]) return; // Prevent change after check
        userAnswers[qIndex] = optIndex;
        document.getElementById(`btn-check-${qIndex}`).disabled = false;
        
        // Update UI selection visually (optional, CSS handles radio check)
        const labels = document.querySelectorAll(`#q-card-${qIndex} .option-label`);
        labels.forEach(lbl => lbl.style.borderColor = '#e0e0e0');
        document.getElementById(`lbl-${qIndex}-${optIndex}`).style.borderColor = 'var(--primary-color)';
        
        updateProgress();
    };

    // Check Single Question
    window.checkQuestion = function(index) {
        const selectedOptIndex = userAnswers[index];
        if (selectedOptIndex === null) return;

        checkedQuestions[index] = true;
        const qData = questionsData[index];
        const card = document.getElementById(`q-card-${index}`);
        const btn = document.getElementById(`btn-check-${index}`);
        const expBox = document.getElementById(`exp-${index}`);
        const labels = document.querySelectorAll(`#q-card-${index} .option-label`);
        const inputs = document.querySelectorAll(`#q-card-${index} input`);

        // Disable interaction
        inputs.forEach(input => input.disabled = true);
        btn.style.display = 'none'; // Hide button after check

        // Check Correctness
        const isCorrect = qData.answerOptions[selectedOptIndex].isCorrect;
        
        if (isCorrect) {
            card.classList.add('answered-correct');
        } else {
            card.classList.add('answered-incorrect');
        }

        // Colorize Options
        qData.answerOptions.forEach((opt, idx) => {
            const label = document.getElementById(`lbl-${index}-${idx}`);
            if (opt.isCorrect) {
                label.classList.add('correct'); // Always show correct answer
            } else if (idx === selectedOptIndex && !isCorrect) {
                label.classList.add('incorrect'); // Show selected wrong answer
            } else {
                label.classList.add('dimmed');
            }
        });

        // Show Explanation
        expBox.classList.add('show');
    };

    // Update Progress Text
    function updateProgress() {
        const answeredCount = userAnswers.filter(a => a !== null).length;
        progressText.innerText = `ƒê√£ l√†m: ${answeredCount}/${questionsData.length}`;
    }

    // Submit Quiz
    window.submitQuiz = function() {
        let correctCount = 0;
        let unanswered = 0;

        // Auto check all unchecked questions
        questionsData.forEach((q, index) => {
            if (!checkedQuestions[index]) {
                if (userAnswers[index] !== null) {
                    checkQuestion(index);
                } else {
                    unanswered++;
                    // Highlight unanswered
                    const card = document.getElementById(`q-card-${index}`);
                    card.style.borderLeftColor = 'var(--warning-color)';
                    
                    // Show correct answer for unanswered
                     const labels = document.querySelectorAll(`#q-card-${index} .option-label`);
                     const inputs = document.querySelectorAll(`#q-card-${index} input`);
                     inputs.forEach(input => input.disabled = true);
                     document.getElementById(`btn-check-${index}`).style.display = 'none';
                     
                     q.answerOptions.forEach((opt, idx) => {
                        const label = document.getElementById(`lbl-${index}-${idx}`);
                        if (opt.isCorrect) label.classList.add('correct');
                        else label.classList.add('dimmed');
                     });
                     document.getElementById(`exp-${index}`).classList.add('show');
                }
            }
            
            // Calculate score
            if (userAnswers[index] !== null && questionsData[index].answerOptions[userAnswers[index]].isCorrect) {
                correctCount++;
            }
        });

        // Show Result Modal
        const modal = document.getElementById('resultModal');
        const finalScore = document.getElementById('final-score');
        const resultMsg = document.getElementById('result-message');
        
        finalScore.innerText = `${correctCount}`;
        resultMsg.innerHTML = `B·∫°n tr·∫£ l·ªùi ƒë√∫ng <b>${correctCount}</b> tr√™n t·ªïng s·ªë <b>${questionsData.length}</b> c√¢u.<br>
        ${unanswered > 0 ? `<span style="color:#ffc107">C√≥ ${unanswered} c√¢u ch∆∞a l√†m.</span>` : ''}`;
        
        modal.style.display = 'flex';
    };

    window.closeModal = function() {
        document.getElementById('resultModal').style.display = 'none';
        window.scrollTo(0, 0);
    };

    // Initialize
    renderQuiz();
</script>

</body>
</html>
