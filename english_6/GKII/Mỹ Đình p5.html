<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i Ki·ªÉm Tra T∆∞∆°ng T√°c - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Nunito:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(-45deg, #8854C0, #FDCB6E, #00C9A7, #8854C0);
            --correct-color: #00D26A;
            --wrong-color: #FF4757;
            --btn-shadow-correct: #00994d;
            --btn-shadow-wrong: #cc3946;
            --btn-shadow-default: #d1d8e0;
            --text-dark: #2d3436;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Nunito', 'Quicksand', sans-serif;
        }

        body {
            background: var(--primary-gradient);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: var(--text-dark);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* SVG Pattern Overlay */
        .pattern-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 0;
            background-image: url('data:image/svg+xml;utf8,<svg width="150" height="150" xmlns="http://www.w3.org/2000/svg"><text x="20" y="40" font-size="25" opacity="0.6">‚úàÔ∏è</text><text x="80" y="90" font-size="30" opacity="0.5">üåè</text><text x="40" y="130" font-size="20" opacity="0.6">üèñÔ∏è</text><text x="120" y="50" font-size="25" opacity="0.5">üöÄ</text></svg>');
            animation: floatPattern 40s linear infinite;
        }

        @keyframes floatPattern {
            from { background-position: 0 0; }
            to { background-position: 1000px 1000px; }
        }

        /* Top Control Bar */
        .top-bar {
            position: relative;
            z-index: 10;
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            border-bottom: 4px solid #FDCB6E;
        }

        .teacher-info h1 {
            font-size: 1.2rem;
            color: #8854C0;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .timer-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .btn-timer {
            background-color: #00C9A7;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 4px 0 #009e83;
            transition: all 0.1s;
        }

        .btn-timer:active {
            transform: translateY(4px);
            box-shadow: 0 0 0 #009e83;
        }

        .timer-display {
            font-size: 1.5rem;
            font-weight: 800;
            color: #FF4757;
            background: #ffeaa7;
            padding: 5px 15px;
            border-radius: 10px;
            min-width: 90px;
            text-align: center;
        }

        /* Split Screen Layout */
        .main-content {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
            z-index: 1;
            padding: 20px;
            gap: 20px;
        }

        .panel {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            padding: 25px;
            overflow-y: auto;
            border: 3px solid white;
            backdrop-filter: blur(10px);
        }

        /* Custom Scrollbar */
        .panel::-webkit-scrollbar { width: 8px; }
        .panel::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
        .panel::-webkit-scrollbar-thumb { background: #FDCB6E; border-radius: 10px; }

        /* Reading Passage Styles */
        .passage-section {
            margin-bottom: 40px;
            background: #fff;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            border-left: 5px solid #8854C0;
        }

        .passage-title {
            color: #8854C0;
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: 800;
            text-align: center;
        }

        .paragraph-block {
            margin-bottom: 20px;
            font-size: 1.15rem;
            line-height: 1.7;
        }

        .btn-translate {
            background: #ffeaa7;
            color: #d35400;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            margin-top: 10px;
            transition: 0.2s;
            display: inline-block;
        }
        .btn-translate:hover { background: #fdcb6e; }

        .translation-box {
            display: none;
            background: #fff9e6;
            padding: 15px;
            border-radius: 10px;
            margin-top: 10px;
            border-left: 4px solid #f39c12;
            font-size: 1.05rem;
            color: #555;
            animation: fadeIn 0.3s;
        }

        /* Glossary Table */
        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .glossary-table th {
            background: #00C9A7;
            color: white;
            padding: 10px;
            text-align: left;
        }
        .glossary-table td {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }
        .glossary-table tr:last-child td { border-bottom: none; }
        .glossary-table tr:hover { background: #f8fdfc; }

        /* Exercise Cards */
        .quiz-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
            border: 2px solid #f1f2f6;
            transition: 0.3s;
        }
        .quiz-card:hover { border-color: #8854C0; }

        .question-text {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: #2d3436;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }

        .option-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 15px 20px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            color: #495057;
            cursor: pointer;
            text-align: left;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 5px 0 var(--btn-shadow-default);
            display: flex;
            align-items: center;
        }
        .option-btn:hover {
            transform: translateY(-3px) scale(1.02);
            box-shadow: 0 8px 0 var(--btn-shadow-default);
        }
        .option-btn:active {
            transform: translateY(5px);
            box-shadow: 0 0 0 var(--btn-shadow-default);
        }

        .option-btn.correct {
            background: var(--correct-color);
            color: white;
            border-color: var(--correct-color);
            box-shadow: 0 5px 0 var(--btn-shadow-correct);
        }
        .option-btn.wrong {
            background: var(--wrong-color);
            color: white;
            border-color: var(--wrong-color);
            box-shadow: 0 5px 0 var(--btn-shadow-wrong);
        }

        .option-label {
            background: white;
            color: #333;
            width: 30px; height: 30px;
            border-radius: 50%;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            margin-right: 15px;
            font-weight: 800;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* Animations */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20%, 60% { transform: translateX(-10px); }
            40%, 80% { transform: translateX(10px); }
        }
        .shake { animation: shake 0.5s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }

        /* Explanation Box */
        .explanation-box {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: #f0fdf4;
            border-radius: 15px;
            border: 2px dashed #00D26A;
            animation: fadeIn 0.4s;
        }
        .explanation-title { color: #00994d; font-weight: 800; margin-bottom: 10px; font-size: 1.1rem; }
        .explanation-content p { margin-bottom: 8px; line-height: 1.6; }

        /* Submit Button */
        .btn-submit {
            display: block;
            width: 100%;
            background: linear-gradient(to right, #8854C0, #FDCB6E);
            color: white;
            font-size: 1.5rem;
            font-weight: 800;
            padding: 20px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            box-shadow: 0 8px 0 #6c4298;
            transition: 0.2s;
            margin-top: 30px;
            text-transform: uppercase;
        }
        .btn-submit:hover { transform: translateY(-5px); box-shadow: 0 13px 0 #6c4298; }
        .btn-submit:active { transform: translateY(8px); box-shadow: 0 0 0 #6c4298; }

        /* Modal Result */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            display: none; justify-content: center; align-items: center;
            z-index: 100; backdrop-filter: blur(5px);
        }
        .modal-content {
            background: white; padding: 40px; border-radius: 30px;
            text-align: center; max-width: 500px; width: 90%;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            animation: fadeIn 0.5s;
        }
        .modal-score { font-size: 4rem; font-weight: 800; color: #8854C0; margin: 20px 0; }
        .modal-comment { font-size: 1.5rem; font-weight: 700; color: #00C9A7; margin-bottom: 20px; }
        .btn-close-modal {
            background: #FF4757; color: white; border: none; padding: 12px 30px;
            border-radius: 15px; font-size: 1.2rem; font-weight: 700; cursor: pointer;
            box-shadow: 0 5px 0 #cc3946; transition: 0.2s;
        }
        .btn-close-modal:active { transform: translateY(5px); box-shadow: 0 0 0; }

        /* Confetti Canvas */
        #confetti-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 99; }
    </style>
</head>
<body>

    <div class="pattern-overlay"></div>
    <canvas id="confetti-canvas"></canvas>

    <div class="top-bar">
        <div class="teacher-info">
            <h1>Gi√°o vi√™n: Ms Mai An ULIS</h1>
        </div>
        <div class="timer-container">
            <div class="timer-display" id="timerDisplay">10:00</div>
            <button class="btn-timer" id="btnTimer" onclick="toggleTimer()">B·∫ÆT ƒê·∫¶U T√çNH GI·ªú L√ÄM B√ÄI</button>
        </div>
    </div>

    <div class="main-content">
        <div class="panel" id="leftPanel">
            
            <div class="passage-section">
                <h2 class="passage-title">TRAVEL IN THE PAST</h2>
                
                <div class="paragraph-block">
                    <p>1. In the past, traveling long distances was difficult, and not everyone (15) ........... could afford to do it.</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">Trong qu√° kh·ª©, vi·ªác ƒëi l·∫°i nh·ªØng kho·∫£ng c√°ch xa r·∫•t kh√≥ khƒÉn, v√† kh√¥ng ph·∫£i ai c≈©ng c√≥ ƒë·ªß kh·∫£ nƒÉng t√†i ch√≠nh ƒë·ªÉ th·ª±c hi·ªán ƒëi·ªÅu ƒë√≥.</div>
                </div>

                <div class="paragraph-block">
                    <p>2. People (16) ........... use horses, or walk to reach their destinations.</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">Ng∆∞·ªùi ta ƒë√£ ph·∫£i s·ª≠ d·ª•ng ng·ª±a, ho·∫∑c ƒëi b·ªô ƒë·ªÉ ƒë·∫øn ƒë∆∞·ª£c ƒëi·ªÉm ƒë√≠ch c·ªßa m√¨nh.</div>
                </div>

                <div class="paragraph-block">
                    <p>3. Communication while traveling (17) ........... often limited to letters and messengers.</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">Giao ti·∫øp trong khi ƒëi l·∫°i th∆∞·ªùng b·ªã gi·ªõi h·∫°n ·ªü th∆∞ t·ª´ v√† ng∆∞·ªùi ƒë∆∞a tin.</div>
                </div>

                <h3>Glossary (T·ª´ v·ª±ng h·ªçc thu·∫≠t)</h3>
                <table class="glossary-table">
                    <tr><th>Word</th><th>Part of Speech</th><th>Meaning</th></tr>
                    <tr><td>Distance</td><td>Noun</td><td>Kho·∫£ng c√°ch, qu√£ng ƒë∆∞·ªùng</td></tr>
                    <tr><td>Afford</td><td>Verb</td><td>C√≥ ƒë·ªß kh·∫£ nƒÉng (th∆∞·ªùng v·ªÅ t√†i ch√≠nh/th·ªùi gian)</td></tr>
                    <tr><td>Destination</td><td>Noun</td><td>ƒêi·ªÉm ƒë·∫øn, ƒë√≠ch ƒë·∫øn</td></tr>
                    <tr><td>Communication</td><td>Noun</td><td>S·ª± giao ti·∫øp, truy·ªÅn th√¥ng</td></tr>
                    <tr><td>Messenger</td><td>Noun</td><td>Ng∆∞·ªùi ƒë∆∞a tin</td></tr>
                </table>
            </div>

            <div class="passage-section">
                <h2 class="passage-title">NHA TRANG CITY</h2>
                <div class="paragraph-block">
                    <p>Nha Trang is a famous seaside city in central Viet Nam. It attracts a lot of tourists (18) ........... many countries because it has beautiful beaches and an (19) ........... atmosphere of a young, growing city.</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">Nha Trang l√† m·ªôt th√†nh ph·ªë bi·ªÉn n·ªïi ti·∫øng ·ªü mi·ªÅn Trung Vi·ªát Nam. N√≥ thu h√∫t r·∫•t nhi·ªÅu kh√°ch du l·ªãch t·ª´ nhi·ªÅu qu·ªëc gia b·ªüi v√¨ n√≥ c√≥ nh·ªØng b√£i bi·ªÉn ƒë·∫πp v√† m·ªôt b·∫ßu kh√¥ng kh√≠ th√∫ v·ªã c·ªßa m·ªôt th√†nh ph·ªë tr·∫ª, ƒëang ph√°t tri·ªÉn.</div>
                </div>

                <div class="paragraph-block">
                    <p>Coming to Nha Trang from January to August, you can enjoy wonderful weather: warm and sunny. It is so good for swimming and sunbathing. Visitors can rent a (20) ........... and cycle around the city. Nha Trang is also well-known for its delicious (21) ............</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">ƒê·∫øn Nha Trang t·ª´ th√°ng 1 ƒë·∫øn th√°ng 8, b·∫°n c√≥ th·ªÉ t·∫≠n h∆∞·ªüng th·ªùi ti·∫øt tuy·ªát v·ªùi: ·∫•m √°p v√† c√≥ n·∫Øng. N√≥ r·∫•t t·ªët cho vi·ªác b∆°i l·ªôi v√† t·∫Øm n·∫Øng. Du kh√°ch c√≥ th·ªÉ thu√™ m·ªôt chi·∫øc xe ƒë·∫°p v√† ƒë·∫°p xe v√≤ng quanh th√†nh ph·ªë. Nha Trang c≈©ng r·∫•t n·ªïi ti·∫øng v·ªõi h·∫£i s·∫£n th∆°m ngon c·ªßa n√≥.</div>
                </div>
                
                <h3>Glossary (T·ª´ v·ª±ng h·ªçc thu·∫≠t)</h3>
                <table class="glossary-table">
                    <tr><th>Word</th><th>Part of Speech</th><th>Meaning</th></tr>
                    <tr><td>Seaside</td><td>Noun/Adj</td><td>B·ªù bi·ªÉn, thu·ªôc v·ªÅ bi·ªÉn</td></tr>
                    <tr><td>Attract</td><td>Verb</td><td>Thu h√∫t, h·∫•p d·∫´n</td></tr>
                    <tr><td>Atmosphere</td><td>Noun</td><td>B·∫ßu kh√¥ng kh√≠</td></tr>
                    <tr><td>Sunbathing</td><td>Noun</td><td>Vi·ªác t·∫Øm n·∫Øng</td></tr>
                    <tr><td>Well-known</td><td>Adj</td><td>N·ªïi ti·∫øng (= famous)</td></tr>
                </table>
            </div>

            <div class="passage-section">
                <h2 class="passage-title">FOOTBALL</h2>
                <div class="paragraph-block">
                    <p>Football is one of the most popular sports in the world. It started hundreds of years ago in England. People play it in schools, parks, and stadiums. (24) ............ It usually lasts for 90 minutes, divided into two halves.</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">B√≥ng ƒë√° l√† m·ªôt trong nh·ªØng m√¥n th·ªÉ thao ph·ªï bi·∫øn nh·∫•t tr√™n th·∫ø gi·ªõi. N√≥ b·∫Øt ƒë·∫ßu h√†ng trƒÉm nƒÉm tr∆∞·ªõc ·ªü Anh. Ng∆∞·ªùi ta ch∆°i n√≥ ·ªü tr∆∞·ªùng h·ªçc, c√¥ng vi√™n v√† s√¢n v·∫≠n ƒë·ªông. M·ªôt tr·∫≠n b√≥ng ƒë√° ƒë∆∞·ª£c ch∆°i gi·ªØa hai ƒë·ªôi, m·ªói ƒë·ªôi 11 ng∆∞·ªùi. N√≥ th∆∞·ªùng k√©o d√†i trong 90 ph√∫t, chia th√†nh hai hi·ªáp.</div>
                </div>
                <div class="paragraph-block">
                    <p>(25) ........... and sometimes matches end in a draw. Fans cheer loudly for their teams, creating a lively atmosphere. (26) ............</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">C√°c c·∫ßu th·ªß l√†m vi·ªác chƒÉm ch·ªâ ƒë·ªÉ ghi b√†n v√† ƒë√¥i khi c√°c tr·∫≠n ƒë·∫•u k·∫øt th√∫c v·ªõi t·ª∑ s·ªë h√≤a. Ng∆∞·ªùi h√¢m m·ªô c·ªï v≈© n·ªìng nhi·ªát cho ƒë·ªôi c·ªßa h·ªç, t·∫°o ra m·ªôt b·∫ßu kh√¥ng kh√≠ s√¥i ƒë·ªông. B√≥ng ƒë√° l√† m·ªôt tr√≤ ch∆°i mang m·ªçi ng∆∞·ªùi l·∫°i g·∫ßn nhau h∆°n.</div>
                </div>
                <h3>Glossary</h3>
                <table class="glossary-table">
                    <tr><th>Word</th><th>Part of Speech</th><th>Meaning</th></tr>
                    <tr><td>Popular</td><td>Adj</td><td>Ph·ªï bi·∫øn, ƒë∆∞·ª£c y√™u th√≠ch</td></tr>
                    <tr><td>Stadium</td><td>Noun</td><td>S√¢n v·∫≠n ƒë·ªông</td></tr>
                    <tr><td>Divide</td><td>Verb</td><td>Chia ra</td></tr>
                    <tr><td>Draw</td><td>Noun</td><td>Tr·∫≠n h√≤a (t·ª∑ s·ªë ƒë·ªÅu)</td></tr>
                    <tr><td>Lively</td><td>Adj</td><td>S√¥i ƒë·ªông, tr√†n ƒë·∫ßy s·ª©c s·ªëng</td></tr>
                </table>
            </div>

            <div class="passage-section">
                <h2 class="passage-title">WHO WANTS TO BE A MILLIONAIRE?</h2>
                <div class="paragraph-block">
                    <p>Who Wants to Be a Millionaire? is a popular TV game show in the world. We can see this show in more than 100 countries. All the questions of this show are multiple-choice ones. Each question has four answer options, but only one option is correct. You have to choose the correct option.</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">Ai L√† Tri·ªáu Ph√∫? l√† m·ªôt ch∆∞∆°ng tr√¨nh truy·ªÅn h√¨nh th·ª±c t·∫ø ph·ªï bi·∫øn tr√™n th·∫ø gi·ªõi. Ch√∫ng ta c√≥ th·ªÉ xem ch∆∞∆°ng tr√¨nh n√†y ·ªü h∆°n 100 qu·ªëc gia. T·∫•t c·∫£ c√°c c√¢u h·ªèi c·ªßa ch∆∞∆°ng tr√¨nh n√†y l√† c√¢u h·ªèi tr·∫Øc nghi·ªám. M·ªói c√¢u h·ªèi c√≥ 4 l·ª±a ch·ªçn ƒë√°p √°n, nh∆∞ng ch·ªâ c√≥ m·ªôt l·ª±a ch·ªçn ƒë√∫ng. B·∫°n ph·∫£i ch·ªçn ƒë√°p √°n ƒë√∫ng.</div>
                </div>
                <div class="paragraph-block">
                    <p>You have three ways to get help in order to find the correct answer. First, you can ask the show master to remove two wrong answers. Second, you can ask the audience to tell their answers. Third, you can telephone a friend of yours and ask for help. You can only do these things once.</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">B·∫°n c√≥ ba c√°ch ƒë·ªÉ nh·∫≠n s·ª± tr·ª£ gi√∫p nh·∫±m t√¨m ra c√¢u tr·∫£ l·ªùi ƒë√∫ng. ƒê·∫ßu ti√™n, b·∫°n c√≥ th·ªÉ y√™u c·∫ßu ng∆∞·ªùi d·∫´n ch∆∞∆°ng tr√¨nh lo·∫°i b·ªè hai ƒë√°p √°n sai. Th·ª© hai, b·∫°n c√≥ th·ªÉ h·ªèi kh√°n gi·∫£ ƒë·ªÉ bi·∫øt c√¢u tr·∫£ l·ªùi c·ªßa h·ªç. Th·ª© ba, b·∫°n c√≥ th·ªÉ g·ªçi ƒëi·ªán cho m·ªôt ng∆∞·ªùi b·∫°n c·ªßa m√¨nh v√† nh·ªù gi√∫p ƒë·ª°. B·∫°n ch·ªâ c√≥ th·ªÉ l√†m nh·ªØng ƒëi·ªÅu n√†y m·ªôt l·∫ßn.</div>
                </div>
                <div class="paragraph-block">
                    <p>There are fifteen questions in total. The show master asks the contestants to answer the questions one by one. The first five questions are easy to answer, but the others become more difficult. Obviously, it is very difficult to come to the last question, but it's worth a try. In Viet Nam, if you answer the last question correctly, you can win VND 250,000,000.</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">C√≥ t·ªïng c·ªông 15 c√¢u h·ªèi. Ng∆∞·ªùi d·∫´n ch∆∞∆°ng tr√¨nh y√™u c·∫ßu th√≠ sinh tr·∫£ l·ªùi c√°c c√¢u h·ªèi l·∫ßn l∆∞·ª£t t·ª´ng c√¢u m·ªôt. 5 c√¢u h·ªèi ƒë·∫ßu ti√™n r·∫•t d·ªÖ tr·∫£ l·ªùi, nh∆∞ng nh·ªØng c√¢u kh√°c tr·ªü n√™n kh√≥ h∆°n. R√µ r√†ng, r·∫•t kh√≥ ƒë·ªÉ ƒë·∫øn ƒë∆∞·ª£c c√¢u h·ªèi cu·ªëi c√πng, nh∆∞ng ƒëi·ªÅu ƒë√≥ ƒë√°ng ƒë·ªÉ th·ª≠ nghi·ªám. ·ªû Vi·ªát Nam, n·∫øu b·∫°n tr·∫£ l·ªùi ƒë√∫ng c√¢u h·ªèi cu·ªëi, b·∫°n c√≥ th·ªÉ chi·∫øn th·∫Øng 250,000,000 VNƒê.</div>
                </div>
                <h3>Glossary</h3>
                <table class="glossary-table">
                    <tr><th>Word</th><th>Part of Speech</th><th>Meaning</th></tr>
                    <tr><td>Multiple-choice</td><td>Adj</td><td>Tr·∫Øc nghi·ªám nhi·ªÅu l·ª±a ch·ªçn</td></tr>
                    <tr><td>Audience</td><td>Noun</td><td>Kh√°n gi·∫£ (trong h·ªôi tr∆∞·ªùng)</td></tr>
                    <tr><td>Contestant</td><td>Noun</td><td>Ng∆∞·ªùi d·ª± thi, th√≠Áîü</td></tr>
                    <tr><td>Obviously</td><td>Adv</td><td>M·ªôt c√°ch r√µ r√†ng, hi·ªÉn nhi√™n</td></tr>
                    <tr><td>Worth a try</td><td>Idiom</td><td>ƒê√°ng ƒë·ªÉ th·ª≠</td></tr>
                </table>
            </div>

            <div class="passage-section">
                <h2 class="passage-title">MR. TUAN'S ROUTINE</h2>
                <div class="paragraph-block">
                    <p>Mr. Tuan is (1)............... engineer in a big factory. He lives in a small apartment (2) ........... the fifth floor of a building in Thanh Hoa City. The factory is not near his house so he goes to work by bus. He ............... (3) home at 7 o'clock to arrive at work at 7.45.</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">√îng Tu·∫•n l√† m·ªôt k·ªπ s∆∞ trong m·ªôt nh√† m√°y l·ªõn. √îng s·ªëng trong m·ªôt cƒÉn h·ªô nh·ªè tr√™n t·∫ßng 5 c·ªßa m·ªôt t√≤a nh√† ·ªü th√†nh ph·ªë Thanh H√≥a. Nh√† m√°y kh√¥ng g·∫ßn nh√† √¥ng n√™n √¥ng ƒëi l√†m b·∫±ng xe bu√Ωt. √îng r·ªùi kh·ªèi nh√† l√∫c 7 gi·ªù ƒë·ªÉ ƒë·∫øn ch·ªó l√†m l√∫c 7h45.</div>
                </div>
                <div class="paragraph-block">
                    <p>It is Saturday morning now, and Mr. Tuan is at home, in bed. On Saturdays he gets up at a quarter to seven. Then he sits in ...............(4) and has breakfast. On Saturday afternoon he plays tennis or goes swimming. On Saturday evenings he ........... (5)at home, he usually goes out.</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">B√¢y gi·ªù l√† s√°ng th·ª© B·∫£y, v√† √¥ng Tu·∫•n ƒëang ·ªü nh√†, tr√™n gi∆∞·ªùng. V√†o c√°c ng√†y th·ª© B·∫£y, √¥ng th·ª©c d·∫≠y l√∫c 7 gi·ªù k√©m 15. Sau ƒë√≥ √¥ng ng·ªìi trong ph√≤ng ƒÉn v√† ƒÉn s√°ng. V√†o chi·ªÅu th·ª© B·∫£y √¥ng ch∆°i tennis ho·∫∑c ƒëi b∆°i. V√†o c√°c bu·ªïi t·ªëi th·ª© B·∫£y √¥ng kh√¥ng ·ªü nh√†, √¥ng th∆∞·ªùng ƒëi ra ngo√†i.</div>
                </div>
                <h3>Glossary</h3>
                <table class="glossary-table">
                    <tr><th>Word</th><th>Part of Speech</th><th>Meaning</th></tr>
                    <tr><td>Engineer</td><td>Noun</td><td>K·ªπ s∆∞</td></tr>
                    <tr><td>Apartment</td><td>Noun</td><td>CƒÉn h·ªô</td></tr>
                    <tr><td>Arrive</td><td>Verb</td><td>ƒê·∫øn n∆°i</td></tr>
                    <tr><td>A quarter to</td><td>Phrase</td><td>K√©m 15 ph√∫t (trong n√≥i gi·ªù)</td></tr>
                </table>
            </div>

            <div class="passage-section">
                <h2 class="passage-title">HOLIDAY TO EGYPT</h2>
                <div class="paragraph-block">
                    <p>An increasing number of people are now going on holiday to Egypt. Last year, for example, about one and a half million tourists visited Egypt. The population of Egypt is about fifty million and the capital is EL Qahira (Cairo), a busy city of just under nine million people.</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">Ng√†y c√†ng c√≥ nhi·ªÅu ng∆∞·ªùi ƒëi ngh·ªâ m√°t ·ªü Ai C·∫≠p. V√≠ d·ª• nƒÉm ngo√°i, kho·∫£ng m·ªôt tri·ªáu r∆∞·ª°i du kh√°ch ƒë√£ ƒë·∫øn thƒÉm Ai C·∫≠p. D√¢n s·ªë c·ªßa Ai C·∫≠p l√† kho·∫£ng 50 tri·ªáu v√† th·ªß ƒë√¥ l√† El Qahira (Cairo), m·ªôt th√†nh ph·ªë nh·ªôn nh·ªãp v·ªõi d√¢n s·ªë ch·ªâ d∆∞·ªõi 9 tri·ªáu ng∆∞·ªùi.</div>
                </div>
                <div class="paragraph-block">
                    <p>Although the weather is hot and dry and most of the country is desert, the average temperature from October to March is not too high. The most interesting sights are the pyramids at Giza. However, it is also pleasant to visit Alexandria, Port Said and several other places.</p>
                    <button class="btn-translate" onclick="toggleTranslate(this)">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                    <div class="translation-box">M·∫∑c d√π th·ªùi ti·∫øt n√≥ng v√† kh√¥ v√† h·∫ßu h·∫øt ƒë·∫•t n∆∞·ªõc l√† sa m·∫°c, nh∆∞ng nhi·ªát ƒë·ªô trung b√¨nh t·ª´ th√°ng 10 ƒë·∫øn th√°ng 3 kh√¥ng qu√° cao. ƒêi·ªÉm tham quan th√∫ v·ªã nh·∫•t l√† c√°c kim t·ª± th√°p ·ªü Giza. Tuy nhi√™n, c≈©ng r·∫•t d·ªÖ ch·ªãu khi ƒë·∫øn thƒÉm Alexandria, Port Said v√† m·ªôt v√†i ƒë·ªãa ƒëi·ªÉm kh√°c.</div>
                </div>
                <h3>Glossary</h3>
                <table class="glossary-table">
                    <tr><th>Word</th><th>Part of Speech</th><th>Meaning</th></tr>
                    <tr><td>Increasing</td><td>Adj</td><td>Ng√†y c√†ng tƒÉng</td></tr>
                    <tr><td>Population</td><td>Noun</td><td>D√¢n s·ªë</td></tr>
                    <tr><td>Desert</td><td>Noun</td><td>Sa m·∫°c</td></tr>
                    <tr><td>Average</td><td>Adj</td><td>Trung b√¨nh</td></tr>
                    <tr><td>Pleasant</td><td>Adj</td><td>Tho·∫£i m√°i, d·ªÖ ch·ªãu</td></tr>
                </table>
            </div>
        </div>

        <div class="panel" id="rightPanel">
            <div id="quizContainer"></div>
             <button class="btn-submit" id="submitBtn" onclick="submitQuiz()">N·ªòP B√ÄI T·ªîNG K·∫æT</button>
        </div>
    </div>

    <div class="modal-overlay" id="resultModal">
        <div class="modal-content">
            <h2>K·∫æT QU·∫¢ B√ÄI THI</h2>
            <div class="modal-score" id="scoreDisplay">0/0</div>
            <div class="modal-comment" id="commentDisplay">C·ªë l√™n nh√©!</div>
            <button class="btn-close-modal" onclick="closeModal()">Xem L·∫°i B√†i</button>
        </div>
    </div>

    <script>
        // Web Audio API Setup
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        const audioCtx = new AudioContext();

        function playCorrectSound() {
            if(audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            osc.type = 'sine';
            osc.frequency.setValueAtTime(800, audioCtx.currentTime);
            gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.3);
        }

        function playWrongSound() {
            if(audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(300, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(100, audioCtx.currentTime + 0.4);
            gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.4);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.4);
        }

        // Confetti Effect
        const canvas = document.getElementById('confetti-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth; canvas.height = window.innerHeight;
        let particles = [];

        function createConfetti() {
            for(let i=0; i<50; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: -20,
                    r: Math.random() * 6 + 2,
                    dx: Math.random() * 4 - 2,
                    dy: Math.random() * 5 + 2,
                    color: `hsl(${Math.random() * 360}, 100%, 50%)`
                });
            }
        }

        function animateConfetti() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach((p, index) => {
                p.x += p.dx; p.y += p.dy;
                ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2);
                ctx.fillStyle = p.color; ctx.fill();
                if(p.y > canvas.height) particles.splice(index, 1);
            });
            requestAnimationFrame(animateConfetti);
        }
        animateConfetti();

        // Quiz Data
        const quizData = [
            // Travel in the past
            {
                qText: "Question 15. In the past, traveling long distances was difficult, and not everyone (15) _______ could afford to do it.",
                options: [
                    {text: "could", isCorrect: true},
                    {text: "can", isCorrect: false},
                    {text: "will", isCorrect: false},
                    {text: "may", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>Ng·ªØ c·∫£nh c√¢u ·ªü th√¨ qu√° kh·ª© ('was difficult'). Do ƒë√≥, ta c·∫ßn m·ªôt ƒë·ªông t·ª´ khuy·∫øt thi·∫øu l√πi th√¨. 'could' l√† qu√° kh·ª© c·ªßa 'can'.<br><b>D·ªãch nghƒ©a:</b> Trong qu√° kh·ª©, vi·ªác ƒëi l·∫°i kho·∫£ng c√°ch xa r·∫•t kh√≥ khƒÉn, v√† kh√¥ng ph·∫£i ai c≈©ng C√ì TH·ªÇ ƒë·ªß kh·∫£ nƒÉng l√†m ƒëi·ªÅu ƒë√≥."
            },
            {
                qText: "Question 16. People (16) ____________ use horses, or walk to reach their destinations.",
                options: [
                    {text: "must", isCorrect: false},
                    {text: "can", isCorrect: false},
                    {text: "might", isCorrect: false},
                    {text: "had to", isCorrect: true}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>K·ªÉ v·ªÅ m·ªôt s·ª± b·∫Øt bu·ªôc trong qu√° kh·ª©. 'must' kh√¥ng c√≥ d·∫°ng qu√° kh·ª©, ta d√πng 'had to' (ƒë√£ ph·∫£i) ƒë·ªÉ thay th·∫ø.<br><b>D·ªãch nghƒ©a:</b> Ng∆∞·ªùi ta ƒê√É PH·∫¢I d√πng ng·ª±a ho·∫∑c ƒëi b·ªô ƒë·ªÉ ƒë·∫øn ƒë√≠ch."
            },
            {
                qText: "Question 17. Communication while traveling (17) ____________ often limited to letters and messengers.",
                options: [
                    {text: "was", isCorrect: true},
                    {text: "did", isCorrect: false},
                    {text: "doing", isCorrect: false},
                    {text: "does", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>Ch·ªß ng·ªØ 'Communication' (giao ti·∫øp) l√† danh t·ª´ kh√¥ng ƒë·∫øm ƒë∆∞·ª£c -> ƒë·ªông t·ª´ to be s·ªë √≠t. B·ªëi c·∫£nh qu√° kh·ª© -> 'was'. C·∫•u tr√∫c b·ªã ƒë·ªông/t√≠nh t·ª´: 'was limited to' (b·ªã gi·ªõi h·∫°n v√†o).<br><b>D·ªãch nghƒ©a:</b> Giao ti·∫øp trong khi ƒëi l·∫°i th∆∞·ªùng B·ªä gi·ªõi h·∫°n ·ªü th∆∞ t·ª´..."
            },
            // Nha Trang
            {
                qText: "Question 18. It attracts a lot of tourists (18)____ many countries...",
                options: [
                    {text: "on", isCorrect: false},
                    {text: "in", isCorrect: false},
                    {text: "from", isCorrect: true},
                    {text: "about", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>Gi·ªõi t·ª´ 'from' ƒëi v·ªõi 'tourists' ch·ªâ ngu·ªìn g·ªëc xu·∫•t x·ª© (du kh√°ch T·ª™ nhi·ªÅu qu·ªëc gia).<br><b>D·ªãch nghƒ©a:</b> N√≥ thu h√∫t r·∫•t nhi·ªÅu du kh√°ch T·ª™ nhi·ªÅu qu·ªëc gia..."
            },
            {
                qText: "Question 19. ...because it has beautiful beaches and an (19) _____ atmosphere of a young, growing city.",
                options: [
                    {text: "good", isCorrect: false},
                    {text: "exciting", isCorrect: true},
                    {text: "clean", isCorrect: false},
                    {text: "quiet", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>Ph√≠a tr∆∞·ªõc c√≥ m·∫°o t·ª´ 'an', do ƒë√≥ t√≠nh t·ª´ b·∫Øt ƒë·∫ßu b·∫±ng m·ªôt nguy√™n √¢m (u,e,o,a,i). Trong 4 ƒë√°p √°n ch·ªâ c√≥ 'exciting' (th√∫ v·ªã/s√¥i ƒë·ªông) ph√π h·ª£p c·∫£ v·ªÅ ng·ªØ ph√°p l·∫´n nghƒ©a (th√†nh ph·ªë tr·∫ª ƒëang ph√°t tri·ªÉn th√¨ ph·∫£i s√¥i ƒë·ªông).<br><b>D·ªãch nghƒ©a:</b> ...b·∫ßu kh√¥ng kh√≠ S√îI ƒê·ªòNG c·ªßa m·ªôt th√†nh ph·ªë tr·∫ª."
            },
            {
                qText: "Question 20. Visitors can rent a (20) ____________ and cycle around the city.",
                options: [
                    {text: "bus", isCorrect: false},
                    {text: "motorbike", isCorrect: false},
                    {text: "tour", isCorrect: false},
                    {text: "bike", isCorrect: true}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>H√†nh ƒë·ªông theo sau l√† 'cycle' (ƒë·∫°p xe). Ph∆∞∆°ng ti·ªán c√≥ th·ªÉ d√πng ƒë·ªÉ ƒë·∫°p xe ch·ªâ c√≥ th·ªÉ l√† 'bike' (xe ƒë·∫°p).<br><b>D·ªãch nghƒ©a:</b> Du kh√°ch c√≥ th·ªÉ thu√™ m·ªôt chi·∫øc XE ƒê·∫†P v√† ƒë·∫°p v√≤ng quanh th√†nh ph·ªë."
            },
            {
                qText: "Question 21. Nha Trang is also well-known for its delicious (21) ____________.",
                options: [
                    {text: "city", isCorrect: false},
                    {text: "weather", isCorrect: false},
                    {text: "scene", isCorrect: false},
                    {text: "seafood", isCorrect: true}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>'Delicious' (ngon mi·ªáng) d√πng ƒë·ªÉ mi√™u t·∫£ ƒë·ªì ƒÉn. ƒê·∫∑c s·∫£n n·ªïi ti·∫øng c·ªßa bi·ªÉn Nha Trang l√† h·∫£i s·∫£n (seafood).<br><b>D·ªãch nghƒ©a:</b> Nha Trang c≈©ng r·∫•t n·ªïi ti·∫øng v√¨ H·∫¢I S·∫¢N th∆°m ngon."
            },
            // Football
            {
                qText: "Question 24. Match the suitable sentence for blank (24): People play it in schools, parks, and stadiums. (24) ____________. It usually lasts for 90 minutes...",
                options: [
                    {text: "A. Players work hard to score goals.", isCorrect: false},
                    {text: "B. A football match is played between two teams of 11 players each.", isCorrect: true},
                    {text: "C. Football is a game that brings people together.", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>C√¢u sau ch·ªó tr·ªëng ƒë·ªÅ c·∫≠p 'It usually lasts for 90 minutes' (N√ì k√©o d√†i 90 ph√∫t). 'It' ·ªü ƒë√¢y thay th·∫ø cho 'A football match' (M·ªôt tr·∫≠n b√≥ng ƒë√°). N√™n ƒë√°p √°n B l√† s·ª± li√™n k·∫øt ho√†n h·∫£o nh·∫•t.<br><b>D·ªãch nghƒ©a:</b> M·ªòT TR·∫¨N B√ìNG ƒê√Å ƒê∆Ø·ª¢C CH∆†I GI·ªÆA HAI ƒê·ªòI, M·ªñI ƒê·ªòI 11 NG∆Ø·ªúI."
            },
            {
                qText: "Question 25. Match the suitable sentence for blank (25): (25) ____________ and sometimes matches end in a draw.",
                options: [
                    {text: "A. Players work hard to score goals.", isCorrect: true},
                    {text: "B. A football match is played between two teams of 11 players each.", isCorrect: false},
                    {text: "C. Football is a game that brings people together.", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>V·∫ø sau l√† 'and sometimes matches end in a draw' (v√† ƒë√¥i khi tr·∫≠n ƒë·∫•u k·∫øt th√∫c h√≤a). Ph·∫£i c√≥ h√†nh ƒë·ªông ghi b√†n ·ªü v·∫ø tr∆∞·ªõc ƒë·ªÉ t·∫°o s·ª± t∆∞∆°ng ph·∫£n v·ªõi k·∫øt qu·∫£ h√≤a. H·ª£p l√Ω nh·∫•t l√† ƒë√°p √°n A.<br><b>D·ªãch nghƒ©a:</b> C√ÅC C·∫¶U TH·ª¶ L√ÄM VI·ªÜC CHƒÇM CH·ªà ƒê·ªÇ GHI B√ÄN v√† ƒë√¥i khi..."
            },
            {
                qText: "Question 26. Match the suitable sentence for blank (26): Fans cheer loudly for their teams, creating a lively atmosphere. (26) ____________",
                options: [
                    {text: "A. Players work hard to score goals.", isCorrect: false},
                    {text: "B. A football match is played between two teams of 11 players each.", isCorrect: false},
                    {text: "C. Football is a game that brings people together.", isCorrect: true}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>ƒê√¢y l√† c√¢u k·∫øt ƒëo·∫°n, mang t√≠nh ch·∫•t t√≥m l∆∞·ª£c √Ω nghƒ©a t√≠ch c·ª±c c·ªßa m√¥n th·ªÉ thao n√†y sau khi ƒë√£ mi√™u t·∫£ kh√¥ng kh√≠ s√¥i ƒë·ªông.<br><b>D·ªãch nghƒ©a:</b> B√ìNG ƒê√Å L√Ä M·ªòT TR√í CH∆†I MANG M·ªåI NG∆Ø·ªúI L·∫†I G·∫¶N NHAU."
            },
            // Millionaire
            {
                qText: "Question 29. What is the best title of the passage?",
                options: [
                    {text: "A. Who Wants to Be a Millionaire?", isCorrect: true},
                    {text: "B. A game show in the world", isCorrect: false},
                    {text: "C. Difficult but worth a try", isCorrect: false},
                    {text: "D. Who Wants to Be a Millionaire? in Viet Nam", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>ƒêo·∫°n vƒÉn ch·ªß y·∫øu gi·ªõi thi·ªáu v·ªÅ ch∆∞∆°ng tr√¨nh 'Who Wants to Be a Millionaire?' (lu·∫≠t ch∆°i, s·ªë c√¢u h·ªèi, c√°ch tr·ª£ gi√∫p). C√°c ph∆∞∆°ng √°n kh√°c ch·ªâ l√† chi ti·∫øt nh·ªè (nh∆∞ ·ªü VN) ho·∫∑c qu√° chung chung.<br><b>D·∫´n ch·ª©ng:</b> C√¢u ƒë·∫ßu ti√™n: 'Who Wants to Be a Millionaire? is a popular TV game show...'"
            },
            {
                qText: "Question 30. The word 'multiple-choice' in line 2 is CLOSEST in meaning to:",
                options: [
                    {text: "A. having many questions", isCorrect: false},
                    {text: "B. selecting many questions", isCorrect: false},
                    {text: "C. selecting many options", isCorrect: false},
                    {text: "D. having many options", isCorrect: true}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>'Multiple' = nhi·ªÅu (many), 'choice' = s·ª± l·ª±a ch·ªçn (options). Do ƒë√≥ multiple-choice nghƒ©a l√† c√¢u h·ªèi c√≥ nhi·ªÅu l·ª±a ch·ªçn ƒë√°p √°n (A,B,C,D).<br><b>D·ªãch:</b> c√≥ nhi·ªÅu s·ª± l·ª±a ch·ªçn."
            },
            {
                qText: "Question 31. According to the passage, which statement is NOT TRUE?",
                options: [
                    {text: "A. There are three ways for the contestants to get help...", isCorrect: false},
                    {text: "B. The contestant can call a friend to ask for help many times.", isCorrect: true},
                    {text: "C. There are 15 questions in total.", isCorrect: false},
                    {text: "D. The contestants have to answer the questions one by one.", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>ƒê√°p √°n B n√≥i r·∫±ng 'Th√≠ sinh c√≥ th·ªÉ g·ªçi cho b·∫°n b√® nhi·ªÅu l·∫ßn' l√† SAI. Trong b√†i n√≥i r√µ 'You can only do these things once' (B·∫°n ch·ªâ ƒë∆∞·ª£c l√†m nh·ªØng ƒëi·ªÅu n√†y m·ªôt l·∫ßn). Ta ƒëang t√¨m c√¢u KH√îNG ƒê√öNG n√™n ch·ªçn B.<br><b>D·∫´n ch·ª©ng:</b> 'You can only do these things once.'"
            },
            {
                qText: "Question 32. The word 'win' in last line is OPPOSITE in meaning to ________",
                options: [
                    {text: "A. take", isCorrect: false},
                    {text: "B. get", isCorrect: false},
                    {text: "C. have", isCorrect: false},
                    {text: "D. lose", isCorrect: true}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>ƒê·ªÅ b√†i h·ªèi t·ª´ TR√ÅI NGHƒ®A (OPPOSITE) v·ªõi t·ª´ 'win' (chi·∫øn th·∫Øng/d√†nh ƒë∆∞·ª£c). Tr√°i nghƒ©a v·ªõi th·∫Øng ch·∫Øc ch·∫Øn l√† 'lose' (thua/m·∫•t).<br><b>D·ªãch:</b> lose = thua cu·ªôc."
            },
            // Mr. Tuan
            {
                qText: "1. Mr. Tuan is (1)............... engineer in a big factory.",
                options: [
                    {text: "A. a", isCorrect: false},
                    {text: "B. an", isCorrect: true},
                    {text: "C. the", isCorrect: false},
                    {text: "D. any", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>'engineer' b·∫Øt ƒë·∫ßu b·∫±ng nguy√™n √¢m 'e', v√† ƒë√¢y l√† danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c s·ªë √≠t ch·ªâ ngh·ªÅ nghi·ªáp, n√≥i chung chung l·∫ßn ƒë·∫ßu ti√™n n√™n ta d√πng m·∫°o t·ª´ 'an'.<br><b>D·ªãch:</b> √îng Tu·∫•n l√† M·ªòT k·ªπ s∆∞..."
            },
            {
                qText: "2. He lives in a small apartment (2) ........... the fifth floor...",
                options: [
                    {text: "A. at", isCorrect: false},
                    {text: "B. in", isCorrect: false},
                    {text: "C. on", isCorrect: true},
                    {text: "D. to", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>V·ªõi s·ªë t·∫ßng c·ªßa t√≤a nh√† (the first floor, the second floor...), ta lu√¥n d√πng gi·ªõi t·ª´ 'on'.<br><b>D·ªãch:</b> ...TR√äN t·∫ßng nƒÉm c·ªßa m·ªôt t√≤a nh√†..."
            },
            {
                qText: "3. He ............... (3) home at 7 o'clock to arrive at work at 7.45.",
                options: [
                    {text: "A. leaves", isCorrect: true},
                    {text: "B. is leave", isCorrect: false},
                    {text: "C. leaving", isCorrect: false},
                    {text: "D. leave", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>K·ªÉ v·ªÅ th√≥i quen/l·ªãch tr√¨nh hi·ªán t·∫°i -> Hi·ªán t·∫°i ƒë∆°n. Ch·ªß ng·ªØ 'He' (ng√¥i 3 s·ªë √≠t) n√™n ƒë·ªông t·ª´ leave ph·∫£i th√™m 's' -> leaves.<br><b>D·ªãch:</b> √îng ·∫•y R·ªúI KH·ªéI nh√† l√∫c 7 gi·ªù..."
            },
            {
                qText: "4. Then he sits in ...............(4) and has breakfast.",
                options: [
                    {text: "A. the bedroom", isCorrect: false},
                    {text: "B. the bathroom", isCorrect: false},
                    {text: "C. the dining room", isCorrect: true},
                    {text: "D. the kitchen", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>H√†nh ƒë·ªông l√† 'has breakfast' (ƒÉn s√°ng). N∆°i ph√π h·ª£p nh·∫•t ƒë·ªÉ ng·ªìi ƒÉn s√°ng trong c√°c ƒë√°p √°n l√† ph√≤ng ƒÉn (the dining room).<br><b>D·ªãch:</b> Sau ƒë√≥ √¥ng ng·ªìi trong PH√íNG ƒÇN v√† ƒÉn s√°ng."
            },
            {
                qText: "5. On Saturday evenings he ........... (5) at home, he usually goes out.",
                options: [
                    {text: "A. stays", isCorrect: false},
                    {text: "B. comes", isCorrect: false},
                    {text: "C. doesn't stay", isCorrect: true},
                    {text: "D. arrives", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>V·∫ø sau n√≥i 'he usually goes out' (√¥ng ·∫•y th∆∞·ªùng ƒëi ra ngo√†i). V·∫≠y v·∫ø tr∆∞·ªõc ph·∫£i l√† ph·ªß ƒë·ªãnh: √¥ng ·∫•y KH√îNG ·ªü nh√†.<br><b>D·ªãch:</b> V√†o t·ªëi th·ª© B·∫£y, √¥ng KH√îNG ·ªû nh√†..."
            },
            // Egypt
            {
                qText: "1. According to the passage, how many people visited Egypt last year?",
                options: [
                    {text: "A. 1 million", isCorrect: false},
                    {text: "B. 1,5 million", isCorrect: true},
                    {text: "C. 9 million", isCorrect: false},
                    {text: "D. 15 million", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>T√¨m s·ªë li·ªáu 'last year' trong b√†i ƒë·ªçc.<br><b>D·∫´n ch·ª©ng:</b> 'Last year, for example, about one and a half million tourists visited Egypt.' (M·ªôt tri·ªáu r∆∞·ª°i = 1.5 million)."
            },
            {
                qText: "2. Cairo is .....................",
                options: [
                    {text: "A. another name of Egypt", isCorrect: false},
                    {text: "B. a busy city of 50 million people", isCorrect: false},
                    {text: "C. the capital of Egypt", isCorrect: true},
                    {text: "D. a pyramid", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>ƒê·ªçc c√¢u gi·∫£i th√≠ch v·ªÅ Cairo.<br><b>D·∫´n ch·ª©ng:</b> '...and the capital is EL Qahira (Cairo)'. V·∫≠y Cairo l√† th·ªß ƒë√¥ (capital) c·ªßa Ai C·∫≠p."
            },
            {
                qText: "3. What is the most interesting sight in Egypt?",
                options: [
                    {text: "A. Pyramid Giza", isCorrect: true},
                    {text: "B. Alexandria", isCorrect: false},
                    {text: "C. Port Said", isCorrect: false},
                    {text: "D. Both B & C", isCorrect: false}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>T√¨m c·ª•m t·ª´ 'most interesting sights'.<br><b>D·∫´n ch·ª©ng:</b> 'The most interesting sights are the pyramids at Giza.' (Kim t·ª± th√°p ·ªü Giza)."
            },
            {
                qText: "4. What does the word 'desert' in line 4 mean?",
                options: [
                    {text: "A. a kind of meal", isCorrect: false},
                    {text: "B. large forest", isCorrect: false},
                    {text: "C. land surrounded by seas", isCorrect: false},
                    {text: "D. large area with sand", isCorrect: true}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>'Desert' nghƒ©a l√† sa m·∫°c. ƒê·ªãnh nghƒ©a c·ªßa sa m·∫°c l√† m·ªôt khu v·ª±c r·ªông l·ªõn ƒë·∫ßy c√°t (large area with sand). ƒê·ª´ng nh·∫ßm v·ªõi dessert (m√≥n tr√°ng mi·ªáng - 2 ch·ªØ s)."
            },
            {
                qText: "5. Which of the following sentences is NOT true?",
                options: [
                    {text: "A. More and more people go to Egypt on holiday.", isCorrect: false},
                    {text: "B. El Qahira has about 9 million inhabitants.", isCorrect: false},
                    {text: "C. It is hot and dry in Egypt.", isCorrect: false},
                    {text: "D. The temperature in October is the highest in the year in Egypt.", isCorrect: true}
                ],
                explanation: "<b>Ph√¢n t√≠ch:</b><br>ƒê·ªÅ h·ªèi c√¢u n√†o KH√îNG ƒê√öNG. ƒê√°p √°n D n√≥i nhi·ªát ƒë·ªô th√°ng 10 l√† cao nh·∫•t l√† sai so v·ªõi b√†i.<br><b>D·∫´n ch·ª©ng:</b> B√†i n√≥i: 'the average temperature from October to March is not too high' (Nhi·ªát ƒë·ªô t·ª´ T10 ƒë·∫øn T3 KH√îNG QU√Å CAO)."
            }
        ];

        // Utils: Shuffle Array (Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Global State
        let score = 0;
        let answeredQuestions = 0;
        let timerInterval;
        let timeLeft = 600; // 10 minutes
        let isTimerRunning = false;

        // Render Quizzes
        function renderQuizzes() {
            const container = document.getElementById('quizContainer');
            container.innerHTML = '';
            
            quizData.forEach((quiz, index) => {
                const card = document.createElement('div');
                card.className = 'quiz-card';
                card.id = `quiz-${index}`;

                const qTitle = document.createElement('div');
                qTitle.className = 'question-text';
                qTitle.innerHTML = quiz.qText;
                card.appendChild(qTitle);

                const optionsGrid = document.createElement('div');
                optionsGrid.className = 'options-grid';
                
                // Shuffle options for gamification
                let shuffledOptions = [...quiz.options];
                shuffleArray(shuffledOptions);
                
                const labels = ['A', 'B', 'C', 'D'];

                shuffledOptions.forEach((opt, optIndex) => {
                    const btn = document.createElement('div');
                    btn.className = 'option-btn';
                    btn.innerHTML = `<span class="option-label">${labels[optIndex]}</span> ${opt.text}`;
                    
                    btn.onclick = () => handleAnswer(btn, opt, card, quiz.explanation, shuffledOptions, optionsGrid);
                    optionsGrid.appendChild(btn);
                });

                card.appendChild(optionsGrid);

                // Explanation Box (hidden initially)
                const expBox = document.createElement('div');
                expBox.className = 'explanation-box';
                expBox.innerHTML = `<div class="explanation-title">GI·∫¢I TH√çCH CHI TI·∫æT:</div><div class="explanation-content">${quiz.explanation}</div>`;
                card.appendChild(expBox);

                container.appendChild(card);
            });
        }

        // Handle Answer Logic
        function handleAnswer(btn, optionData, card, explanation, allOptions, gridElement) {
            // Prevent multiple clicks
            if(card.dataset.answered === 'true') return;
            card.dataset.answered = 'true';
            answeredQuestions++;

            const allBtns = gridElement.querySelectorAll('.option-btn');

            if(optionData.isCorrect) {
                btn.classList.add('correct');
                playCorrectSound();
                createConfetti();
                score++;
            } else {
                btn.classList.add('wrong', 'shake');
                playWrongSound();
                setTimeout(() => btn.classList.remove('shake'), 500);
                
                // Highlight the correct one
                allBtns.forEach((b, idx) => {
                    if(allOptions[idx].isCorrect) {
                        b.classList.add('correct');
                    }
                });
            }

            // Disable all buttons in this card
            allBtns.forEach(b => {
                b.style.pointerEvents = 'none';
                if(!b.classList.contains('correct') && !b.classList.contains('wrong')) {
                    b.style.opacity = '0.5';
                }
            });

            // Show explanation
            const expBox = card.querySelector('.explanation-box');
            expBox.style.display = 'block';
        }

        // Timer Logic
        function toggleTimer() {
            const btn = document.getElementById('btnTimer');
            if(isTimerRunning) {
                clearInterval(timerInterval);
                btn.innerText = "TI·∫æP T·ª§C L√ÄM B√ÄI";
                isTimerRunning = false;
            } else {
                btn.innerText = "T·∫†M D·ª™NG";
                isTimerRunning = true;
                timerInterval = setInterval(() => {
                    timeLeft--;
                    updateTimerDisplay();
                    if(timeLeft <= 0) {
                        clearInterval(timerInterval);
                        alert("ƒê√£ h·∫øt gi·ªù l√†m b√†i. B·∫°n v·∫´n c√≥ th·ªÉ ti·∫øp t·ª•c l√†m, nh∆∞ng nh·ªõ l√† trong ph√≤ng thi th·∫≠t, b·∫°n ch·ªâ n√™n l√†m m·ªôt b√†i nh∆∞ th·∫ø n√†y trong 10 ph√∫t th√¥i nha.");
                        document.getElementById('timerDisplay').innerText = "H·∫øt gi·ªù";
                        btn.style.display = 'none';
                    }
                }, 1000);
            }
        }

        function updateTimerDisplay() {
            if(timeLeft <= 0) return;
            const m = Math.floor(timeLeft / 60).toString().padStart(2, '0');
            const s = (timeLeft % 60).toString().padStart(2, '0');
            document.getElementById('timerDisplay').innerText = `${m}:${s}`;
        }

        // Translation Toggle
        function toggleTranslate(btn) {
            const box = btn.nextElementSibling;
            if(box.style.display === 'block') {
                box.style.display = 'none';
                btn.innerText = "M·ªü d·ªãch ƒëo·∫°n n√†y üåü";
            } else {
                box.style.display = 'block';
                btn.innerText = "·∫®n b·∫£n d·ªãch ‚ùå";
            }
        }

        // Submit Quiz Modal
        function submitQuiz() {
            const total = quizData.length;
            const modal = document.getElementById('resultModal');
            document.getElementById('scoreDisplay').innerText = `${score}/${total}`;
            
            let comment = "";
            let percentage = score / total;
            if(percentage === 1) comment = "üèÜ Tuy·ªát ƒë·ªânh! B·∫°n l√† m·ªôt THI√äN T√ÄI ng√¥n ng·ªØ!";
            else if(percentage >= 0.8) comment = "üåü L√†m t·ªët l·∫Øm! Ki·∫øn th·ª©c c·ªßa b·∫°n r·∫•t v·ªØng!";
            else if(percentage >= 0.5) comment = "üëç Kh√° l·∫Øm! H√£y √¥n l·∫°i t·ª´ v·ª±ng ƒë·ªÉ ho√†n h·∫£o h∆°n nh√©!";
            else comment = "üí™ C·ªë l√™n nh√©! Luy·ªán t·∫≠p nhi·ªÅu h∆°n b·∫°n s·∫Ω ti·∫øn b·ªô!";

            if(answeredQuestions < total) {
                comment += `<br><span style='font-size: 1rem; color: #FF4757;'>(L∆∞u √Ω: B·∫°n c√≤n ${total - answeredQuestions} c√¢u ch∆∞a l√†m)</span>`;
            }

            document.getElementById('commentDisplay').innerHTML = comment;
            modal.style.display = 'flex';
            
            // Big confetti shower
            if(percentage >= 0.5) {
                for(let i=0; i<5; i++) setTimeout(createConfetti, i*300);
            }
        }

        function closeModal() {
            document.getElementById('resultModal').style.display = 'none';
        }

        // Init
        window.onload = renderQuizzes;

    </script>
</body>
</html>