<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i t·∫≠p Th·ª±c h√†nh Prepositions & Possessive Pronouns - Ms Mai An ULIS</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Nunito -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <!-- Confetti Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #F0F4F8;
            background-image: radial-gradient(#d1d5db 1px, transparent 1px);
            background-size: 20px 20px;
        }

        /* 3D Button Styles */
        .btn-option {
            transition: all 0.1s;
            box-shadow: 0px 6px 0px 0px #E5E7EB; /* Default shadow color matching border */
            transform: translateY(0);
        }
        
        .btn-option:active {
            transform: translateY(6px);
            box-shadow: 0px 0px 0px 0px;
        }

        /* Colors for states */
        .btn-normal {
            background-color: white;
            border: 2px solid #E5E7EB;
            color: #374151;
            box-shadow: 0px 6px 0px 0px #D1D5DB;
        }
        
        .btn-correct {
            background-color: #00D26A !important;
            border-color: #00B058 !important;
            color: white !important;
            box-shadow: 0px 6px 0px 0px #008F47 !important;
        }

        .btn-wrong {
            background-color: #FF4757 !important;
            border-color: #E03545 !important;
            color: white !important;
            box-shadow: 0px 6px 0px 0px #C22D3B !important;
        }

        .btn-disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        /* Animations */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        .animate-shake {
            animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
        }

        @keyframes popIn {
            0% { opacity: 0; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }
        .animate-pop {
            animation: popIn 0.3s ease-out forwards;
        }

        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #C4C4C4;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #A0A0A0;
        }

        .explanation-text {
            white-space: pre-wrap; /* Preserve line breaks from JSON */
            line-height: 1.6;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <!-- Header -->
    <header class="w-full max-w-4xl flex justify-between items-center mb-6">
        <div class="bg-white px-6 py-3 rounded-full border-b-4 border-gray-200 shadow-sm flex items-center gap-3">
            <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center text-2xl">üë©‚Äçüè´</div>
            <h1 class="font-bold text-xl text-purple-700">Ms Mai An ULIS</h1>
        </div>
        <div class="bg-white px-6 py-3 rounded-full border-b-4 border-gray-200 shadow-sm flex items-center gap-3">
            <span class="text-yellow-500 text-2xl">üèÜ</span>
            <span id="score-display" class="font-bold text-xl text-gray-700">0/0</span>
        </div>
    </header>

    <!-- Main Quiz Card -->
    <main class="w-full max-w-4xl bg-white rounded-3xl shadow-xl border-b-8 border-purple-200 overflow-hidden relative min-h-[500px] flex flex-col">
        
        <!-- Progress Bar -->
        <div class="w-full bg-gray-100 h-4">
            <div id="progress-bar" class="bg-[#00C9A7] h-4 transition-all duration-500 rounded-r-full" style="width: 0%"></div>
        </div>

        <!-- Scrollable Content Area -->
        <div id="quiz-container" class="flex-1 p-6 md:p-10 overflow-y-auto custom-scrollbar">
            
            <!-- Question Section -->
            <div id="question-area" class="mb-8 animate-pop">
                <span class="inline-block bg-purple-100 text-purple-700 font-extrabold px-3 py-1 rounded-lg text-sm mb-4">
                    QUESTION <span id="q-number">1</span>
                </span>
                <h2 id="q-text" class="text-2xl md:text-3xl font-bold text-gray-800 leading-tight">
                    Loading question...
                </h2>
                <div id="q-image" class="mt-4 hidden">
                    <!-- Image will be inserted here if available -->
                </div>
            </div>

            <!-- Options Section -->
            <div id="options-area" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                <!-- Options generated by JS -->
            </div>

            <!-- Explanation Section (Hidden initially) -->
            <div id="explanation-area" class="hidden mt-6 bg-blue-50 border-l-4 border-blue-400 p-6 rounded-r-xl animate-pop">
                <div class="flex items-center gap-2 mb-3">
                    <span class="text-2xl">üí°</span>
                    <h3 class="font-bold text-lg text-blue-800 uppercase">Gi·∫£i th√≠ch chi ti·∫øt</h3>
                </div>
                <div id="explanation-content" class="text-gray-700 explanation-text text-base"></div>
            </div>

        </div>

        <!-- Footer / Navigation -->
        <div class="bg-gray-50 p-4 border-t border-gray-200 flex justify-between items-center">
             <button id="hint-btn" class="text-gray-500 hover:text-purple-600 font-bold text-sm flex items-center gap-2 transition-colors">
                <span>üîë</span> G·ª£i √Ω
            </button>
            <div class="relative group">
                 <div id="hint-popup" class="absolute bottom-full mb-2 left-0 w-64 bg-yellow-100 text-yellow-800 p-3 rounded-lg shadow-lg text-sm hidden">
                    <!-- Hint text -->
                 </div>
            </div>

            <button id="next-btn" class="hidden bg-[#8854C0] hover:bg-[#7043a0] text-white font-bold py-3 px-8 rounded-xl shadow-[0_4px_0_0_#6b3a9e] active:shadow-none active:translate-y-[4px] transition-all">
                C√¢u ti·∫øp theo ‚ûú
            </button>
            <button id="finish-btn" class="hidden bg-[#00C9A7] hover:bg-[#00a085] text-white font-bold py-3 px-8 rounded-xl shadow-[0_4px_0_0_#008f75] active:shadow-none active:translate-y-[4px] transition-all">
                N·ªôp b√†i & Xem ƒëi·ªÉm üèÅ
            </button>
        </div>
    </main>

    <!-- Results Modal -->
    <div id="result-modal" class="fixed inset-0 bg-black/60 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl p-8 max-w-md w-full text-center animate-pop relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-4 bg-gradient-to-r from-purple-400 to-pink-500"></div>
            <div class="text-6xl mb-4">üéâ</div>
            <h2 class="text-3xl font-extrabold text-gray-800 mb-2">Ho√†n th√†nh!</h2>
            <p class="text-gray-500 mb-6">B·∫°n ƒë√£ l√†m r·∫•t t·ªët b√†i ki·ªÉm tra n√†y.</p>
            
            <div class="bg-gray-100 rounded-2xl p-6 mb-8">
                <p class="text-sm text-gray-500 uppercase font-bold tracking-wider mb-1">T·ªïng ƒëi·ªÉm</p>
                <div class="text-5xl font-black text-[#8854C0]" id="final-score">0/0</div>
            </div>

            <button onclick="location.reload()" class="w-full bg-[#00C9A7] hover:bg-[#00a085] text-white font-bold py-4 px-8 rounded-xl shadow-[0_4px_0_0_#008f75] active:shadow-none active:translate-y-[4px] transition-all uppercase tracking-wide">
                L√†m l·∫°i b√†i thi üîÑ
            </button>
        </div>
    </div>

    <script>
        // --- DATA SOURCE ---
        const quizData = {
          "questions": [
            {
              "questionNumber": 1,
              "question": "Patrick finally found the important document __________ a pile of papers.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "under", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- under (prep): ·ªü d∆∞·ªõi, b√™n d∆∞·ªõi\n- on (prep): ·ªü tr√™n (b·ªÅ m·∫∑t)\n- in (prep): ·ªü trong\n- at (prep): t·∫°i (ƒëi·ªÉm)\n2. D·ªãch nghƒ©a: \"Patrick cu·ªëi c√πng c≈©ng t√¨m th·∫•y t√†i li·ªáu quan tr·ªçng b√™n d∆∞·ªõi ƒë·ªëng gi·∫•y t·ªù.\"\n3. Gi·∫£i th√≠ch: Ng·ªØ c·∫£nh \"t√¨m th·∫•y\" (found) v√† \"ƒë·ªëng gi·∫•y\" (pile of papers) th∆∞·ªùng √°m ch·ªâ v·∫≠t b·ªã che l·∫•p, n√™n \"under\" (d∆∞·ªõi) l√† ph√π h·ª£p nh·∫•t. \"In\" c≈©ng c√≥ th·ªÉ d√πng nh∆∞ng \"under\" mi√™u t·∫£ ch√≠nh x√°c v·ªã tr√≠ b·ªã ƒë√® l√™n.", "isCorrect": true },
                { "text": "on", "rationale": "...", "isCorrect": false },
                { "text": "at", "rationale": "...", "isCorrect": false },
                { "text": "between", "rationale": "...", "isCorrect": false }
              ],
              "hint": "V·ªã tr√≠ c·ªßa t√†i li·ªáu khi n√≥ b·ªã c√°c t·ªù gi·∫•y kh√°c ƒë√® l√™n tr√™n."
            },
            {
              "questionNumber": 2,
              "question": "Stop texting with your friends while walking __________ the pavement!",
              "imageUrl": null,
              "answerOptions": [
                { "text": "on", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- on (prep): tr√™n (b·ªÅ m·∫∑t)\n- in (prep): trong\n- at (prep): t·∫°i\n- under (prep): d∆∞·ªõi\n2. D·ªãch nghƒ©a: \"ƒê·ª´ng nh·∫Øn tin v·ªõi b·∫°n b√® khi ƒëang ƒëi b·ªô tr√™n v·ªâa h√®!\"\n3. Gi·∫£i th√≠ch: \"The pavement\" (v·ªâa h√®) l√† m·ªôt b·ªÅ m·∫∑t, n√™n ta d√πng gi·ªõi t·ª´ \"on\".", "isCorrect": true },
                { "text": "in", "rationale": "...", "isCorrect": false },
                { "text": "at", "rationale": "...", "isCorrect": false },
                { "text": "next to", "rationale": "...", "isCorrect": false }
              ],
              "hint": "B·∫°n b∆∞·ªõc ƒëi tr√™n b·ªÅ m·∫∑t c·ªßa c√°i g√¨ ƒë√≥."
            },
            {
              "questionNumber": 3,
              "question": "The company hopes to use holography to display their products __________ the end of the year.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "at", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- at (prep): v√†o l√∫c (th·ªùi ƒëi·ªÉm)\n- in (prep): trong (kho·∫£ng th·ªùi gian)\n- on (prep): v√†o (ng√†y)\n- for (prep): trong kho·∫£ng (th·ªùi l∆∞·ª£ng)\n2. D·ªãch nghƒ©a: \"C√¥ng ty hy v·ªçng s·∫Ω s·ª≠ d·ª•ng c√¥ng ngh·ªá to√†n ·∫£nh ƒë·ªÉ tr∆∞ng b√†y s·∫£n ph·∫©m v√†o cu·ªëi nƒÉm.\"\n3. Gi·∫£i th√≠ch: C·ª•m t·ª´ c·ªë ƒë·ªãnh ch·ªâ th·ªùi ƒëi·ªÉm l√† \"at the end of\" (v√†o cu·ªëi c·ªßa...).", "isCorrect": true },
                { "text": "in", "rationale": "...", "isCorrect": false },
                { "text": "on", "rationale": "...", "isCorrect": false },
                { "text": "under", "rationale": "...", "isCorrect": false }
              ],
              "hint": "C·ª•m t·ª´ ch·ªâ th·ªùi ƒëi·ªÉm: ... the beginning/end of."
            },
            {
              "questionNumber": 4,
              "question": "Contestants have to go to the __________ room to take the online oral test.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "opposite", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- opposite (adj/prep): ƒë·ªëi di·ªán\n- next to (prep): b√™n c·∫°nh\n- behind (prep): ph√≠a sau\n- between (prep): ·ªü gi·ªØa\n2. D·ªãch nghƒ©a: \"C√°c th√≠ sinh ph·∫£i ƒëi sang ph√≤ng ƒë·ªëi di·ªán ƒë·ªÉ l√†m b√†i thi n√≥i tr·ª±c tuy·∫øn.\"\n3. Gi·∫£i th√≠ch: ·ªû ƒë√¢y c·∫ßn m·ªôt t·ª´ b·ªï nghƒ©a cho \"room\". \"Opposite\" c√≥ th·ªÉ ƒë√≥ng vai tr√≤ t√≠nh t·ª´ (the opposite room - ph√≤ng ƒë·ªëi di·ªán). C√°c t·ª´ c√≤n l·∫°i nh∆∞ \"next to\", \"behind\" th∆∞·ªùng l√† gi·ªõi t·ª´ v√† kh√¥ng ƒë·ª©ng tr∆∞·ªõc danh t·ª´ theo c√°ch n√†y (kh√¥ng n√≥i \"the next to room\").", "isCorrect": true },
                { "text": "next to", "rationale": "...", "isCorrect": false },
                { "text": "between", "rationale": "...", "isCorrect": false },
                { "text": "under", "rationale": "...", "isCorrect": false }
              ],
              "hint": "CƒÉn ph√≤ng n·∫±m ·ªü ph√≠a b√™n kia h√†nh lang, nh√¨n th·∫≥ng sang."
            },
            {
              "questionNumber": 5,
              "question": "Some people detest sitting all day __________ the computer screen.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "in front of", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- in front of (prep phrase): ph√≠a tr∆∞·ªõc\n- behind (prep): ph√≠a sau\n- under (prep): ph√≠a d∆∞·ªõi\n- between (prep): ·ªü gi·ªØa\n2. D·ªãch nghƒ©a: \"M·ªôt s·ªë ng∆∞·ªùi gh√©t vi·ªác ph·∫£i ng·ªìi c·∫£ ng√†y tr∆∞·ªõc m√†n h√¨nh m√°y t√≠nh.\"\n3. Gi·∫£i th√≠ch: H√†nh ƒë·ªông s·ª≠ d·ª•ng m√°y t√≠nh y√™u c·∫ßu ng∆∞·ªùi d√πng ph·∫£i ng·ªìi ƒë·ªëi m·∫∑t, t·ª©c l√† \"ph√≠a tr∆∞·ªõc\" (in front of) m√†n h√¨nh.", "isCorrect": true },
                { "text": "behind", "rationale": "...", "isCorrect": false },
                { "text": "next to", "rationale": "...", "isCorrect": false },
                { "text": "opposite", "rationale": "...", "isCorrect": false }
              ],
              "hint": "V·ªã tr√≠ b·∫°n ng·ªìi ƒë·ªÉ c√≥ th·ªÉ nh√¨n th·∫•y m√†n h√¨nh l√†m vi·ªác."
            },
            {
              "questionNumber": 6,
              "question": "People __________ different countries can join the conversation in a group call.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "in", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- in (prep): ·ªü trong (khu v·ª±c ƒë·ªãa l√Ω)\n- on (prep): tr√™n\n- at (prep): t·∫°i\n- between (prep): gi·ªØa\n2. D·ªãch nghƒ©a: \"M·ªçi ng∆∞·ªùi ·ªü c√°c qu·ªëc gia kh√°c nhau c√≥ th·ªÉ tham gia cu·ªôc tr√≤ chuy·ªán trong cu·ªôc g·ªçi nh√≥m.\"\n3. Gi·∫£i th√≠ch: D√πng \"in\" cho kh√¥ng gian ƒë·ªãa l√Ω l·ªõn nh∆∞ qu·ªëc gia, th√†nh ph·ªë (in countries).", "isCorrect": true },
                { "text": "on", "rationale": "...", "isCorrect": false },
                { "text": "at", "rationale": "...", "isCorrect": false },
                { "text": "from", "rationale": "...", "isCorrect": false }
              ],
              "hint": "Gi·ªõi t·ª´ d√πng cho qu·ªëc gia, th√†nh ph·ªë."
            },
            {
              "questionNumber": 7,
              "question": "Is the smiley emoji __________ the angry emoji and the sad emoji?",
              "imageUrl": null,
              "answerOptions": [
                { "text": "between", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- between (prep): ·ªü gi·ªØa (2 ƒë·ªëi t∆∞·ª£ng)\n- among (prep): ·ªü gi·ªØa (nhi·ªÅu ƒë·ªëi t∆∞·ª£ng)\n- next to (prep): b√™n c·∫°nh\n- opposite (prep): ƒë·ªëi di·ªán\n2. D·ªãch nghƒ©a: \"C√≥ ph·∫£i bi·ªÉu t∆∞·ª£ng m·∫∑t c∆∞·ªùi n·∫±m gi·ªØa bi·ªÉu t∆∞·ª£ng t·ª©c gi·∫≠n v√† bi·ªÉu t∆∞·ª£ng bu·ªìn kh√¥ng?\"\n3. Gi·∫£i th√≠ch: C·∫•u tr√∫c \"__________ A and B\" l√† d·∫•u hi·ªáu nh·∫≠n bi·∫øt c·ªßa \"between\" (·ªü gi·ªØa hai v·∫≠t).", "isCorrect": true },
                { "text": "in", "rationale": "...", "isCorrect": false },
                { "text": "next to", "rationale": "...", "isCorrect": false },
                { "text": "opposite", "rationale": "...", "isCorrect": false }
              ],
              "hint": "C·∫•u tr√∫c ch·ªâ v·ªã tr√≠ li√™n quan ƒë·∫øn 2 v·∫≠t: ... A and B."
            },
            {
              "questionNumber": 8,
              "question": "I prefer sitting __________ my friends and talking face to face.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "next to", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- next to (prep): b√™n c·∫°nh\n- opposite (prep): ƒë·ªëi di·ªán\n- behind (prep): ph√≠a sau\n- under (prep): ph√≠a d∆∞·ªõi\n2. D·ªãch nghƒ©a: \"T√¥i th√≠ch ng·ªìi c·∫°nh b·∫°n b√® v√† n√≥i chuy·ªán tr·ª±c ti·∫øp h∆°n.\"\n3. Gi·∫£i th√≠ch: Trong danh s√°ch c√°c t·ª´ c√≤n l·∫°i c·ªßa b√†i t·∫≠p, \"next to\" l√† t·ª´ ph√π h·ª£p nh·∫•t ƒë·ªÉ ch·ªâ v·ªã tr√≠ ng·ªìi c√πng b·∫°n b√®. D√π \"face to face\" (tr·ª±c ti·∫øp) th∆∞·ªùng g·ª£i √Ω \"opposite\", nh∆∞ng c·ª•m \"next to friends\" r·∫•t ph·ªï bi·∫øn cho √Ω nghƒ©a t·ª• t·∫≠p, g·∫ßn g≈©i. (\"Opposite\" ƒë√£ d√πng ·ªü c√¢u 4).", "isCorrect": true },
                { "text": "between", "rationale": "...", "isCorrect": false },
                { "text": "behind", "rationale": "...", "isCorrect": false },
                { "text": "in", "rationale": "...", "isCorrect": false }
              ],
              "hint": "V·ªã tr√≠ ng·ªìi k·ªÅ vai s√°t c√°nh v·ªõi nhau."
            },
            {
              "questionNumber": 9,
              "question": "We were ordering our drinks, and the person __________ us kept telling us to hurry up.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "behind", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- behind (prep): ph√≠a sau\n- in front of (prep): ph√≠a tr∆∞·ªõc\n- next to (prep): b√™n c·∫°nh\n- opposite (prep): ƒë·ªëi di·ªán\n2. D·ªãch nghƒ©a: \"Ch√∫ng t√¥i ƒëang g·ªçi ƒë·ªì u·ªëng, v√† ng∆∞·ªùi ƒë·ª©ng sau ch√∫ng t√¥i c·ª© gi·ª•c ch√∫ng t√¥i nhanh l√™n.\"\n3. Gi·∫£i th√≠ch: Trong ng·ªØ c·∫£nh x·∫øp h√†ng (ordering drinks), ng∆∞·ªùi gi·ª•c m√¨nh nhanh l√™n th∆∞·ªùng l√† ng∆∞·ªùi ƒëang ch·ªù ·ªü \"ph√≠a sau\" (behind).", "isCorrect": true },
                { "text": "in front of", "rationale": "...", "isCorrect": false },
                { "text": "opposite", "rationale": "...", "isCorrect": false },
                { "text": "under", "rationale": "...", "isCorrect": false }
              ],
              "hint": "V·ªã tr√≠ c·ªßa ng∆∞·ªùi ƒëang x·∫øp h√†ng ch·ªù ƒë·∫øn l∆∞·ª£t sau l∆∞ng b·∫°n."
            },
            {
              "questionNumber": 10,
              "question": "Where's Anna? ~ She's __________ home. She'll join the meeting through video call.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "at", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- at (prep): ·ªü (t·∫°i ƒëi·ªÉm n√†o ƒë√≥)\n- in (prep): ·ªü trong\n- on (prep): ·ªü tr√™n\n- to (prep): ƒë·∫øn\n2. D·ªãch nghƒ©a: \"Anna ƒë√¢u r·ªìi? ~ C√¥ ·∫•y ƒëang ·ªü nh√†. C√¥ ·∫•y s·∫Ω tham gia cu·ªôc h·ªçp qua video call.\"\n3. Gi·∫£i th√≠ch: C·ª•m t·ª´ c·ªë ƒë·ªãnh \"at home\" (ƒëang ·ªü nh√†).", "isCorrect": true },
                { "text": "in", "rationale": "...", "isCorrect": false },
                { "text": "on", "rationale": "...", "isCorrect": false },
                { "text": "to", "rationale": "...", "isCorrect": false }
              ],
              "hint": "C·ª•m t·ª´ c·ªë ƒë·ªãnh ch·ªâ vi·ªác ƒëang ·ªü nh√†: ... home."
            },
            {
              "questionNumber": 11,
              "question": "__________ 8 p.m. tonight, we are performing a new play. Don't miss it!",
              "imageUrl": null,
              "answerOptions": [
                { "text": "At", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- At (prep): V√†o l√∫c (gi·ªù c·ª• th·ªÉ)\n- In (prep): V√†o (th√°ng, nƒÉm, bu·ªïi)\n- On (prep): V√†o (ng√†y, th·ª©)\n2. D·ªãch nghƒ©a: \"V√†o l√∫c 8 gi·ªù t·ªëi nay, ch√∫ng t√¥i s·∫Ω di·ªÖn m·ªôt v·ªü k·ªãch m·ªõi. ƒê·ª´ng b·ªè l·ª° nh√©!\"\n3. Gi·∫£i th√≠ch: D√πng \"At\" tr∆∞·ªõc gi·ªù c·ª• th·ªÉ (8 p.m.).", "isCorrect": true },
                { "text": "In", "rationale": "...", "isCorrect": false },
                { "text": "On", "rationale": "...", "isCorrect": false },
                { "text": "During", "rationale": "...", "isCorrect": false }
              ],
              "hint": "D√πng gi·ªõi t·ª´ g√¨ tr∆∞·ªõc gi·ªù ƒë·ªìng h·ªì?"
            },
            {
              "questionNumber": 12,
              "question": "Why is the text __________ your computer screen so small? I can't read it.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "on", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- on (prep): tr√™n (b·ªÅ m·∫∑t)\n- in (prep): trong\n- at (prep): t·∫°i\n2. D·ªãch nghƒ©a: \"T·∫°i sao ch·ªØ tr√™n m√†n h√¨nh m√°y t√≠nh c·ªßa b·∫°n l·∫°i nh·ªè th·∫ø? T√¥i kh√¥ng ƒë·ªçc ƒë∆∞·ª£c.\"\n3. Gi·∫£i th√≠ch: M√†n h√¨nh (screen) ƒë∆∞·ª£c xem l√† m·ªôt b·ªÅ m·∫∑t hi·ªÉn th·ªã, n√™n d√πng \"on\".", "isCorrect": true },
                { "text": "in", "rationale": "...", "isCorrect": false },
                { "text": "at", "rationale": "...", "isCorrect": false },
                { "text": "under", "rationale": "...", "isCorrect": false }
              ],
              "hint": "H√¨nh ·∫£nh hi·ªÉn th·ªã TR√äN b·ªÅ m·∫∑t m√†n h√¨nh."
            },
            {
              "questionNumber": 13,
              "question": "Do you think translators will lose their jobs to machines __________ the future?",
              "imageUrl": null,
              "answerOptions": [
                { "text": "in", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- in (prep): trong\n- on (prep): tr√™n\n- at (prep): t·∫°i\n2. D·ªãch nghƒ©a: \"B·∫°n c√≥ nghƒ© bi√™n d·ªãch vi√™n s·∫Ω m·∫•t vi·ªác v√†o m√°y m√≥c trong t∆∞∆°ng lai kh√¥ng?\"\n3. Gi·∫£i th√≠ch: C·ª•m t·ª´ c·ªë ƒë·ªãnh \"in the future\" (trong t∆∞∆°ng lai).", "isCorrect": true },
                { "text": "on", "rationale": "...", "isCorrect": false },
                { "text": "at", "rationale": "...", "isCorrect": false },
                { "text": "for", "rationale": "...", "isCorrect": false }
              ],
              "hint": "C·ª•m t·ª´: ... the future."
            },
            {
              "questionNumber": 14,
              "question": "Her apartment is __________ the 15th floor of a luxury building.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "on", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- on (prep): tr√™n (t·∫ßng)\n- in (prep): trong\n- at (prep): t·∫°i\n2. D·ªãch nghƒ©a: \"CƒÉn h·ªô c·ªßa c√¥ ·∫•y n·∫±m ·ªü t·∫ßng 15 c·ªßa m·ªôt t√≤a nh√† sang tr·ªçng.\"\n3. Gi·∫£i th√≠ch: D√πng \"on\" v·ªõi s·ªë t·∫ßng (on the first floor, on the 15th floor).", "isCorrect": true },
                { "text": "in", "rationale": "...", "isCorrect": false },
                { "text": "at", "rationale": "...", "isCorrect": false },
                { "text": "above", "rationale": "...", "isCorrect": false }
              ],
              "hint": "D√πng gi·ªõi t·ª´ g√¨ v·ªõi 'floor' (t·∫ßng)?"
            },
            {
              "questionNumber": 15,
              "question": "We won't use landline phone anymore __________ ten years' time.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "in", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- in (prep): trong (kho·∫£ng th·ªùi gian t∆∞∆°ng lai)\n- at (prep): t·∫°i\n- on (prep): tr√™n\n2. D·ªãch nghƒ©a: \"Ch√∫ng ta s·∫Ω kh√¥ng d√πng ƒëi·ªán tho·∫°i c·ªë ƒë·ªãnh n·ªØa trong 10 nƒÉm t·ªõi.\"\n3. Gi·∫£i th√≠ch: C·∫•u tr√∫c \"in + kho·∫£ng th·ªùi gian\" d√πng cho t∆∞∆°ng lai ƒë·ªÉ ch·ªâ ƒëi·ªÅu g√¨ s·∫Ω x·∫£y ra sau kho·∫£ng th·ªùi gian ƒë√≥ (in ten years' time = sau 10 nƒÉm n·ªØa).", "isCorrect": true },
                { "text": "at", "rationale": "...", "isCorrect": false },
                { "text": "on", "rationale": "...", "isCorrect": false },
                { "text": "during", "rationale": "...", "isCorrect": false }
              ],
              "hint": "Gi·ªõi t·ª´ ch·ªâ s·ª± vi·ªác x·∫£y ra sau m·ªôt kho·∫£ng th·ªùi gian trong t∆∞∆°ng lai."
            },
            {
              "questionNumber": 16,
              "question": "Do you have any plans __________ Monday night?",
              "imageUrl": null,
              "answerOptions": [
                { "text": "on", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- on (prep): v√†o (ng√†y)\n- in (prep): v√†o (bu·ªïi, th√°ng)\n- at (prep): v√†o (gi·ªù)\n2. D·ªãch nghƒ©a: \"B·∫°n c√≥ k·∫ø ho·∫°ch g√¨ v√†o t·ªëi th·ª© Hai kh√¥ng?\"\n3. Gi·∫£i th√≠ch: D√π c√≥ \"night\" (th∆∞·ªùng d√πng at night), nh∆∞ng khi ƒëi k√®m v·ªõi t√™n th·ª© (Monday), ta ∆∞u ti√™n d√πng \"On\" (On Monday night).", "isCorrect": true },
                { "text": "in", "rationale": "...", "isCorrect": false },
                { "text": "at", "rationale": "...", "isCorrect": false },
                { "text": "for", "rationale": "...", "isCorrect": false }
              ],
              "hint": "C√≥ t·ª´ ch·ªâ 'Th·ª©' (Monday) th√¨ d√πng gi·ªõi t·ª´ g√¨?"
            },
            {
              "questionNumber": 17,
              "question": "Let's stop __________ a convenience store to buy snacks before going to school.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "at", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- at (prep): t·∫°i (ƒëi·ªÉm d·ª´ng)\n- in (prep): trong (kh√¥ng gian)\n- on (prep): tr√™n\n2. D·ªãch nghƒ©a: \"H√£y d·ª´ng l·∫°i ·ªü m·ªôt c·ª≠a h√†ng ti·ªán l·ª£i ƒë·ªÉ mua ƒë·ªì ƒÉn v·∫∑t tr∆∞·ªõc khi ƒë·∫øn tr∆∞·ªùng nh√©.\"\n3. Gi·∫£i th√≠ch: ƒê·ªông t·ª´ \"stop\" (d·ª´ng ch√¢n) th∆∞·ªùng ƒëi v·ªõi \"at\" ƒë·ªÉ ch·ªâ m·ªôt ƒë·ªãa ƒëi·ªÉm tr√™n h√†nh tr√¨nh (stop at a place).", "isCorrect": true },
                { "text": "in", "rationale": "...", "isCorrect": false },
                { "text": "on", "rationale": "...", "isCorrect": false },
                { "text": "under", "rationale": "...", "isCorrect": false }
              ],
              "hint": "D·ª´ng ch√¢n T·∫†I m·ªôt ƒë·ªãa ƒëi·ªÉm."
            },
            {
              "questionNumber": 18,
              "question": "There's no mobile phone signal at all __________ the middle of this forest.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "in", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- in (prep): trong\n- at (prep): t·∫°i\n- on (prep): tr√™n\n2. D·ªãch nghƒ©a: \"Ho√†n to√†n kh√¥ng c√≥ s√≥ng ƒëi·ªán tho·∫°i ·ªü gi·ªØa khu r·ª´ng n√†y.\"\n3. Gi·∫£i th√≠ch: C·ª•m t·ª´ c·ªë ƒë·ªãnh \"in the middle of\" (·ªü gi·ªØa c·ªßa c√°i g√¨ ƒë√≥).", "isCorrect": true },
                { "text": "at", "rationale": "...", "isCorrect": false },
                { "text": "on", "rationale": "...", "isCorrect": false },
                { "text": "under", "rationale": "...", "isCorrect": false }
              ],
              "hint": "C·ª•m t·ª´: ... the middle of."
            },
            {
              "questionNumber": 19,
              "question": "Joe is watching the news about a social robot __________ the living room.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "in", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- in (prep): trong\n- at (prep): t·∫°i\n- on (prep): tr√™n\n2. D·ªãch nghƒ©a: \"Joe ƒëang xem tin t·ª©c v·ªÅ m·ªôt robot x√£ h·ªôi trong ph√≤ng kh√°ch.\"\n3. Gi·∫£i th√≠ch: V·ªõi c√°c ph√≤ng trong nh√† (living room, kitchen...), ta d√πng \"in\" (trong ph√≤ng).", "isCorrect": true },
                { "text": "at", "rationale": "...", "isCorrect": false },
                { "text": "on", "rationale": "...", "isCorrect": false },
                { "text": "between", "rationale": "...", "isCorrect": false }
              ],
              "hint": "Trong kh√¥ng gian c·ªßa m·ªôt cƒÉn ph√≤ng."
            },
            {
              "questionNumber": 20,
              "question": "Are they having a group call __________ the moment?",
              "imageUrl": null,
              "answerOptions": [
                { "text": "at", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- at (prep): v√†o l√∫c\n- in (prep): trong\n- on (prep): tr√™n\n2. D·ªãch nghƒ©a: \"H·ªç ƒëang g·ªçi nh√≥m ngay b√¢y gi·ªù ph·∫£i kh√¥ng?\"\n3. Gi·∫£i th√≠ch: C·ª•m t·ª´ c·ªë ƒë·ªãnh \"at the moment\" (b√¢y gi·ªù, ngay l√∫c n√†y).", "isCorrect": true },
                { "text": "in", "rationale": "...", "isCorrect": false },
                { "text": "on", "rationale": "...", "isCorrect": false },
                { "text": "under", "rationale": "...", "isCorrect": false }
              ],
              "hint": "C·ª•m t·ª´ ch·ªâ hi·ªán t·∫°i: ... the moment."
            },
            {
              "questionNumber": 21,
              "question": "If you don't have a tablet, you can use __________. I have two.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "mine", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- mine (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa t√¥i\n- yours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa b·∫°n\n- his (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa anh ·∫•y\n- hers (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa c√¥ ·∫•y\n2. D·ªãch nghƒ©a: \"N·∫øu b·∫°n kh√¥ng c√≥ m√°y t√≠nh b·∫£ng, b·∫°n c√≥ th·ªÉ d√πng c√°i c·ªßa t√¥i. T√¥i c√≥ hai c√°i.\"\n3. Gi·∫£i th√≠ch: Ng∆∞·ªùi n√≥i (I) ƒëang ƒë·ªÅ ngh·ªã cho m∆∞·ª£n ƒë·ªì c·ªßa m√¨nh, n√™n d√πng \"mine\" (thay th·∫ø cho \"my tablet\").", "isCorrect": true },
                { "text": "yours", "rationale": "...", "isCorrect": false },
                { "text": "his", "rationale": "...", "isCorrect": false },
                { "text": "hers", "rationale": "...", "isCorrect": false }
              ],
              "hint": "Thay th·∫ø cho 'my tablet'."
            },
            {
              "questionNumber": 22,
              "question": "Anna never uses emojis, so I don't think this text message is __________.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "hers", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- hers (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa c√¥ ·∫•y\n- his (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa anh ·∫•y\n- yours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa b·∫°n\n- mine (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa t√¥i\n2. D·ªãch nghƒ©a: \"Anna kh√¥ng bao gi·ªù d√πng bi·ªÉu t∆∞·ª£ng c·∫£m x√∫c, n√™n t√¥i kh√¥ng nghƒ© tin nh·∫Øn n√†y l√† c·ªßa c√¥ ·∫•y.\"\n3. Gi·∫£i th√≠ch: Ch·ªß ng·ªØ ƒë∆∞·ª£c nh·∫Øc ƒë·∫øn l√† Anna (n·ªØ), n√™n ƒë·∫°i t·ª´ s·ªü h·ªØu t∆∞∆°ng ·ª©ng l√† \"hers\".", "isCorrect": true },
                { "text": "his", "rationale": "...", "isCorrect": false },
                { "text": "theirs", "rationale": "...", "isCorrect": false },
                { "text": "yours", "rationale": "...", "isCorrect": false }
              ],
              "hint": "C·ªßa Anna."
            },
            {
              "questionNumber": 23,
              "question": "Adam and Sammy are my new neighbours. My house is next to __________.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "theirs", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- theirs (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa h·ªç\n- ours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa ch√∫ng t√¥i\n- hers (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa c√¥ ·∫•y\n- his (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa anh ·∫•y\n2. D·ªãch nghƒ©a: \"Adam v√† Sammy l√† h√†ng x√≥m m·ªõi c·ªßa t√¥i. Nh√† t√¥i ·ªü c·∫°nh nh√† c·ªßa h·ªç.\"\n3. Gi·∫£i th√≠ch: Adam v√† Sammy l√† 2 ng∆∞·ªùi (h·ªç), n√™n d√πng \"theirs\" (thay cho \"their house\").", "isCorrect": true },
                { "text": "ours", "rationale": "...", "isCorrect": false },
                { "text": "his", "rationale": "...", "isCorrect": false },
                { "text": "yours", "rationale": "...", "isCorrect": false }
              ],
              "hint": "C·ªßa Adam v√† Sammy."
            },
            {
              "questionNumber": 24,
              "question": "How silly! She took my phone by mistake, and I took __________.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "hers", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- hers (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa c√¥ ·∫•y\n- his (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa anh ·∫•y\n- mine (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa t√¥i\n- yours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa b·∫°n\n2. D·ªãch nghƒ©a: \"Ng·ªõ ng·∫©n th·∫≠t! C√¥ ·∫•y c·∫ßm nh·∫ßm ƒëi·ªán tho·∫°i c·ªßa t√¥i, c√≤n t√¥i th√¨ c·∫ßm nh·∫ßm c√°i c·ªßa c√¥ ·∫•y.\"\n3. Gi·∫£i th√≠ch: Ch·ªß ng·ªØ t∆∞∆°ng ·ª©ng l√† \"She\", n√™n t√¥i c·∫ßm nh·∫ßm \"hers\" (c·ªßa c√¥ ·∫•y).", "isCorrect": true },
                { "text": "mine", "rationale": "...", "isCorrect": false },
                { "text": "his", "rationale": "...", "isCorrect": false },
                { "text": "theirs", "rationale": "...", "isCorrect": false }
              ],
              "hint": "C·ªßa c√¥ ·∫•y (She)."
            },
            {
              "questionNumber": 25,
              "question": "This phone case of __________ is pretty. It matches the colour of your phone.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "yours", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- yours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa b·∫°n\n- mine (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa t√¥i\n- his (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa anh ·∫•y\n- hers (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa c√¥ ·∫•y\n2. D·ªãch nghƒ©a: \"C√°i ·ªëp l∆∞ng ƒëi·ªán tho·∫°i n√†y c·ªßa b·∫°n ƒë·∫πp ƒë·∫•y. N√≥ h·ª£p v·ªõi m√†u ƒëi·ªán tho·∫°i c·ªßa b·∫°n.\"\n3. Gi·∫£i th√≠ch: V·∫ø sau c√≥ \"your phone\" (ƒëi·ªán tho·∫°i c·ªßa b·∫°n), n√™n c√°i ·ªëp n√†y c≈©ng ph·∫£i l√† \"of yours\" (c·ªßa b·∫°n).", "isCorrect": true },
                { "text": "mine", "rationale": "...", "isCorrect": false },
                { "text": "theirs", "rationale": "...", "isCorrect": false },
                { "text": "ours", "rationale": "...", "isCorrect": false }
              ],
              "hint": "Kh·ªõp v·ªõi 'your phone'."
            },
            {
              "questionNumber": 26,
              "question": "Do you bring your own laptop? ~ Of course, the grey one is __________.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "mine", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- mine (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa t√¥i\n- yours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa b·∫°n\n- his (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa anh ·∫•y\n- hers (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa c√¥ ·∫•y\n2. D·ªãch nghƒ©a: \"B·∫°n c√≥ mang laptop ƒëi kh√¥ng? ~ T·∫•t nhi√™n, c√°i m√†u x√°m l√† c·ªßa t√¥i.\"\n3. Gi·∫£i th√≠ch: Ng∆∞·ªùi tr·∫£ l·ªùi x√°c nh·∫≠n s·ªü h·ªØu c·ªßa ch√≠nh m√¨nh (\"Of course\" - tr·∫£ l·ªùi cho c√¢u h·ªèi \"Do you...\"), n√™n d√πng \"mine\".", "isCorrect": true },
                { "text": "yours", "rationale": "...", "isCorrect": false },
                { "text": "theirs", "rationale": "...", "isCorrect": false },
                { "text": "ours", "rationale": "...", "isCorrect": false }
              ],
              "hint": "Tr·∫£ l·ªùi cho c√¢u h·ªèi v·ªÅ 'your laptop'."
            },
            {
              "questionNumber": 27,
              "question": "I don't think it's Andy's voice. __________ is much lower.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "His", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- His (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa anh ·∫•y\n- Hers (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa c√¥ ·∫•y\n- Yours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa b·∫°n\n- Mine (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa t√¥i\n2. D·ªãch nghƒ©a: \"T√¥i kh√¥ng nghƒ© ƒë√≥ l√† gi·ªçng c·ªßa Andy. Gi·ªçng c·ªßa anh ·∫•y tr·∫ßm h∆°n nhi·ªÅu.\"\n3. Gi·∫£i th√≠ch: Andy l√† t√™n nam, n√™n d√πng \"His\" ƒë·ªÉ thay th·∫ø cho \"His voice\".", "isCorrect": true },
                { "text": "Hers", "rationale": "...", "isCorrect": false },
                { "text": "Theirs", "rationale": "...", "isCorrect": false },
                { "text": "Ours", "rationale": "...", "isCorrect": false }
              ],
              "hint": "Thay th·∫ø cho 'Andy's voice'."
            },
            {
              "questionNumber": 28,
              "question": "Do you think their connection is strong? ~ No, __________ is stronger. We can buy the tickets faster.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "ours", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- ours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa ch√∫ng t√¥i\n- theirs (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa h·ªç\n- mine (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa t√¥i\n- his (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa anh ·∫•y\n2. D·ªãch nghƒ©a: \"B·∫°n c√≥ nghƒ© k·∫øt n·ªëi m·∫°ng c·ªßa h·ªç m·∫°nh kh√¥ng? ~ Kh√¥ng, m·∫°ng c·ªßa ch√∫ng ta m·∫°nh h∆°n. Ch√∫ng ta c√≥ th·ªÉ mua v√© nhanh h∆°n.\"\n3. Gi·∫£i th√≠ch: C√¢u sau d√πng \"We can buy...\" (Ch√∫ng ta...), n√™n ch·ªß ng·ªØ so s√°nh t∆∞∆°ng ·ª©ng l√† \"ours\" (m·∫°ng c·ªßa ch√∫ng ta).", "isCorrect": true },
                { "text": "theirs", "rationale": "...", "isCorrect": false },
                { "text": "mine", "rationale": "...", "isCorrect": false },
                { "text": "yours", "rationale": "...", "isCorrect": false }
              ],
              "hint": "Li√™n quan ƒë·∫øn 'We' ·ªü c√¢u sau."
            },
            {
              "questionNumber": 29,
              "question": "They claimed that those new emojis were an idea of __________.",
              "imageUrl": null,
              "answerOptions": [
                { "text": "theirs", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- theirs (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa h·ªç\n- ours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa ch√∫ng t√¥i\n- his (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa anh ·∫•y\n- hers (ƒë·∫°i t·ª´ s·ªü h·ªØu): c·ªßa c√¥ ·∫•y\n2. D·ªãch nghƒ©a: \"H·ªç kh·∫≥ng ƒë·ªãnh r·∫±ng nh·ªØng bi·ªÉu t∆∞·ª£ng c·∫£m x√∫c m·ªõi ƒë√≥ l√† √Ω t∆∞·ªüng c·ªßa h·ªç.\"\n3. Gi·∫£i th√≠ch: Ch·ªß ng·ªØ l√† \"They\" (h·ªç), n√™n √Ω t∆∞·ªüng ƒë√≥ l√† c·ªßa h·ªç (idea of theirs).", "isCorrect": true },
                { "text": "ours", "rationale": "...", "isCorrect": false },
                { "text": "mine", "rationale": "...", "isCorrect": false },
                { "text": "yours", "rationale": "...", "isCorrect": false }
              ],
              "hint": "C·ªßa h·ªç (They)."
            },
            {
              "questionNumber": 30,
              "question": "My webcam is too blurry. Where did you buy __________?",
              "imageUrl": null,
              "answerOptions": [
                { "text": "yours", "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- yours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa b·∫°n\n- mine (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa t√¥i\n- his (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa anh ·∫•y\n- theirs (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa h·ªç\n2. D·ªãch nghƒ©a: \"Webcam c·ªßa t√¥i m·ªù qu√°. B·∫°n mua c√°i c·ªßa b·∫°n ·ªü ƒë√¢u th·∫ø?\"\n3. Gi·∫£i th√≠ch: Ng∆∞·ªùi n√≥i ƒëang h·ªèi ng∆∞·ªùi nghe (you) v·ªÅ ƒë·ªì c·ªßa ng∆∞·ªùi nghe, n√™n d√πng \"yours\".", "isCorrect": true },
                { "text": "mine", "rationale": "...", "isCorrect": false },
                { "text": "ours", "rationale": "...", "isCorrect": false },
                { "text": "hers", "rationale": "...", "isCorrect": false }
              ],
              "hint": "C√°i c·ªßa b·∫°n (You)."
            }
          ]
        };

        // --- GAME LOGIC ---
        let currentQuestionIndex = 0;
        let score = 0;
        const totalQuestions = quizData.questions.length;
        let answered = false;

        const dom = {
            questionNumber: document.getElementById('q-number'),
            questionText: document.getElementById('q-text'),
            questionImage: document.getElementById('q-image'),
            optionsArea: document.getElementById('options-area'),
            explanationArea: document.getElementById('explanation-area'),
            explanationContent: document.getElementById('explanation-content'),
            progressBar: document.getElementById('progress-bar'),
            scoreDisplay: document.getElementById('score-display'),
            nextBtn: document.getElementById('next-btn'),
            finishBtn: document.getElementById('finish-btn'),
            hintBtn: document.getElementById('hint-btn'),
            hintPopup: document.getElementById('hint-popup'),
            resultModal: document.getElementById('result-modal'),
            finalScore: document.getElementById('final-score'),
            questionArea: document.getElementById('question-area')
        };

        // --- AUDIO SYSTEM (Web Audio API) ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            if (type === 'correct') {
                // Ding sound (High pitch sine wave fade out)
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(800, audioCtx.currentTime);
                oscillator.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.1);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.5);
            } else {
                // Buzz sound (Low pitch sawtooth)
                oscillator.type = 'sawtooth';
                oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
                oscillator.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.3);
            }
        }

        // --- FUNCTIONS ---

        function updateProgress() {
            const percentage = ((currentQuestionIndex) / totalQuestions) * 100;
            dom.progressBar.style.width = `${percentage}%`;
            dom.scoreDisplay.textContent = `${score}/${totalQuestions}`;
        }

        function loadQuestion(index) {
            answered = false;
            const q = quizData.questions[index];
            
            // Reset UI
            dom.optionsArea.innerHTML = '';
            dom.explanationArea.classList.add('hidden');
            dom.nextBtn.classList.add('hidden');
            dom.finishBtn.classList.add('hidden');
            dom.hintPopup.classList.add('hidden');
            
            // Animation reset
            dom.questionArea.classList.remove('animate-pop');
            void dom.questionArea.offsetWidth; // Trigger reflow
            dom.questionArea.classList.add('animate-pop');

            // Set Content
            dom.questionNumber.textContent = index + 1;
            dom.questionText.textContent = q.question.replace(/__________/g, '_______');
            
            // Hint
            dom.hintPopup.textContent = q.hint || "Kh√¥ng c√≥ g·ª£i √Ω cho c√¢u n√†y.";

            // Render Options
            q.answerOptions.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = `btn-option btn-normal w-full py-4 px-6 rounded-2xl font-bold text-lg md:text-xl text-left hover:bg-gray-50 flex items-center justify-between group`;
                btn.innerHTML = `<span>${opt.text}</span>`;
                btn.onclick = () => checkAnswer(btn, opt, q);
                dom.optionsArea.appendChild(btn);
            });
            
            updateProgress();
        }

        function checkAnswer(btnElement, selectedOption, questionData) {
            if (answered) return;
            answered = true;

            // Update score
            if (selectedOption.isCorrect) {
                score++;
                playSound('correct');
                btnElement.classList.replace('btn-normal', 'btn-correct');
                btnElement.innerHTML += `<span class="text-xl">‚ú®</span>`;
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#00D26A', '#FFD700', '#FFFFFF']
                });
            } else {
                playSound('wrong');
                btnElement.classList.replace('btn-normal', 'btn-wrong');
                btnElement.innerHTML += `<span class="text-xl">‚ùå</span>`;
                btnElement.classList.add('animate-shake');
                
                // Highlight correct answer
                const allButtons = dom.optionsArea.querySelectorAll('button');
                questionData.answerOptions.forEach((opt, idx) => {
                    if (opt.isCorrect) {
                        allButtons[idx].classList.replace('btn-normal', 'btn-correct');
                        allButtons[idx].innerHTML += `<span class="text-xl">üëà</span>`;
                    }
                });
            }

            updateProgress();
            
            // Disable all buttons
            const allButtons = dom.optionsArea.querySelectorAll('button');
            allButtons.forEach(b => b.classList.add('btn-disabled'));

            // Show explanation (Full correct option's rationale)
            const correctOpt = questionData.answerOptions.find(o => o.isCorrect);
            // Replace \n with <br> for HTML rendering
            const formattedExplanation = correctOpt.rationale.replace(/\n/g, '<br>');
            dom.explanationContent.innerHTML = formattedExplanation;
            dom.explanationArea.classList.remove('hidden');

            // Show Navigation
            if (currentQuestionIndex < totalQuestions - 1) {
                dom.nextBtn.classList.remove('hidden');
            } else {
                dom.finishBtn.classList.remove('hidden');
            }
        }

        // --- EVENT LISTENERS ---

        dom.nextBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            loadQuestion(currentQuestionIndex);
            // Scroll to top
            dom.questionArea.scrollIntoView({ behavior: 'smooth' });
        });

        dom.finishBtn.addEventListener('click', () => {
            // Update final score
            const percentage = (score / totalQuestions) * 100;
            dom.finalScore.textContent = `${score}/${totalQuestions}`;
            dom.scoreDisplay.textContent = `${score}/${totalQuestions}`;
            dom.progressBar.style.width = '100%';
            dom.resultModal.classList.remove('hidden');
            
            // Big confetti
            const end = Date.now() + 1000;
            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#8854C0', '#00C9A7']
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#8854C0', '#00C9A7']
                });
                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());
        });

        dom.hintBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            dom.hintPopup.classList.toggle('hidden');
        });

        document.addEventListener('click', (e) => {
            if (!dom.hintBtn.contains(e.target)) {
                dom.hintPopup.classList.add('hidden');
            }
        });

        // Initialize
        loadQuestion(0);

    </script>
</body>
</html>
