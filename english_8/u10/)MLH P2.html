<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ms. Mai An ULIS - Unit 10 Quiz</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8854C0; /* Purple */
            --secondary: #00C9A7; /* Teal */
            --correct: #00D26A; /* Green */
            --wrong: #FF4757; /* Red */
            --background: #F0F4F8;
            --text: #2f3542;
            --card-bg: #ffffff;
            --shadow-color: rgba(0, 0, 0, 0.15);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--background);
            background-image: radial-gradient(var(--primary) 1px, transparent 1px), radial-gradient(var(--secondary) 1px, transparent 1px);
            background-size: 40px 40px;
            background-position: 0 0, 20px 20px;
            color: var(--text);
            padding-bottom: 50px;
            min-height: 100vh;
        }

        /* --- HEADER --- */
        header {
            background: linear-gradient(135deg, #a55eea, #8854C0);
            color: white;
            padding: 20px;
            text-align: center;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            box-shadow: 0 10px 20px rgba(136, 84, 192, 0.3);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        header h1 {
            font-family: 'Quicksand', sans-serif;
            font-size: 2.2rem;
            font-weight: 800;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.1);
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-top: 5px;
        }

        .teacher-badge {
            background: #fff;
            color: var(--primary);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 800;
            font-size: 0.9rem;
            display: inline-block;
            margin-bottom: 10px;
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
        }

        /* --- CONTAINER --- */
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* --- QUESTION CARD --- */
        .question-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 0 rgba(0,0,0,0.05), 0 10px 20px rgba(0,0,0,0.1);
            border: 2px solid #e1e1e1;
            position: relative;
            transition: transform 0.3s ease;
        }

        .q-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .q-number {
            background: var(--secondary);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: 800;
            font-size: 1.1rem;
            box-shadow: 0 4px 0 #009e82;
        }

        .q-text {
            font-size: 1.4rem;
            font-weight: 700;
            color: #2f3542;
            line-height: 1.5;
            margin-bottom: 25px;
        }

        /* --- OPTIONS --- */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
            .q-text {
                font-size: 1.2rem;
            }
        }

        .option-btn {
            background: #fff;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 15px 20px;
            font-family: 'Nunito', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: #57606f;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
            position: relative;
            box-shadow: 0 4px 0 #e0e0e0;
            text-align: left;
            display: flex;
            align-items: center;
        }

        .option-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            border-color: var(--primary);
            color: var(--primary);
            box-shadow: 0 6px 0 #d1d8e0;
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(2px);
            box-shadow: 0 0 0 #d1d8e0;
        }

        .option-letter {
            background: #f1f2f6;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            margin-right: 15px;
            color: #747d8c;
        }

        /* Correct/Wrong States */
        .option-btn.correct {
            background: var(--correct);
            border-color: var(--correct);
            color: white;
            box-shadow: 0 4px 0 #00b85c;
            animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .option-btn.correct .option-letter {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        .option-btn.wrong {
            background: var(--wrong);
            border-color: var(--wrong);
            color: white;
            box-shadow: 0 4px 0 #e63b49;
            animation: shake 0.5s;
        }
        .option-btn.wrong .option-letter {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        .option-btn.dimmed {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* --- EXPLANATION BOX --- */
        .explanation-box {
            margin-top: 25px;
            background: #f0f3ff;
            border: 2px dashed var(--primary);
            border-radius: 15px;
            padding: 20px;
            display: none; /* Hidden by default */
            animation: slideDown 0.4s ease-out;
        }

        .explanation-title {
            color: var(--primary);
            font-weight: 800;
            font-size: 1.1rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .explanation-content {
            font-size: 1rem;
            line-height: 1.6;
            color: #2f3542;
            white-space: pre-wrap; /* Respect newlines from data */
        }

        .explanation-content strong {
            color: #d63031;
        }

        /* --- SUBMIT BUTTON --- */
        .submit-section {
            text-align: center;
            margin-top: 40px;
        }

        .submit-btn {
            background: linear-gradient(to bottom, #FFD32A, #FFC312);
            color: #4b4b4b;
            border: none;
            padding: 15px 50px;
            font-size: 1.5rem;
            font-weight: 800;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 6px 0 #eebb00, 0 10px 20px rgba(0,0,0,0.2);
            font-family: 'Quicksand', sans-serif;
            transition: transform 0.2s;
        }

        .submit-btn:hover {
            transform: scale(1.05);
        }
        .submit-btn:active {
            transform: scale(0.95) translateY(4px);
            box-shadow: 0 2px 0 #eebb00;
        }

        /* --- MODAL --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            position: relative;
            animation: popIn 0.5s;
            border: 5px solid var(--secondary);
        }

        .score-display {
            font-size: 4rem;
            font-weight: 900;
            color: var(--primary);
            margin: 20px 0;
            text-shadow: 3px 3px 0 rgba(0,0,0,0.1);
        }

        .praise-text {
            font-size: 1.5rem;
            color: #2f3542;
            margin-bottom: 20px;
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
        }

        .close-modal-btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 0 #009e82;
        }

        /* --- ANIMATIONS --- */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            50% { transform: translateX(10px) rotate(5deg); }
            75% { transform: translateX(-10px) rotate(-5deg); }
            100% { transform: translateX(0); }
        }

        @keyframes popIn {
            0% { opacity: 0; transform: scale(0.5); }
            100% { opacity: 1; transform: scale(1); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Canvas for Confetti */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
        }

    </style>
</head>
<body>

    <header>
        <div class="teacher-badge">üë©‚Äçüè´ Teacher: Ms. Mai An (ULIS)</div>
        <h1>Unit 10: Communication in the Future</h1>
        <p>Part III, IV, V - Interactive Quiz</p>
    </header>

    <div class="container" id="quiz-container">
        <!-- Questions will be injected here by JS -->
    </div>

    <div class="submit-section">
        <button class="submit-btn" onclick="finishQuiz()">N·ªòP B√ÄI & XEM ƒêI·ªÇM üèÜ</button>
    </div>

    <!-- Result Modal -->
    <div class="modal-overlay" id="resultModal">
        <div class="modal-content">
            <h2>üéâ K·∫øt Qu·∫£ C·ªßa B·∫°n üéâ</h2>
            <div class="score-display" id="finalScore">0/0</div>
            <p class="praise-text" id="praiseText">L√†m t·ªët l·∫Øm!</p>
            <button class="close-modal-btn" onclick="closeModal()">L√†m l·∫°i b√†i n√†y</button>
        </div>
    </div>

    <canvas id="confetti-canvas"></canvas>

<script>
    // --- DATA SOURCE ---
    const quizData = [
    {
      "questionNumber": 1,
      "question": "A smartphone is a cell phone that offers ______ capabilities with computer-like functionality. (Part III)",
      "answerOptions": [
        { "text": "advanced", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. advanced (adj): ti√™n ti·∫øn, n√¢ng cao.\n- B. high-speed (adj): t·ªëc ƒë·ªô cao.\n- C. private (adj): ri√™ng t∆∞.\n- D. real (adj): th·ª±c.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"ƒêi·ªán tho·∫°i th√¥ng minh l√† ƒëi·ªán tho·∫°i di ƒë·ªông cung c·∫•p c√°c kh·∫£ nƒÉng ti√™n ti·∫øn v·ªõi ch·ª©c nƒÉng gi·ªëng nh∆∞ m√°y t√≠nh.\"\n3. T·∫°i sao ch·ªçn A?\n- C·ª•m t·ª´ \"advanced capabilities\" (kh·∫£ nƒÉng ti√™n ti·∫øn/n√¢ng cao) th∆∞·ªùng d√πng ƒë·ªÉ m√¥ t·∫£ c√¥ng ngh·ªá smartphone so v·ªõi ƒëi·ªán tho·∫°i c·ª•c g·∫°ch x∆∞a." },
        { "text": "high-speed", "isCorrect": false },
        { "text": "private", "isCorrect": false },
        { "text": "real", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 2,
      "question": "Moving abroad isn't easy when there's a language ______. (Part III)",
      "answerOptions": [
        { "text": "barrier", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. barrier (noun): r√†o c·∫£n.\n- B. channel (noun): k√™nh.\n- C. network (noun): m·∫°ng l∆∞·ªõi.\n- D. translation (noun): s·ª± d·ªãch thu·∫≠t.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Chuy·ªÉn ra n∆∞·ªõc ngo√†i s·ªëng kh√¥ng d·ªÖ d√†ng khi c√≥ r√†o c·∫£n ng√¥n ng·ªØ.\"\n3. T·∫°i sao ch·ªçn A?\n- Collocation (c·ª•m t·ª´ c·ªë ƒë·ªãnh): \"Language barrier\" = R√†o c·∫£n ng√¥n ng·ªØ." },
        { "text": "channel", "isCorrect": false },
        { "text": "network", "isCorrect": false },
        { "text": "translation", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 3,
      "question": "Holography is a video-conference technology with ______ images. (Part III)",
      "answerOptions": [
        { "text": "three-dimensional", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. three-dimensional (adj): ba chi·ªÅu (3D).\n- B. instantly (adv): ngay l·∫≠p t·ª©c.\n- C. high-speed (adj): t·ªëc ƒë·ªô cao.\n- D. advanced (adj): ti√™n ti·∫øn.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"K·ªπ thu·∫≠t to√†n ·∫£nh l√† c√¥ng ngh·ªá h·ªôi ngh·ªã video v·ªõi h√¨nh ·∫£nh ba chi·ªÅu.\"\n3. T·∫°i sao ch·ªçn A?\n- B·∫£n ch·∫•t c·ªßa Holography l√† t·∫°o ra ·∫£nh 3D (three-dimensional)." },
        { "text": "instantly", "isCorrect": false },
        { "text": "high-speed", "isCorrect": false },
        { "text": "advanced", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 4,
      "question": "There are many useful ______ tools that can help in learning a language. (Part III)",
      "answerOptions": [
        { "text": "translation", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. translation (noun): d·ªãch thu·∫≠t.\n- B. network (noun): m·∫°ng l∆∞·ªõi.\n- C. channel (noun): k√™nh.\n- D. barrier (noun): r√†o c·∫£n.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"C√≥ nhi·ªÅu c√¥ng c·ª• d·ªãch thu·∫≠t h·ªØu √≠ch c√≥ th·ªÉ gi√∫p √≠ch trong vi·ªác h·ªçc ngo·∫°i ng·ªØ.\"\n3. T·∫°i sao ch·ªçn A?\n- Ng·ªØ c·∫£nh \"learning a language\" (h·ªçc ng√¥n ng·ªØ) -> C·∫ßn c√¥ng c·ª• h·ªó tr·ª£ hi·ªÉu nghƒ©a l√† \"translation tools\"." },
        { "text": "network", "isCorrect": false },
        { "text": "channel", "isCorrect": false },
        { "text": "barrier", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 5,
      "question": "Make sure that you have ______ Internet connection for the video conference. (Part III)",
      "answerOptions": [
        { "text": "high-speed", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. high-speed (adj): t·ªëc ƒë·ªô cao.\n- B. real (adj): th·ª±c.\n- C. private (adj): ri√™ng t∆∞.\n- D. three-dimensional (adj): ba chi·ªÅu.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"H√£y ch·∫Øc ch·∫Øn r·∫±ng b·∫°n c√≥ k·∫øt n·ªëi Internet t·ªëc ƒë·ªô cao cho cu·ªôc h·ªôi ngh·ªã tr·ª±c tuy·∫øn.\"\n3. T·∫°i sao ch·ªçn A?\n- Video conference c·∫ßn ƒë∆∞·ªùng truy·ªÅn m·∫°nh -> \"high-speed Internet connection\"." },
        { "text": "real", "isCorrect": false },
        { "text": "private", "isCorrect": false },
        { "text": "three-dimensional", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 6,
      "question": "The Bark for Kids app allows you to track your child in ______ time. (Part III)",
      "answerOptions": [
        { "text": "real", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. real (adj): th·ª±c.\n- B. high-speed (adj): t·ªëc ƒë·ªô cao.\n- C. private (adj): ri√™ng t∆∞.\n- D. advanced (adj): ti√™n ti·∫øn.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"·ª®ng d·ª•ng Bark for Kids cho ph√©p b·∫°n theo d√µi con m√¨nh theo th·ªùi gian th·ª±c.\"\n3. T·∫°i sao ch·ªçn A?\n- C·ª•m t·ª´ c·ªë ƒë·ªãnh \"in real time\" (ngay t·∫°i th·ªùi ƒëi·ªÉm s·ª± vi·ªác x·∫£y ra/th·ªùi gian th·ª±c)." },
        { "text": "high-speed", "isCorrect": false },
        { "text": "private", "isCorrect": false },
        { "text": "advanced", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 7,
      "question": "What does PM mean in texting? ~ It means ______ message. (Part III)",
      "answerOptions": [
        { "text": "private", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. private (adj): ri√™ng t∆∞.\n- B. real (adj): th·ª±c.\n- C. instantly (adv): ngay l·∫≠p t·ª©c.\n- D. network (noun): m·∫°ng l∆∞·ªõi.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"PM trong nh·∫Øn tin nghƒ©a l√† g√¨? ~ N√≥ c√≥ nghƒ©a l√† tin nh·∫Øn ri√™ng t∆∞.\"\n3. T·∫°i sao ch·ªçn A?\n- PM l√† vi·∫øt t·∫Øt c·ªßa Private Message." },
        { "text": "real", "isCorrect": false },
        { "text": "instantly", "isCorrect": false },
        { "text": "network", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 8,
      "question": "I like chatting with Sarah because she always replies to my messages ______. (Part III)",
      "answerOptions": [
        { "text": "instantly", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. instantly (adv): ngay l·∫≠p t·ª©c.\n- B. advanced (adj): ti√™n ti·∫øn.\n- C. translation (noun): d·ªãch thu·∫≠t.\n- D. barrier (noun): r√†o c·∫£n.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"T√¥i th√≠ch t√°n g·∫´u v·ªõi Sarah v√¨ c√¥ ·∫•y lu√¥n tr·∫£ l·ªùi tin nh·∫Øn c·ªßa t√¥i ngay l·∫≠p t·ª©c.\"\n3. T·∫°i sao ch·ªçn A?\n- V·ªã tr√≠ c·∫ßn m·ªôt tr·∫°ng t·ª´ (adv) b·ªï nghƒ©a cho ƒë·ªông t·ª´ \"replies\". Ch·ªâ c√≥ \"instantly\" l√† tr·∫°ng t·ª´ v√† h·ª£p nghƒ©a." },
        { "text": "advanced", "isCorrect": false },
        { "text": "translation", "isCorrect": false },
        { "text": "barrier", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 9,
      "question": "All computer users are connected on a ______. (Part III)",
      "answerOptions": [
        { "text": "network", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. network (noun): m·∫°ng l∆∞·ªõi.\n- B. channel (noun): k√™nh.\n- C. barrier (noun): r√†o c·∫£n.\n- D. translation (noun): d·ªãch thu·∫≠t.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"T·∫•t c·∫£ ng∆∞·ªùi d√πng m√°y t√≠nh ƒë∆∞·ª£c k·∫øt n·ªëi tr√™n m·ªôt m·∫°ng l∆∞·ªõi.\"\n3. T·∫°i sao ch·ªçn A?\n- C√°c m√°y t√≠nh k·∫øt n·ªëi v·ªõi nhau t·∫°o th√†nh m·ªôt \"network\"." },
        { "text": "channel", "isCorrect": false },
        { "text": "barrier", "isCorrect": false },
        { "text": "translation", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 10,
      "question": "The newsletter is a useful ______ of communication between teachers and parents. (Part III)",
      "answerOptions": [
        { "text": "channel", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. channel (noun): k√™nh.\n- B. network (noun): m·∫°ng l∆∞·ªõi.\n- C. barrier (noun): r√†o c·∫£n.\n- D. real (adj): th·ª±c.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"B·∫£n tin l√† m·ªôt k√™nh giao ti·∫øp h·ªØu √≠ch gi·ªØa gi√°o vi√™n v√† ph·ª• huynh.\"\n3. T·∫°i sao ch·ªçn A?\n- \"Channel of communication\" (k√™nh giao ti·∫øp) l√† c·ª•m t·ª´ c·ªë ƒë·ªãnh." },
        { "text": "network", "isCorrect": false },
        { "text": "barrier", "isCorrect": false },
        { "text": "real", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 11,
      "question": "Could you ______ in on her face? I want to see her reaction. (Part IV)",
      "answerOptions": [
        { "text": "zoom", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. zoom (verb): ph√≥ng to/thu nh·ªè (th∆∞·ªùng ƒëi v·ªõi in/out).\n- B. put (verb): ƒë·∫∑t/ƒë·ªÉ.\n- C. view (verb): xem.\n- D. show (verb): ch·ªâ ra/chi·∫øu.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"B·∫°n c√≥ th·ªÉ ph√≥ng to v√†o m·∫∑t c√¥ ·∫•y ƒë∆∞·ª£c kh√¥ng? T√¥i mu·ªën xem ph·∫£n ·ª©ng c·ªßa c√¥ ·∫•y.\"\n3. T·∫°i sao ch·ªçn A?\n- Phrasal verb \"zoom in\" (ph√≥ng to/c·∫≠n c·∫£nh) ph√π h·ª£p v·ªõi ng·ªØ c·∫£nh mu·ªën nh√¨n r√µ m·∫∑t." },
        { "text": "put", "isCorrect": false },
        { "text": "view", "isCorrect": false },
        { "text": "show", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 12,
      "question": "In ancient Egypt, people used ______ to send messages home from ships at sea. (Part IV)",
      "answerOptions": [
        { "text": "carrier pigeons", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. carrier pigeons (noun): b·ªì c√¢u ƒë∆∞a th∆∞.\n- B. smartphones (noun): ƒëi·ªán tho·∫°i th√¥ng minh.\n- C. webcams (noun): webcam.\n- D. social network (noun): m·∫°ng x√£ h·ªôi.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"·ªû Ai C·∫≠p c·ªï ƒë·∫°i, ng∆∞·ªùi ta d√πng b·ªì c√¢u ƒë∆∞a th∆∞ ƒë·ªÉ g·ª≠i tin nh·∫Øn v·ªÅ nh√† t·ª´ c√°c con t√†u tr√™n bi·ªÉn.\"\n3. T·∫°i sao ch·ªçn A?\n- Ng·ªØ c·∫£nh \"ancient Egypt\" (Ai C·∫≠p c·ªï ƒë·∫°i) -> Ch·ªâ c√≥ b·ªì c√¢u ƒë∆∞a th∆∞ l√† ph∆∞∆°ng ti·ªán ph√π h·ª£p trong 4 ƒë√°p √°n." },
        { "text": "smartphones", "isCorrect": false },
        { "text": "webcams", "isCorrect": false },
        { "text": "social network", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 13,
      "question": "______ occurs when two people look at each other's eyes at the same time. (Part IV)",
      "answerOptions": [
        { "text": "Eye contact", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. Eye contact (noun): Giao ti·∫øp b·∫±ng m·∫Øt.\n- B. Conversation (noun): Cu·ªôc h·ªôi tho·∫°i.\n- C. Chatting (verb/noun): T√°n g·∫´u.\n- D. Talking (verb/noun): N√≥i chuy·ªán.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Giao ti·∫øp b·∫±ng m·∫Øt x·∫£y ra khi hai ng∆∞·ªùi nh√¨n v√†o m·∫Øt nhau c√πng m·ªôt l√∫c.\"\n3. T·∫°i sao ch·ªçn A?\n- ƒê·ªãnh nghƒ©a c·ªßa h√†nh ƒë·ªông \"look at each other's eyes\"." },
        { "text": "Conversation", "isCorrect": false },
        { "text": "Chatting", "isCorrect": false },
        { "text": "Talking", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 14,
      "question": "With ______, people can do their tasks while discussing with others at the same time. (Part IV)",
      "answerOptions": [
        { "text": "voice chats", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. voice chats (noun): tr√≤ chuy·ªán tho·∫°i (g·ªçi ƒëi·ªán/voice).\n- B. holography (noun): k·ªπ thu·∫≠t to√†n ·∫£nh.\n- C. text messages (noun): tin nh·∫Øn vƒÉn b·∫£n.\n- D. emails (noun): th∆∞ ƒëi·ªán t·ª≠.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"V·ªõi tr√≤ chuy·ªán tho·∫°i, m·ªçi ng∆∞·ªùi c√≥ th·ªÉ l√†m vi·ªác c·ªßa m√¨nh trong khi th·∫£o lu·∫≠n v·ªõi ng∆∞·ªùi kh√°c c√πng l√∫c.\"\n3. T·∫°i sao ch·ªçn A?\n- Voice chats cho ph√©p r·∫£nh tay (hands-free) ho·∫∑c kh√¥ng c·∫ßn nh√¨n m√†n h√¨nh li√™n t·ª•c, d·ªÖ l√†m vi·ªác kh√°c (multitasking) h∆°n so v·ªõi nh·∫Øn tin hay email." },
        { "text": "holography", "isCorrect": false },
        { "text": "text messages", "isCorrect": false },
        { "text": "emails", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 15,
      "question": "In the future, people will communicate brain-to-brain, using ______. (Part IV)",
      "answerOptions": [
        { "text": "telepathy", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. telepathy (noun): th·∫ßn giao c√°ch c·∫£m.\n- B. blog (noun): trang nh·∫≠t k√Ω web.\n- C. holography (noun): k·ªπ thu·∫≠t to√†n ·∫£nh.\n- D. messager (noun): (Sai ch√≠nh t·∫£, ƒë√∫ng l√† messenger) ·ª©ng d·ª•ng nh·∫Øn tin.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Trong t∆∞∆°ng lai, m·ªçi ng∆∞·ªùi s·∫Ω giao ti·∫øp t·ª´ n√£o ƒë·∫øn n√£o, s·ª≠ d·ª•ng th·∫ßn giao c√°ch c·∫£m.\"\n3. T·∫°i sao ch·ªçn A?\n- T·ª´ kh√≥a \"brain-to-brain\" (t·ª´ n√£o ƒë·∫øn n√£o) ch√≠nh l√† ƒë·ªãnh nghƒ©a c·ªßa telepathy." },
        { "text": "blog", "isCorrect": false },
        { "text": "holography", "isCorrect": false },
        { "text": "messager", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 16,
      "question": "A professional human ______ is still better than machine translation. (Part IV)",
      "answerOptions": [
        { "text": "translator", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. translator (noun - ch·ªâ ng∆∞·ªùi): bi√™n d·ªãch vi√™n.\n- B. translation (noun - s·ª± vi·ªác): b·∫£n d·ªãch/vi·ªác d·ªãch.\n- C. translating (gerund): vi·ªác d·ªãch.\n- D. translate (verb): d·ªãch.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"M·ªôt bi√™n d·ªãch vi√™n chuy√™n nghi·ªáp (con ng∆∞·ªùi) v·∫´n t·ªët h∆°n d·ªãch m√°y.\"\n3. T·∫°i sao ch·ªçn A?\n- C·∫ßn danh t·ª´ ch·ªâ ng∆∞·ªùi ƒë·ªÉ ƒë·ªëi l·∫≠p v·ªõi \"machine\" (m√°y m√≥c) v√† ƒëi sau t√≠nh t·ª´ \"human\" (con ng∆∞·ªùi)." },
        { "text": "translation", "isCorrect": false },
        { "text": "translating", "isCorrect": false },
        { "text": "translate", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 17,
      "question": "______ are websites where users can freely type to communicate with one another in real time. (Part IV)",
      "answerOptions": [
        { "text": "Chat rooms", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. Chat rooms (noun): Ph√≤ng chat.\n- B. Message boards (noun): B·∫£ng tin nh·∫Øn (forum).\n- C. F2F meetings (noun): H·ªçp tr·ª±c ti·∫øp.\n- D. Video Conferences (noun): H·ªôi ngh·ªã video.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Ph√≤ng chat l√† nh·ªØng trang web n∆°i ng∆∞·ªùi d√πng c√≥ th·ªÉ g√µ ph√≠m t·ª± do ƒë·ªÉ giao ti·∫øp v·ªõi nhau theo th·ªùi gian th·ª±c.\"\n3. T·∫°i sao ch·ªçn A?\n- \"Type\" (g√µ ph√≠m) + \"real time\" (th·ªùi gian th·ª±c) l√† ƒë·∫∑c ƒëi·ªÉm c·ªßa Chat rooms. Message boards th∆∞·ªùng kh√¥ng ph·∫£i real-time (ng∆∞·ªùi n√†y ƒëƒÉng, l√∫c sau ng∆∞·ªùi kia m·ªõi tr·∫£ l·ªùi)." },
        { "text": "Message boards", "isCorrect": false },
        { "text": "F2F meetings", "isCorrect": false },
        { "text": "Video Conferences", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 18,
      "question": "It has been almost 30 years since the creation of ______ the Internet face emoticon. (Part IV)",
      "answerOptions": [
        { "text": "smiley", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. smiley (noun): bi·ªÉu t∆∞·ª£ng m·∫∑t c∆∞·ªùi.\n- B. painting (noun): b·ª©c tranh.\n- C. code (noun): m√£.\n- D. picture (noun): b·ª©c ·∫£nh.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"ƒê√£ g·∫ßn 30 nƒÉm k·ªÉ t·ª´ khi 'smiley' (bi·ªÉu t∆∞·ª£ng m·∫∑t c∆∞·ªùi) tr√™n Internet ƒë∆∞·ª£c t·∫°o ra.\"\n3. T·∫°i sao ch·ªçn A?\n- \"Smiley\" l√† t√™n g·ªçi ph·ªï bi·∫øn c·ªßa bi·ªÉu t∆∞·ª£ng c·∫£m x√∫c ƒë·∫ßu ti√™n :-) tr√™n m√°y t√≠nh." },
        { "text": "painting", "isCorrect": false },
        { "text": "code", "isCorrect": false },
        { "text": "picture", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 19,
      "question": "It was our first ______ meeting after 10 years of being pen pals. (Part IV)",
      "answerOptions": [
        { "text": "face to face", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. face to face (adj/adv): tr·ª±c ti·∫øp/m·∫∑t ƒë·ªëi m·∫∑t.\n- B. instant (adj): t·ª©c th√¨.\n- C. private (adj): ri√™ng t∆∞.\n- D. informal (adj): kh√¥ng trang tr·ªçng.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"ƒê√≥ l√† cu·ªôc g·∫∑p m·∫∑t tr·ª±c ti·∫øp ƒë·∫ßu ti√™n c·ªßa ch√∫ng t√¥i sau 10 nƒÉm l√†m b·∫°n qua th∆∞.\"\n3. T·∫°i sao ch·ªçn A?\n- \"Pen pals\" (b·∫°n qua th∆∞) th∆∞·ªùng ch·ªâ li√™n l·∫°c t·ª´ xa. Do ƒë√≥, cu·ªôc g·∫∑p g·ª° (meeting) ƒë·ªëi l·∫≠p v·ªõi vi·ªác vi·∫øt th∆∞ ch√≠nh l√† g·∫∑p \"face to face\"." },
        { "text": "instant", "isCorrect": false },
        { "text": "private", "isCorrect": false },
        { "text": "informal", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 20,
      "question": "Text messaging enables people to keep in close ______ at all times. (Part IV)",
      "answerOptions": [
        { "text": "contact", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. contact (noun): s·ª± li√™n l·∫°c.\n- B. control (noun): s·ª± ki·ªÉm so√°t.\n- C. network (noun): m·∫°ng l∆∞·ªõi.\n- D. expression (noun): s·ª± bi·ªÉu ƒë·∫°t.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Nh·∫Øn tin cho ph√©p m·ªçi ng∆∞·ªùi gi·ªØ li√™n l·∫°c ch·∫∑t ch·∫Ω m·ªçi l√∫c.\"\n3. T·∫°i sao ch·ªçn A?\n- C·ª•m t·ª´ \"keep in contact\" (gi·ªØ li√™n l·∫°c)." },
        { "text": "control", "isCorrect": false },
        { "text": "network", "isCorrect": false },
        { "text": "expression", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 21,
      "question": "We'll be able to use more advanced technology to communicate ______ the future. (Part V)",
      "answerOptions": [
        { "text": "in", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. in (prep): trong.\n- B. on (prep): tr√™n.\n- C. at (prep): t·∫°i.\n- D. for (prep): cho/trong kho·∫£ng.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Ch√∫ng ta s·∫Ω c√≥ th·ªÉ s·ª≠ d·ª•ng c√¥ng ngh·ªá ti√™n ti·∫øn h∆°n ƒë·ªÉ giao ti·∫øp trong t∆∞∆°ng lai.\"\n3. T·∫°i sao ch·ªçn A?\n- C·ª•m t·ª´ ch·ªâ th·ªùi gian c·ªë ƒë·ªãnh: \"In the future\"." },
        { "text": "on", "isCorrect": false },
        { "text": "at", "isCorrect": false },
        { "text": "for", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 22,
      "question": "My Internet connection was interrupted ______ the video conference. (Part V)",
      "answerOptions": [
        { "text": "during", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. during (prep): trong su·ªët/trong l√∫c (s·ª± ki·ªán di·ªÖn ra).\n- B. at (prep): t·∫°i.\n- C. by (prep): b·ªüi/tr∆∞·ªõc.\n- D. on (prep): tr√™n.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"K·∫øt n·ªëi Internet c·ªßa t√¥i b·ªã gi√°n ƒëo·∫°n trong l√∫c cu·ªôc h·ªôi ngh·ªã tr·ª±c tuy·∫øn di·ªÖn ra.\"\n3. T·∫°i sao ch·ªçn A?\n- \"During\" d√πng ƒë·ªÉ ch·ªâ m·ªôt s·ª± vi·ªác x·∫£y ra trong kho·∫£ng th·ªùi gian m·ªôt s·ª± ki·ªán kh√°c ƒëang di·ªÖn ra (video conference)." },
        { "text": "at", "isCorrect": false },
        { "text": "by", "isCorrect": false },
        { "text": "on", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 23,
      "question": "Let's try to finish this project ______ 6 p.m. today! (Part V)",
      "answerOptions": [
        { "text": "by", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. by (prep): tr∆∞·ªõc ho·∫∑c ngay t·∫°i th·ªùi ƒëi·ªÉm.\n- B. on (prep): tr√™n.\n- C. for (prep): trong kho·∫£ng.\n- D. in (prep): trong.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"H√£y c·ªë g·∫Øng ho√†n th√†nh d·ª± √°n n√†y tr∆∞·ªõc 6 gi·ªù t·ªëi nay!\"\n3. T·∫°i sao ch·ªçn A?\n- \"By + m·ªëc th·ªùi gian\" d√πng ƒë·ªÉ ch·ªâ h·∫°n ch√≥t (deadline)." },
        { "text": "on", "isCorrect": false },
        { "text": "for", "isCorrect": false },
        { "text": "in", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 24,
      "question": "Matthew has an online English lesson ______ 9 o'clock every Saturday morning. (Part V)",
      "answerOptions": [
        { "text": "at", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. at (prep): t·∫°i (d√πng cho gi·ªù c·ª• th·ªÉ).\n- B. in (prep): trong.\n- C. on (prep): tr√™n.\n- D. by (prep): tr∆∞·ªõc.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Matthew c√≥ m·ªôt bu·ªïi h·ªçc ti·∫øng Anh tr·ª±c tuy·∫øn l√∫c 9 gi·ªù s√°ng th·ª© B·∫£y h√†ng tu·∫ßn.\"\n3. T·∫°i sao ch·ªçn A?\n- Quy t·∫Øc gi·ªõi t·ª´ ch·ªâ th·ªùi gian: At + gi·ªù (At 9 o'clock)." },
        { "text": "in", "isCorrect": false },
        { "text": "on", "isCorrect": false },
        { "text": "by", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 25,
      "question": "George always checks his Facebook ______ bedtime. (Part V)",
      "answerOptions": [
        { "text": "before", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. before (prep): tr∆∞·ªõc khi.\n- B. after (prep): sau khi.\n- C. during (prep): trong su·ªët.\n- D. by (prep): tr∆∞·ªõc (h·∫°n ch√≥t).\n2. D·ªãch nghƒ©a to√†n c√¢u: \"George lu√¥n ki·ªÉm tra Facebook tr∆∞·ªõc gi·ªù ƒëi ng·ªß.\"\n3. T·∫°i sao ch·ªçn A?\n- V·ªÅ m·∫∑t ng·ªØ nghƒ©a logic, ng∆∞·ªùi ta th∆∞·ªùng check ƒëi·ªán tho·∫°i 'tr∆∞·ªõc khi' ƒëi ng·ªß. (After bedtime = ƒëang ng·ªß r·ªìi; During bedtime = l√∫c ƒëang ng·ªß)." },
        { "text": "after", "isCorrect": false },
        { "text": "during", "isCorrect": false },
        { "text": "by", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 26,
      "question": "She didn't finish her homework because she chatted with her friends ______ 5 hours. (Part V)",
      "answerOptions": [
        { "text": "for", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. for (prep): trong kho·∫£ng (ch·ªâ ƒë·ªô d√†i th·ªùi gian).\n- B. during (prep): trong l√∫c.\n- C. in (prep): trong.\n- D. at (prep): t·∫°i.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"C√¥ ·∫•y kh√¥ng ho√†n th√†nh b√†i t·∫≠p v·ªÅ nh√† v√¨ c√¥ ·∫•y ƒë√£ t√°n g·∫´u v·ªõi b·∫°n trong su·ªët 5 ti·∫øng ƒë·ªìng h·ªì.\"\n3. T·∫°i sao ch·ªçn A?\n- \"For + kho·∫£ng th·ªùi gian\" (For 5 hours) d√πng ƒë·ªÉ ch·ªâ ƒë·ªô d√†i c·ªßa h√†nh ƒë·ªông." },
        { "text": "during", "isCorrect": false },
        { "text": "in", "isCorrect": false },
        { "text": "at", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 27,
      "question": "Do you know anything about the communication exhibition ______ Sunday? (Part V)",
      "answerOptions": [
        { "text": "on", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. on (prep): v√†o (ng√†y).\n- B. in (prep): trong.\n- C. at (prep): t·∫°i.\n- D. by (prep): tr∆∞·ªõc.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"B·∫°n c√≥ bi·∫øt g√¨ v·ªÅ bu·ªïi tri·ªÉn l√£m truy·ªÅn th√¥ng v√†o Ch·ªß nh·∫≠t kh√¥ng?\"\n3. T·∫°i sao ch·ªçn A?\n- Quy t·∫Øc: On + Th·ª©/Ng√†y (On Sunday)." },
        { "text": "in", "isCorrect": false },
        { "text": "at", "isCorrect": false },
        { "text": "by", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 28,
      "question": "The video conference is too long. It lasts ______ 7 p.m. (Part V)",
      "answerOptions": [
        { "text": "until", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. until (prep): cho ƒë·∫øn khi.\n- B. after (prep): sau khi.\n- C. before (prep): tr∆∞·ªõc khi.\n- D. for (prep): trong kho·∫£ng.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"Cu·ªôc h·ªôi ngh·ªã tr·ª±c tuy·∫øn qu√° d√†i. N√≥ k√©o d√†i ƒë·∫øn t·∫≠n 7 gi·ªù t·ªëi.\"\n3. T·∫°i sao ch·ªçn A?\n- \"Lasts until\" (k√©o d√†i cho ƒë·∫øn m·ªëc th·ªùi gian n√†o ƒë√≥)." },
        { "text": "after", "isCorrect": false },
        { "text": "before", "isCorrect": false },
        { "text": "for", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 29,
      "question": "I'll email you the file ______ I finish my part of the project. (Part V)",
      "answerOptions": [
        { "text": "after", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. after (conj): sau khi.\n- B. before (conj): tr∆∞·ªõc khi.\n- C. for (conj): v√¨.\n- D. by (prep): tr∆∞·ªõc.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"T√¥i s·∫Ω g·ª≠i email t·ªáp cho b·∫°n sau khi t√¥i ho√†n th√†nh ph·∫ßn d·ª± √°n c·ªßa m√¨nh.\"\n3. T·∫°i sao ch·ªçn A?\n- Tr√¨nh t·ª± logic: L√†m xong (finish) -> r·ªìi m·ªõi g·ª≠i (email)." },
        { "text": "before", "isCorrect": false },
        { "text": "for", "isCorrect": false },
        { "text": "by", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 30,
      "question": "I believe telepathy will be a popular way of communication ______ 100 years' time. (Part V)",
      "answerOptions": [
        { "text": "in", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- A. in (prep): trong v√≤ng/sau (ch·ªâ t∆∞∆°ng lai).\n- B. on (prep): tr√™n.\n- C. at (prep): t·∫°i.\n- D. by (prep): tr∆∞·ªõc.\n2. D·ªãch nghƒ©a to√†n c√¢u: \"T√¥i tin r·∫±ng th·∫ßn giao c√°ch c·∫£m s·∫Ω l√† m·ªôt c√°ch giao ti·∫øp ph·ªï bi·∫øn trong 100 nƒÉm t·ªõi.\"\n3. T·∫°i sao ch·ªçn A?\n- C·∫•u tr√∫c \"in + kho·∫£ng th·ªùi gian + time\" (in 100 years' time) d√πng ƒë·ªÉ ch·ªâ m·ªôt th·ªùi ƒëi·ªÉm trong t∆∞∆°ng lai sau kho·∫£ng th·ªùi gian ƒë√≥." },
        { "text": "on", "isCorrect": false },
        { "text": "at", "isCorrect": false },
        { "text": "by", "isCorrect": false }
      ]
    }
  ];

    let correctCount = 0;
    const totalQuestions = quizData.length;

    // --- SOUND ENGINE ---
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

    function playTone(freq, type, duration) {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.type = type;
        osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
        gain.gain.setValueAtTime(0.1, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration);
        osc.connect(gain);
        gain.connect(audioCtx.destination);
        osc.start();
        osc.stop(audioCtx.currentTime + duration);
    }

    function playCorrectSound() {
        playTone(600, 'sine', 0.1);
        setTimeout(() => playTone(800, 'sine', 0.2), 100);
    }

    function playWrongSound() {
        playTone(200, 'sawtooth', 0.3);
        setTimeout(() => playTone(150, 'sawtooth', 0.3), 150);
    }

    // --- RENDER QUIZ ---
    function renderQuiz() {
        const container = document.getElementById('quiz-container');
        
        quizData.forEach((item, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';
            card.id = `q-${index}`;

            // Header
            const header = document.createElement('div');
            header.className = 'q-header';
            header.innerHTML = `
                <span class="q-number">Question ${item.questionNumber}</span>
            `;
            
            // Question Text
            const qText = document.createElement('div');
            qText.className = 'q-text';
            qText.innerHTML = item.question;

            // Options Container
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options-grid';
            
            // Options Logic
            const letters = ['A', 'B', 'C', 'D'];
            item.answerOptions.forEach((opt, optIndex) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerHTML = `<div class="option-letter">${letters[optIndex]}</div> ${opt.text}`;
                
                // Click Event
                btn.onclick = () => handleAnswer(btn, opt.isCorrect, index, item.answerOptions, item.questionNumber);
                
                optionsDiv.appendChild(btn);
            });

            // Explanation Section
            const explanationDiv = document.createElement('div');
            explanationDiv.className = 'explanation-box';
            explanationDiv.id = `explain-${index}`;
            
            // Find correct answer rationale
            const correctOpt = item.answerOptions.find(o => o.isCorrect);
            const rationaleText = correctOpt ? correctOpt.rationale : "Ch∆∞a c√≥ gi·∫£i th√≠ch.";

            explanationDiv.innerHTML = `
                <div class="explanation-title">üë©‚Äçüè´ Ms. Mai An gi·∫£i th√≠ch chi ti·∫øt:</div>
                <div class="explanation-content">${rationaleText}</div>
            `;

            card.appendChild(header);
            card.appendChild(qText);
            card.appendChild(optionsDiv);
            card.appendChild(explanationDiv);
            container.appendChild(card);
        });
    }

    // --- HANDLE ANSWER ---
    function handleAnswer(btn, isCorrect, qIndex, allOptions, qNum) {
        const card = document.getElementById(`q-${qIndex}`);
        const buttons = card.querySelectorAll('.option-btn');
        const explanation = document.getElementById(`explain-${qIndex}`);

        // Disable all buttons in this card
        buttons.forEach(b => {
            b.disabled = true;
            b.classList.add('dimmed');
        });

        // Highlight selected
        btn.classList.remove('dimmed');
        
        if (isCorrect) {
            btn.classList.add('correct');
            playCorrectSound();
            fireConfetti();
            correctCount++;
        } else {
            btn.classList.add('wrong');
            playWrongSound();
            // Highlight the correct one
            allOptions.forEach((opt, idx) => {
                if (opt.isCorrect) {
                    buttons[idx].classList.remove('dimmed');
                    buttons[idx].classList.add('correct');
                }
            });
        }

        // Show Explanation
        explanation.style.display = 'block';
    }

    // --- FINISH & MODAL ---
    function finishQuiz() {
        const modal = document.getElementById('resultModal');
        const scoreText = document.getElementById('finalScore');
        const praise = document.getElementById('praiseText');

        scoreText.innerText = `${correctCount}/${totalQuestions}`;
        
        const percentage = (correctCount / totalQuestions) * 100;
        if (percentage === 100) praise.innerText = "Xu·∫•t s·∫Øc! C√¥ r·∫•t t·ª± h√†o v·ªÅ em! üåü";
        else if (percentage >= 80) praise.innerText = "L√†m r·∫•t t·ªët! C·ªë g·∫Øng ph√°t huy nh√©! üî•";
        else if (percentage >= 50) praise.innerText = "Kh√° l·∫Øm, nh∆∞ng c·∫ßn √¥n k·ªπ t·ª´ v·ª±ng h∆°n nha! üí™";
        else praise.innerText = "ƒê·ª´ng n·∫£n ch√≠! H√£y xem l·∫°i ph·∫ßn gi·∫£i th√≠ch v√† th·ª≠ l·∫°i nh√©! ‚ù§Ô∏è";

        modal.style.display = 'flex';
        
        if (percentage >= 50) fireConfetti();
    }

    function closeModal() {
        location.reload(); // Simple reload to restart
    }

    // --- CONFETTI ENGINE (Lightweight) ---
    function fireConfetti() {
        const canvas = document.getElementById('confetti-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = [];
        const colors = ['#f1c40f', '#e74c3c', '#8e44ad', '#3498db', '#2ecc71'];

        for(let i=0; i<100; i++) {
            particles.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height - canvas.height,
                w: Math.random() * 10 + 5,
                h: Math.random() * 10 + 5,
                color: colors[Math.floor(Math.random() * colors.length)],
                vy: Math.random() * 5 + 2,
                vx: Math.random() * 4 - 2
            });
        }

        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            let active = false;
            particles.forEach(p => {
                p.y += p.vy;
                p.x += p.vx;
                ctx.fillStyle = p.color;
                ctx.fillRect(p.x, p.y, p.w, p.h);
                if (p.y < canvas.height) active = true;
            });
            
            if (active) requestAnimationFrame(draw);
            else ctx.clearRect(0,0,canvas.width,canvas.height);
        }
        draw();
    }

    // Initialize
    window.onload = renderQuiz;

</script>
</body>
</html>
