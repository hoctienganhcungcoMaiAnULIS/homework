<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 9: Festivals Around The World - Full Test | Ms Mai An ULIS</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-purple: #8854C0;
            --primary-teal: #00C9A7;
            --correct-green: #00D26A;
            --wrong-red: #FF4757;
            --bg-color: #f0f3f5;
            --card-bg: #ffffff;
            --text-color: #2c3e50;
        }

        * {
            box-sizing: border-box;
            user-select: none; /* Prevent text selection for game feel */
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#d7d7d7 1px, transparent 1px), radial-gradient(#d7d7d7 1px, transparent 1px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            color: var(--text-color);
        }

        /* Container */
        .game-container {
            width: 100%;
            max-width: 900px;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            overflow: hidden;
            position: relative;
            margin-bottom: 50px;
        }

        /* Header */
        .header {
            background: var(--primary-purple);
            color: white;
            padding: 15px 25px;
            text-align: center;
            border-bottom: 5px solid rgba(0,0,0,0.1);
        }

        .header h1 {
            margin: 0;
            font-size: 1.5rem;
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
        }

        .header p {
            margin: 5px 0 0;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Progress Bar */
        .progress-container {
            height: 10px;
            background: #e0e0e0;
            width: 100%;
        }

        .progress-bar {
            height: 100%;
            background: var(--primary-teal);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Question Area */
        .question-area {
            padding: 30px;
            text-align: center;
        }

        .question-badge {
            display: inline-block;
            background: var(--primary-teal);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 700;
            margin-bottom: 15px;
            text-transform: uppercase;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 700;
            line-height: 1.5;
            margin-bottom: 25px;
            color: #2d3436;
        }
        
        .question-text u {
            text-decoration: underline;
            text-decoration-thickness: 3px;
            text-decoration-color: var(--primary-purple);
            text-underline-offset: 4px;
        }

        /* Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            padding: 0 30px 30px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        .option-card {
            background: #f1f2f6;
            border: 2px solid #dfe4ea;
            border-bottom: 5px solid #dfe4ea;
            border-radius: 15px;
            padding: 15px 20px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.1s ease;
            text-align: left;
            position: relative;
            display: flex;
            align-items: center;
        }

        .option-card:active {
            transform: translateY(3px);
            border-bottom-width: 2px;
        }

        .option-card:hover:not(.disabled) {
            background: #ffffff;
            border-color: var(--primary-purple);
            transform: scale(1.02);
        }

        .option-card.correct {
            background: var(--correct-green);
            color: white;
            border-color: #00b85c;
            border-bottom-color: #008f47;
        }

        .option-card.wrong {
            background: var(--wrong-red);
            color: white;
            border-color: #ff2e40;
            border-bottom-color: #d61c2d;
            animation: shake 0.5s;
        }

        .option-card.disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        .option-label {
            display: inline-flex;
            justify-content: center;
            align-items: center;
            width: 30px;
            height: 30px;
            background: rgba(0,0,0,0.1);
            border-radius: 50%;
            margin-right: 15px;
            font-size: 0.9rem;
            font-weight: 800;
        }

        /* Explanation Section */
        .explanation-box {
            display: none; /* Hidden by default */
            margin: 0 30px 30px;
            background: #fdf0ff;
            border: 2px solid var(--primary-purple);
            border-radius: 15px;
            padding: 20px;
            animation: popIn 0.3s ease-out;
            text-align: left;
        }

        .teacher-avatar {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            color: var(--primary-purple);
            font-weight: 800;
            font-size: 1.1rem;
        }

        .teacher-avatar img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
            background: var(--primary-purple); /* Placeholder */
        }

        .explanation-content {
            font-size: 1rem;
            line-height: 1.6;
        }

        .explanation-step {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #dcdde1;
        }

        .explanation-step:last-child {
            border-bottom: none;
        }

        .highlight-vocab {
            font-weight: bold;
            color: #d63031;
        }

        /* Next Button */
        .controls {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-top: 1px solid #eee;
        }

        .btn-next {
            background: var(--primary-teal);
            color: white;
            border: none;
            border-bottom: 5px solid #00a88d;
            padding: 12px 40px;
            font-size: 1.2rem;
            border-radius: 30px;
            cursor: pointer;
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
            transition: all 0.2s;
            display: none; /* Hidden initially */
        }

        .btn-next:active {
            transform: translateY(3px);
            border-bottom-width: 2px;
        }

        /* Animations */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            75% { transform: translateX(-10px); }
            100% { transform: translateX(0); }
        }

        @keyframes popIn {
            0% { transform: scale(0.9); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Result Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .result-card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            animation: popIn 0.5s;
        }

        .score-display {
            font-size: 3rem;
            font-weight: 800;
            color: var(--primary-purple);
            margin: 20px 0;
        }

        /* Phonetics Styling */
        u.phonetic-highlight {
            color: var(--wrong-red);
            font-weight: bold;
            text-decoration: underline;
        }
        
        .glossary-table {
            width: 100%;
            margin-top: 10px;
            border-collapse: collapse;
            font-size: 0.9rem;
            background: #fff;
        }
        .glossary-table th, .glossary-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .glossary-table th {
            background-color: var(--primary-purple);
            color: white;
        }

    </style>
</head>
<body>

    <div class="game-container">
        <!-- Header -->
        <div class="header">
            <h1>UNIT 9: FESTIVALS AROUND THE WORLD</h1>
            <p>Ms Mai An (ULIS) - Full Comprehensive Test</p>
        </div>

        <!-- Progress -->
        <div class="progress-container">
            <div class="progress-bar" id="progressBar"></div>
        </div>

        <!-- Question Section -->
        <div class="question-area">
            <div class="question-badge" id="questionBadge">Question 1/48</div>
            <div class="question-text" id="questionText">
                <!-- Content injected via JS -->
            </div>
        </div>

        <!-- Options -->
        <div class="options-grid" id="optionsContainer">
            <!-- Options injected via JS -->
        </div>

        <!-- Explanation Area -->
        <div class="explanation-box" id="explanationBox">
            <div class="teacher-avatar">
                <div style="width:40px; height:40px; border-radius:50%; background:#8854C0; color:white; display:flex; justify-content:center; align-items:center; margin-right:10px;">MA</div>
                C√¥ Mai An gi·∫£i th√≠ch:
            </div>
            <div class="explanation-content" id="explanationContent">
                <!-- Content injected via JS -->
            </div>
        </div>

        <!-- Controls -->
        <div class="controls">
            <button class="btn-next" id="nextBtn" onclick="nextQuestion()">Next Question ‚ûú</button>
        </div>
    </div>

    <!-- Result Modal -->
    <div class="modal-overlay" id="resultModal">
        <div class="result-card">
            <h2>üéâ HO√ÄN TH√ÄNH B√ÄI THI! üéâ</h2>
            <p>Ch√∫c m·ª´ng em ƒë√£ ho√†n th√†nh xu·∫•t s·∫Øc.</p>
            <div class="score-display" id="finalScore">0/48</div>
            <p id="finalMessage">Tuy·ªát v·ªùi!</p>
            <button class="btn-next" style="display:inline-block;" onclick="location.reload()">L√†m l·∫°i b√†i thi</button>
        </div>
    </div>

    <!-- Confetti Script -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <script>
        // --- 1. DATA SOURCE (Ms Mai An's Data) ---
        const quizData = [
            // I. Phonetics (i/y)
            {
                q: "I. Choose the word that has the underlined part pronounced differently.",
                sub: "Underlined part: i/y",
                type: "phonetics",
                target: ["y", "igh", "i"],
                options: [
                    { t: "display", r: "display /d…™Ààsple…™/ -> √¢m /…™/ (ho·∫∑c e…™ n·∫øu x√©t v·∫ßn ay, nh∆∞ng ·ªü ƒë√¢y so s√°nh v·ªõi nh√≥m highlight).", valid: true },
                    { t: "highlight", r: "highlight /Ààha…™la…™t/ -> √¢m /a…™/", valid: false },
                    { t: "firework", r: "firework /Ààfa…™…ôw…úÀêk/ -> √¢m /a…™/", valid: false },
                    { t: "lively", r: "lively /Ààla…™vli/ -> √¢m /a…™/", valid: false }
                ],
                expl: "<b>A. display</b> /d…™Ààsple…™/ (tr∆∞ng b√†y). <br><b>B. highlight</b> /Ààha…™la…™t/ (ƒëi·ªÉm n·ªïi b·∫≠t). <br><b>C. firework</b> /Ààfa…™…ôw…úÀêk/ (ph√°o hoa). <br><b>D. lively</b> /Ààla…™vli/ (s·ªëng ƒë·ªông). <br>üëâ ƒê√°p √°n A ph·∫ßn g·∫°ch ch√¢n ph√°t √¢m l√† <b>/…™/</b> (trong 'dis') ho·∫∑c n·∫øu x√©t v·∫ßn 'ay' l√† /e…™/. Trong khi 3 t·ª´ c√≤n l·∫°i ƒë·ªÅu r√µ r√†ng l√† √¢m <b>/a…™/</b>. Ch·ªçn A."
            },
            // Phonetics (ea)
            {
                q: "Choose the word with the underlined part pronounced differently.",
                sub: "Underlined part: ea",
                type: "phonetics",
                target: ["ea"],
                options: [
                    { t: "feast", r: "/fiÀêst/", valid: false },
                    { t: "feature", r: "/ÀàfiÀêt É…ô(r)/", valid: false },
                    { t: "great", r: "/…°re…™t/", valid: true },
                    { t: "seasonal", r: "/ÀàsiÀêz…ônl/", valid: false }
                ],
                expl: "<b>A. feast</b> /fiÀêst/ (b·ªØa ti·ªác) -> /iÀê/<br><b>B. feature</b> /ÀàfiÀêt É…ô(r)/ (ƒë·∫∑c ƒëi·ªÉm) -> /iÀê/<br><b>C. great</b> /…°re…™t/ (tuy·ªát v·ªùi) -> /e…™/<br><b>D. seasonal</b> /ÀàsiÀêz…ônl/ (theo m√πa) -> /iÀê/<br>üëâ Ch·ªçn C v√¨ ph√°t √¢m l√† /e…™/, c√≤n l·∫°i l√† /iÀê/."
            },
            // Phonetics (ch)
            {
                q: "Choose the word with the underlined part pronounced differently.",
                sub: "Underlined part: ch",
                type: "phonetics",
                target: ["ch"],
                options: [
                    { t: "chase", r: "/t Ée…™s/", valid: false },
                    { t: "Christmas", r: "/Ààkr…™sm…ôs/", valid: true },
                    { t: "choose", r: "/t ÉuÀêz/", valid: false },
                    { t: "cheese", r: "/t ÉiÀêz/", valid: false }
                ],
                expl: "<b>A. chase</b> /t Ée…™s/ (ƒëu·ªïi theo) -> /t É/<br><b>B. Christmas</b> /Ààkr…™sm…ôs/ (Gi√°ng sinh) -> /k/<br><b>C. choose</b> /t ÉuÀêz/ (ch·ªçn) -> /t É/<br><b>D. cheese</b> /t ÉiÀêz/ (ph√¥ mai) -> /t É/<br>üëâ Ch·ªçn B (√¢m /k/)."
            },
            // Phonetics (ed)
            {
                q: "Choose the word with the underlined part pronounced differently.",
                sub: "Underlined part: ed",
                type: "phonetics",
                target: ["ed"],
                options: [
                    { t: "called", r: "/k…îÀêld/", valid: false },
                    { t: "gathered", r: "/Àà…°√¶√∞…ôd/", valid: false },
                    { t: "played", r: "/ple…™d/", valid: false },
                    { t: "watched", r: "/w…ít Ét/", valid: true }
                ],
                expl: "<b>Quy t·∫Øc ƒëu√¥i -ed:</b><br>- ƒê·ªçc /t/ khi t·∫≠n c√πng l√† √¢m v√¥ thanh (ch, sh, k, p, f, s).<br>- ƒê·ªçc /d/ khi t·∫≠n c√πng l√† √¢m h·ªØu thanh (c√°c tr∆∞·ªùng h·ª£p c√≤n l·∫°i).<br><br><b>D. watched</b> k·∫øt th√∫c b·∫±ng /t É/ -> ed ƒë·ªçc l√† <b>/t/</b>.<br>C√°c t·ª´ c√≤n l·∫°i (called, gathered, played) ƒë·ªÅu k·∫øt th√∫c b·∫±ng √¢m h·ªØu thanh -> ed ƒë·ªçc l√† <b>/d/</b>."
            },
            // Phonetics (c)
            {
                q: "Choose the word with the underlined part pronounced differently.",
                sub: "Underlined part: c",
                type: "phonetics",
                target: ["c"],
                options: [
                    { t: "carnival", r: "/Ààk…ëÀên…™vl/", valid: true },
                    { t: "fascinate", r: "/Ààf√¶s…™ne…™t/", valid: false },
                    { t: "celebrate", r: "/Ààsel…™bre…™t/", valid: false },
                    { t: "exciting", r: "/…™kÀàsa…™t…™≈ã/", valid: false }
                ],
                expl: "<b>A. carnival</b> /Ààk…ëÀên…™vl/ -> /k/<br><b>B. fascinate</b> /Ààf√¶s…™ne…™t/ -> /s/<br><b>C. celebrate</b> /Ààsel…™bre…™t/ -> /s/<br><b>D. exciting</b> /…™kÀàsa…™t…™≈ã/ -> /s/<br>üëâ Ch·ªçn A."
            },
            // II. Stress
            {
                q: "II. Choose the word that has different stress pattern.",
                sub: "Stress Pattern",
                type: "stress",
                options: [
                    { t: "decorate", r: "Ooo", valid: false },
                    { t: "festival", r: "Ooo", valid: false },
                    { t: "holiday", r: "Ooo", valid: false },
                    { t: "Thanksgiving", r: "oOoo", valid: true }
                ],
                expl: "<b>A. decorate</b> /Ààdek…ôre…™t/ (√¢m 1).<br><b>B. festival</b> /Ààfest…™vl/ (√¢m 1).<br><b>C. holiday</b> /Ààh…íl…ôde…™/ (√¢m 1).<br><b>D. Thanksgiving</b> /ÀåŒ∏√¶≈ãksÀà…°…™v…™≈ã/ (√¢m 2).<br>üëâ Ch·ªçn D."
            },
            {
                q: "Choose the word with different stress pattern.",
                sub: "Stress Pattern",
                type: "stress",
                options: [
                    { t: "enjoy", r: "oO", valid: true },
                    { t: "special", r: "Oo", valid: false },
                    { t: "culture", r: "Oo", valid: false },
                    { t: "worship", r: "Oo", valid: false }
                ],
                expl: "<b>A. enjoy</b> /…™nÀàd í…î…™/ (√¢m 2).<br><b>B. special</b> /Ààspe Él/ (√¢m 1).<br><b>C. culture</b> /Ààk ålt É…ô(r)/ (√¢m 1).<br><b>D. worship</b> /Ààw…úÀê É…™p/ (√¢m 1).<br>üëâ Ch·ªçn A."
            },
            {
                q: "Choose the word with different stress pattern.",
                sub: "Stress Pattern",
                type: "stress",
                options: [
                    { t: "wonderful", r: "Ooo", valid: false },
                    { t: "prosperity", r: "oOoo", valid: true },
                    { t: "seasonal", r: "Ooo", valid: false },
                    { t: "celebrate", r: "Ooo", valid: false }
                ],
                expl: "<b>B. prosperity</b> /pr…íÀàsper…ôti/ (√¢m 2) - Quy t·∫Øc ƒëu√¥i -ity nh·∫•n √¢m tr∆∞·ªõc n√≥.<br>C√°c t·ª´ c√≤n l·∫°i nh·∫•n √¢m 1: <b>wonderful, seasonal, celebrate</b>.<br>üëâ Ch·ªçn B."
            },
            {
                q: "Choose the word with different stress pattern.",
                sub: "Stress Pattern",
                type: "stress",
                options: [
                    { t: "lantern", r: "Oo", valid: false },
                    { t: "costume", r: "Oo", valid: false },
                    { t: "parade", r: "oO", valid: true },
                    { t: "stuffing", r: "Oo", valid: false }
                ],
                expl: "<b>C. parade</b> /p…ôÀàre…™d/ (√¢m 2).<br>C√°c t·ª´ c√≤n l·∫°i nh·∫•n √¢m 1: <b>lantern, costume, stuffing</b>.<br>üëâ Ch·ªçn C."
            },
            {
                q: "Choose the word with different stress pattern.",
                sub: "Stress Pattern",
                type: "stress",
                options: [
                    { t: "creative", r: "oOo", valid: false },
                    { t: "delicious", r: "oOo", valid: false },
                    { t: "musician", r: "oOo", valid: false },
                    { t: "disappointing", r: "ooOo", valid: true }
                ],
                expl: "<b>D. disappointing</b> /Àåd…™s…ôÀàp…î…™nt…™≈ã/ (√¢m 3).<br>C√°c t·ª´ c√≤n l·∫°i nh·∫•n √¢m 2: <b>creative, delicious, musician</b>.<br>üëâ Ch·ªçn D."
            },
            // IV. Vocab & Grammar
            {
                q: "The Dutch celebrate National Tulip Day _______ the third Saturday of January.",
                sub: "Prepositions",
                type: "mc",
                options: [
                    { t: "on", r: "Correct", valid: true },
                    { t: "in", r: "Incorrect", valid: false },
                    { t: "at", r: "Incorrect", valid: false },
                    { t: "during", r: "Incorrect", valid: false }
                ],
                expl: "<b>D·ªãch c√¢u:</b> Ng∆∞·ªùi H√† Lan ƒÉn m·ª´ng Ng√†y Tulip Qu·ªëc gia v√†o th·ª© B·∫£y tu·∫ßn th·ª© ba c·ªßa th√°ng M·ªôt.<br><br><b>Gi·∫£i th√≠ch:</b> D√πng gi·ªõi t·ª´ <b>ON</b> tr∆∞·ªõc c√°c ng√†y trong tu·∫ßn ho·∫∑c ng√†y c·ª• th·ªÉ (the third Saturday).<br>- In: d√πng cho th√°ng/nƒÉm.<br>- At: d√πng cho gi·ªù."
            },
            {
                q: "\"Triangle of Sadness\" won the Palme d'Or _______ the 75th Cannes Film Festival.",
                sub: "Prepositions",
                type: "mc",
                options: [
                    { t: "on", r: "", valid: false },
                    { t: "to", r: "", valid: false },
                    { t: "at", r: "", valid: true },
                    { t: "for", r: "", valid: false }
                ],
                expl: "<b>D·ªãch c√¢u:</b> Phim \"Triangle of Sadness\" ƒë√£ th·∫Øng gi·∫£i C√†nh C·ªç V√†ng t·∫°i Li√™n hoan phim Cannes l·∫ßn th·ª© 75.<br><br><b>Gi·∫£i th√≠ch:</b> D√πng gi·ªõi t·ª´ <b>AT</b> ƒë·ªÉ ch·ªâ ƒë·ªãa ƒëi·ªÉm l√† m·ªôt s·ª± ki·ªán (at a party, at a festival, at a conference)."
            },
            {
                q: "The festival starts with an opening _______ where people walk through the streets.",
                sub: "Vocabulary",
                type: "mc",
                options: [
                    { t: "party", r: "b·ªØa ti·ªác", valid: false },
                    { t: "ritual", r: "nghi th·ª©c", valid: false },
                    { t: "feast", r: "y·∫øn ti·ªác", valid: false },
                    { t: "parade", r: "cu·ªôc di·ªÖu h√†nh", valid: true }
                ],
                expl: "<b>D·ªãch c√¢u:</b> L·ªÖ h·ªôi b·∫Øt ƒë·∫ßu v·ªõi m·ªôt cu·ªôc di·ªÖu h√†nh khai m·∫°c n∆°i m·ªçi ng∆∞·ªùi ƒëi b·ªô qua c√°c con ph·ªë.<br><br><b>T·ª´ kh√≥a:</b> \"walk through the streets\" (ƒëi b·ªô qua ph·ªë) -> ƒê√¢y l√† ƒë·∫∑c ƒëi·ªÉm c·ªßa <b>parade</b> (di·ªÖu h√†nh)."
            },
            {
                q: "At Thanksgiving dinner, _______ is served with a variety of side dishes.",
                sub: "Vocabulary",
                type: "mc",
                options: [
                    { t: "banh chung", r: "", valid: false },
                    { t: "turkey", r: "g√† t√¢y", valid: true },
                    { t: "moon cake", r: "", valid: false },
                    { t: "candy apple", r: "", valid: false }
                ],
                expl: "<b>D·ªãch c√¢u:</b> Trong b·ªØa t·ªëi L·ªÖ T·∫° ∆°n, g√† t√¢y ƒë∆∞·ª£c ph·ª•c v·ª• c√πng v·ªõi nhi·ªÅu m√≥n ƒÉn k√®m.<br><br><b>Ki·∫øn th·ª©c vƒÉn h√≥a:</b> M√≥n ƒÉn bi·ªÉu t∆∞·ª£ng c·ªßa L·ªÖ T·∫° ∆°n (Thanksgiving) l√† <b>turkey</b> (g√† t√¢y)."
            },
            {
                q: "In the UK and US, people give coloured chocolate eggs to each other at _______.",
                sub: "Culture",
                type: "mc",
                options: [
                    { t: "New Year", r: "", valid: false },
                    { t: "Halloween", r: "", valid: false },
                    { t: "Christmas", r: "", valid: false },
                    { t: "Easter", r: "L·ªÖ Ph·ª•c sinh", valid: true }
                ],
                expl: "<b>D·ªãch c√¢u:</b> ·ªû Anh v√† M·ªπ, m·ªçi ng∆∞·ªùi t·∫∑ng tr·ª©ng s√¥-c√¥-la m√†u cho nhau v√†o L·ªÖ Ph·ª•c sinh.<br><br><b>Ki·∫øn th·ª©c vƒÉn h√≥a:</b> Tr·ª©ng (eggs) v√† Th·ªè (Bunny) l√† bi·ªÉu t∆∞·ª£ng c·ªßa <b>Easter</b> (L·ªÖ Ph·ª•c sinh)."
            },
            {
                q: "_______ do people celebrate Diwali? - They celebrate it with music, lights, fireworks and traditional sweets.",
                sub: "Wh-Question",
                type: "mc",
                options: [
                    { t: "How", r: "Nh∆∞ th·∫ø n√†o", valid: true },
                    { t: "What", r: "C√°i g√¨", valid: false },
                    { t: "Why", r: "T·∫°i sao", valid: false },
                    { t: "Where", r: "·ªû ƒë√¢u", valid: false }
                ],
                expl: "<b>D·ªãch c√¢u:</b> M·ªçi ng∆∞·ªùi ƒÉn m·ª´ng l·ªÖ Diwali nh∆∞ th·∫ø n√†o? - H·ªç ƒÉn m·ª´ng v·ªõi √¢m nh·∫°c, √°nh s√°ng...<br><br><b>Gi·∫£i th√≠ch:</b> C√¢u tr·∫£ l·ªùi m√¥ t·∫£ <b>c√°ch th·ª©c</b> (by music, lights...) -> D√πng t·ª´ ƒë·ªÉ h·ªèi <b>How</b>."
            },
            {
                q: "For many of Americans, _______ pumpkins is a must-do Halloween tradition.",
                sub: "Vocabulary",
                type: "mc",
                options: [
                    { t: "eating", r: "", valid: false },
                    { t: "carving", r: "kh·∫Øc/t·ªâa", valid: true },
                    { t: "painting", r: "", valid: false },
                    { t: "cooking", r: "", valid: false }
                ],
                expl: "<b>D·ªãch c√¢u:</b> ƒê·ªëi v·ªõi nhi·ªÅu ng∆∞·ªùi M·ªπ, kh·∫Øc b√≠ ng√¥ l√† truy·ªÅn th·ªëng Halloween b·∫Øt bu·ªôc.<br><br><b>Collocation:</b> C·ª•m t·ª´ c·ªë ƒë·ªãnh \"<b>carving pumpkins</b>\" (kh·∫Øc b√≠ ng√¥ th√†nh ƒë√®n l·ªìng Jack-o'-lantern)."
            },
            {
                q: "_______ between late January and early February?",
                sub: "Grammar",
                type: "mc",
                options: [
                    { t: "Do Tet often fall", r: "", valid: false },
                    { t: "Is Tet often fall", r: "", valid: false },
                    { t: "Does Tet often fall", r: "", valid: true },
                    { t: "Does Tet often falls", r: "", valid: false }
                ],
                expl: "<b>D·ªãch c√¢u:</b> T·∫øt c√≥ th∆∞·ªùng r∆°i v√†o kho·∫£ng gi·ªØa cu·ªëi th√°ng M·ªôt v√† ƒë·∫ßu th√°ng Hai kh√¥ng?<br><br><b>Ng·ªØ ph√°p:</b> C√¢u h·ªèi th√¨ Hi·ªán t·∫°i ƒë∆°n.<br>- Ch·ªß ng·ªØ 'Tet' l√† s·ªë √≠t -> Tr·ª£ ƒë·ªông t·ª´ <b>Does</b>.<br>- ƒê·ªông t·ª´ ch√≠nh 'fall' gi·ªØ nguy√™n th·ªÉ.<br>üëâ C√¥ng th·ª©c: Does + S + V(inf)? -> Ch·ªçn C."
            },
            {
                q: "What is the highest prize awarded at the Cannes Film Festival?",
                sub: "General Knowledge",
                type: "mc",
                options: [
                    { t: "The Golden Palm", r: "C√†nh c·ªç v√†ng", valid: true },
                    { t: "Oscar", r: "", valid: false },
                    { t: "Golden Globe", r: "", valid: false },
                    { t: "Black Lady", r: "", valid: false }
                ],
                expl: "<b>Ki·∫øn th·ª©c:</b> Gi·∫£i th∆∞·ªüng cao qu√Ω nh·∫•t c·ªßa LHP Cannes l√† <b>The Golden Palm</b> (Palme d'Or - C√†nh C·ªç V√†ng)."
            },
            {
                q: "\"In the Cooper's Hill Cheese Rolling Festival, people attempt to chase a rolling cheese wheel down the hill.\" - \"_______\"",
                sub: "Speaking",
                type: "mc",
                options: [
                    { t: "That's a great idea.", r: "", valid: false },
                    { t: "Oh, I totally agree.", r: "", valid: false },
                    { t: "It sounds crazy.", r: "Nghe ƒëi√™n r·ªì th·∫≠t", valid: true },
                    { t: "It's disappointing.", r: "", valid: false }
                ],
                expl: "<b>Ng·ªØ c·∫£nh:</b> M√¥ t·∫£ m·ªôt l·ªÖ h·ªôi n∆°i ng∆∞·ªùi ta ch·∫°y ƒëu·ªïi theo t·∫£ng ph√¥ mai lƒÉn xu·ªëng ƒë·ªìi d·ªëc (r·∫•t nguy hi·ªÉm).<br>üëâ Ph·∫£n ·ª©ng ph√π h·ª£p nh·∫•t l√†: <b>\"It sounds crazy.\"</b> (Nghe th·∫≠t ƒëi√™n r·ªì/k·ª≥ l·∫°)."
            },
            // V. Tense/Form
            {
                q: "Last month I ___________ (join) a course to learn how to make Christmas decorations.",
                sub: "Tenses",
                type: "mc",
                options: [
                    { t: "join", r: "", valid: false },
                    { t: "joined", r: "V-ed", valid: true },
                    { t: "have joined", r: "", valid: false },
                    { t: "was joining", r: "", valid: false }
                ],
                expl: "<b>D·∫•u hi·ªáu:</b> \"Last month\" (Th√°ng tr∆∞·ªõc) -> Qu√° kh·ª© ƒë∆°n.<br>üëâ ƒê·ªông t·ª´ 'join' th√™m -ed -> <b>joined</b>."
            },
            {
                q: "Right now, the stars ___________ (parade) on the red carpet at the Cannes Film Festival.",
                sub: "Tenses",
                type: "mc",
                options: [
                    { t: "parade", r: "", valid: false },
                    { t: "are parading", r: "Present Continuous", valid: true },
                    { t: "is parading", r: "", valid: false },
                    { t: "paraded", r: "", valid: false }
                ],
                expl: "<b>D·∫•u hi·ªáu:</b> \"Right now\" (Ngay b√¢y gi·ªù) -> Hi·ªán t·∫°i ti·∫øp di·ªÖn.<br><b>Ch·ªß ng·ªØ:</b> \"the stars\" (s·ªë nhi·ªÅu) -> tobe 'are'.<br>üëâ C√¥ng th·ª©c: S + are + V-ing -> <b>are parading</b>."
            },
            {
                q: "The Songkran Festival ___________ (mark) the beginning of the Thai New Year.",
                sub: "Tenses",
                type: "mc",
                options: [
                    { t: "mark", r: "", valid: false },
                    { t: "marking", r: "", valid: false },
                    { t: "marks", r: "V-s", valid: true },
                    { t: "marked", r: "", valid: false }
                ],
                expl: "<b>Ng·ªØ c·∫£nh:</b> Di·ªÖn t·∫£ m·ªôt s·ª± th·∫≠t hi·ªÉn nhi√™n/l·ªãch tr√¨nh l·ªÖ h·ªôi -> Hi·ªán t·∫°i ƒë∆°n.<br><b>Ch·ªß ng·ªØ:</b> \"The Songkran Festival\" (s·ªë √≠t) -> ƒê·ªông t·ª´ th√™m 's'.<br>üëâ Ch·ªçn <b>marks</b>."
            },
            {
                q: "The first Oktoberfest ___________ (take place) in Munich, on October 12, 1810.",
                sub: "Tenses",
                type: "mc",
                options: [
                    { t: "took place", r: "Past Simple", valid: true },
                    { t: "takes place", r: "", valid: false },
                    { t: "has taken place", r: "", valid: false },
                    { t: "was taking place", r: "", valid: false }
                ],
                expl: "<b>D·∫•u hi·ªáu:</b> NƒÉm \"1810\" (Th·ªùi gian c·ª• th·ªÉ trong qu√° kh·ª©) -> Qu√° kh·ª© ƒë∆°n.<br>üëâ Qu√° kh·ª© c·ªßa 'take' l√† 'took' -> <b>took place</b>."
            },
            {
                q: "___________ Vietnamese people ___________ (often/ decorate) their houses with plants and flowers at Tet?",
                sub: "Tenses",
                type: "mc",
                options: [
                    { t: "Do / often decorate", r: "Correct", valid: true },
                    { t: "Does / often decorate", r: "", valid: false },
                    { t: "Do / often decorates", r: "", valid: false },
                    { t: "Are / often decorating", r: "", valid: false }
                ],
                expl: "<b>Ng·ªØ c·∫£nh:</b> Th√≥i quen phong t·ª•c ng√†y T·∫øt -> Hi·ªán t·∫°i ƒë∆°n.<br><b>Ch·ªß ng·ªØ:</b> \"Vietnamese people\" (ng∆∞·ªùi Vi·ªát Nam - s·ªë nhi·ªÅu) -> D√πng tr·ª£ t·ª´ <b>Do</b>.<br>üëâ C√¥ng th·ª©c: Do + S + V(inf)? -> Ch·ªçn A."
            },
            {
                q: "Next year, the popular food and wine festival ___________ (begin) in July.",
                sub: "Tenses",
                type: "mc",
                options: [
                    { t: "begins", r: "", valid: false },
                    { t: "will begin", r: "Future Simple", valid: true },
                    { t: "began", r: "", valid: false },
                    { t: "is beginning", r: "", valid: false }
                ],
                expl: "<b>D·∫•u hi·ªáu:</b> \"Next year\" (NƒÉm sau) -> T∆∞∆°ng lai ƒë∆°n.<br>üëâ Ch·ªçn <b>will begin</b>."
            },
            {
                q: "What festival ___________ you ___________ (join) last year?",
                sub: "Tenses",
                type: "mc",
                options: [
                    { t: "did / join", r: "Past Simple", valid: true },
                    { t: "do / join", r: "", valid: false },
                    { t: "did / joined", r: "", valid: false },
                    { t: "were / joining", r: "", valid: false }
                ],
                expl: "<b>D·∫•u hi·ªáu:</b> \"last year\" -> Qu√° kh·ª© ƒë∆°n.<br><b>C√¢u h·ªèi:</b> Wh + did + S + V(inf)?<br>üëâ Ch·ªçn <b>did / join</b>."
            },
            {
                q: "If there are no serious weather conditions, they ___________ (hold) a fireworks display.",
                sub: "Conditionals",
                type: "mc",
                options: [
                    { t: "hold", r: "", valid: false },
                    { t: "will hold", r: "Type 1", valid: true },
                    { t: "held", r: "", valid: false },
                    { t: "would hold", r: "", valid: false }
                ],
                expl: "<b>Ng·ªØ ph√°p:</b> C√¢u ƒëi·ªÅu ki·ªán lo·∫°i 1 (C√≥ th·ªÉ x·∫£y ra ·ªü hi·ªán t·∫°i/t∆∞∆°ng lai).<br>M·ªánh ƒë·ªÅ If (hi·ªán t·∫°i ƒë∆°n) -> M·ªánh ƒë·ªÅ ch√≠nh (T∆∞∆°ng lai ƒë∆°n: will + V).<br>üëâ Ch·ªçn <b>will hold</b>."
            },
            {
                q: "I'd like you ___________ (write) up your reports on festivals around the world.",
                sub: "Verb Form",
                type: "mc",
                options: [
                    { t: "write", r: "", valid: false },
                    { t: "writing", r: "", valid: false },
                    { t: "to write", r: "to V", valid: true },
                    { t: "wrote", r: "", valid: false }
                ],
                expl: "<b>C·∫•u tr√∫c:</b> would like + O + <b>to V</b> (mu·ªën ai l√†m g√¨).<br>üëâ Ch·ªçn <b>to write</b>."
            },
            {
                q: "He suggested ___________ (take) part in the Cooper's Hill Cheese Roll competition.",
                sub: "Verb Form",
                type: "mc",
                options: [
                    { t: "take", r: "", valid: false },
                    { t: "taking", r: "V-ing", valid: true },
                    { t: "to take", r: "", valid: false },
                    { t: "taken", r: "", valid: false }
                ],
                expl: "<b>C·∫•u tr√∫c:</b> suggest + <b>V-ing</b> (g·ª£i √Ω l√†m g√¨).<br>üëâ Ch·ªçn <b>taking</b>."
            },
            // VI. Word Form
            {
                q: "The office looked very ___________ with its Christmas tree. (festival)",
                sub: "Word Form",
                type: "mc",
                options: [
                    { t: "festival", r: "(n)", valid: false },
                    { t: "festive", r: "(adj)", valid: true },
                    { t: "festivals", r: "(n-pl)", valid: false },
                    { t: "festivities", r: "(n-pl)", valid: false }
                ],
                expl: "<b>Ph√¢n t√≠ch:</b> Sau ƒë·ªông t·ª´ n·ªëi 'looked' (tr√¥ng c√≥ v·∫ª) c·∫ßn m·ªôt <b>T√≠nh t·ª´</b>.<br>- Festival (n): l·ªÖ h·ªôi.<br>- Festive (adj): c√≥ kh√¥ng kh√≠ l·ªÖ h·ªôi.<br>üëâ Ch·ªçn <b>festive</b>."
            },
            {
                q: "Samba schools compete for prizes based on their music and dance ___________ and costumes. (perform)",
                sub: "Word Form",
                type: "mc",
                options: [
                    { t: "perform", r: "(v)", valid: false },
                    { t: "performances", r: "(n-pl)", valid: true },
                    { t: "performing", r: "(v-ing)", valid: false },
                    { t: "performer", r: "(n-ng∆∞·ªùi)", valid: false }
                ],
                expl: "<b>Ph√¢n t√≠ch:</b> C·∫ßn danh t·ª´ ch·ªâ s·ª± v·∫≠t/s·ª± vi·ªác song song v·ªõi 'music' v√† 'costumes'.<br>D·ªãch: C√°c m√†n tr√¨nh di·ªÖn nh·∫£y v√† √¢m nh·∫°c -> <b>performances</b> (s·ªë nhi·ªÅu v√¨ c·ªßa nhi·ªÅu tr∆∞·ªùng)."
            },
            {
                q: "La Tomatina will always be one of my most ___________ memories ever! (amaze)",
                sub: "Word Form",
                type: "mc",
                options: [
                    { t: "amaze", r: "", valid: false },
                    { t: "amazing", r: "(adj-ing)", valid: true },
                    { t: "amazed", r: "(adj-ed)", valid: false },
                    { t: "amazement", r: "", valid: false }
                ],
                expl: "<b>Ph√¢n t√≠ch:</b> B·ªï nghƒ©a cho danh t·ª´ 'memories' (v·∫≠t/s·ª± vi·ªác) -> D√πng t√≠nh t·ª´ ƒëu√¥i <b>-ing</b>.<br>- Amazing: g√¢y ng·∫°c nhi√™n/tuy·ªát v·ªùi.<br>- Amazed: b·ªã ng·∫°c nhi√™n (d√πng cho ng∆∞·ªùi).<br>üëâ Ch·ªçn <b>amazing</b>."
            },
            {
                q: "Lunar New Year Festival is a time of family ___________, delicious food and celebrations. (reunite)",
                sub: "Word Form",
                type: "mc",
                options: [
                    { t: "reunite", r: "", valid: false },
                    { t: "reunions", r: "(n)", valid: true },
                    { t: "reunited", r: "", valid: false },
                    { t: "reuniting", r: "", valid: false }
                ],
                expl: "<b>Ph√¢n t√≠ch:</b> C·ª•m t·ª´ c·ªë ƒë·ªãnh: <b>Family reunions</b> (S·ª± ƒëo√†n t·ª• gia ƒë√¨nh).<br>C·∫ßn danh t·ª´ s·ªë nhi·ªÅu (reunions) ƒë·ªÉ ch·ªâ c√°c cu·ªôc ƒëo√†n t·ª• chung."
            },
            {
                q: "The Madeira Flower Festival in Portugal ___________ renewal, hope and transformation. (symbol)",
                sub: "Word Form",
                type: "mc",
                options: [
                    { t: "symbol", r: "(n)", valid: false },
                    { t: "symbolizes", r: "(v-s)", valid: true },
                    { t: "symbolic", r: "(adj)", valid: false },
                    { t: "symbolism", r: "(n)", valid: false }
                ],
                expl: "<b>Ph√¢n t√≠ch:</b> C√¢u ƒëang thi·∫øu ƒê·ªông t·ª´ ch√≠nh.<br>Ch·ªß ng·ªØ 'The Madeira Flower Festival' (s·ªë √≠t) -> ƒê·ªông t·ª´ chia s·ªë √≠t.<br>- Symbolize (v): t∆∞·ª£ng tr∆∞ng.<br>üëâ Ch·ªçn <b>symbolizes</b>."
            },
            {
                q: "Day of the Dead is one of the most ___________ festivals in the world. (usually)",
                sub: "Word Form",
                type: "mc",
                options: [
                    { t: "usually", r: "", valid: false },
                    { t: "usual", r: "th∆∞·ªùng", valid: false },
                    { t: "unusual", r: "l·∫°/ƒë·ªôc ƒë√°o", valid: true },
                    { t: "unusually", r: "", valid: false }
                ],
                expl: "<b>Ph√¢n t√≠ch:</b> V·ªã tr√≠ sau 'most' + adj. D·ª±a v√†o ng·ªØ c·∫£nh: 'Day of the Dead' (Ng√†y c·ªßa ng∆∞·ªùi ch·∫øt) l√† l·ªÖ h·ªôi r·∫•t l·∫°.<br>üëâ Ch·ªçn <b>unusual</b> (tr√°i nghƒ©a v·ªõi usual)."
            },
            {
                q: "Christmas dinner is a meal ___________ eaten at Christmas. (tradition)",
                sub: "Word Form",
                type: "mc",
                options: [
                    { t: "tradition", r: "", valid: false },
                    { t: "traditional", r: "", valid: false },
                    { t: "traditionally", r: "(adv)", valid: true },
                    { t: "traditions", r: "", valid: false }
                ],
                expl: "<b>Ph√¢n t√≠ch:</b> V·ªã tr√≠ tr∆∞·ªõc ƒë·ªông t·ª´ ph√¢n t·ª´ 'eaten' -> C·∫ßn Tr·∫°ng t·ª´ (Adv) b·ªï nghƒ©a.<br>üëâ Ch·ªçn <b>traditionally</b> (ƒë∆∞·ª£c ƒÉn theo truy·ªÅn th·ªëng)."
            },
            {
                q: "It was a great ___________ that the Gig Harbor Film Festival was postponed one year. (disappoint)",
                sub: "Word Form",
                type: "mc",
                options: [
                    { t: "disappoint", r: "", valid: false },
                    { t: "disappointment", r: "(n)", valid: true },
                    { t: "disappointing", r: "", valid: false },
                    { t: "disappointed", r: "", valid: false }
                ],
                expl: "<b>Ph√¢n t√≠ch:</b> Sau m·∫°o t·ª´ 'a' v√† t√≠nh t·ª´ 'great' -> C·∫ßn Danh t·ª´.<br>üëâ Ch·ªçn <b>disappointment</b> (s·ª± th·∫•t v·ªçng)."
            },
            {
                q: "Every year, millions of ___________ visit Rio de Janeiro to enjoy the Rio Carnival. (tour)",
                sub: "Word Form",
                type: "mc",
                options: [
                    { t: "tour", r: "", valid: false },
                    { t: "tourists", r: "(n-ng∆∞·ªùi)", valid: true },
                    { t: "tourism", r: "(n-ng√†nh)", valid: false },
                    { t: "tours", r: "", valid: false }
                ],
                expl: "<b>Ph√¢n t√≠ch:</b> Sau 'millions of' (h√†ng tri·ªáu) c·∫ßn danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c s·ªë nhi·ªÅu ch·ªâ ng∆∞·ªùi (v√¨ c√≥ ƒë·ªông t·ª´ 'visit').<br>üëâ Ch·ªçn <b>tourists</b> (du kh√°ch)."
            },
            {
                q: "Easter is one of the best times for a family ___________. (gather)",
                sub: "Word Form",
                type: "mc",
                options: [
                    { t: "gather", r: "", valid: false },
                    { t: "gathering", r: "(n)", valid: true },
                    { t: "gathered", r: "", valid: false },
                    { t: "gathers", r: "", valid: false }
                ],
                expl: "<b>Ph√¢n t√≠ch:</b> C·ª•m danh t·ª´ 'family gathering' (bu·ªïi sum h·ªçp gia ƒë√¨nh). Sau m·∫°o t·ª´ 'a' c·∫ßn danh t·ª´.<br>üëâ Ch·ªçn <b>gathering</b>."
            },
            // VII. Find Mistake
            {
                q: "Find the mistake: A lot of cultural and <u>artist</u> activities are held in Dalat Flower Festival.",
                sub: "Error Identification",
                type: "mc",
                options: [
                    { t: "cultural", r: "", valid: false },
                    { t: "artist", r: "-> artistic", valid: true },
                    { t: "are held", r: "", valid: false },
                    { t: "in", r: "", valid: false }
                ],
                expl: "<b>L·ªói sai:</b> artist (ngh·ªá sƒ© - danh t·ª´).<br><b>Gi·∫£i th√≠ch:</b> C·∫ßn c·∫•u tr√∫c song song v·ªõi 'cultural' (t√≠nh t·ª´). Ho·∫°t ƒë·ªông vƒÉn h√≥a v√† ngh·ªá thu·∫≠t.<br>üëâ S·ª≠a th√†nh: <b>artistic</b> (adj)."
            },
            {
                q: "Find the mistake: <u>There are</u> a special celebration called Doll's Festival for Japanese girls on March 3rd every year.",
                sub: "Error Identification",
                type: "mc",
                options: [
                    { t: "There are", r: "-> There is", valid: true },
                    { t: "called", r: "", valid: false },
                    { t: "for", r: "", valid: false },
                    { t: "on", r: "", valid: false }
                ],
                expl: "<b>L·ªói sai:</b> There are.<br><b>Gi·∫£i th√≠ch:</b> Ch·ªß ng·ªØ ph√≠a sau l√† 'a special celebration' (s·ªë √≠t).<br>üëâ S·ª≠a th√†nh: <b>There is</b>."
            },
            {
                q: "Find the mistake: We arrived <u>at</u> Bu√±ol, Spain yesterday to take part in La Tomatina Festival.",
                sub: "Error Identification",
                type: "mc",
                options: [
                    { t: "at", r: "-> in", valid: true },
                    { t: "yesterday", r: "", valid: false },
                    { t: "to take part", r: "", valid: false },
                    { t: "in", r: "", valid: false }
                ],
                expl: "<b>L·ªói sai:</b> at.<br><b>Gi·∫£i th√≠ch:</b> Bu√±ol l√† t√™n th√†nh ph·ªë/th·ªã tr·∫•n. Arrive + in + city/country.<br>üëâ S·ª≠a th√†nh: <b>in</b>."
            },
            {
                q: "Find the mistake: Did the whole Catholic school <u>went</u> to the church for a special celebration service last Easter?",
                sub: "Error Identification",
                type: "mc",
                options: [
                    { t: "Did", r: "", valid: false },
                    { t: "went", r: "-> go", valid: true },
                    { t: "for", r: "", valid: false },
                    { t: "last Easter", r: "", valid: false }
                ],
                expl: "<b>L·ªói sai:</b> went.<br><b>Gi·∫£i th√≠ch:</b> C√¢u h·ªèi ƒë√£ c√≥ tr·ª£ ƒë·ªông t·ª´ 'Did' th√¨ ƒë·ªông t·ª´ ch√≠nh ph·∫£i v·ªÅ nguy√™n th·ªÉ.<br>üëâ S·ª≠a th√†nh: <b>go</b>."
            },
            {
                q: "Find the mistake: Tomorrowland is the world's <u>bigest</u> dance music festival.",
                sub: "Error Identification",
                type: "mc",
                options: [
                    { t: "is", r: "", valid: false },
                    { t: "bigest", r: "-> biggest", valid: true },
                    { t: "dance music", r: "", valid: false },
                    { t: "festival", r: "", valid: false }
                ],
                expl: "<b>L·ªói sai:</b> bigest.<br><b>Gi·∫£i th√≠ch:</b> Sai ch√≠nh t·∫£ so s√°nh nh·∫•t c·ªßa 'big'. Ph·∫£i g·∫•p ƒë√¥i ph·ª• √¢m 'g'.<br>üëâ S·ª≠a th√†nh: <b>biggest</b>."
            },
            {
                q: "Find the mistake: One of the <u>most weird</u> festivals in the world is Day of the Dead.",
                sub: "Error Identification",
                type: "mc",
                options: [
                    { t: "One of", r: "", valid: false },
                    { t: "most weird", r: "-> weirdest", valid: true },
                    { t: "in", r: "", valid: false },
                    { t: "is", r: "", valid: false }
                ],
                expl: "<b>L·ªói sai:</b> most weird.<br><b>Gi·∫£i th√≠ch:</b> 'Weird' l√† t√≠nh t·ª´ ng·∫Øn (1 √¢m ti·∫øt), so s√°nh nh·∫•t th√™m ƒëu√¥i -est.<br>üëâ S·ª≠a th√†nh: <b>weirdest</b>."
            },
            {
                q: "Find the mistake: <u>Are</u> your twin brother and you want to go to the Twins Day Festival next year?",
                sub: "Error Identification",
                type: "mc",
                options: [
                    { t: "Are", r: "-> Do", valid: true },
                    { t: "want", r: "", valid: false },
                    { t: "to go", r: "", valid: false },
                    { t: "next year", r: "", valid: false }
                ],
                expl: "<b>L·ªói sai:</b> Are.<br><b>Gi·∫£i th√≠ch:</b> ƒê·ªông t·ª´ ch√≠nh l√† 'want' (ƒë·ªông t·ª´ th∆∞·ªùng), n√™n c√¢u h·ªèi ph·∫£i d√πng tr·ª£ ƒë·ªông t·ª´ 'Do'.<br>üëâ S·ª≠a th√†nh: <b>Do</b>."
            },
            {
                q: "Find the mistake: Could you please give me some <u>informations</u> about the festival?",
                sub: "Error Identification",
                type: "mc",
                options: [
                    { t: "Could you", r: "", valid: false },
                    { t: "give me", r: "", valid: false },
                    { t: "informations", r: "-> information", valid: true },
                    { t: "about", r: "", valid: false }
                ],
                expl: "<b>L·ªói sai:</b> informations.<br><b>Gi·∫£i th√≠ch:</b> 'Information' l√† danh t·ª´ kh√¥ng ƒë·∫øm ƒë∆∞·ª£c, kh√¥ng bao gi·ªù th√™m 's'.<br>üëâ S·ª≠a th√†nh: <b>information</b>."
            }
        ];

        // --- 2. GAME LOGIC ---

        let currentQuestion = 0;
        let score = 0;
        let isAnswered = false;
        
        // Sound Context (Web Audio API)
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);

            if (type === 'correct') {
                // Ding sound (High pitch, fast decay)
                osc.type = 'sine';
                osc.frequency.setValueAtTime(1000, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1500, audioCtx.currentTime + 0.1);
                gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.5);
            } else {
                // Buzz sound (Low pitch saw, fast decay)
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(150, audioCtx.currentTime);
                osc.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
                gain.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gain.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.3);
            }
        }

        function playConfetti() {
            confetti({
                particleCount: 150,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#8854C0', '#00C9A7', '#f1c40f']
            });
        }

        // Helper to underline char in Phonetics
        function formatPhonetics(word, targetArray) {
            if(!targetArray) return word;
            // Find which target matches
            for (let t of targetArray) {
                if (word.includes(t)) {
                    // Replace only the first occurrence for simplicity in this dataset
                    return word.replace(t, `<u>${t}</u>`);
                }
            }
            return word;
        }

        function renderQuestion() {
            const data = quizData[currentQuestion];
            const qBadge = document.getElementById('questionBadge');
            const qText = document.getElementById('questionText');
            const optionsDiv = document.getElementById('optionsContainer');
            const explBox = document.getElementById('explanationBox');
            const explContent = document.getElementById('explanationContent');
            const nextBtn = document.getElementById('nextBtn');
            const progressBar = document.getElementById('progressBar');

            // Reset state
            isAnswered = false;
            optionsDiv.innerHTML = '';
            explBox.style.display = 'none';
            nextBtn.style.display = 'none';
            
            // Update UI
            qBadge.innerText = `Question ${currentQuestion + 1}/${quizData.length}`;
            qBadge.innerText += ` ‚Ä¢ ${data.sub || 'General'}`;
            qText.innerHTML = data.q.replace(/\n/g, '<br>');

            // Progress Bar
            progressBar.style.width = `${((currentQuestion) / quizData.length) * 100}%`;

            // Options
            data.options.forEach((opt, index) => {
                const btn = document.createElement('div');
                btn.className = 'option-card';
                
                // Format text for phonetics highlighting
                let displayText = opt.t;
                if (data.type === 'phonetics') {
                    displayText = formatPhonetics(opt.t, data.target);
                }

                btn.innerHTML = `
                    <span class="option-label">${String.fromCharCode(65 + index)}</span>
                    <span>${displayText}</span>
                `;
                btn.onclick = () => checkAnswer(index, btn);
                optionsDiv.appendChild(btn);
            });
        }

        function checkAnswer(selectedIndex, btnElement) {
            if (isAnswered) return;
            isAnswered = true;

            const data = quizData[currentQuestion];
            const allOptions = document.querySelectorAll('.option-card');
            const explBox = document.getElementById('explanationBox');
            const explContent = document.getElementById('explanationContent');
            const nextBtn = document.getElementById('nextBtn');

            // Check Correct
            if (data.options[selectedIndex].valid) {
                btnElement.classList.add('correct');
                score++;
                playSound('correct');
                playConfetti();
            } else {
                btnElement.classList.add('wrong');
                playSound('wrong');
                // Highlight the correct one
                data.options.forEach((opt, idx) => {
                    if (opt.valid) allOptions[idx].classList.add('correct');
                });
            }

            // Disable all
            allOptions.forEach(opt => opt.classList.add('disabled'));

            // Show Explanation
            let analysisHTML = '<div class="explanation-step"><strong>Ph√¢n t√≠ch ƒë√°p √°n:</strong><br>';
            data.options.forEach((opt, idx) => {
                const label = String.fromCharCode(65 + idx);
                analysisHTML += `‚Ä¢ <b>${label}. ${opt.t}</b>: ${opt.r || ''}<br>`;
            });
            analysisHTML += '</div>';

            explContent.innerHTML = analysisHTML + `<div class="explanation-step"><strong>T·∫°i sao ƒë√∫ng?</strong><br>${data.expl}</div>`;
            explBox.style.display = 'block';
            nextBtn.style.display = 'inline-block';
            explBox.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion < quizData.length) {
                renderQuestion();
                window.scrollTo(0, 0);
            } else {
                showResult();
            }
        }

        function showResult() {
            const modal = document.getElementById('resultModal');
            const scoreText = document.getElementById('finalScore');
            const msg = document.getElementById('finalMessage');
            const progressBar = document.getElementById('progressBar');
            
            progressBar.style.width = '100%';
            modal.style.display = 'flex';
            scoreText.innerText = `${score}/${quizData.length}`;

            const percentage = (score / quizData.length) * 100;
            if (percentage === 100) {
                msg.innerText = "Tuy·ªát ƒë·ªëi! Em l√† thi√™n t√†i ng√¥n ng·ªØ! üåü";
                playConfetti();
            } else if (percentage >= 80) {
                msg.innerText = "Gi·ªèi l·∫Øm! Ki·∫øn th·ª©c r·∫•t v·ªØng v√†ng. üî•";
            } else if (percentage >= 50) {
                msg.innerText = "Kh√° t·ªët! C·ªë g·∫Øng √¥n l·∫°i c√°c c√¢u sai nh√©. üëç";
            } else {
                msg.innerText = "C·∫ßn c·ªë g·∫Øng h∆°n! H√£y xem k·ªπ l·∫°i ph·∫ßn gi·∫£i th√≠ch nh√©. üí™";
            }
        }

        // Init
        renderQuestion();

    </script>
</body>
</html>
