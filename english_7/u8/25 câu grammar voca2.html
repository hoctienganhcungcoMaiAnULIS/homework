<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ms Mai An ULIS - English Quiz Grade 6 Unit 8</title>
    <!-- Google Fonts: Nunito & Quicksand -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary-purple: #8854C0;
            --primary-teal: #00C9A7;
            --correct-green: #00D26A;
            --wrong-red: #FF4757;
            --bg-pastel: #F0F4F8;
            --card-bg: #FFFFFF;
            --text-dark: #2D3436;
            --text-light: #636E72;
            --shadow-color: rgba(0, 0, 0, 0.15);
            --shadow-depth: 4px;
        }

        * {
            box-sizing: border-box;
            user-select: none; /* Prevent text selection for game feel */
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--primary-purple);
            background-image: radial-gradient(var(--primary-teal) 15%, transparent 16%),
                              radial-gradient(var(--primary-teal) 15%, transparent 16%);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
            margin: 0;
            padding: 20px;
            color: var(--text-dark);
            min-height: 100vh;
        }

        /* --- Header --- */
        .header-container {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
        }

        .teacher-badge {
            background: #FFD700;
            color: #d35400;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 800;
            font-size: 0.9rem;
            display: inline-block;
            box-shadow: 0 4px 0 #e67e22;
            margin-bottom: 10px;
            font-family: 'Quicksand', sans-serif;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .quiz-title {
            color: white;
            font-size: 1.8rem;
            font-weight: 900;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.2);
            margin: 0;
        }

        /* --- Main Quiz Area --- */
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
            padding-bottom: 80px; /* Space for footer */
        }

        .question-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 0 rgba(0,0,0,0.1);
            position: relative;
            border: 3px solid #f1f2f6;
            transition: transform 0.3s ease;
        }

        .q-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 2px dashed #dfe6e9;
            padding-bottom: 10px;
        }

        .q-number {
            font-family: 'Quicksand', sans-serif;
            background: var(--primary-teal);
            color: white;
            padding: 5px 12px;
            border-radius: 12px;
            font-weight: 700;
            font-size: 1rem;
        }

        .q-text {
            font-size: 1.2rem;
            font-weight: 700;
            line-height: 1.5;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        /* --- Answers Grid --- */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr; /* Mobile first */
            gap: 12px;
        }

        @media (min-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        .option-btn {
            background: #fff;
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            padding: 15px 20px;
            font-family: 'Nunito', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-dark);
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
            text-align: left;
            position: relative;
            box-shadow: 0 4px 0 #dfe6e9;
            display: flex;
            align-items: center;
        }

        .option-btn:hover:not(.disabled) {
            transform: translateY(-2px) scale(1.02);
            border-color: var(--primary-purple);
            background-color: #f8f0ff;
        }

        .option-btn:active:not(.disabled) {
            transform: translateY(2px);
            box-shadow: none;
        }

        .option-index {
            display: inline-block;
            width: 24px;
            height: 24px;
            background: #dfe6e9;
            color: #636e72;
            border-radius: 50%;
            text-align: center;
            line-height: 24px;
            margin-right: 10px;
            font-size: 0.8rem;
            font-weight: bold;
            flex-shrink: 0;
        }

        /* Correct/Wrong States */
        .option-btn.correct {
            background-color: var(--correct-green) !important;
            color: white !important;
            border-color: #00b894 !important;
            box-shadow: 0 4px 0 #00b894 !important;
        }
        .option-btn.correct .option-index {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        .option-btn.wrong {
            background-color: var(--wrong-red) !important;
            color: white !important;
            border-color: #d63031 !important;
            box-shadow: 0 4px 0 #d63031 !important;
            animation: shake 0.5s;
        }
        .option-btn.wrong .option-index {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        .option-btn.disabled {
            cursor: default;
            opacity: 0.7;
        }

        /* --- Explanation Box --- */
        .explanation-box {
            margin-top: 20px;
            background: #fff9c4; /* Light yellow note style */
            border: 2px dashed #f1c40f;
            border-radius: 15px;
            padding: 15px;
            display: none; /* Hidden initially */
            animation: slideDown 0.4s ease-out;
        }

        .expl-header {
            font-weight: 800;
            color: #d35400;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .expl-content {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #2d3436;
            white-space: pre-wrap; /* Preserve newlines from JSON */
        }
        
        .expl-content b {
            color: #2980b9; /* Highlight keywords */
        }

        /* --- Footer --- */
        .quiz-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            padding: 15px;
            box-shadow: 0 -5px 15px rgba(0,0,0,0.1);
            text-align: center;
            z-index: 100;
        }

        .submit-btn {
            background: linear-gradient(to bottom, #9b59b6, #8e44ad);
            color: white;
            border: none;
            padding: 12px 40px;
            border-radius: 30px;
            font-size: 1.2rem;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 5px 0 #6c3483;
            transition: transform 0.1s;
            font-family: 'Quicksand', sans-serif;
            text-transform: uppercase;
        }

        .submit-btn:hover {
            transform: scale(1.05);
        }
        .submit-btn:active {
            transform: scale(0.95) translateY(4px);
            box-shadow: 0 1px 0 #6c3483;
        }

        /* --- Animations --- */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-8px) rotate(-2deg); }
            50% { transform: translateX(8px) rotate(2deg); }
            75% { transform: translateX(-8px) rotate(-1deg); }
            100% { transform: translateX(0); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Confetti Canvas */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
        }

        /* --- Result Modal --- */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .result-card {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            max-width: 90%;
            width: 400px;
            animation: zoomIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 5px solid var(--primary-purple);
        }

        .score-circle {
            width: 120px;
            height: 120px;
            background: var(--primary-teal);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 20px;
            font-size: 2.5rem;
            font-weight: 900;
            color: white;
            border: 5px solid #fff;
            box-shadow: 0 0 0 5px var(--primary-teal);
        }

        @keyframes zoomIn {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

    </style>
</head>
<body>

    <div class="header-container">
        <div class="teacher-badge">Created by Ms Mai An ULIS</div>
        <h1 class="quiz-title"><i class="fas fa-film"></i> English Quiz Grade 6: Unit 8</h1>
        <p style="color: rgba(255,255,255,0.9); font-weight: 600;">Topics: Films & Connectors</p>
    </div>

    <div class="quiz-container" id="quiz-container">
        <!-- Questions will be injected here via JavaScript -->
    </div>

    <div class="quiz-footer">
        <button class="submit-btn" onclick="finishQuiz()">N·ªôp b√†i & Xem ƒëi·ªÉm</button>
    </div>

    <canvas id="confetti-canvas"></canvas>

    <!-- Result Modal -->
    <div class="modal-overlay" id="result-modal">
        <div class="result-card">
            <h2 style="color: var(--primary-purple); margin-top: 0;">K·∫øt qu·∫£ b√†i l√†m</h2>
            <div class="score-circle" id="final-score">0/0</div>
            <p id="feedback-text" style="font-size: 1.1rem; color: #555; margin-bottom: 20px;"></p>
            <button class="submit-btn" onclick="closeModal()">Xem l·∫°i b√†i</button>
        </div>
    </div>

<script>
    // --- DATA ---
    // Pasted directly from the provided source
    const quizData = {
      "questions": [
    {
      "questionNumber": 26,
      "question": "Mr. Beans Holiday is a __________ film - I was laughing from beginning to end.",
      "answerOptions": [
        {
          "text": "A. hilarious",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. hilarious (adj): vui nh·ªôn, h√†i h∆∞·ªõc t·ªôt ƒë·ªô\nB. violent (adj): b·∫°o l·ª±c\nC. scary (adj): ƒë√°ng s·ª£\nD. moving (adj): c·∫£m ƒë·ªông\n\nGi·∫£i th√≠ch: T·ª´ kh√≥a 'laughing' (c∆∞·ªùi) cho th·∫•y b·ªô phim r·∫•t h√†i h∆∞·ªõc -> Ch·ªçn 'hilarious'.\n\nD·ªãch c√¢u: K·ª≥ ngh·ªâ c·ªßa Mr. Bean l√† m·ªôt b·ªô phim c·ª±c k·ª≥ h√†i h∆∞·ªõc - T√¥i ƒë√£ c∆∞·ªùi t·ª´ ƒë·∫ßu ƒë·∫øn cu·ªëi.",
          "isCorrect": true
        },
        { "text": "B. violent", "isCorrect": false },
        { "text": "C. scary", "isCorrect": false },
        { "text": "D. moving", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 27,
      "question": "We are really __________ about going to the cinema tonight.",
      "answerOptions": [
        {
          "text": "A. excited",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. excited (adj): h√†o h·ª©ng (c·∫£m x√∫c c·ªßa ng∆∞·ªùi)\nB. interested (adj): quan t√¢m (th∆∞·ªùng ƒëi v·ªõi 'in')\nC. amused (adj): th√≠ch th√∫/bu·ªìn c∆∞·ªùi\nD. pleased (adj): h√†i l√≤ng\n\nGi·∫£i th√≠ch: C·∫•u tr√∫c 'be excited about' (h√†o h·ª©ng v·ªÅ vi·ªác g√¨ ƒë√≥). Ng·ªØ c·∫£nh ƒëi xem phim t·ªëi nay th·ªÉ hi·ªán s·ª± h√°o h·ª©c.\n\nD·ªãch c√¢u: Ch√∫ng t√¥i th·ª±c s·ª± h√†o h·ª©ng v·ªÅ vi·ªác ƒëi xem phim t·ªëi nay.",
          "isCorrect": true
        },
        { "text": "B. interested", "isCorrect": false },
        { "text": "C. amused", "isCorrect": false },
        { "text": "D. pleased", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 28,
      "question": "The film was so __________ . However, my father saw it from beginning to end.",
      "answerOptions": [
        {
          "text": "C. boring",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. interesting (adj): th√∫ v·ªã\nB. exciting (adj): h√†o h·ª©ng\nC. boring (adj): nh√†m ch√°n\nD. fascinating (adj): l√¥i cu·ªën\n\nGi·∫£i th√≠ch: T·ª´ n·ªëi 'However' (Tuy nhi√™n) ch·ªâ s·ª± t∆∞∆°ng ph·∫£n. V·∫ø sau n√≥i 'b·ªë t√¥i xem t·ª´ ƒë·∫ßu ƒë·∫øn cu·ªëi' (h√†nh ƒë·ªông ki√™n nh·∫´n), ng·ª• √Ω r·∫±ng d√π phim ch√°n nh∆∞ng v·∫´n c·ªë xem h·∫øt.\n\nD·ªãch c√¢u: B·ªô phim qu√° nh√†m ch√°n. Tuy nhi√™n, b·ªë t√¥i ƒë√£ xem n√≥ t·ª´ ƒë·∫ßu ƒë·∫øn cu·ªëi.",
          "isCorrect": true
        },
        { "text": "A. interesting", "isCorrect": false },
        { "text": "B. exciting", "isCorrect": false },
        { "text": "D. fascinating", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 29,
      "question": "We found the plot of the film __________.",
      "answerOptions": [
        {
          "text": "B. boring",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. bored (adj): c·∫£m th·∫•y ch√°n (ng∆∞·ªùi)\nB. boring (adj): t·∫ª nh·∫°t (t√≠nh ch·∫•t s·ª± v·∫≠t)\nC. interested (adj): c·∫£m th·∫•y th√∫ v·ªã (ng∆∞·ªùi)\nD. acting (n): di·ªÖn xu·∫•t\n\nGi·∫£i th√≠ch: C·∫•u tr√∫c: 'find + something + adj' (th·∫•y c√°i g√¨ nh∆∞ th·∫ø n√†o). 'The plot' (c·ªët truy·ªán) l√† s·ª± v·∫≠t -> D√πng t√≠nh t·ª´ ƒëu√¥i -ing.\n\nD·ªãch c√¢u: Ch√∫ng t√¥i th·∫•y c·ªët truy·ªán c·ªßa b·ªô phim th·∫≠t t·∫ª nh·∫°t.",
          "isCorrect": true
        },
        { "text": "A. bored", "isCorrect": false },
        { "text": "C. interested", "isCorrect": false },
        { "text": "D. acting", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 30,
      "question": "The cinema changed completely at __________ end of __________ 1920s.",
      "answerOptions": [
        {
          "text": "D. the - the",
          "rationale": "Gi·∫£i th√≠ch:\n- C·ª•m t·ª´ c·ªë ƒë·ªãnh: 'at the end of' (v√†o cu·ªëi c·ªßa...)\n- Khi n√≥i v·ªÅ c√°c th·∫≠p k·ª∑ (nh·ªØng nƒÉm 1920), ta d√πng m·∫°o t·ª´ 'the' -> 'the 1920s'.\n\nD·ªãch c√¢u: ƒêi·ªán ·∫£nh ƒë√£ thay ƒë·ªïi ho√†n to√†n v√†o cu·ªëi nh·ªØng nƒÉm 1920.",
          "isCorrect": true
        },
        { "text": "A. an ‚Äì the", "isCorrect": false },
        { "text": "B. the - a", "isCorrect": false },
        { "text": "C. a - the", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 31,
      "question": "I enjoyed the film on TV yesterday evening __________ nobody in my family liked it.",
      "answerOptions": [
        {
          "text": "A. although",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. although + Clause (M·ªánh ƒë·ªÅ): m·∫∑c d√π\nB. yet: nh∆∞ng/tuy nhi√™n\nC. in spite of + Noun/V-ing: m·∫∑c d√π\nD. so: v√¨ v·∫≠y\n\nGi·∫£i th√≠ch: Sau ch·ªó tr·ªëng l√† m·ªánh ƒë·ªÅ 'nobody in my family liked it' (S + V). Hai v·∫ø t∆∞∆°ng ph·∫£n (t√¥i th√≠ch >< gia ƒë√¨nh kh√¥ng th√≠ch).\n\nD·ªãch c√¢u: T√¥i th√≠ch b·ªô phim tr√™n TV t·ªëi qua m·∫∑c d√π kh√¥ng ai trong gia ƒë√¨nh t√¥i th√≠ch n√≥.",
          "isCorrect": true
        },
        { "text": "B. yet", "isCorrect": false },
        { "text": "C. in spite of", "isCorrect": false },
        { "text": "D. so", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 32,
      "question": "Last night, I didn‚Äôt go to bed early __________ being very tired.",
      "answerOptions": [
        {
          "text": "B. in spite of",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. despite of (Sai ng·ªØ ph√°p, 'Despite' kh√¥ng ƒëi v·ªõi 'of')\nB. in spite of + V-ing/Noun: m·∫∑c d√π\nC. although + Clause: m·∫∑c d√π\nD. because + Clause: b·ªüi v√¨\n\nGi·∫£i th√≠ch: 'being very tired' l√† c·ª•m V-ing. Hai v·∫ø t∆∞∆°ng ph·∫£n (kh√¥ng ng·ªß s·ªõm >< m·ªát).\n\nD·ªãch c√¢u: T·ªëi qua, t√¥i kh√¥ng ƒëi ng·ªß s·ªõm m·∫∑c d√π r·∫•t m·ªát.",
          "isCorrect": true
        },
        { "text": "A. despite of", "isCorrect": false },
        { "text": "C. although", "isCorrect": false },
        { "text": "D. because", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 33,
      "question": "I __________ thrillers to action films.",
      "answerOptions": [
        {
          "text": "B. prefer",
          "rationale": "Gi·∫£i th√≠ch: C·∫•u tr√∫c so s√°nh s·ªü th√≠ch: **prefer A to B** (th√≠ch c√°i A h∆°n c√°i B).\n- like (th√≠ch - kh√¥ng ƒëi v·ªõi 'to' ƒë·ªÉ so s√°nh)\n- would rather (th∆∞·ªùng ƒëi v·ªõi 'than')\n- enjoy (th∆∞·ªüng th·ª©c)\n\nD·ªãch: T√¥i th√≠ch phim gi·∫≠t g√¢n h∆°n phim h√†nh ƒë·ªông.",
          "isCorrect": true
        },
        { "text": "A. like", "isCorrect": false },
        { "text": "C. would rather", "isCorrect": false },
        { "text": "D. enjoy", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 34,
      "question": "We like the film very much. The __________ are unforgettable and the plot is gripping.",
      "answerOptions": [
        {
          "text": "A. characters",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. characters (n): nh√¢n v·∫≠t\nB. acting (n): di·ªÖn xu·∫•t\nC. style (n): phong c√°ch\nD. action (n): h√†nh ƒë·ªông\n\nGi·∫£i th√≠ch: T√≠nh t·ª´ 'unforgettable' (kh√≥ qu√™n) th∆∞·ªùng d√πng ƒë·ªÉ mi√™u t·∫£ c√°c nh√¢n v·∫≠t ho·∫∑c vai di·ªÖn ·∫•n t∆∞·ª£ng trong phim.\n\nD·ªãch c√¢u: Ch√∫ng t√¥i r·∫•t th√≠ch b·ªô phim n√†y. C√°c nh√¢n v·∫≠t th·∫≠t kh√≥ qu√™n v√† c·ªët truy·ªán th√¨ l√¥i cu·ªën.",
          "isCorrect": true
        },
        { "text": "B. acting", "isCorrect": false },
        { "text": "C. style", "isCorrect": false },
        { "text": "D. action", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 35,
      "question": "A __________ is a film that tries to make audiences laugh.",
      "answerOptions": [
        {
          "text": "C. comedy",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. Horror (n): phim kinh d·ªã\nB. sci-fi (n): phim khoa h·ªçc vi·ªÖn t∆∞·ªüng\nC. comedy (n): phim h√†i\nD. documentary (n): phim t√†i li·ªáu\n\nGi·∫£i th√≠ch: T·ª´ kh√≥a 'make audiences laugh' (l√†m kh√°n gi·∫£ c∆∞·ªùi) -> Phim h√†i.\n\nD·ªãch c√¢u: Phim h√†i l√† lo·∫°i phim c·ªë g·∫Øng l√†m cho kh√°n gi·∫£ c∆∞·ªùi.",
          "isCorrect": true
        },
        { "text": "A. Horror", "isCorrect": false },
        { "text": "B. sci-fi", "isCorrect": false },
        { "text": "D. documentary", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 36,
      "question": "A film in which strange and frightening things happen is called a/an __________.",
      "answerOptions": [
        {
          "text": "A. thriller",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. thriller (n): phim gi·∫≠t g√¢n/ly k·ª≥\nB. comedy (n): phim h√†i\nC. drama (n): phim t√¢m l√Ω/ch√≠nh k·ªãch\nD. animation (n): phim ho·∫°t h√¨nh\n\nGi·∫£i th√≠ch: 'strange and frightening things' (nh·ªØng ƒëi·ªÅu k·ª≥ l·∫° v√† ƒë√°ng s·ª£). Trong c√°c ƒë√°p √°n, 'thriller' l√† ph√π h·ª£p nh·∫•t (d√π 'horror' s√°t nghƒ©a h∆°n nh∆∞ng kh√¥ng c√≥ trong l·ª±a ch·ªçn, thriller c≈©ng ch·ª©a y·∫øu t·ªë h·ªìi h·ªôp, ƒë√°ng s·ª£).\n\nD·ªãch c√¢u: M·ªôt b·ªô phim m√† trong ƒë√≥ nh·ªØng ƒëi·ªÅu k·ª≥ l·∫° v√† ƒë√°ng s·ª£ x·∫£y ra ƒë∆∞·ª£c g·ªçi l√† phim gi·∫≠t g√¢n.",
          "isCorrect": true
        },
        { "text": "B. comedy", "isCorrect": false },
        { "text": "C. drama", "isCorrect": false },
        { "text": "D. animation", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 37,
      "question": "Not many people went to see the film; __________, it received good reviews from critics.",
      "answerOptions": [
        {
          "text": "A. however",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. however: tuy nhi√™n\nB. despite: m·∫∑c d√π\nC. but: nh∆∞ng\nD. although: m·∫∑c d√π\n\nGi·∫£i th√≠ch: D·∫•u c√¢u: D·∫•u ch·∫•m ph·∫©y (;) ƒë·ª©ng tr∆∞·ªõc v√† d·∫•u ph·∫©y (,) ƒë·ª©ng sau -> D√πng tr·∫°ng t·ª´ li√™n k·∫øt 'However'.\n\nD·ªãch c√¢u: Kh√¥ng nhi·ªÅu ng∆∞·ªùi ƒëi xem phim n√†y; tuy nhi√™n, n√≥ ƒë√£ nh·∫≠n ƒë∆∞·ª£c nh·ªØng ƒë√°nh gi√° t·ªët t·ª´ c√°c nh√† ph√™ b√¨nh.",
          "isCorrect": true
        },
        { "text": "B. despite", "isCorrect": false },
        { "text": "C. but", "isCorrect": false },
        { "text": "D. although", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 38,
      "question": "__________ he spent much money on the film, it wasn‚Äôt a big success.",
      "answerOptions": [
        {
          "text": "C. Although",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. Even (th∆∞·ªùng ƒëi v·ªõi if/though)\nB. But (kh√¥ng ƒë·ª©ng ƒë·∫ßu c√¢u trong c·∫•u tr√∫c m·ªánh ƒë·ªÅ ph·ª• nh∆∞ n√†y, th∆∞·ªùng n·ªëi 2 v·∫ø)\nC. Although + Clause: M·∫∑c d√π\nD. Despite + Noun/V-ing: M·∫∑c d√π\n\nGi·∫£i th√≠ch: Sau ch·ªó tr·ªëng l√† m·ªánh ƒë·ªÅ 'he spent much money...' (S + V) -> D√πng 'Although'.\n\nD·ªãch c√¢u: M·∫∑c d√π anh ·∫•y ƒë√£ chi nhi·ªÅu ti·ªÅn cho b·ªô phim, n√≥ kh√¥ng ph·∫£i l√† m·ªôt th√†nh c√¥ng l·ªõn.",
          "isCorrect": true
        },
        { "text": "A. Even", "isCorrect": false },
        { "text": "B. But", "isCorrect": false },
        { "text": "D. Despite", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 39,
      "question": "Trung finds horror films really __________.",
      "answerOptions": [
        {
          "text": "C. disgusting",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. disgust (v/n): l√†m gh√™ t·ªüm\nB. disgusts (v-s): chia ƒë·ªông t·ª´\nC. disgusting (adj): gh√™ t·ªüm (t√≠nh ch·∫•t)\nD. disgusted (adj): c·∫£m th·∫•y gh√™ t·ªüm (c·∫£m x√∫c)\n\nGi·∫£i th√≠ch: C·∫•u tr√∫c: 'find + something + adj'. Mi√™u t·∫£ t√≠nh ch·∫•t c·ªßa 'horror films' -> D√πng t√≠nh t·ª´ ƒëu√¥i -ing.\n\nD·ªãch c√¢u: Trung th·∫•y phim kinh d·ªã th·ª±c s·ª± gh√™ t·ªüm.",
          "isCorrect": true
        },
        { "text": "A. disgust", "isCorrect": false },
        { "text": "B. disgusts", "isCorrect": false },
        { "text": "D. disgusted", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 40,
      "question": "__________ they spent a lot of money on the film, it wasn‚Äôt a big success.",
      "answerOptions": [
        {
          "text": "D. Although",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. However: Tuy nhi√™n (th∆∞·ªùng c√≥ d·∫•u ph·∫©y ƒëi sau)\nB. Nevertheless: Tuy nhi√™n\nC. When: Khi\nD. Although: M·∫∑c d√π\n\nGi·∫£i th√≠ch: T∆∞∆°ng t·ª± c√¢u 38, sau ch·ªó tr·ªëng l√† m·ªánh ƒë·ªÅ v√† hai v·∫ø t∆∞∆°ng ph·∫£n -> D√πng 'Although'.\n\nD·ªãch c√¢u: M·∫∑c d√π h·ªç ƒë√£ chi r·∫•t nhi·ªÅu ti·ªÅn cho b·ªô phim, n√≥ kh√¥ng ph·∫£i l√† m·ªôt th√†nh c√¥ng l·ªõn.",
          "isCorrect": true
        },
        { "text": "A. However", "isCorrect": false },
        { "text": "B. Nevertheless", "isCorrect": false },
        { "text": "C. When", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 41,
      "question": "We didn‚Äôt find it funny __________ it was a comedy.",
      "answerOptions": [
        {
          "text": "C. although",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. in spite of + Noun/V-ing\nB. despite + Noun/V-ing\nC. although + Clause\nD. but (kh√¥ng ph√π h·ª£p c·∫•u tr√∫c c√¢u n√†y khi ƒë·ª©ng gi·ªØa m√† kh√¥ng c√≥ d·∫•u ph·∫©y, v√† nghƒ©a 'm·∫∑c d√π' h·ª£p h∆°n)\n\nGi·∫£i th√≠ch: Sau ch·ªó tr·ªëng l√† 'it was a comedy' (S + V) -> D√πng 'although'.\n\nD·ªãch c√¢u: Ch√∫ng t√¥i kh√¥ng th·∫•y n√≥ h√†i h∆∞·ªõc m·∫∑c d√π n√≥ l√† m·ªôt b·ªô phim h√†i.",
          "isCorrect": true
        },
        { "text": "A. in spite of", "isCorrect": false },
        { "text": "B. despite", "isCorrect": false },
        { "text": "D. but", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 42,
      "question": "In Titanic, it __________ Leonardo DiCaprio as Jack Dawson, a poor artist.",
      "answerOptions": [
        {
          "text": "D. stars",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. directs (v): ƒë·∫°o di·ªÖn\nB. shows (v): chi·∫øu\nC. acts (v): di·ªÖn\nD. stars (v): c√≥ ai ƒë√≥ng vai ch√≠nh\n\nGi·∫£i th√≠ch: Khi n√≥i v·ªÅ phim c√≥ di·ªÖn vi√™n n√†o ƒë√≥ng vai ch√≠nh, ta d√πng ƒë·ªông t·ª´ 'star'. C·∫•u tr√∫c: 'The film stars + actor' ho·∫∑c 'It stars + actor'.\n\nD·ªãch c√¢u: Trong phim Titanic, Leonardo DiCaprio ƒë√≥ng vai ch√≠nh l√† Jack Dawson, m·ªôt h·ªça sƒ© ngh√®o.",
          "isCorrect": true
        },
        { "text": "A. directs", "isCorrect": false },
        { "text": "B. shows", "isCorrect": false },
        { "text": "C. acts", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 43,
      "question": "The end of the film was so __________ that many people cried.",
      "answerOptions": [
        {
          "text": "B. moving",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. shocking (adj): g√¢y s·ªëc\nB. moving (adj): c·∫£m ƒë·ªông\nC. exciting (adj): th√∫ v·ªã\nD. boring (adj): nh√†m ch√°n\n\nGi·∫£i th√≠ch: T·ª´ kh√≥a 'many people cried' (nhi·ªÅu ng∆∞·ªùi kh√≥c) -> Phim c·∫£m ƒë·ªông.\n\nD·ªãch c√¢u: K·∫øt th√∫c c·ªßa b·ªô phim c·∫£m ƒë·ªông ƒë·∫øn n·ªói nhi·ªÅu ng∆∞·ªùi ƒë√£ kh√≥c.",
          "isCorrect": true
        },
        { "text": "A. shocking", "isCorrect": false },
        { "text": "C. exciting", "isCorrect": false },
        { "text": "D. boring", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 44,
      "question": "I went to the cinema with my friends yesterday __________ feeling very tired.",
      "answerOptions": [
        {
          "text": "B. in spite of",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. although + Clause\nB. in spite of + V-ing/Noun\nC. but: nh∆∞ng\nD. so: v√¨ v·∫≠y\n\nGi·∫£i th√≠ch: 'feeling very tired' l√† c·ª•m V-ing -> D√πng 'in spite of'.\n\nD·ªãch c√¢u: T√¥i ƒë√£ ƒëi xem phim v·ªõi b·∫°n b√® ng√†y h√¥m qua m·∫∑c d√π c·∫£m th·∫•y r·∫•t m·ªát.",
          "isCorrect": true
        },
        { "text": "A. although", "isCorrect": false },
        { "text": "C. but", "isCorrect": false },
        { "text": "D. so", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 45,
      "question": "__________ beginning with a terrible disaster, the film has a happy ending.",
      "answerOptions": [
        {
          "text": "B. Despite",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. In spite (thi·∫øu 'of')\nB. Despite + V-ing/Noun\nC. Although + Clause\nD. However (tr·∫°ng t·ª´ li√™n k·∫øt)\n\nGi·∫£i th√≠ch: 'beginning with a terrible disaster' l√† c·ª•m V-ing. 'Despite' l√† t·ª´ duy nh·∫•t ƒë√∫ng ng·ªØ ph√°p ·ªü ƒë√¢y.\n\nD·ªãch c√¢u: M·∫∑c d√π b·∫Øt ƒë·∫ßu b·∫±ng m·ªôt th·∫£m h·ªça kh·ªßng khi·∫øp, b·ªô phim l·∫°i c√≥ m·ªôt k·∫øt th√∫c c√≥ h·∫≠u.",
          "isCorrect": true
        },
        { "text": "A. In spite", "isCorrect": false },
        { "text": "C. Although", "isCorrect": false },
        { "text": "D. However", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 46,
      "question": "I found the book so __________ that I couldn‚Äôt put it down.",
      "answerOptions": [
        {
          "text": "A. gripping",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. gripping (adj): l√¥i cu·ªën, h·∫•p d·∫´n\nB. boring (adj): nh√†m ch√°n\nC. tiring (adj): m·ªát m·ªèi\nD. shocking (adj): g√¢y s·ªëc\n\nGi·∫£i th√≠ch: 'couldn‚Äôt put it down' (kh√¥ng th·ªÉ ƒë·∫∑t xu·ªëng ƒë∆∞·ª£c) -> S√°ch r·∫•t hay/l√¥i cu·ªën.\n\nD·ªãch c√¢u: T√¥i th·∫•y cu·ªën s√°ch l√¥i cu·ªën ƒë·∫øn m·ª©c t√¥i kh√¥ng th·ªÉ ƒë·∫∑t n√≥ xu·ªëng.",
          "isCorrect": true
        },
        { "text": "B. boring", "isCorrect": false },
        { "text": "C. tiring", "isCorrect": false },
        { "text": "D. shocking", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 47,
      "question": "__________ careful preparation, we have a lot of difficulties in making a new film.",
      "answerOptions": [
        {
          "text": "D. Despite",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. With: V·ªõi\nB. However: Tuy nhi√™n\nC. Such: Nh∆∞ v·∫≠y/qu√°\nD. Despite: M·∫∑c d√π\n\nGi·∫£i th√≠ch: 'careful preparation' l√† c·ª•m danh t·ª´. Hai v·∫ø t∆∞∆°ng ph·∫£n (chu·∫©n b·ªã k·ªπ >< g·∫∑p kh√≥ khƒÉn) -> D√πng 'Despite'.\n\nD·ªãch c√¢u: M·∫∑c d√π ƒë√£ chu·∫©n b·ªã k·ªπ l∆∞·ª°ng, ch√∫ng t√¥i v·∫´n g·∫∑p r·∫•t nhi·ªÅu kh√≥ khƒÉn trong vi·ªác l√†m b·ªô phim m·ªõi.",
          "isCorrect": true
        },
        { "text": "A. With", "isCorrect": false },
        { "text": "B. However", "isCorrect": false },
        { "text": "C. Such", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 48,
      "question": "The film has a silly plot. __________, many people enjoyed it.",
      "answerOptions": [
        {
          "text": "D. Nevertheless",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. Though (th∆∞·ªùng kh√¥ng ƒë·ª©ng ƒë·∫ßu c√¢u th·ª© 2 ƒë·ªôc l·∫≠p v·ªõi d·∫•u ph·∫©y nh∆∞ n√†y, m√† n·ªëi 2 m·ªánh ƒë·ªÅ)\nB. Moreover: H∆°n n·ªØa (b·ªï sung √Ω)\nC. Because: B·ªüi v√¨\nD. Nevertheless: Tuy nhi√™n (tr·∫°ng t·ª´ li√™n k·∫øt, d√πng khi c√≥ d·∫•u ch·∫•m/ph·∫©y tr∆∞·ªõc v√† ph·∫©y sau)\n\nGi·∫£i th√≠ch: Hai c√¢u t∆∞∆°ng ph·∫£n (c·ªët truy·ªán ng·ªõ ng·∫©n >< nhi·ªÅu ng∆∞·ªùi th√≠ch). 'Nevertheless' t∆∞∆°ng ƒë∆∞∆°ng v·ªõi 'However'.\n\nD·ªãch c√¢u: B·ªô phim c√≥ c·ªët truy·ªán ng·ªõ ng·∫©n. Tuy nhi√™n, nhi·ªÅu ng∆∞·ªùi v·∫´n th√≠ch n√≥.",
          "isCorrect": true
        },
        { "text": "A. Though", "isCorrect": false },
        { "text": "B. Moreover", "isCorrect": false },
        { "text": "C. Because", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 49,
      "question": "A __________ is a film that shows real life events or stories.",
      "answerOptions": [
        {
          "text": "B. documentary",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. Action (n): phim h√†nh ƒë·ªông\nB. documentary (n): phim t√†i li·ªáu\nC. thriller (n): phim gi·∫≠t g√¢n\nD. comedy (n): phim h√†i\n\nGi·∫£i th√≠ch: T·ª´ kh√≥a 'real life events' (s·ª± ki·ªán ƒë·ªùi th·ª±c) -> Phim t√†i li·ªáu.\n\nD·ªãch c√¢u: Phim t√†i li·ªáu l√† b·ªô phim chi·∫øu c√°c s·ª± ki·ªán ho·∫∑c c√¢u chuy·ªán ƒë·ªùi th·ª±c.",
          "isCorrect": true
        },
        { "text": "A. Action", "isCorrect": false },
        { "text": "C. thriller", "isCorrect": false },
        { "text": "D. comedy", "isCorrect": false }
      ]
    },
    {
      "questionNumber": 50,
      "question": "I have never felt as __________ as I did when I watched that horror film.",
      "answerOptions": [
        {
          "text": "B. terrified",
          "rationale": "D·ªãch ƒë√°p √°n:\nA. terrify (v): l√†m khi·∫øp s·ª£\nB. terrified (adj): c·∫£m th·∫•y khi·∫øp s·ª£ (c·∫£m x√∫c)\nC. terrifying (adj): ƒë√°ng s·ª£ (t√≠nh ch·∫•t)\nD. terrible (adj): t·ªìi t·ªá/kh·ªßng khi·∫øp\n\nGi·∫£i th√≠ch: C·∫•u tr√∫c 'felt as... as' (c·∫£m th·∫•y... nh∆∞). 'Felt' l√† ƒë·ªông t·ª´ ch·ªâ c·∫£m gi√°c, ch·ªß ng·ªØ l√† 'I' -> D√πng t√≠nh t·ª´ ƒëu√¥i -ed ch·ªâ c·∫£m x√∫c. 'Horror film' g√¢y ra n·ªói s·ª£ h√£i c·ª±c ƒë·ªô -> terrified.\n\nD·ªãch c√¢u: T√¥i ch∆∞a bao gi·ªù c·∫£m th·∫•y khi·∫øp s·ª£ nh∆∞ khi xem b·ªô phim kinh d·ªã ƒë√≥.",
          "isCorrect": true
        },
        { "text": "A. terrify", "isCorrect": false },
        { "text": "C. terrifying", "isCorrect": false },
        { "text": "D. terrible", "isCorrect": false }
      ]
    }
  ]
};

    let totalCorrect = 0;
    const answeredState = {};

    // --- RENDER LOGIC ---
    function initQuiz() {
        const container = document.getElementById('quiz-container');
        
        quizData.questions.forEach((q, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';
            card.id = `q-card-${index}`;

            // Determine correct answer index
            const correctIndex = q.answerOptions.findIndex(opt => opt.isCorrect);
            const explanationText = q.answerOptions[correctIndex].rationale || "ƒêang c·∫≠p nh·∫≠t gi·∫£i th√≠ch...";

            // Find rationale from correct option
            const rationale = q.answerOptions.find(opt => opt.isCorrect).rationale;
            
            // Format rationale for better readability (Highlight headings)
            const formattedRationale = rationale
                .replace(/D·ªãch ƒë√°p √°n:/g, "<b>üìò D·ªãch ƒë√°p √°n:</b>")
                .replace(/Gi·∫£i th√≠ch:/g, "<br><b>üí° Gi·∫£i th√≠ch:</b>")
                .replace(/D·ªãch c√¢u:/g, "<br><b>üáªüá≥ D·ªãch c√¢u:</b>");

            let optionsHtml = '';
            q.answerOptions.forEach((opt, i) => {
                const label = ['A', 'B', 'C', 'D'][i];
                // Clean the text "A. hilarious" -> "hilarious" if needed, but keeping original is safer based on dataset
                optionsHtml += `
                    <div class="option-btn" 
                         onclick="checkAnswer(${index}, ${i}, ${opt.isCorrect}, this)">
                        <span class="option-index">${label}</span>
                        ${opt.text.replace(/^[A-D]\.\s/, '')}
                    </div>
                `;
            });

            card.innerHTML = `
                <div class="q-header">
                    <span class="q-number">Question ${q.questionNumber}</span>
                    <i class="fas fa-question-circle" style="color: #b2bec3;"></i>
                </div>
                <div class="q-text">${q.question}</div>
                <div class="options-grid">
                    ${optionsHtml}
                </div>
                <div class="explanation-box" id="expl-${index}">
                    <div class="expl-header"><i class="fas fa-chalkboard-teacher"></i> Ms Mai An gi·∫£i th√≠ch:</div>
                    <div class="expl-content">${formattedRationale}</div>
                </div>
            `;
            container.appendChild(card);
        });
    }

    // --- INTERACTION LOGIC ---
    function checkAnswer(qIndex, optIndex, isCorrect, btnElement) {
        if (answeredState[qIndex]) return; // Prevent re-answering
        answeredState[qIndex] = true;

        const card = document.getElementById(`q-card-${qIndex}`);
        const allBtns = card.querySelectorAll('.option-btn');
        const explanation = document.getElementById(`expl-${qIndex}`);

        // Disable all buttons
        allBtns.forEach(btn => btn.classList.add('disabled'));

        if (isCorrect) {
            btnElement.classList.add('correct');
            totalCorrect++;
            playTone('correct');
            triggerConfetti();
        } else {
            btnElement.classList.add('wrong');
            playTone('wrong');
            // Highlight the correct answer automatically
            const dataQ = quizData.questions[qIndex];
            const correctIdx = dataQ.answerOptions.findIndex(o => o.isCorrect);
            allBtns[correctIdx].classList.add('correct');
        }

        // Show explanation immediately
        explanation.style.display = 'block';
    }

    // --- AUDIO LOGIC (Synthesized - No external files needed) ---
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    
    function playTone(type) {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();
        
        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);

        if (type === 'correct') {
            // Ding sound (Sine wave, high pitch)
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(600, audioCtx.currentTime);
            oscillator.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.1);
            gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
            oscillator.start();
            oscillator.stop(audioCtx.currentTime + 0.5);
        } else {
            // Wrong sound (Sawtooth, low pitch, descending)
            oscillator.type = 'sawtooth';
            oscillator.frequency.setValueAtTime(300, audioCtx.currentTime);
            oscillator.frequency.linearRampToValueAtTime(150, audioCtx.currentTime + 0.3);
            gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
            oscillator.start();
            oscillator.stop(audioCtx.currentTime + 0.3);
        }
    }

    // --- FINISH & SCORE ---
    function finishQuiz() {
        const modal = document.getElementById('result-modal');
        const scoreDisplay = document.getElementById('final-score');
        const feedback = document.getElementById('feedback-text');
        const total = quizData.questions.length;
        
        // Count unanswered
        let answeredCount = Object.keys(answeredState).length;
        
        if (answeredCount < total) {
            if(!confirm(`B·∫°n m·ªõi l√†m ${answeredCount}/${total} c√¢u. B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën n·ªôp b√†i kh√¥ng?`)) {
                return;
            }
        }

        scoreDisplay.textContent = `${totalCorrect}/${total}`;
        
        const percentage = (totalCorrect / total) * 100;
        if (percentage === 100) {
            feedback.innerHTML = "üèÜ Xu·∫•t s·∫Øc! B·∫°n l√† thi√™n t√†i ti·∫øng Anh! <br> Ms Mai An r·∫•t t·ª± h√†o v·ªÅ b·∫°n!";
            triggerConfetti();
        } else if (percentage >= 80) {
            feedback.innerHTML = "üåü L√†m t·ªët l·∫Øm! C·ªë g·∫Øng th√™m ch√∫t n·ªØa ƒë·ªÉ ƒë·∫°t ƒëi·ªÉm tuy·ªát ƒë·ªëi nh√©!";
        } else if (percentage >= 50) {
            feedback.innerHTML = "üëç Kh√° t·ªët, nh∆∞ng c·∫ßn √¥n l·∫°i ph·∫ßn t·ª´ v·ª±ng v√† gi·∫£i th√≠ch nh√©!";
        } else {
            feedback.innerHTML = "üí™ ƒê·ª´ng bu·ªìn! H√£y ƒë·ªçc k·ªπ ph·∫ßn gi·∫£i th√≠ch chi ti·∫øt c·ªßa c√¥ Mai An ƒë·ªÉ l√†m l·∫°i t·ªët h∆°n nh√©!";
        }

        modal.style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('result-modal').style.display = 'none';
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // --- CONFETTI EFFECT ---
    function triggerConfetti() {
        const canvas = document.getElementById('confetti-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = [];
        const particleCount = 100;
        const gravity = 0.5;
        const colors = ['#f1c40f', '#e74c3c', '#3498db', '#9b59b6', '#2ecc71'];

        for (let i = 0; i < particleCount; i++) {
            particles.push({
                x: window.innerWidth / 2,
                y: window.innerHeight / 2,
                vx: (Math.random() - 0.5) * 15,
                vy: (Math.random() - 2) * 15,
                color: colors[Math.floor(Math.random() * colors.length)],
                size: Math.random() * 8 + 4
            });
        }

        function update() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            let active = false;
            particles.forEach(p => {
                p.x += p.vx;
                p.y += p.vy;
                p.vy += gravity;
                if (p.y < canvas.height) {
                    ctx.fillStyle = p.color;
                    ctx.fillRect(p.x, p.y, p.size, p.size);
                    active = true;
                }
            });
            if (active) requestAnimationFrame(update);
            else ctx.clearRect(0,0,canvas.width, canvas.height);
        }
        update();
    }

    // Initialize on Load
    window.onload = initQuiz;

</script>
</body>
</html>
