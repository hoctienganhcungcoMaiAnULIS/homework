<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reading Challenge - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        :root {
            /* Palette ch·ªß ƒë·ªÅ Art (T·ª± ƒë·ªông h√≥a d·ª±a tr√™n topic) */
            --primary-color: #6C5CE7; /* Creative Purple */
            --secondary-color: #00CEC9; /* Teal Art */
            --accent-color: #FD79A8; /* Pink Pastel */
            --success-color: #00b894; /* Green */
            --error-color: #ff7675; /* Red */
            --bg-color: #dfe6e9;
            --card-bg: #ffffff;
            --text-color: #2d3436;
        }

        * {
            box-sizing: border-box;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) #f1f1f1;
        }

        body {
            font-family: 'Nunito', sans-serif;
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
            color: var(--text-color);
            /* Dynamic Background SVG with Emojis */
            background-color: #e0e0e0;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Ctext x='10' y='30' font-size='20'%3Eüé®%3C/text%3E%3Ctext x='50' y='70' font-size='20'%3EüñåÔ∏è%3C/text%3E%3Ctext x='80' y='20' font-size='20'%3E‚úèÔ∏è%3C/text%3E%3C/svg%3E"), radial-gradient(circle, rgba(255,255,255,0.8) 0%, rgba(223,230,233,0.9) 100%);
        }

        /* --- Header & Timer --- */
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            height: 60px;
            z-index: 100;
            position: relative;
        }

        .teacher-brand {
            font-family: 'Quicksand', sans-serif;
            font-weight: 800;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timer-container {
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 800;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .timer-container:hover {
            transform: scale(1.05);
            background: rgba(255,255,255,0.3);
        }

        /* --- Main Layout Split Screen --- */
        .main-container {
            display: flex;
            height: calc(100vh - 60px);
        }

        /* LEFT PANEL: Reading */
        .panel-left {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            border-right: 2px solid #ddd;
            background: rgba(255,255,255,0.95);
        }

        .reading-title {
            color: var(--primary-color);
            border-bottom: 3px solid var(--accent-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .course-block {
            background: #f8f9fa;
            border-left: 5px solid var(--secondary-color);
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 0 10px 10px 0;
            position: relative;
        }

        .course-header {
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        .trans-btn {
            background: #dfe6e9;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
            color: #636e72;
            margin-top: 10px;
            font-weight: 700;
            transition: 0.2s;
        }

        .trans-btn:hover {
            background: var(--secondary-color);
            color: white;
        }

        .translation-text {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background: #eefbfb;
            border-radius: 5px;
            color: #2d3436;
            font-style: italic;
            border: 1px dashed var(--secondary-color);
        }

        /* RIGHT PANEL: Exercises */
        .panel-right {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: rgba(240, 240, 240, 0.6);
        }

        .question-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            position: relative;
            transition: transform 0.3s;
        }

        .question-card:hover {
            transform: translateY(-5px);
        }

        .q-number {
            background: var(--primary-color);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            position: absolute;
            top: -10px;
            left: -10px;
            box-shadow: 0 3px 0 #4834d4;
        }

        .person-desc {
            font-size: 1.05rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        /* Options Grid (A-H) */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .option-btn {
            background: white;
            border: 2px solid #b2bec3;
            border-radius: 12px;
            padding: 10px;
            font-size: 1rem;
            font-weight: 800;
            cursor: pointer;
            transition: all 0.1s;
            box-shadow: 0 4px 0 #b2bec3;
            color: #636e72;
        }

        .option-btn:active {
            transform: translateY(4px);
            box-shadow: 0 0 0 #b2bec3;
        }

        .option-btn:hover:not(:disabled) {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        /* States */
        .option-btn.correct {
            background: var(--success-color);
            color: white;
            border-color: #008f6e;
            box-shadow: 0 4px 0 #008f6e;
        }
        
        .option-btn.wrong {
            background: var(--error-color);
            color: white;
            border-color: #d63031;
            box-shadow: 0 4px 0 #d63031;
            animation: shake 0.5s;
        }

        /* Feedback Section */
        .feedback-container {
            display: none;
            margin-top: 20px;
            border-top: 2px dashed #dfe6e9;
            padding-top: 15px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .tab-btn {
            flex: 1;
            padding: 8px;
            border: none;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.85rem;
            cursor: pointer;
            background: #eee;
            color: #636e72;
            transition: 0.3s;
        }

        .tab-btn.active {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 3px 10px rgba(108, 92, 231, 0.3);
        }

        .tab-content {
            display: none;
            background: #f1f2f6;
            padding: 15px;
            border-radius: 10px;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s;
        }

        .ms-mai-an {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 5px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .ms-mai-an img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
        }

        /* Glossary Table */
        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            font-size: 0.9rem;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .glossary-table th {
            background: var(--secondary-color);
            color: white;
            padding: 10px;
            text-align: left;
        }
        
        .glossary-table td {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }

        /* Submit Button */
        .submit-area {
            text-align: center;
            margin: 30px 0;
            padding-bottom: 50px;
        }

        .btn-submit {
            background: linear-gradient(45deg, #FF9F43, #EE5A24);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.5rem;
            font-weight: 800;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 0 #b33939, 0 15px 20px rgba(0,0,0,0.2);
            transition: transform 0.2s;
            font-family: 'Quicksand', sans-serif;
            text-transform: uppercase;
        }

        .btn-submit:active {
            transform: translateY(8px);
            box-shadow: 0 0 0 #b33939;
        }

        /* Animations */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-5deg); }
            50% { transform: translateX(5px) rotate(5deg); }
            75% { transform: translateX(-5px) rotate(-5deg); }
            100% { transform: translateX(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            position: relative;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3Ccircle cx='40' cy='40' r='2' fill='%23dfe6e9'/%3E%3C/svg%3E");
        }

        .score-circle {
            width: 120px;
            height: 120px;
            background: var(--primary-color);
            color: white;
            font-size: 2.5rem;
            font-weight: 800;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 20px;
            border: 5px solid white;
            box-shadow: 0 0 0 5px var(--primary-color);
        }

        .modal-msg {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #2d3436;
        }

    </style>
</head>
<body>

<header>
    <div class="teacher-brand">
        üë©‚Äçüè´ Gi√°o vi√™n: Ms Mai An (ULIS)
    </div>
    <div class="timer-container" onclick="toggleTimer()">
        <span>‚è±Ô∏è</span>
        <span id="timer">10:00</span>
    </div>
</header>

<div class="main-container">
    <div class="panel-left">
        <h2 class="reading-title">üìñ Reading: Art Courses</h2>
        
        <div id="reading-content">
            </div>

        <h3 style="color: var(--primary-color); margin-top: 30px;">üìö Glossary (T·ª´ v·ª±ng h·ªçc thu·∫≠t)</h3>
        <table class="glossary-table">
            <thead>
                <tr>
                    <th>T·ª´ v·ª±ng (Word)</th>
                    <th>Lo·∫°i t·ª´</th>
                    <th>Nghƒ©a ti·∫øng Vi·ªát</th>
                </tr>
            </thead>
            <tbody id="glossary-body"></tbody>
        </table>
    </div>

    <div class="panel-right">
        <div style="background: #fff; padding: 15px; border-radius: 10px; margin-bottom: 20px; font-style: italic; border-left: 4px solid var(--accent-color);">
            <strong>Nhi·ªám v·ª•:</strong> ƒê·ªçc m√¥ t·∫£ v·ªÅ 5 ng∆∞·ªùi b√™n d∆∞·ªõi v√† ch·ªçn kh√≥a h·ªçc (A-H) ph√π h·ª£p nh·∫•t v·ªõi nhu c·∫ßu c·ªßa h·ªç.
        </div>
        <div id="exercise-list">
            </div>

        <div class="submit-area">
            <button class="btn-submit" onclick="submitExam()">N·ªôp B√†i ‚ú®</button>
        </div>
    </div>
</div>

<div class="modal-overlay" id="resultModal">
    <div class="modal-content">
        <div class="score-circle" id="finalScore">0/5</div>
        <h2 id="resultTitle">Tuy·ªát v·ªùi!</h2>
        <p class="modal-msg" id="resultMsg">B·∫°n ƒë√£ l√†m r·∫•t t·ªët.</p>
        <button class="btn-submit" style="font-size: 1rem; padding: 10px 30px;" onclick="closeModal()">Xem l·∫°i b√†i</button>
    </div>
</div>

<script>
    // √Çm thanh 'Ding' (ƒê√∫ng)
    const soundCorrect = new Audio("data:audio/wav;base64,UklGRiYAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA="); // Placeholder safe
    // Note: Creating real base64 sounds is heavy, using visual cues primarily.
    // I will simulate sound with visual cues (Shake/Confetti) as requested.
</script>

<script>
    // --- D·ªÆ LI·ªÜU B√ÄI ƒê·ªåC & C√ÇU H·ªéI ---
    
    const courses = {
        A: {
            title: "A. Get Artistic",
            text: "Teachers here always have ideas to get you drawing, painting and printing ‚Äì but you can use your own material, too. The studio-based course focuses on portraits ‚Äì you‚Äôll learn how to develop whatever you‚Äôve brought, or use famous portraits, to create pictures of people. One-to-one sessions also available.",
            trans: "C√°c gi√°o vi√™n ·ªü ƒë√¢y lu√¥n c√≥ √Ω t∆∞·ªüng ƒë·ªÉ gi√∫p b·∫°n v·∫Ω, t√¥ m√†u v√† in ·∫•n ‚Äì nh∆∞ng b·∫°n c≈©ng c√≥ th·ªÉ s·ª≠ d·ª•ng t√†i li·ªáu c·ªßa ri√™ng m√¨nh. Kh√≥a h·ªçc t·∫°i ph√≤ng thu n√†y t·∫≠p trung v√†o ch√¢n dung ‚Äì b·∫°n s·∫Ω h·ªçc c√°ch ph√°t tri·ªÉn b·∫•t c·ª© th·ª© g√¨ b·∫°n mang theo, ho·∫∑c s·ª≠ d·ª•ng c√°c b·ª©c ch√¢n dung n·ªïi ti·∫øng, ƒë·ªÉ t·∫°o ra tranh v·∫Ω ng∆∞·ªùi. C≈©ng c√≥ s·∫µn c√°c bu·ªïi h·ªçc k√®m 1-1."
        },
        B: {
            title: "B. Art Attack!",
            text: "Learn how to create pictures, perhaps based on your own writing, to put into a short book or poster, using simple techniques that don‚Äôt require technology. Discover, too, how to put a book together, with a professional-looking cover designed and hand-printed by you. Perfect for anyone considering further studies in art.",
            trans: "H·ªçc c√°ch t·∫°o ra nh·ªØng b·ª©c tranh, c√≥ th·ªÉ d·ª±a tr√™n ch√≠nh b√†i vi·∫øt c·ªßa b·∫°n, ƒë·ªÉ ƒë∆∞a v√†o m·ªôt cu·ªën s√°ch ng·∫Øn ho·∫∑c √°p ph√≠ch, s·ª≠ d·ª•ng c√°c k·ªπ thu·∫≠t ƒë∆°n gi·∫£n kh√¥ng c·∫ßn c√¥ng ngh·ªá. Kh√°m ph√° c√°ch ƒë√≥ng s√°ch, v·ªõi b√¨a nh√¨n chuy√™n nghi·ªáp ƒë∆∞·ª£c thi·∫øt k·∫ø v√† in th·ªß c√¥ng b·ªüi ch√≠nh b·∫°n. Ho√†n h·∫£o cho b·∫•t k·ª≥ ai ƒëang c√¢n nh·∫Øc h·ªçc n√¢ng cao v·ªÅ ngh·ªá thu·∫≠t."
        },
        C: {
            title: "C. Art and imagination",
            text: "If you like designing clothes, you‚Äôll enjoy learning to use special computer software here to create and print out designs for tops, shoes and hats that people would love to wear! You‚Äôll go home with a folder of work, perfect to present when applying for a higher-level art course. Individual classes also available.",
            trans: "N·∫øu b·∫°n th√≠ch thi·∫øt k·∫ø qu·∫ßn √°o, b·∫°n s·∫Ω th√≠ch h·ªçc c√°ch s·ª≠ d·ª•ng ph·∫ßn m·ªÅm m√°y t√≠nh ƒë·∫∑c bi·ªát ·ªü ƒë√¢y ƒë·ªÉ t·∫°o v√† in c√°c thi·∫øt k·∫ø cho √°o, gi√†y v√† m≈© m√† m·ªçi ng∆∞·ªùi th√≠ch m·∫∑c! B·∫°n s·∫Ω v·ªÅ nh√† v·ªõi m·ªôt t·∫≠p h·ªì s∆° c√°c t√°c ph·∫©m, ho√†n h·∫£o ƒë·ªÉ tr√¨nh b√†y khi n·ªôp ƒë∆°n v√†o kh√≥a h·ªçc ngh·ªá thu·∫≠t c·∫•p cao h∆°n. C≈©ng c√≥ c√°c l·ªõp h·ªçc c√° nh√¢n."
        },
        D: {
            title: "D. Create!",
            text: "Draw and paint in different situations ‚Äì in the studio or even in the park! Gallery visits are also included, and you‚Äôre taught how to base your work on studies of landscapes and portraits by well-known artists. Teachers also encourage you to experiment with various styles and methods.",
            trans: "V·∫Ω v√† t√¥ m√†u trong c√°c t√¨nh hu·ªëng kh√°c nhau ‚Äì trong ph√≤ng thu ho·∫∑c th·∫≠m ch√≠ trong c√¥ng vi√™n! C√°c chuy·∫øn thƒÉm ph√≤ng tr∆∞ng b√†y c≈©ng ƒë∆∞·ª£c bao g·ªìm, v√† b·∫°n ƒë∆∞·ª£c d·∫°y c√°ch d·ª±a tr√™n c√°c nghi√™n c·ª©u v·ªÅ phong c·∫£nh v√† ch√¢n dung c·ªßa c√°c ngh·ªá sƒ© n·ªïi ti·∫øng. Gi√°o vi√™n c≈©ng khuy·∫øn kh√≠ch b·∫°n th·ª≠ nghi·ªám v·ªõi nhi·ªÅu phong c√°ch v√† ph∆∞∆°ng ph√°p kh√°c nhau."
        },
        E: {
            title: "E. More Art Now!",
            text: "Improve how you paint people and places on this studio-based course. The teachers bring in work, ranging from photos to posters, to give you ideas. And use the studio website to show your work and exchange ideas with other students ‚Äì useful for anyone wishing to study art at a higher level.",
            trans: "C·∫£i thi·ªán c√°ch b·∫°n v·∫Ω ng∆∞·ªùi v√† c·∫£nh v·∫≠t trong kh√≥a h·ªçc t·∫°i ph√≤ng thu n√†y. C√°c gi√°o vi√™n mang ƒë·∫øn c√°c t√°c ph·∫©m, t·ª´ ·∫£nh ch·ª•p ƒë·∫øn √°p ph√≠ch, ƒë·ªÉ cung c·∫•p √Ω t∆∞·ªüng cho b·∫°n. V√† s·ª≠ d·ª•ng trang web c·ªßa ph√≤ng thu ƒë·ªÉ hi·ªÉn th·ªã t√°c ph·∫©m c·ªßa b·∫°n v√† trao ƒë·ªïi √Ω t∆∞·ªüng v·ªõi c√°c sinh vi√™n kh√°c ‚Äì h·ªØu √≠ch cho b·∫•t k·ª≥ ai mu·ªën h·ªçc ngh·ªá thu·∫≠t ·ªü c·∫•p ƒë·ªô cao h∆°n."
        },
        F: {
            title: "F. Art Workshop",
            text: "Do some drawings, in the studio or outside, or bring along your own. The teachers will then help you to turn them into wonderful printed designs, using simple methods you can try yourself after the course. You‚Äôll then transfer your designs onto cotton and silk, using special paints ‚Äì perfect to use in sewing projects afterwards.",
            trans: "Th·ª±c hi·ªán m·ªôt s·ªë b·∫£n v·∫Ω, trong ph√≤ng thu ho·∫∑c b√™n ngo√†i, ho·∫∑c mang theo c·ªßa ri√™ng b·∫°n. Sau ƒë√≥, gi√°o vi√™n s·∫Ω gi√∫p b·∫°n bi·∫øn ch√∫ng th√†nh nh·ªØng thi·∫øt k·∫ø in tuy·ªát v·ªùi, s·ª≠ d·ª•ng c√°c ph∆∞∆°ng ph√°p ƒë∆°n gi·∫£n m√† b·∫°n c√≥ th·ªÉ t·ª± th·ª≠ sau kh√≥a h·ªçc. Sau ƒë√≥, b·∫°n s·∫Ω chuy·ªÉn c√°c thi·∫øt k·∫ø c·ªßa m√¨nh l√™n v·∫£i cotton v√† l·ª•a, s·ª≠ d·ª•ng c√°c lo·∫°i s∆°n ƒë·∫∑c bi·ªát ‚Äì ho√†n h·∫£o ƒë·ªÉ s·ª≠ d·ª•ng trong c√°c d·ª± √°n may v√° sau n√†y."
        },
        G: {
            title: "G. Do it yourself",
            text: "Try making art to go with your stories here ‚Äì working inside or outside! You‚Äôll get ideas from books showing famous paintings and cartoons, and then create and print pictures of people to accompany your stories, using digital design techniques. There‚Äôs even one-to-one teaching if you‚Äôd prefer.",
            trans: "H√£y th·ª≠ l√†m ngh·ªá thu·∫≠t ƒëi k√®m v·ªõi nh·ªØng c√¢u chuy·ªán c·ªßa b·∫°n t·∫°i ƒë√¢y ‚Äì l√†m vi·ªác trong nh√† ho·∫∑c ngo√†i tr·ªùi! B·∫°n s·∫Ω l·∫•y √Ω t∆∞·ªüng t·ª´ nh·ªØng cu·ªën s√°ch hi·ªÉn th·ªã c√°c b·ª©c tranh v√† phim ho·∫°t h√¨nh n·ªïi ti·∫øng, sau ƒë√≥ t·∫°o v√† in h√¨nh ·∫£nh con ng∆∞·ªùi ƒë·ªÉ minh h·ªça cho c√¢u chuy·ªán c·ªßa m√¨nh, s·ª≠ d·ª•ng c√°c k·ªπ thu·∫≠t thi·∫øt k·∫ø k·ªπ thu·∫≠t s·ªë. Th·∫≠m ch√≠ c√≥ c·∫£ d·∫°y k√®m 1-1 n·∫øu b·∫°n th√≠ch."
        },
        H: {
            title: "H. The Studio",
            text: "Come and experiment with digital design. You‚Äôll get great ideas through research, then using special software, create your pictures and add details on screen, whether it‚Äôs clothes, people, books or something to put on the wall. Upload your work on the studio website and get opinions from your classmates there ‚Äì and comment on theirs!",
            trans: "H√£y ƒë·∫øn v√† th·ª≠ nghi·ªám v·ªõi thi·∫øt k·∫ø k·ªπ thu·∫≠t s·ªë. B·∫°n s·∫Ω c√≥ nh·ªØng √Ω t∆∞·ªüng tuy·ªát v·ªùi th√¥ng qua nghi√™n c·ª©u, sau ƒë√≥ s·ª≠ d·ª•ng ph·∫ßn m·ªÅm ƒë·∫∑c bi·ªát, t·∫°o h√¨nh ·∫£nh c·ªßa b·∫°n v√† th√™m chi ti·∫øt tr√™n m√†n h√¨nh, cho d√π ƒë√≥ l√† qu·∫ßn √°o, con ng∆∞·ªùi, s√°ch hay th·ª© g√¨ ƒë√≥ ƒë·ªÉ treo tr√™n t∆∞·ªùng. T·∫£i t√°c ph·∫©m c·ªßa b·∫°n l√™n trang web c·ªßa ph√≤ng thu v√† nh·∫≠n √Ω ki·∫øn t·ª´ c√°c b·∫°n c√πng l·ªõp ·ªü ƒë√≥ ‚Äì v√† b√¨nh lu·∫≠n v·ªÅ b√†i c·ªßa h·ªç!"
        }
    };

    const questions = [
        {
            id: 1,
            name: "Rafa",
            text: "Rafa wants to produce artwork to support his art college application. He‚Äôs written stories, which he‚Äôd like to publish, and wants to learn how to include drawings in them, without using a computer.",
            trans: "Rafa mu·ªën s·∫£n xu·∫•t c√°c t√°c ph·∫©m ngh·ªá thu·∫≠t ƒë·ªÉ h·ªó tr·ª£ ƒë∆°n ƒëƒÉng k√Ω v√†o tr∆∞·ªùng cao ƒë·∫≥ng ngh·ªá thu·∫≠t c·ªßa m√¨nh. C·∫≠u ·∫•y ƒë√£ vi·∫øt nh·ªØng c√¢u chuy·ªán m√† c·∫≠u ·∫•y mu·ªën xu·∫•t b·∫£n, v√† mu·ªën h·ªçc c√°ch ƒë∆∞a c√°c b·∫£n v·∫Ω v√†o ƒë√≥ m√† kh√¥ng c·∫ßn s·ª≠ d·ª•ng m√°y t√≠nh.",
            correct: "B",
            keywords: [
                {q: "written stories... publish", t: "own writing... short book"},
                {q: "without using a computer", t: "don't require technology"},
                {q: "art college application", t: "considering further studies"}
            ],
            explanation: "Rafa c·∫ßn m·ªôt kh√≥a h·ªçc gi√∫p c·∫≠u ·∫•y xu·∫•t b·∫£n truy·ªán (written stories) v√† kh√¥ng d√πng m√°y t√≠nh (without using a computer). Kh√≥a h·ªçc B ƒë·ªÅ c·∫≠p ƒë·∫øn vi·ªác 'put into a short book' (l√†m s√°ch) v√† 'don't require technology' (kh√¥ng c·∫ßn c√¥ng ngh·ªá). Ch√≠nh x√°c lu√¥n nh√©!"
        },
        {
            id: 2,
            name: "Simona",
            text: "Simona enjoys creating art on her computer, and wants to find ways to improve the posters she makes on it. She also wants to share what she‚Äôs done with other students on the course.",
            trans: "Simona th√≠ch s√°ng t·∫°o ngh·ªá thu·∫≠t tr√™n m√°y t√≠nh c·ªßa m√¨nh v√† mu·ªën t√¨m c√°ch c·∫£i thi·ªán c√°c √°p ph√≠ch m√† c√¥ ·∫•y l√†m tr√™n ƒë√≥. C√¥ ·∫•y c≈©ng mu·ªën chia s·∫ª nh·ªØng g√¨ m√¨nh ƒë√£ l√†m v·ªõi c√°c sinh vi√™n kh√°c trong kh√≥a h·ªçc.",
            correct: "H",
            keywords: [
                {q: "creating art on her computer", t: "experiment with digital design"},
                {q: "share... with other students", t: "get opinions from your classmates"},
                {q: "improve the posters", t: "create pictures... add details on screen"}
            ],
            explanation: "Simona th√≠ch d√πng m√°y t√≠nh (on her computer) v√† mu·ªën chia s·∫ª v·ªõi b·∫°n b√® (share with other students). Kh√≥a h·ªçc H m·ªùi g·ªçi 'digital design' (thi·∫øt k·∫ø s·ªë), s·ª≠ d·ª•ng 'special software' v√† ƒë·∫∑c bi·ªát l√† 'Upload... get opinions from classmates' (T·∫£i l√™n v√† nh·∫≠n √Ω ki·∫øn t·ª´ b·∫°n h·ªçc). Chu·∫©n b√†i r·ªìi!"
        },
        {
            id: 3,
            name: "Andrei",
            text: "Andrei wants to try different painting techniques, and have trips to see the work of famous painters, to get ideas for his own pictures. He‚Äôd also like to try painting outdoors.",
            trans: "Andrei mu·ªën th·ª≠ c√°c k·ªπ thu·∫≠t v·∫Ω tranh kh√°c nhau v√† c√≥ c√°c chuy·∫øn ƒëi xem t√°c ph·∫©m c·ªßa c√°c h·ªça sƒ© n·ªïi ti·∫øng ƒë·ªÉ l·∫•y √Ω t∆∞·ªüng cho nh·ªØng b·ª©c tranh c·ªßa ri√™ng m√¨nh. C·∫≠u ·∫•y c≈©ng mu·ªën th·ª≠ v·∫Ω tranh ngo√†i tr·ªùi.",
            correct: "D",
            keywords: [
                {q: "try different painting techniques", t: "experiment with various styles"},
                {q: "trips to see... famous painters", t: "Gallery visits... well-known artists"},
                {q: "painting outdoors", t: "in the park"}
            ],
            explanation: "Andrei th√≠ch 'different techniques' (k·ªπ thu·∫≠t kh√°c l·∫°), ƒëi thƒÉm quan (trips) v√† v·∫Ω ngo√†i tr·ªùi (outdoors). Kh√≥a h·ªçc D ƒë√°p ·ª©ng t·∫•t c·∫£: 'experiment with various styles', c√≥ 'Gallery visits' (thƒÉm ph√≤ng tranh) v√† v·∫Ω 'in the park' (trong c√¥ng vi√™n)."
        },
        {
            id: 4,
            name: "Nicola",
            text: "Nicola enjoys printing by hand. She wants to print the patterns she‚Äôs created onto different materials, for her mother to make into clothes, and also learn basic printing techniques to use at home.",
            trans: "Nicola th√≠ch in ·∫•n b·∫±ng tay. C√¥ ·∫•y mu·ªën in c√°c m·∫´u c√¥ ·∫•y ƒë√£ t·∫°o l√™n c√°c ch·∫•t li·ªáu kh√°c nhau, ƒë·ªÉ m·∫π c√¥ ·∫•y may th√†nh qu·∫ßn √°o, v√† c≈©ng mu·ªën h·ªçc c√°c k·ªπ thu·∫≠t in c∆° b·∫£n ƒë·ªÉ s·ª≠ d·ª•ng t·∫°i nh√†.",
            correct: "F",
            keywords: [
                {q: "printing by hand", t: "turn them into wonderful printed designs"},
                {q: "different materials... clothes", t: "cotton and silk... sewing projects"},
                {q: "use at home", t: "try yourself after the course"}
            ],
            explanation: "Nicola th√≠ch in th·ªß c√¥ng (printing by hand) l√™n v·∫£i ƒë·ªÉ l√†m qu·∫ßn √°o (clothes). Kh√≥a F d·∫°y 'printed designs' l√™n 'cotton and silk' (v·∫£i b√¥ng v√† l·ª•a) ƒë·ªÉ d√πng cho 'sewing projects' (d·ª± √°n may v√°). Qu√° h·ª£p l√Ω!"
        },
        {
            id: 5,
            name: "Karl",
            text: "Karl enjoys taking photos of his family, and wants to use them as a basis for the art he produces. He‚Äôs like to go somewhere that also offers private lessons.",
            trans: "Karl th√≠ch ch·ª•p ·∫£nh gia ƒë√¨nh m√¨nh v√† mu·ªën s·ª≠ d·ª•ng ch√∫ng l√†m c∆° s·ªü cho c√°c t√°c ph·∫©m ngh·ªá thu·∫≠t c·∫≠u ·∫•y t·∫°o ra. C·∫≠u ·∫•y mu·ªën ƒë·∫øn m·ªôt n∆°i c≈©ng cung c·∫•p c√°c b√†i h·ªçc ri√™ng.",
            correct: "A",
            keywords: [
                {q: "photos of his family", t: "portraits... pictures of people"},
                {q: "private lessons", t: "One-to-one sessions"}
            ],
            explanation: "Karl th√≠ch ch·ª•p ·∫£nh gia ƒë√¨nh (photos of family) v√† c·∫ßn h·ªçc ri√™ng (private lessons). Kh√≥a A t·∫≠p trung v√†o 'portraits' (ch√¢n dung - li√™n quan ƒë·∫øn ·∫£nh gia ƒë√¨nh) v√† cung c·∫•p 'One-to-one sessions' (h·ªçc 1 k√®m 1). ƒê√¢y ch√≠nh l√† ƒë√°p √°n."
        }
    ];

    const glossaryData = [
        {w: "Portrait", type: "Noun (n)", m: "Ch√¢n dung (tranh/·∫£nh v·∫Ω ng∆∞·ªùi)"},
        {w: "Technique", type: "Noun (n)", m: "K·ªπ thu·∫≠t, ph∆∞∆°ng ph√°p"},
        {w: "Landscape", type: "Noun (n)", m: "Phong c·∫£nh"},
        {w: "Digital", type: "Adjective (adj)", m: "K·ªπ thu·∫≠t s·ªë (li√™n quan ƒë·∫øn m√°y t√≠nh)"},
        {w: "Experiment", type: "Verb (v)", m: "Th√≠ nghi·ªám, th·ª≠ nghi·ªám c√°i m·ªõi"},
        {w: "Professional", type: "Adjective (adj)", m: "Chuy√™n nghi·ªáp"},
        {w: "Material", type: "Noun (n)", m: "Ch·∫•t li·ªáu, v·∫≠t li·ªáu"},
        {w: "Exhibition/Gallery", type: "Noun (n)", m: "Tri·ªÉn l√£m / Ph√≤ng tr∆∞ng b√†y"},
        {w: "Accompany", type: "Verb (v)", m: "ƒêi k√®m, ƒë·ªìng h√†nh"},
        {w: "Transfer", type: "Verb (v)", m: "Chuy·ªÉn ƒë·ªïi, di d·ªùi"}
    ];

    // --- LOGIC GAME ---

    let score = 0;
    let answeredCount = 0;
    let timerInterval;
    let timeRemaining = 600; // 10 minutes
    let isPaused = true;

    function init() {
        renderReading();
        renderExercises();
        renderGlossary();
    }

    function renderReading() {
        const container = document.getElementById('reading-content');
        for (const [key, val] of Object.entries(courses)) {
            container.innerHTML += `
                <div class="course-block">
                    <div class="course-header">${val.title}</div>
                    <div>${val.text}</div>
                    <button class="trans-btn" onclick="toggleTrans('trans-${key}')">üáªüá≥ B·∫£n d·ªãch ƒë·∫ßy ƒë·ªß</button>
                    <div id="trans-${key}" class="translation-text">${val.trans}</div>
                </div>
            `;
        }
    }

    function renderExercises() {
        const container = document.getElementById('exercise-list');
        questions.forEach((q, index) => {
            let optionsHtml = '<div class="options-grid">';
            ['A','B','C','D','E','F','G','H'].forEach(opt => {
                optionsHtml += `<button class="option-btn" id="btn-${q.id}-${opt}" onclick="checkAnswer(${q.id}, '${opt}', '${q.correct}')">${opt}</button>`;
            });
            optionsHtml += '</div>';

            // T·∫°o b·∫£ng Keyword Paraphrase
            let paraphraseHtml = '<table class="glossary-table" style="margin-top:0"><tr><th>Trong c√¢u h·ªèi (Question)</th><th>Trong b√†i ƒë·ªçc (Text)</th></tr>';
            q.keywords.forEach(k => {
                paraphraseHtml += `<tr><td>${k.q}</td><td>${k.t}</td></tr>`;
            });
            paraphraseHtml += '</table>';

            container.innerHTML += `
                <div class="question-card" id="card-${q.id}">
                    <div class="q-number">${index + 1}</div>
                    <div class="person-desc">
                        <strong>${q.name}:</strong> ${q.text}
                    </div>
                    ${optionsHtml}
                    
                    <div class="feedback-container" id="feedback-${q.id}">
                        <div class="tabs">
                            <button class="tab-btn active" onclick="switchTab(${q.id}, 'expl')">üë©‚Äçüè´ Gi·∫£i th√≠ch</button>
                            <button class="tab-btn" onclick="switchTab(${q.id}, 'trans')">üáªüá≥ D·ªãch</button>
                            <button class="tab-btn" onclick="switchTab(${q.id}, 'para')">üîÑ Paraphrase</button>
                        </div>
                        <div id="tab-expl-${q.id}" class="tab-content active">
                            <div class="ms-mai-an">
                                <span>üë©‚Äçüè´ Ms Mai An:</span>
                            </div>
                            ${q.explanation}
                        </div>
                        <div id="tab-trans-${q.id}" class="tab-content">
                            <p><strong>C√¢u h·ªèi:</strong> ${q.trans}</p>
                        </div>
                        <div id="tab-para-${q.id}" class="tab-content">
                            ${paraphraseHtml}
                        </div>
                    </div>
                </div>
            `;
        });
    }

    function renderGlossary() {
        const body = document.getElementById('glossary-body');
        glossaryData.forEach(item => {
            body.innerHTML += `<tr><td><strong>${item.w}</strong></td><td>${item.type}</td><td>${item.m}</td></tr>`;
        });
    }

    // --- INTERACTION ---

    function toggleTrans(id) {
        const el = document.getElementById(id);
        el.style.display = el.style.display === 'block' ? 'none' : 'block';
    }

    function checkAnswer(qId, selectedOpt, correctOpt) {
        // Disable all buttons in this question group
        const btns = document.querySelectorAll(`#card-${qId} .option-btn`);
        btns.forEach(btn => btn.disabled = true);

        const selectedBtn = document.getElementById(`btn-${qId}-${selectedOpt}`);
        const correctBtn = document.getElementById(`btn-${qId}-${correctOpt}`);

        if (selectedOpt === correctOpt) {
            selectedBtn.classList.add('correct');
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 }
            });
            score++;
        } else {
            selectedBtn.classList.add('wrong');
            correctBtn.classList.add('correct'); // Show correct answer
            // Shake effect on card
            const card = document.getElementById(`card-${qId}`);
            card.style.animation = 'shake 0.5s';
            setTimeout(() => card.style.animation = '', 500);
        }

        // Show feedback
        document.getElementById(`feedback-${qId}`).style.display = 'block';
        answeredCount++;
    }

    function switchTab(qId, type) {
        // Hide all contents for this Q
        document.querySelectorAll(`#feedback-${qId} .tab-content`).forEach(el => el.classList.remove('active'));
        document.querySelectorAll(`#feedback-${qId} .tab-btn`).forEach(el => el.classList.remove('active'));

        // Show selected
        document.getElementById(`tab-${type}-${qId}`).classList.add('active');
        // Update button style (simple logic searching by text content or index would be better, but keeping simple)
        const btns = document.querySelectorAll(`#feedback-${qId} .tab-btn`);
        if(type === 'expl') btns[0].classList.add('active');
        if(type === 'trans') btns[1].classList.add('active');
        if(type === 'para') btns[2].classList.add('active');
    }

    // --- TIMER ---
    function toggleTimer() {
        if (isPaused) {
            isPaused = false;
            timerInterval = setInterval(updateTimer, 1000);
            document.querySelector('.timer-container').style.background = '#00b894';
            document.querySelector('.timer-container').style.color = 'white';
        } else {
            clearInterval(timerInterval);
            isPaused = true;
            document.querySelector('.timer-container').style.background = 'rgba(255,255,255,0.2)';
        }
    }

    function updateTimer() {
        if (timeRemaining > 0) {
            timeRemaining--;
            const m = Math.floor(timeRemaining / 60);
            const s = timeRemaining % 60;
            document.getElementById('timer').innerText = `${m}:${s < 10 ? '0'+s : s}`;
        } else {
            clearInterval(timerInterval);
            alert("ƒê√£ h·∫øt gi·ªù l√†m b√†i! H√£y n·ªôp b√†i ƒë·ªÉ xem ƒëi·ªÉm nh√©.");
        }
    }

    // --- SUBMIT ---
    function submitExam() {
        clearInterval(timerInterval);
        const modal = document.getElementById('resultModal');
        const scoreEl = document.getElementById('finalScore');
        const titleEl = document.getElementById('resultTitle');
        const msgEl = document.getElementById('resultMsg');

        scoreEl.innerText = `${score}/5`;
        modal.style.display = 'flex';

        if(score === 5) {
            titleEl.innerText = "Xu·∫•t s·∫Øc! Thi√™n t√†i!";
            msgEl.innerText = "C√¥ Mai An r·∫•t t·ª± h√†o v·ªÅ em. ƒêi·ªÉm tuy·ªát ƒë·ªëi!";
            confetti({ particleCount: 200, spread: 100 });
        } else if (score >= 3) {
            titleEl.innerText = "L√†m t·ªët l·∫Øm!";
            msgEl.innerText = "Ki·∫øn th·ª©c c·ªßa em kh√° v·ªØng, nh∆∞ng h√£y xem l·∫°i ph·∫ßn gi·∫£i th√≠ch ƒë·ªÉ hi·ªÉu s√¢u h∆°n nh√©.";
        } else {
            titleEl.innerText = "C·ªë l√™n nh√©!";
            msgEl.innerText = "ƒê·ª´ng bu·ªìn, h√£y ƒë·ªçc k·ªπ ph·∫ßn gi·∫£i th√≠ch v√† b·∫£ng t·ª´ v·ª±ng. L·∫ßn sau ch·∫Øc ch·∫Øn s·∫Ω t·ªët h∆°n!";
        }
    }

    function closeModal() {
        document.getElementById('resultModal').style.display = 'none';
    }

    // Run Init
    init();

</script>

</body>
</html>