<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i t·∫≠p Reading - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --primary-purple: #8854C0;
            --primary-teal: #00C9A7;
            --pastel-pink: #FFD3E0;
            --pastel-blue: #D4F1F4;
            --correct: #00D26A;
            --wrong: #FF4757;
            --text-dark: #4b4b4b;
            --white: #ffffff;
        }

        * {
            box-sizing: border-box;
            user-select: none;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Nunito', sans-serif;
            background-color: #fdf2f8;
            background-image: 
                radial-gradient(at 10% 10%, hsla(253,16%,7%,0) 0, hsla(253,16%,7%,0) 50%), 
                radial-gradient(at 50% 50%, #ffe4e6 0, #ccfbf1 100%);
            height: 100vh;
            overflow: hidden;
            color: var(--text-dark);
        }

        /* --- Header --- */
        header {
            height: 60px;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .header-title {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--primary-purple);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timer-container {
            position: absolute;
            right: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timer-display {
            font-weight: 900;
            font-size: 1.5rem;
            color: var(--primary-teal);
            font-variant-numeric: tabular-nums;
        }

        .btn-control {
            background: var(--primary-purple);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 4px 0 #6c429c;
            transition: all 0.1s;
        }

        .btn-control:active {
            transform: translateY(4px);
            box-shadow: 0 0 0 #6c429c;
        }

        /* --- Main Layout Split Screen --- */
        .main-container {
            display: flex;
            height: calc(100vh - 60px);
            margin-top: 60px;
        }

        .panel {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            scroll-behavior: smooth;
        }

        .panel-left {
            border-right: 3px dashed #e0e0e0;
            background: rgba(255,255,255,0.6);
        }

        .panel-right {
            background: rgba(255,255,255,0.3);
            padding-bottom: 100px; /* Space for footer button */
        }

        /* Scrollbar cute */
        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: var(--pastel-pink); 
            border-radius: 5px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-purple); 
        }

        /* --- Reading Content Styles --- */
        .store-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            border: 2px solid transparent;
            transition: transform 0.2s;
        }

        .store-card:hover {
            transform: scale(1.01);
            border-color: var(--pastel-blue);
        }

        .store-title {
            color: var(--primary-purple);
            font-weight: 800;
            font-size: 1.3rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .store-tag {
            background: var(--primary-teal);
            color: white;
            padding: 4px 10px;
            border-radius: 50px;
            font-size: 0.9rem;
            margin-right: 10px;
        }

        .trans-btn {
            display: inline-block;
            margin-top: 10px;
            font-size: 0.85rem;
            color: var(--primary-purple);
            border: 1px dashed var(--primary-purple);
            padding: 5px 10px;
            border-radius: 10px;
            cursor: pointer;
            background: #fff;
        }

        .translation-text {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background: #f0fdf4;
            border-radius: 10px;
            font-style: italic;
            color: #333;
            border-left: 4px solid var(--correct);
            line-height: 1.6;
        }

        .glossary-box {
            margin-top: 30px;
            background: #fff;
            border-radius: 15px;
            padding: 15px;
            border: 2px solid var(--pastel-pink);
        }
        
        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }
        .glossary-table th {
            text-align: left;
            color: var(--primary-purple);
            padding: 8px;
            border-bottom: 2px solid #eee;
        }
        .glossary-table td {
            padding: 8px;
            border-bottom: 1px solid #eee;
        }

        /* --- Question Card Styles --- */
        .question-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 0 rgba(0,0,0,0.05);
            position: relative;
        }

        .q-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .q-avatar {
            width: 50px;
            height: 50px;
            background: var(--pastel-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-right: 15px;
            border: 2px solid var(--primary-teal);
        }

        .q-text {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .highlight-req {
            background: #fff3cd;
            padding: 0 4px;
            border-radius: 4px;
        }

        /* --- Option Buttons --- */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }

        .option-btn {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 15px 10px;
            font-weight: 800;
            color: var(--text-dark);
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 0 #ccc;
            text-align: center;
            font-size: 1.2rem;
        }

        .option-btn:hover:not(.disabled) {
            transform: scale(1.05);
            border-color: var(--primary-purple);
        }

        .option-btn:active:not(.disabled) {
            transform: translateY(4px);
            box-shadow: 0 0 0 #ccc;
        }

        /* States */
        .option-btn.correct {
            background: var(--correct);
            color: white;
            border-color: #00a855;
            box-shadow: 0 4px 0 #008f48;
        }

        .option-btn.wrong {
            background: var(--wrong);
            color: white;
            border-color: #d63031;
            box-shadow: 0 4px 0 #b71c1c;
            animation: shake 0.5s;
        }

        .option-btn.disabled {
            cursor: default;
            opacity: 0.6;
        }

        /* --- Feedback --- */
        .feedback-panel {
            display: none;
            margin-top: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            padding: 15px;
            border: 2px dashed var(--primary-purple);
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .teacher-msg {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }

        .teacher-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: url('https://api.dicebear.com/7.x/avataaars/svg?seed=MsMaiAn&clothing=blazerAndShirt&glasses=round') no-repeat center/cover;
            background-color: #fff;
            border: 2px solid var(--primary-purple);
        }

        .bubble {
            background: white;
            padding: 10px 15px;
            border-radius: 0 15px 15px 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            font-size: 0.95rem;
            color: #444;
        }

        .action-btns {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .mini-btn {
            font-size: 0.8rem;
            padding: 6px 12px;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 700;
            color: white;
            box-shadow: 0 3px 0 rgba(0,0,0,0.2);
        }
        
        .btn-explain { background: #6c5ce7; }
        .btn-trans { background: #00b894; }
        .btn-para { background: #e17055; }
        
        .detail-content {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border: 1px solid #eee;
        }

        .para-table {
            width: 100%;
            font-size: 0.85rem;
        }
        .para-table td { padding: 5px; border-bottom: 1px solid #eee; }
        .para-table td:first-child { font-weight: bold; color: var(--wrong); }
        .para-table td:last-child { color: var(--correct); }

        /* --- Footer & Modals --- */
        .footer-bar {
            text-align: center;
            padding: 20px;
            margin-top: 20px;
        }
        
        .submit-btn {
            background: linear-gradient(45deg, #FF6B6B, #FF8E53);
            color: white;
            font-size: 1.5rem;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-weight: 900;
            cursor: pointer;
            box-shadow: 0 6px 0 #c44026;
            transition: all 0.2s;
        }
        .submit-btn:active {
            transform: translateY(6px);
            box-shadow: none;
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }
        
        .modal-box {
            background: white;
            padding: 30px;
            border-radius: 25px;
            max-width: 450px;
            width: 90%;
            text-align: center;
            animation: popIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border: 5px solid var(--pastel-pink);
        }

        .score-circle {
            width: 120px;
            height: 120px;
            background: var(--primary-purple);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: 900;
            margin: 0 auto 20px;
            box-shadow: 0 5px 15px rgba(136, 84, 192, 0.4);
            border: 5px solid white;
        }

        .score-msg {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: #444;
        }

        .score-title {
            color: var(--primary-teal);
            font-weight: 800;
            font-size: 1.8rem;
            margin: 10px 0;
            text-transform: uppercase;
        }

        @keyframes popIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-5deg); }
            50% { transform: translateX(5px) rotate(5deg); }
            75% { transform: translateX(-5px) rotate(-5deg); }
            100% { transform: translateX(0); }
        }

        @media (max-width: 768px) {
            .main-container { flex-direction: column; height: auto; }
            .panel-left { height: 40vh; overflow-y: scroll; border-bottom: 3px dashed #e0e0e0; }
            .panel-right { height: auto; }
            .options-grid { grid-template-columns: repeat(4, 1fr); }
        }
    </style>
</head>
<body>

    <audio id="sound-correct" src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3"></audio> 
    <audio id="sound-wrong" src="https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3"></audio> 
    <audio id="sound-finish" src="https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"></audio>

    <header>
        <div class="header-title">
            <i class="fas fa-graduation-cap"></i>
            Gi√°o vi√™n t·∫°o: Ms Mai An ULIS
        </div>
        <div class="timer-container">
            <div class="timer-display" id="timer">10:00</div>
            <button class="btn-control" id="btn-timer" onclick="toggleTimer()">B·∫ÆT ƒê·∫¶U</button>
        </div>
    </header>

    <div class="main-container">
        <div class="panel panel-left">
            <h2 style="color: var(--primary-purple); text-align: center;">üìñ Department Stores</h2>
            <p style="text-align: center; font-style: italic; color: #666; margin-bottom: 20px;">ƒê·ªçc k·ªπ th√¥ng tin 8 c·ª≠a h√†ng b√™n d∆∞·ªõi</p>

            <div class="store-card" id="store-A">
                <div class="store-title"><span class="store-tag">A</span> Hallwick‚Äôs</div>
                <p>People often visit Hallwick‚Äôs just for the displays of lights that make it so attractive to shop here. And it was the first to sell clothes made of pure, natural cotton, grown in conditions that avoid creating pollution. The assistants are polite and will help with any questions about goods.</p>
                <div class="trans-btn" onclick="toggleTrans('trans-A')"><i class="fas fa-language"></i> B·∫£n d·ªãch ƒë·∫ßy ƒë·ªß</div>
                <div class="translation-text" id="trans-A">M·ªçi ng∆∞·ªùi th∆∞·ªùng gh√© thƒÉm Hallwick‚Äôs ch·ªâ ƒë·ªÉ ng·∫Øm nh·ªØng m√†n tr√¨nh di·ªÖn √°nh s√°ng khi·∫øn n∆°i ƒë√¢y tr·ªü n√™n v√¥ c√πng h·∫•p d·∫´n ƒë·ªÉ mua s·∫Øm. V√† ƒë√¢y l√† n∆°i ƒë·∫ßu ti√™n b√°n qu·∫ßn √°o l√†m t·ª´ cotton t·ª± nhi√™n, nguy√™n ch·∫•t, ƒë∆∞·ª£c tr·ªìng trong ƒëi·ªÅu ki·ªán tr√°nh g√¢y √¥ nhi·ªÖm. C√°c nh√¢n vi√™n b√°n h√†ng r·∫•t l·ªãch s·ª± v√† s·∫µn s√†ng gi√∫p gi·∫£i ƒë√°p m·ªçi th·∫Øc m·∫Øc v·ªÅ h√†ng h√≥a.</div>
            </div>

            <div class="store-card" id="store-B">
                <div class="store-title"><span class="store-tag">B</span> Crozier‚Äôs</div>
                <p>This store is in a beautiful new building. One floor is full of toys and board games like chess, and downstairs there‚Äôs a huge variety of cakes, sweets and also fresh food that‚Äôs perfect for making a meal! The roof garden is popular here in summer, and the friendly staff serve delicious lunches.</p>
                <div class="trans-btn" onclick="toggleTrans('trans-B')"><i class="fas fa-language"></i> B·∫£n d·ªãch ƒë·∫ßy ƒë·ªß</div>
                <div class="translation-text" id="trans-B">C·ª≠a h√†ng n√†y n·∫±m trong m·ªôt t√≤a nh√† m·ªõi tuy·ªát ƒë·∫πp. M·ªôt t·∫ßng ch·ª©a ƒë·∫ßy ƒë·ªì ch∆°i v√† c√°c tr√≤ ch∆°i c·ªù b√†n nh∆∞ c·ªù vua, v√† t·∫ßng d∆∞·ªõi c√≥ v√¥ s·ªë lo·∫°i b√°nh ng·ªçt, k·∫πo v√† c·∫£ th·ª±c ph·∫©m t∆∞∆°i s·ªëng ho√†n h·∫£o ƒë·ªÉ n·∫•u m·ªôt b·ªØa ƒÉn! Khu v∆∞·ªùn tr√™n m√°i r·∫•t ƒë∆∞·ª£c y√™u th√≠ch v√†o m√πa h√®, v√† ƒë·ªôi ng≈© nh√¢n vi√™n th√¢n thi·ªán ph·ª•c v·ª• nh·ªØng b·ªØa tr∆∞a ngon mi·ªáng.</div>
            </div>

            <div class="store-card" id="store-C">
                <div class="store-title"><span class="store-tag">C</span> Stafford‚Äôs</div>
                <p>This store is popular for its range of good-quality sportswear at very reasonable prices, which is hard to find elsewhere. And on the ground floor, you‚Äôll find displays of their famous handmade candies ‚Äì great for celebrations! And Stafford‚Äôs is always the first to offer new designs in men‚Äôs and women‚Äôs clothing, too!</p>
                <div class="trans-btn" onclick="toggleTrans('trans-C')"><i class="fas fa-language"></i> B·∫£n d·ªãch ƒë·∫ßy ƒë·ªß</div>
                <div class="translation-text" id="trans-C">C·ª≠a h√†ng n√†y n·ªïi ti·∫øng v·ªõi c√°c lo·∫°i ƒë·ªì th·ªÉ thao ch·∫•t l∆∞·ª£ng t·ªët v·ªõi gi√° c·∫£ r·∫•t h·ª£p l√Ω, ƒëi·ªÅu kh√≥ t√¨m th·∫•y ·ªü n∆°i kh√°c. V√† ·ªü t·∫ßng tr·ªát, b·∫°n s·∫Ω th·∫•y c√°c qu·∫ßy tr∆∞ng b√†y k·∫πo th·ªß c√¥ng n·ªïi ti·∫øng c·ªßa h·ªç ‚Äì r·∫•t tuy·ªát cho c√°c d·ªãp l·ªÖ k·ª∑ ni·ªám! V√† Stafford‚Äôs c≈©ng lu√¥n l√† n∆°i ƒë·∫ßu ti√™n cung c·∫•p c√°c m·∫´u thi·∫øt k·∫ø m·ªõi cho c·∫£ qu·∫ßn √°o nam v√† n·ªØ!</div>
            </div>

            <div class="store-card" id="store-D">
                <div class="store-title"><span class="store-tag">D</span> Barton‚Äôs</div>
                <p>Barton‚Äôs has been here since it opened in 1930, and still has its huge glass door and beautiful windows. The first floor is fantastic for children, as it‚Äôs packed with things to play with ‚Äì at reasonable prices. And downstairs, you‚Äôll find a huge selection of amazing fresh food rarely found elsewhere.</p>
                <div class="trans-btn" onclick="toggleTrans('trans-D')"><i class="fas fa-language"></i> B·∫£n d·ªãch ƒë·∫ßy ƒë·ªß</div>
                <div class="translation-text" id="trans-D">Barton‚Äôs ƒë√£ ·ªü ƒë√¢y t·ª´ khi m·ªü c·ª≠a v√†o nƒÉm 1930, v√† v·∫´n gi·ªØ ƒë∆∞·ª£c c√°nh c·ª≠a k√≠nh kh·ªïng l·ªì c√πng nh·ªØng khung c·ª≠a s·ªï tuy·ªát ƒë·∫πp. T·∫ßng m·ªôt l√† n∆°i tuy·ªát v·ªùi cho tr·∫ª em, v√¨ n√≥ ch·ª©a ƒë·∫ßy nh·ªØng m√≥n ƒë·ªì ch∆°i ‚Äì v·ªõi gi√° c·∫£ h·ª£p l√Ω. V√† ·ªü t·∫ßng d∆∞·ªõi, b·∫°n s·∫Ω t√¨m th·∫•y v√¥ s·ªë l·ª±a ch·ªçn th·ª±c ph·∫©m t∆∞∆°i s·ªëng tuy·ªát v·ªùi hi·∫øm th·∫•y ·ªü n∆°i kh√°c.</div>
            </div>

            <div class="store-card" id="store-E">
                <div class="store-title"><span class="store-tag">E</span> Gardener and Bell‚Äôs</div>
                <p>This store has been here since 1950, and is the place for cool clothes and jewellery, as it updates its items every few weeks ‚Äì and many are made from environmentally-friendly materials. The sportswear section has clothes and equipment for almost any sport, although prices can be high.</p>
                <div class="trans-btn" onclick="toggleTrans('trans-E')"><i class="fas fa-language"></i> B·∫£n d·ªãch ƒë·∫ßy ƒë·ªß</div>
                <div class="translation-text" id="trans-E">C·ª≠a h√†ng n√†y ƒë√£ c√≥ m·∫∑t t·ª´ nƒÉm 1950, v√† l√† n∆°i d√†nh cho qu·∫ßn √°o v√† trang s·ª©c s√†nh ƒëi·ªáu, v√¨ h·ªç c·∫≠p nh·∫≠t h√†ng h√≥a v√†i tu·∫ßn m·ªôt l·∫ßn ‚Äì v√† nhi·ªÅu m√≥n ƒë∆∞·ª£c l√†m t·ª´ v·∫≠t li·ªáu th√¢n thi·ªán v·ªõi m√¥i tr∆∞·ªùng. Khu v·ª±c ƒë·ªì th·ªÉ thao c√≥ qu·∫ßn √°o v√† d·ª•ng c·ª• cho h·∫ßu h·∫øt m·ªçi m√¥n th·ªÉ thao, m·∫∑c d√π gi√° c√≥ th·ªÉ h∆°i cao.</div>
            </div>

            <div class="store-card" id="store-F">
                <div class="store-title"><span class="store-tag">F</span> Davidson‚Äôs</div>
                <p>This traditional-looking store opened in 1860, and still offers high-class, fashionable goods at reasonable prices, with many made from natural materials. The men‚Äôs clothes are particularly recommended, and there‚Äôs also an area selling nothing but beautiful jewellery. And on fine days, try the rooftop restaurant ‚Äì the food is fantastic.</p>
                <div class="trans-btn" onclick="toggleTrans('trans-F')"><i class="fas fa-language"></i> B·∫£n d·ªãch ƒë·∫ßy ƒë·ªß</div>
                <div class="translation-text" id="trans-F">C·ª≠a h√†ng mang v·∫ª truy·ªÅn th·ªëng n√†y m·ªü c·ª≠a t·ª´ nƒÉm 1860, v√† v·∫´n cung c·∫•p c√°c m·∫∑t h√†ng th·ªùi trang cao c·∫•p v·ªõi gi√° c·∫£ h·ª£p l√Ω, nhi·ªÅu m√≥n l√†m t·ª´ v·∫≠t li·ªáu t·ª± nhi√™n. Qu·∫ßn √°o nam ƒë∆∞·ª£c ƒë·∫∑c bi·ªát khuy√™n d√πng, v√† c√≤n c√≥ m·ªôt khu v·ª±c ch·ªâ b√°n to√†n trang s·ª©c ƒë·∫πp. V√† v√†o nh·ªØng ng√†y ƒë·∫πp tr·ªùi, h√£y th·ª≠ nh√† h√†ng tr√™n s√¢n th∆∞·ª£ng ‚Äì ƒë·ªì ƒÉn r·∫•t tuy·ªát.</div>
            </div>

             <div class="store-card" id="store-G">
                <div class="store-title"><span class="store-tag">G</span> Ford and Madecroft‚Äôs</div>
                <p>The caf√© here serves fantastic meals, but also has amazing chocolates and frozen desserts of all kind, and the bakers produce fantastic biscuits and cakes to take away. Upstairs, you‚Äôll find a display of toys and also a huge range of board games, together with instructions to help you play.</p>
                <div class="trans-btn" onclick="toggleTrans('trans-G')"><i class="fas fa-language"></i> B·∫£n d·ªãch ƒë·∫ßy ƒë·ªß</div>
                <div class="translation-text" id="trans-G">Qu√°n c√† ph√™ ·ªü ƒë√¢y ph·ª•c v·ª• c√°c b·ªØa ƒÉn tuy·ªát v·ªùi, nh∆∞ng c≈©ng c√≥ s√¥-c√¥-la v√† c√°c m√≥n tr√°ng mi·ªáng l·∫°nh tuy·ªát ngon ƒë·ªß lo·∫°i, v√† nh·ªØng ng∆∞·ªùi th·ª£ l√†m b√°nh t·∫°o ra c√°c lo·∫°i b√°nh quy v√† b√°nh ng·ªçt tuy·ªát v·ªùi ƒë·ªÉ mang ƒëi. ·ªû t·∫ßng tr√™n, b·∫°n s·∫Ω th·∫•y qu·∫ßy tr∆∞ng b√†y ƒë·ªì ch∆°i v√† v√¥ s·ªë tr√≤ ch∆°i c·ªù b√†n, c√πng v·ªõi h∆∞·ªõng d·∫´n gi√∫p b·∫°n ch∆°i.</div>
            </div>

            <div class="store-card" id="store-H">
                <div class="store-title"><span class="store-tag">H</span> Oldridge‚Äôs</div>
                <p>The customer service here is the best anywhere in the city, and staff will help you find what you‚Äôre looking for, from jewellery to children‚Äôs toys. And the caf√© here, probably one of the most attractive you‚Äôll ever visit, serves the biggest ice creams anywhere, too ‚Äì and the best cakes!</p>
                <div class="trans-btn" onclick="toggleTrans('trans-H')"><i class="fas fa-language"></i> B·∫£n d·ªãch ƒë·∫ßy ƒë·ªß</div>
                <div class="translation-text" id="trans-H">D·ªãch v·ª• kh√°ch h√†ng ·ªü ƒë√¢y l√† t·ªët nh·∫•t trong th√†nh ph·ªë, v√† nh√¢n vi√™n s·∫Ω gi√∫p b·∫°n t√¨m nh·ªØng g√¨ b·∫°n c·∫ßn, t·ª´ trang s·ª©c ƒë·∫øn ƒë·ªì ch∆°i tr·∫ª em. V√† qu√°n c√† ph√™ ·ªü ƒë√¢y, c√≥ l·∫Ω l√† m·ªôt trong nh·ªØng n∆°i h·∫•p d·∫´n nh·∫•t b·∫°n t·ª´ng gh√© thƒÉm, ph·ª•c v·ª• nh·ªØng ly kem to nh·∫•t ‚Äì v√† c·∫£ nh·ªØng chi·∫øc b√°nh ngon nh·∫•t!</div>
            </div>

            <div class="glossary-box">
                <h3 style="color:var(--primary-purple); margin-top:0;"><i class="fas fa-book"></i> GLOSSARY (B1-C2 Words)</h3>
                <table class="glossary-table" id="glossary-content">
                    </table>
            </div>
        </div>

        <div class="panel panel-right">
            <h2 style="color: var(--primary-teal); text-align: center;">üéØ Matching Challenge</h2>
            <p style="text-align: center; margin-bottom: 20px;">Ch·ªçn c·ª≠a h√†ng ph√π h·ª£p nh·∫•t cho t·ª´ng ng∆∞·ªùi</p>

            <div class="question-card" id="q1">
                <div class="q-header">
                    <div class="q-avatar">üë©</div>
                    <div class="q-text">
                        <strong>1. Jasmine:</strong> Would like to find a store where they can <span class="highlight-req">eat outside</span>, and her dad wants somewhere known for its <span class="highlight-req">good-quality suits</span>. They also want to buy a <span class="highlight-req">necklace</span> for Jasmine‚Äôs mum.
                    </div>
                </div>
                <div class="options-grid" id="opt-1">
                    </div>
                <div class="feedback-panel" id="feed-1"></div>
            </div>

            <div class="question-card" id="q2">
                <div class="q-header">
                    <div class="q-avatar">üë¶</div>
                    <div class="q-text">
                        <strong>2. Peter & Nell:</strong> Peter wants <span class="highlight-req">special sweets</span> for grandma, Nell wants latest <span class="highlight-req">women‚Äôs fashions</span>. Need new <span class="highlight-req">tennis T-shirts</span> (cheap).
                    </div>
                </div>
                <div class="options-grid" id="opt-2"></div>
                <div class="feedback-panel" id="feed-2"></div>
            </div>

            <div class="question-card" id="q3">
                <div class="q-header">
                    <div class="q-avatar">üëß</div>
                    <div class="q-text">
                        <strong>3. Maria:</strong> Wants clothes from <span class="highlight-req">materials without damaging environment</span>. Mum likes <span class="highlight-req">great customer service</span> and <span class="highlight-req">beautiful inside</span>.
                    </div>
                </div>
                <div class="options-grid" id="opt-3"></div>
                <div class="feedback-panel" id="feed-3"></div>
            </div>

            <div class="question-card" id="q4">
                <div class="q-header">
                    <div class="q-avatar">üßë‚Äçüç≥</div>
                    <div class="q-text">
                        <strong>4. John:</strong> Enjoys cooking, wants <span class="highlight-req">unusual ingredients</span>. Parents like stores in <span class="highlight-req">same buildings since they were young</span>, and great <span class="highlight-req">toys</span>.
                    </div>
                </div>
                <div class="options-grid" id="opt-4"></div>
                <div class="feedback-panel" id="feed-4"></div>
            </div>

            <div class="question-card" id="q5">
                <div class="q-header">
                    <div class="q-avatar">‚ôüÔ∏è</div>
                    <div class="q-text">
                        <strong>5. Samuel & Mark:</strong> Want <span class="highlight-req">chess sets</span>. Like <span class="highlight-req">delicious ice creams</span> and buy something <span class="highlight-req">made in the store</span> to eat later.
                    </div>
                </div>
                <div class="options-grid" id="opt-5"></div>
                <div class="feedback-panel" id="feed-5"></div>
            </div>

            <div class="footer-bar">
                <button class="submit-btn" onclick="finishTest()">N·ªòP B√ÄI <i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="timeUpModal">
        <div class="modal-box">
            <h2 style="color: var(--primary-purple);">‚è∞ H·∫æT GI·ªú R·ªíI!</h2>
            <p>ƒê√£ h·∫øt gi·ªù l√†m b√†i. B·∫°n v·∫´n c√≥ th·ªÉ ti·∫øp t·ª•c l√†m, nh∆∞ng nh·ªõ l√† trong ph√≤ng thi th·∫≠t, b·∫°n ch·ªâ n√™n l√†m m·ªôt b√†i nh∆∞ th·∫ø n√†y trong 10 ph√∫t th√¥i nha.</p>
            <button class="btn-control" onclick="document.getElementById('timeUpModal').style.display='none'">Ti·∫øp t·ª•c l√†m</button>
        </div>
    </div>

    <div class="modal-overlay" id="resultModal">
        <div class="modal-box">
            <div class="score-circle" id="final-score">0/5</div>
            <h2 class="score-title" id="score-title">Title</h2>
            <p class="score-msg" id="score-msg">Message</p>
            <button class="submit-btn" onclick="document.getElementById('resultModal').style.display='none'" style="font-size: 1rem; padding: 10px 25px;">Xem l·∫°i b√†i</button>
        </div>
    </div>

    <script>
        // --- DATA ---
        let userScore = 0;
        
        const glossaryData = [
            { w: "Environmentally-friendly", t: "Adj", m: "Th√¢n thi·ªán v·ªõi m√¥i tr∆∞·ªùng" },
            { w: "Pollution", t: "Noun", m: "S·ª± √¥ nhi·ªÖm" },
            { w: "Reasonable price", t: "Noun Phrase", m: "Gi√° c·∫£ h·ª£p l√Ω (ph·∫£i chƒÉng)" },
            { w: "Ingredient", t: "Noun", m: "Nguy√™n li·ªáu (n·∫•u ƒÉn)" },
            { w: "Selection", t: "Noun", m: "S·ª± l·ª±a ch·ªçn, tuy·ªÉn t·∫≠p" },
            { w: "Display", t: "Noun", m: "S·ª± tr∆∞ng b√†y" },
            { w: "Instruction", t: "Noun", m: "H∆∞·ªõng d·∫´n" },
            { w: "Traditional", t: "Adj", m: "Truy·ªÅn th·ªëng" },
            { w: "High-class", t: "Adj", m: "Cao c·∫•p, th∆∞·ª£ng l∆∞u" },
            { w: "Board games", t: "Noun", m: "Tr√≤ ch∆°i c·ªù b√†n (nh∆∞ c·ªù vua, c√° ng·ª±a...)" }
        ];

        const questionsData = [
            {
                id: 1,
                correct: 'F',
                explain: "Jasmine c·∫ßn n∆°i 'eat outside' -> ƒêo·∫°n F c√≥ 'rooftop restaurant'. B·ªë c·∫ßn 'good-quality suits' -> ƒêo·∫°n F c√≥ 'men's clothes... recommended'. Mua 'necklace' -> ƒêo·∫°n F c√≥ 'beautiful jewellery'.",
                trans: "Jasmine mu·ªën t√¨m n∆°i c√≥ th·ªÉ ƒÉn ngo√†i tr·ªùi, b·ªë c√¥ ·∫•y mu·ªën n∆°i n·ªïi ti·∫øng v·ªõi vest ch·∫•t l∆∞·ª£ng t·ªët. H·ªç c≈©ng mu·ªën mua v√≤ng c·ªï cho m·∫π.",
                para: [
                    ["Eat outside", "Rooftop restaurant"],
                    ["Good-quality suits", "High-class... men's clothes"],
                    ["Necklace", "Jewellery"]
                ]
            },
            {
                id: 2,
                correct: 'C',
                explain: "Peter c·∫ßn 'sweets' -> ƒêo·∫°n C c√≥ 'handmade candies'. Nell c·∫ßn 'latest women's fashions' -> ƒêo·∫°n C c√≥ 'new designs in... women's clothing'. C·∫ßn 'tennis T-shirts' gi√° r·∫ª -> ƒêo·∫°n C c√≥ 'sportswear at very reasonable prices'.",
                trans: "Peter mu·ªën mua k·∫πo ƒë·∫∑c bi·ªát cho sinh nh·∫≠t b√†, ch·ªã g√°i Nell mu·ªën xem th·ªùi trang n·ªØ m·ªõi nh·∫•t. H·ªç c≈©ng c·∫ßn mua √°o ph√¥ng tennis m·ªõi m√† kh√¥ng t·ªën nhi·ªÅu ti·ªÅn.",
                para: [
                    ["Special sweets", "Handmade candies"],
                    ["Latest women's fashions", "New designs in... women's clothing"],
                    ["Without spending a lot", "Reasonable prices"]
                ]
            },
            {
                id: 3,
                correct: 'A',
                explain: "Maria c·∫ßn 'materials... without damaging environment' -> ƒêo·∫°n A c√≥ 'grown in conditions that avoid creating pollution'. M·∫π c·∫ßn 'great customer service' -> ƒêo·∫°n A c√≥ 'assistants are polite... help'. C·∫ßn 'beautiful inside' -> ƒêo·∫°n A c√≥ 'displays of lights... attractive'.",
                trans: "Maria mu·ªën c·ª≠a h√†ng b√°n qu·∫ßn √°o d√πng v·∫≠t li·ªáu s·∫£n xu·∫•t kh√¥ng h·∫°i m√¥i tr∆∞·ªùng. M·∫π c√¥ ·∫•y mu·ªën n∆°i c√≥ d·ªãch v·ª• kh√°ch h√†ng t·ªët v√† b√™n trong ƒë·∫πp.",
                para: [
                    ["Without damaging environment", "Avoid creating pollution"],
                    ["Great customer service", "Assistants are polite and will help"],
                    ["Beautiful inside", "Displays of lights... attractive"]
                ]
            },
            {
                id: 4,
                correct: 'D',
                explain: "John th√≠ch n·∫•u ƒÉn, c·∫ßn 'unusual ingredients' -> ƒêo·∫°n D c√≥ 'amazing fresh food rarely found elsewhere'. B·ªë m·∫π th√≠ch 'same buildings since they were young' (c≈©) -> ƒêo·∫°n D 'opened in 1930'. C·∫ßn 'toys' -> ƒêo·∫°n D c√≥ 'packed with things to play with'.",
                trans: "John th√≠ch n·∫•u ƒÉn, mu·ªën mua nguy√™n li·ªáu l·∫°. B·ªë m·∫π th√≠ch c·ª≠a h√†ng n·∫±m trong t√≤a nh√† c≈© t·ª´ khi h·ªç c√≤n tr·∫ª, v√† c√≥ ƒë·ªì ch∆°i hay cho em g√°i.",
                para: [
                    ["Unusual ingredients", "Food rarely found elsewhere"],
                    ["Same buildings since young", "Since it opened in 1930"],
                    ["Toys", "Things to play with"]
                ]
            },
            {
                id: 5,
                correct: 'G',
                explain: "Samuel & Mark c·∫ßn 'chess sets' -> ƒêo·∫°n G c√≥ 'huge range of board games'. C·∫ßn 'ice creams' -> ƒêo·∫°n G c√≥ 'frozen desserts'. C·∫ßn 'made in store to eat later' -> ƒêo·∫°n G c√≥ 'bakers produce... cakes to take away'.",
                trans: "Samuel v√† Mark mu·ªën ƒë·∫øn c·ª≠a h√†ng c√≥ nhi·ªÅu b·ªô c·ªù vua. H·ªç mu·ªën ƒÉn kem ngon v√† mua th·ª© g√¨ ƒë√≥ l√†m t·∫°i c·ª≠a h√†ng ƒë·ªÉ ƒÉn sau.",
                para: [
                    ["Chess sets", "Board games"],
                    ["Ice creams", "Frozen desserts"],
                    ["Made in the store", "Bakers produce..."]
                ]
            }
        ];

        // --- INITIALIZATION ---
        window.onload = function() {
            renderGlossary();
            renderOptions();
        };

        function renderGlossary() {
            const table = document.getElementById('glossary-content');
            let html = `<tr><th>Word</th><th>Type</th><th>Meaning</th></tr>`;
            glossaryData.forEach(item => {
                html += `<tr><td><strong>${item.w}</strong></td><td><em>${item.t}</em></td><td>${item.m}</td></tr>`;
            });
            table.innerHTML = html;
        }

        function renderOptions() {
            questionsData.forEach(q => {
                const container = document.getElementById(`opt-${q.id}`);
                const options = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'];
                let html = '';
                options.forEach(opt => {
                    html += `<button class="option-btn" id="btn-${q.id}-${opt}" onclick="check(${q.id}, '${opt}')">${opt}</button>`;
                });
                container.innerHTML = html;
            });
        }

        // --- INTERACTION LOGIC ---
        function check(qId, selectedOpt) {
            const qData = questionsData.find(q => q.id === qId);
            const correctOpt = qData.correct;
            const btnSelected = document.getElementById(`btn-${qId}-${selectedOpt}`);
            const btnCorrect = document.getElementById(`btn-${qId}-${correctOpt}`);
            
            // Disable all buttons in this question
            const allBtns = document.getElementById(`opt-${qId}`).querySelectorAll('.option-btn');
            allBtns.forEach(btn => btn.classList.add('disabled'));
            allBtns.forEach(btn => btn.onclick = null);

            if (selectedOpt === correctOpt) {
                // Correct
                btnSelected.classList.add('correct');
                playSound('correct');
                fireConfetti(btnSelected);
                userScore++; // Increase Score
            } else {
                // Wrong
                btnSelected.classList.add('wrong');
                btnCorrect.classList.add('correct'); // Show correct immediately
                playSound('wrong');
            }

            showFeedback(qId, qData);
        }

        function showFeedback(qId, data) {
            const panel = document.getElementById(`feed-${qId}`);
            panel.style.display = 'block';
            
            // Generate Para Table HTML
            let paraHtml = '<table class="para-table">';
            data.para.forEach(row => {
                paraHtml += `<tr><td>${row[0]}</td><td>‚û° ${row[1]}</td></tr>`;
            });
            paraHtml += '</table>';

            panel.innerHTML = `
                <div class="teacher-msg">
                    <div class="teacher-avatar"></div>
                    <div class="bubble">
                        <strong>Ms. Mai An:</strong> ƒê√°p √°n ƒë√∫ng l√† <strong>${data.correct}</strong> em nh√©! <br>
                        ${data.explain}
                    </div>
                </div>
                <div class="action-btns">
                    <button class="mini-btn btn-trans" onclick="toggleDetail('trans-${qId}')"><i class="fas fa-language"></i> D·ªãch c√¢u h·ªèi</button>
                    <button class="mini-btn btn-para" onclick="toggleDetail('para-${qId}')"><i class="fas fa-exchange-alt"></i> So s√°nh t·ª´ v·ª±ng</button>
                </div>
                <div id="trans-${qId}" class="detail-content">${data.trans}</div>
                <div id="para-${qId}" class="detail-content">${paraHtml}</div>
            `;
        }

        function toggleDetail(id) {
            const el = document.getElementById(id);
            if (el.style.display === 'block') el.style.display = 'none';
            else el.style.display = 'block';
        }

        function toggleTrans(id) {
            const el = document.getElementById(id);
            if (el.style.display === 'block') el.style.display = 'none';
            else el.style.display = 'block';
        }

        function playSound(type) {
            let audio;
            if(type === 'correct') audio = document.getElementById('sound-correct');
            else if(type === 'wrong') audio = document.getElementById('sound-wrong');
            else if(type === 'finish') audio = document.getElementById('sound-finish');

            if (audio) {
                audio.currentTime = 0;
                audio.play();
            }
        }

        function fireConfetti(element) {
            const rect = element.getBoundingClientRect();
            const x = (rect.left + rect.width / 2) / window.innerWidth;
            const y = (rect.top + rect.height / 2) / window.innerHeight;

            confetti({
                particleCount: 100,
                spread: 70,
                origin: { x: x, y: y },
                colors: ['#8854C0', '#00C9A7', '#FFD3E0']
            });
        }

        // --- TIMER ---
        let time = 600; // 10 minutes
        let timerInterval;
        let isRunning = false;

        function toggleTimer() {
            const btn = document.getElementById('btn-timer');
            if (!isRunning) {
                isRunning = true;
                btn.textContent = "T·∫†M D·ª™NG";
                btn.style.background = "#FF4757";
                btn.style.boxShadow = "0 4px 0 #b71c1c";
                timerInterval = setInterval(updateTimer, 1000);
            } else {
                isRunning = false;
                btn.textContent = "TI·∫æP T·ª§C";
                btn.style.background = "#8854C0";
                btn.style.boxShadow = "0 4px 0 #6c429c";
                clearInterval(timerInterval);
            }
        }

        function updateTimer() {
            time--;
            const mins = Math.floor(time / 60);
            const secs = time % 60;
            document.getElementById('timer').textContent = 
                `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
            
            if (time <= 0) {
                clearInterval(timerInterval);
                document.getElementById('timeUpModal').style.display = 'flex';
                playSound('wrong'); 
            }
        }

        function finishTest() {
            const total = questionsData.length;
            const modal = document.getElementById('resultModal');
            const scoreDisplay = document.getElementById('final-score');
            const titleDisplay = document.getElementById('score-title');
            const msgDisplay = document.getElementById('score-msg');

            scoreDisplay.textContent = `${userScore}/${total}`;
            playSound('finish');

            // Feedback logic
            if (userScore === total) {
                titleDisplay.textContent = "XU·∫§T S·∫ÆC!";
                msgDisplay.textContent = "Em l√†m ƒë√∫ng h·∫øt r·ªìi! Ms Mai An r·∫•t t·ª± h√†o v·ªÅ em! üåü";
                confetti({ particleCount: 300, spread: 180, origin: { y: 0.6 } });
            } else if (userScore >= total - 1) {
                titleDisplay.textContent = "TUY·ªÜT V·ªúI!";
                msgDisplay.textContent = "Ch·ªâ sai m·ªôt ch√∫t x√≠u th√¥i, em l√†m r·∫•t t·ªët! üëç";
            } else if (userScore >= total / 2) {
                titleDisplay.textContent = "KH√Å L·∫ÆM!";
                msgDisplay.textContent = "Em ƒë√£ n·∫Øm ƒë∆∞·ª£c b√†i r·ªìi, c·ªë g·∫Øng √¥n l·∫°i c√°c c√¢u sai nh√©! üí™";
            } else {
                titleDisplay.textContent = "C·ªê L√äN NH√â!";
                msgDisplay.textContent = "ƒê·ª´ng n·∫£n l√≤ng, h√£y xem k·ªπ l·∫°i ph·∫ßn gi·∫£i th√≠ch ƒë·ªÉ hi·ªÉu b√†i h∆°n nha! ‚ù§Ô∏è";
            }

            modal.style.display = 'flex';
        }
    </script>
</body>
</html>