<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 10: Grammar & Word Forms - Ms Mai An ULIS</title>
    <!-- Nh√∫ng Font ch·ªØ d·ªÖ th∆∞∆°ng -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #8854C0; /* T√≠m Pastel */
            --secondary-color: #00C9A7; /* Xanh ng·ªçc */
            --accent-color: #FF9FF3; /* H·ªìng ph·∫•n */
            --correct-color: #00D26A; /* Xanh l√° */
            --wrong-color: #FF4757; /* ƒê·ªè cam */
            --text-color: #2F3542;
            --card-bg: #FFFFFF;
            --bg-pattern: #F0F3F4;
        }

        * {
            box-sizing: border-box;
            user-select: none; /* Ch·ªëng b√¥i ƒëen ƒë·ªÉ tr·∫£i nghi·ªám nh∆∞ app */
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-pattern);
            background-image: radial-gradient(#dcdde1 15%, transparent 16%), radial-gradient(#dcdde1 15%, transparent 16%);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 800px;
            background: var(--card-bg);
            border-radius: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1), 0 0 0 10px rgba(136, 84, 192, 0.1);
            overflow: hidden;
            position: relative;
            padding-bottom: 20px;
        }

        /* HEADER */
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            padding: 20px;
            text-align: center;
            color: white;
            position: relative;
        }

        .header h1 {
            margin: 0;
            font-family: 'Quicksand', sans-serif;
            font-size: 1.8rem;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.1);
        }

        .header p {
            margin: 5px 0 0;
            opacity: 0.9;
            font-weight: 600;
        }

        /* PROGRESS BAR */
        .progress-container {
            background: #dfe6e9;
            height: 10px;
            width: 100%;
        }

        .progress-bar {
            height: 100%;
            background: var(--correct-color);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 0 10px 10px 0;
        }

        /* QUESTION CARD */
        .quiz-body {
            padding: 30px;
        }

        .question-number {
            color: var(--primary-color);
            font-weight: 800;
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 1px;
            margin-bottom: 10px;
            display: block;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 25px;
            line-height: 1.5;
            color: #2f3542;
        }

        /* OPTIONS */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
            .question-text {
                font-size: 1.1rem;
            }
        }

        .option-btn {
            background: white;
            border: 2px solid #dfe4ea;
            border-radius: 15px;
            padding: 15px 20px;
            font-size: 1.1rem;
            font-family: 'Nunito', sans-serif;
            font-weight: 700;
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
            position: relative;
            box-shadow: 0 4px 0 #ced6e0; /* 3D effect */
            display: flex;
            align-items: center;
        }

        .option-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 0 #ced6e0;
            border-color: var(--primary-color);
            color: var(--primary-color);
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(2px);
            box-shadow: 0 0 0 #ced6e0;
        }

        .option-tag {
            background: #dfe4ea;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 10px;
            font-size: 0.9rem;
            font-weight: 800;
        }

        /* TR·∫†NG TH√ÅI ƒê√öNG SAI */
        .option-btn.correct {
            background-color: var(--correct-color);
            color: white;
            border-color: #00b894;
            box-shadow: 0 4px 0 #00b894;
        }

        .option-btn.correct .option-tag {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        .option-btn.wrong {
            background-color: var(--wrong-color);
            color: white;
            border-color: #d63031;
            box-shadow: 0 4px 0 #d63031;
            animation: shake 0.5s;
        }

        .option-btn.wrong .option-tag {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-2deg); }
            50% { transform: translateX(5px) rotate(2deg); }
            75% { transform: translateX(-5px) rotate(-2deg); }
            100% { transform: translateX(0); }
        }

        /* EXPLANATION BOX */
        .explanation-box {
            margin-top: 25px;
            background-color: #f1f2f6;
            border-left: 5px solid var(--primary-color);
            border-radius: 10px;
            padding: 20px;
            display: none; /* Hi·ªán khi ƒë√£ ch·ªçn */
            animation: slideDown 0.4s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .exp-header {
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .exp-header::before {
            content: 'üí°';
            margin-right: 8px;
            font-size: 1.2rem;
        }

        .exp-content {
            font-size: 1rem;
            line-height: 1.6;
            white-space: pre-wrap; /* Gi·ªØ xu·ªëng d√≤ng */
        }

        /* FOOTER ACTIONS */
        .footer-actions {
            padding: 20px 30px;
            display: flex;
            justify-content: flex-end;
            border-top: 2px solid #f1f2f6;
        }

        .next-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 50px;
            font-family: 'Quicksand', sans-serif;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            box-shadow: 0 4px 0 #6c5ce7;
            transition: all 0.2s;
            display: none; /* Ch·ªâ hi·ªán khi ƒë√£ ch·ªçn ƒë√°p √°n */
        }

        .next-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 0 #6c5ce7;
        }

        .next-btn:active {
            transform: translateY(2px);
            box-shadow: none;
        }

        /* K·∫æT QU·∫¢ */
        .result-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.95);
            z-index: 100;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .score-circle {
            width: 150px;
            height: 150px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3rem;
            font-weight: 800;
            box-shadow: 0 10px 0 rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }

        .score-msg {
            font-size: 1.5rem;
            color: var(--text-color);
            margin-bottom: 30px;
            font-weight: 700;
        }

        /* CONFETTI CANVAS */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 999;
        }
    </style>
</head>
<body>

<canvas id="confetti-canvas"></canvas>

<div class="container">
    <div class="header">
        <h1>Unit 10: Grammar & Word Forms</h1>
        <p>Gi√°o vi√™n: Ms Mai An (ULIS)</p>
    </div>
    
    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <!-- M√†n h√¨nh k·∫øt qu·∫£ -->
    <div class="result-overlay" id="resultOverlay">
        <div class="score-circle" id="finalScore">0/30</div>
        <div class="score-msg" id="finalMsg">Tuy·ªát v·ªùi!</div>
        <button class="next-btn" style="display: block;" onclick="location.reload()">L√†m l·∫°i b√†i thi</button>
    </div>

    <!-- Khu v·ª±c c√¢u h·ªèi -->
    <div class="quiz-body" id="quizBody">
        <span class="question-number" id="questionNumber">Question 1/30</span>
        <div class="question-text" id="questionText">
            Loading question...
        </div>

        <div class="options-grid" id="optionsGrid">
            <!-- Buttons will be injected here -->
        </div>

        <div class="explanation-box" id="explanationBox">
            <div class="exp-header">C√¥ Mai An gi·∫£i th√≠ch chi ti·∫øt:</div>
            <div class="exp-content" id="expContent">
                N·ªôi dung gi·∫£i th√≠ch s·∫Ω hi·ªán ·ªü ƒë√¢y...
            </div>
        </div>
    </div>

    <div class="footer-actions">
        <button class="next-btn" id="nextBtn" onclick="nextQuestion()">C√¢u ti·∫øp theo ‚ûú</button>
        <button class="next-btn" id="finishBtn" onclick="showResult()" style="display:none; background-color: var(--correct-color); box-shadow: 0 4px 0 #00b894;">Xem k·∫øt qu·∫£ üèÅ</button>
    </div>
</div>

<script>
    // --- D·ªÆ LI·ªÜU C√ÇU H·ªéI (DATA) ---
    const quizData = [
        {
            "id": 1,
            "question": "If you use holography, you can attend a meeting with ______ 3D image. (Part IX)",
            "options": ["your", "yours", "you", "yourself"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"N·∫øu b·∫°n s·ª≠ d·ª•ng c√¥ng ngh·ªá to√†n ·∫£nh, b·∫°n c√≥ th·ªÉ tham d·ª± cu·ªôc h·ªçp v·ªõi h√¨nh ·∫£nh 3D c·ªßa b·∫°n.\"\n2. Ph√¢n t√≠ch ng·ªØ ph√°p:\n- A. your (t√≠nh t·ª´ s·ªü h·ªØu): c·ªßa b·∫°n (c·∫ßn danh t·ª´ ƒëi sau).\n- B. yours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa b·∫°n (ƒë·ª©ng m·ªôt m√¨nh).\n- C. you (ƒë·∫°i t·ª´ nh√¢n x∆∞ng): b·∫°n.\n- D. yourself (ƒë·∫°i t·ª´ ph·∫£n th√¢n): ch√≠nh b·∫°n.\n3. T·∫°i sao ch·ªçn A?\n- Sau ch·ªó tr·ªëng l√† danh t·ª´ \"3D image\", n√™n ta c·∫ßn m·ªôt T√≠nh t·ª´ s·ªü h·ªØu (Possessive Adjective) ƒë·ªÉ b·ªï nghƒ©a."
        },
        {
            "id": 2,
            "question": "My brother's favourite brand is Apple, while ______ is Samsung. (Part IX)",
            "options": ["mine", "my", "me", "I"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"Th∆∞∆°ng hi·ªáu y√™u th√≠ch c·ªßa anh t√¥i l√† Apple, trong khi c√°i c·ªßa t√¥i l√† Samsung.\"\n2. Ph√¢n t√≠ch ng·ªØ ph√°p:\n- A. mine (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa t√¥i.\n- B. my (t√≠nh t·ª´ s·ªü h·ªØu): c·ªßa t√¥i.\n- C. me (t√¢n ng·ªØ): t√¥i.\n- D. I (ch·ªß ng·ªØ): t√¥i.\n3. T·∫°i sao ch·ªçn A?\n- Ph√≠a sau kh√¥ng c√≥ danh t·ª´ n√†o. Ta c·∫ßn m·ªôt ƒê·∫°i t·ª´ s·ªü h·ªØu ƒë·ªÉ thay th·∫ø cho c·ª•m \"my favourite brand\" ƒë√£ nh·∫Øc ·ªü v·∫ø tr∆∞·ªõc -> D√πng \"mine\"."
        },
        {
            "id": 3,
            "question": "Our laptop has a webcam, but ______ doesn't, so we can't see them. (Part IX)",
            "options": ["theirs", "their", "them", "they"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"Laptop c·ªßa ch√∫ng t√¥i c√≥ webcam, nh∆∞ng c√°i c·ªßa h·ªç th√¨ kh√¥ng, n√™n ch√∫ng t√¥i kh√¥ng th·∫•y h·ªç.\"\n2. Ph√¢n t√≠ch ng·ªØ ph√°p:\n- A. theirs (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa h·ªç.\n- B. their (t√≠nh t·ª´ s·ªü h·ªØu): c·ªßa h·ªç.\n- C. them (t√¢n ng·ªØ): h·ªç.\n- D. they (ch·ªß ng·ªØ): h·ªç.\n3. T·∫°i sao ch·ªçn A?\n- V·ªã tr√≠ n√†y ƒë√≥ng vai tr√≤ ch·ªß ng·ªØ cho ƒë·ªông t·ª´ \"doesn't\" v√† kh√¥ng c√≥ danh t·ª´ ƒëi k√®m -> C·∫ßn ƒê·∫°i t·ª´ s·ªü h·ªØu thay th·∫ø cho \"their laptop\"."
        },
        {
            "id": 4,
            "question": "She looked everywhere, but she couldn't find ______ smartwatch. (Part IX)",
            "options": ["her", "hers", "she", "herself"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"C√¥ ·∫•y t√¨m kh·∫Øp n∆°i nh∆∞ng kh√¥ng th·ªÉ t√¨m th·∫•y chi·∫øc ƒë·ªìng h·ªì th√¥ng minh c·ªßa m√¨nh.\"\n2. Ph√¢n t√≠ch ng·ªØ ph√°p:\n- A. her (t√≠nh t·ª´ s·ªü h·ªØu): c·ªßa c√¥ ·∫•y.\n- B. hers (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa c√¥ ·∫•y.\n- C. she (ch·ªß ng·ªØ): c√¥ ·∫•y.\n- D. herself (ph·∫£n th√¢n): ch√≠nh c√¥ ·∫•y.\n3. T·∫°i sao ch·ªçn A?\n- C√≥ danh t·ª´ \"smartwatch\" ph√≠a sau -> C·∫ßn T√≠nh t·ª´ s·ªü h·ªØu."
        },
        {
            "id": 5,
            "question": "You have so many different phones. Is this pink one also one of ______? (Part IX)",
            "options": ["yours", "your", "you", "yourself"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"B·∫°n c√≥ nhi·ªÅu ƒëi·ªán tho·∫°i qu√°. C√°i m√†u h·ªìng n√†y c√≥ ph·∫£i c≈©ng l√† m·ªôt trong nh·ªØng c√°i c·ªßa b·∫°n kh√¥ng?\"\n2. Ph√¢n t√≠ch ng·ªØ ph√°p:\n- A. yours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa b·∫°n.\n- B. your (t√≠nh t·ª´ s·ªü h·ªØu): c·ªßa b·∫°n.\n- C. you (ƒë·∫°i t·ª´): b·∫°n.\n- D. yourself (ph·∫£n th√¢n): ch√≠nh b·∫°n.\n3. T·∫°i sao ch·ªçn A?\n- C·∫•u tr√∫c \"One of + ƒê·∫°i t·ª´ s·ªü h·ªØu\" (M·ªôt trong nh·ªØng c√°i c·ªßa...). Sau gi·ªõi t·ª´ \"of\" v√† kh√¥ng c√≥ danh t·ª´ ti·∫øp theo -> D√πng Yours."
        },
        {
            "id": 6,
            "question": "Lisa is one of ______ foreign friends that I know from Twitter. (Part IX)",
            "options": ["my", "mine", "me", "I"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"Lisa l√† m·ªôt trong nh·ªØng ng∆∞·ªùi b·∫°n n∆∞·ªõc ngo√†i c·ªßa t√¥i m√† t√¥i quen qua Twitter.\"\n2. Ph√¢n t√≠ch ng·ªØ ph√°p:\n- A. my (t√≠nh t·ª´ s·ªü h·ªØu): c·ªßa t√¥i.\n- B. mine (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa t√¥i.\n- C. me (t√¢n ng·ªØ): t√¥i.\n- D. I (ch·ªß ng·ªØ): t√¥i.\n3. T·∫°i sao ch·ªçn A?\n- Ph√≠a sau c√≥ c·ª•m danh t·ª´ \"foreign friends\". C·∫•u tr√∫c ·ªü ƒë√¢y l√† \"one of + t√≠nh t·ª´ s·ªü h·ªØu + danh t·ª´ s·ªë nhi·ªÅu\" (m·ªôt trong nh·ªØng ng∆∞·ªùi b·∫°n c·ªßa t√¥i)."
        },
        {
            "id": 7,
            "question": "Is it good to use ______ smartphones 8 hours every day? (Part IX)",
            "options": ["our", "ours", "us", "we"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"Li·ªáu c√≥ t·ªët kh√¥ng khi s·ª≠ d·ª•ng ƒëi·ªán tho·∫°i c·ªßa ch√∫ng ta 8 ti·∫øng m·ªói ng√†y?\"\n2. Ph√¢n t√≠ch ng·ªØ ph√°p:\n- A. our (t√≠nh t·ª´ s·ªü h·ªØu): c·ªßa ch√∫ng ta.\n- B. ours (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa ch√∫ng ta.\n- C. us (t√¢n ng·ªØ): ch√∫ng ta.\n- D. we (ch·ªß ng·ªØ): ch√∫ng ta.\n3. T·∫°i sao ch·ªçn A?\n- C√≥ danh t·ª´ \"smartphones\" ph√≠a sau -> C·∫ßn T√≠nh t·ª´ s·ªü h·ªØu."
        },
        {
            "id": 8,
            "question": "Mr. Connor is one of ______ teachers at school. (Part IX)",
            "options": ["their", "theirs", "them", "they"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"Th·∫ßy Connor l√† m·ªôt trong nh·ªØng gi√°o vi√™n c·ªßa h·ªç ·ªü tr∆∞·ªùng.\"\n2. Ph√¢n t√≠ch ng·ªØ ph√°p:\n- A. their (t√≠nh t·ª´ s·ªü h·ªØu): c·ªßa h·ªç.\n- B. theirs (ƒë·∫°i t·ª´ s·ªü h·ªØu): c√°i c·ªßa h·ªç.\n- C. them (t√¢n ng·ªØ): h·ªç.\n- D. they (ch·ªß ng·ªØ): h·ªç.\n3. T·∫°i sao ch·ªçn A?\n- C√≥ danh t·ª´ \"teachers\" ph√≠a sau -> C·∫ßn T√≠nh t·ª´ s·ªü h·ªØu."
        },
        {
            "id": 9,
            "question": "That company didn't create ______ own emojis, they copied ______. (Part IX)",
            "options": ["their / ours", "theirs / our", "their / our", "theirs / ours"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"C√¥ng ty ƒë√≥ ƒë√£ kh√¥ng t·ª± t·∫°o ra emoji c·ªßa h·ªç, h·ªç ƒë√£ sao ch√©p c√°i c·ªßa ch√∫ng t√¥i.\"\n2. Ph√¢n t√≠ch ng·ªØ ph√°p:\n- V·∫ø 1: tr∆∞·ªõc \"own emojis\" (danh t·ª´) -> C·∫ßn T√≠nh t·ª´ s·ªü h·ªØu (their).\n- V·∫ø 2: sau ƒë·ªông t·ª´ \"copied\", kh√¥ng c√≥ danh t·ª´ ƒëi k√®m -> C·∫ßn ƒê·∫°i t·ª´ s·ªü h·ªØu (ours = our emojis).\n3. T·∫°i sao ch·ªçn A?\n- \"their\" b·ªï nghƒ©a cho \"own emojis\". \"ours\" thay th·∫ø cho \"our emojis\"."
        },
        {
            "id": 10,
            "question": "I'm glad that Kian has ______ own laptop, so he can join ______ video conference. (Part IX)",
            "options": ["his / our", "him / ours", "his / ours", "he / our"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"T√¥i m·ª´ng l√† Kian c√≥ laptop ri√™ng c·ªßa anh ·∫•y, n√™n anh ·∫•y c√≥ th·ªÉ tham gia cu·ªôc h·ªçp video c·ªßa ch√∫ng t√¥i.\"\n2. Ph√¢n t√≠ch ng·ªØ ph√°p:\n- V·∫ø 1: tr∆∞·ªõc \"own laptop\" -> C·∫ßn T√≠nh t·ª´ s·ªü h·ªØu (his).\n- V·∫ø 2: tr∆∞·ªõc \"video conference\" -> C·∫ßn T√≠nh t·ª´ s·ªü h·ªØu (our).\n3. T·∫°i sao ch·ªçn A?\n- C·∫£ hai ch·ªó tr·ªëng ƒë·ªÅu ƒë·ª©ng tr∆∞·ªõc danh t·ª´, n√™n ƒë·ªÅu d√πng T√≠nh t·ª´ s·ªü h·ªØu."
        },
        {
            "id": 11,
            "question": "Rewrite: 'His 7-inch Samsung tablet is blue.' -> That blue 7-inch Samsung tablet is ______. (Part X)",
            "options": ["his", "him", "he", "hers"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"Chi·∫øc m√°y t√≠nh b·∫£ng Samsung 7-inch m√†u xanh ƒë√≥ l√† c·ªßa anh ·∫•y.\"\n2. Ph√¢n t√≠ch:\n- C√¢u g·ªëc: His + Noun (T√≠nh t·ª´ s·ªü h·ªØu + Danh t·ª´).\n- C√¢u vi·∫øt l·∫°i: Noun + is + ... (ƒê∆∞a danh t·ª´ l√™n l√†m ch·ªß ng·ªØ) -> Cu·ªëi c√¢u c·∫ßn ƒê·∫°i t·ª´ s·ªü h·ªØu.\n3. T·∫°i sao ch·ªçn A?\n- ƒê·∫°i t·ª´ s·ªü h·ªØu c·ªßa \"he\" l√† \"his\" (vi·∫øt gi·ªëng t√≠nh t·ª´ s·ªü h·ªØu nh∆∞ng ch·ª©c nƒÉng kh√°c)."
        },
        {
            "id": 12,
            "question": "Rewrite: 'Telepathy in the future is one of their ambitious projects.' -> Telepathy in the future is an ambitious project ______. (Part X)",
            "options": ["of theirs", "of them", "of their", "their"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"Th·∫ßn giao c√°ch c·∫£m trong t∆∞∆°ng lai l√† m·ªôt d·ª± √°n ƒë·∫ßy tham v·ªçng c·ªßa h·ªç.\"\n2. Ph√¢n t√≠ch:\n- C·∫•u tr√∫c: \"one of their projects\" = \"a project of theirs\".\n- Quy t·∫Øc: A/An + Noun + of + Possessive Pronoun.\n3. T·∫°i sao ch·ªçn A?\n- C·∫ßn ƒë·∫°i t·ª´ s·ªü h·ªØu \"theirs\" sau gi·ªõi t·ª´ \"of\"."
        },
        {
            "id": 13,
            "question": "Rewrite: 'This is her opinion on some ways of modern communication.' -> This opinion on some ways of modern communication ______. (Part X)",
            "options": ["is hers", "is her", "belongs to hers", "is she"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"√ù ki·∫øn v·ªÅ m·ªôt s·ªë c√°ch giao ti·∫øp hi·ªán ƒë·∫°i n√†y l√† c·ªßa c√¥ ·∫•y.\"\n2. Ph√¢n t√≠ch:\n- C√¢u g·ªëc: This is + her opinion (ƒê√¢y l√† √Ω ki·∫øn c·ªßa c√¥ ·∫•y).\n- C√¢u vi·∫øt l·∫°i: This opinion... (√ù ki·∫øn n√†y...) -> is hers (l√† c·ªßa c√¥ ·∫•y).\n3. T·∫°i sao ch·ªçn A?\n- C·∫ßn ƒë·ªông t·ª´ to be + ƒê·∫°i t·ª´ s·ªü h·ªØu."
        },
        {
            "id": 14,
            "question": "Rewrite: 'He is the owner of that translation agency.' -> That translation agency ______. (Part X)",
            "options": ["is his", "belongs to his", "is him", "owns him"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"C∆° quan d·ªãch thu·∫≠t ƒë√≥ l√† c·ªßa anh ·∫•y.\"\n2. Ph√¢n t√≠ch:\n- C√¢u g·ªëc: Owner of... (Ch·ªß s·ªü h·ªØu c·ªßa...).\n- C√¢u vi·∫øt l·∫°i: ...agency is his (C∆° quan ƒë√≥ l√† c·ªßa anh ·∫•y).\n3. T·∫°i sao ch·ªçn A?\n- His ·ªü ƒë√¢y l√† ƒë·∫°i t·ª´ s·ªü h·ªØu."
        },
        {
            "id": 15,
            "question": "Rewrite: 'The purple smartphone on the table belongs to me.' -> The purple smartphone on the table ______. (Part X)",
            "options": ["is mine", "is my", "is me", "belongs to mine"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"Chi·∫øc ƒëi·ªán tho·∫°i m√†u t√≠m tr√™n b√†n l√† c·ªßa t√¥i.\"\n2. Ph√¢n t√≠ch:\n- C√¢u g·ªëc: belongs to me (thu·ªôc v·ªÅ t√¥i - t√¢n ng·ªØ).\n- C√¢u vi·∫øt l·∫°i: is mine (l√† c·ªßa t√¥i - ƒë·∫°i t·ª´ s·ªü h·ªØu).\n3. T·∫°i sao ch·ªçn A?\n- Mine thay th·∫ø cho 'my smartphone'."
        },
        {
            "id": 16,
            "question": "Rewrite: 'Can I borrow an external webcam of yours?' -> Can I ______? (Part X)",
            "options": ["borrow your external webcam", "borrow external webcam of you", "borrow you external webcam", "borrow yours external webcam"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"T√¥i c√≥ th·ªÉ m∆∞·ª£n webcam r·ªùi c·ªßa b·∫°n kh√¥ng?\"\n2. Ph√¢n t√≠ch:\n- C√¢u g·ªëc: ...webcam of yours (ƒë·∫°i t·ª´ s·ªü h·ªØu sau 'of').\n- C√¢u vi·∫øt l·∫°i: ...your external webcam (t√≠nh t·ª´ s·ªü h·ªØu tr∆∞·ªõc danh t·ª´).\n3. T·∫°i sao ch·ªçn A?\n- Chuy·ªÉn t·ª´ 'Of + yours' sang 'Your + Noun'."
        },
        {
            "id": 17,
            "question": "Rewrite: 'Do you own the latest technology of making hologram?' -> Is the latest technology of making hologram ______? (Part X)",
            "options": ["yours", "your", "you", "belong to you"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"C√¥ng ngh·ªá l√†m hologram m·ªõi nh·∫•t c√≥ ph·∫£i l√† c·ªßa b·∫°n kh√¥ng?\"\n2. Ph√¢n t√≠ch:\n- C√¢u g·ªëc: Do you own...? (B·∫°n c√≥ s·ªü h·ªØu...?).\n- C√¢u vi·∫øt l·∫°i: Is ... yours? (... c√≥ ph·∫£i l√† c·ªßa b·∫°n kh√¥ng?).\n3. T·∫°i sao ch·ªçn A?\n- C·∫ßn ƒë·∫°i t·ª´ s·ªü h·ªØu 'yours' ·ªü cu·ªëi c√¢u h·ªèi Yes/No v·ªõi ƒë·ªông t·ª´ to be."
        },
        {
            "id": 18,
            "question": "Rewrite: 'Two of our teammates will host the group call this weekend.' -> Two teammates ______ will host the group call this weekend. (Part X)",
            "options": ["of ours", "of us", "of our", "ours"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"Hai ƒë·ªìng ƒë·ªôi c·ªßa ch√∫ng t√¥i s·∫Ω ch·ªß tr√¨ cu·ªôc g·ªçi nh√≥m cu·ªëi tu·∫ßn n√†y.\"\n2. Ph√¢n t√≠ch:\n- C√¢u g·ªëc: Two of our teammates (Hai trong s·ªë ƒë·ªìng ƒë·ªôi c·ªßa ch√∫ng t√¥i).\n- C√¢u vi·∫øt l·∫°i: Two teammates of ours (Hai ƒë·ªìng ƒë·ªôi c·ªßa ch√∫ng t√¥i).\n- Quy t·∫Øc: Noun + of + ƒê·∫°i t·ª´ s·ªü h·ªØu.\n3. T·∫°i sao ch·ªçn A?\n- 'of ours' (c·ªßa ch√∫ng t√¥i) l√† c·∫•u tr√∫c s·ªü h·ªØu k√©p chu·∫©n x√°c."
        },
        {
            "id": 19,
            "question": "Rewrite: 'A friend of mine always uses emojis in her text messages.' -> One of ______ always uses emojis in her text messages. (Part X)",
            "options": ["my friends", "mine friends", "my friend", "mine"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"M·ªôt trong nh·ªØng ng∆∞·ªùi b·∫°n c·ªßa t√¥i lu√¥n d√πng emoji khi nh·∫Øn tin.\"\n2. Ph√¢n t√≠ch:\n- C√¢u g·ªëc: A friend of mine (M·ªôt ng∆∞·ªùi b·∫°n c·ªßa t√¥i - d√πng ƒë·∫°i t·ª´ s·ªü h·ªØu).\n- C√¢u vi·∫øt l·∫°i: One of my friends (M·ªôt trong nh·ªØng ng∆∞·ªùi b·∫°n c·ªßa t√¥i - d√πng t√≠nh t·ª´ s·ªü h·ªØu).\n3. T·∫°i sao ch·ªçn A?\n- One of + T√≠nh t·ª´ s·ªü h·ªØu + Danh t·ª´ s·ªë nhi·ªÅu."
        },
        {
            "id": 20,
            "question": "Rewrite: 'Is he one of your penfriends from the tech forum?' -> Is he ______ from the tech forum? (Part X)",
            "options": ["a penfriend of yours", "your penfriend", "a penfriend of your", "penfriend of yours"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"Anh ·∫•y c√≥ ph·∫£i l√† m·ªôt ng∆∞·ªùi b·∫°n qua th∆∞ c·ªßa b·∫°n t·ª´ di·ªÖn ƒë√†n c√¥ng ngh·ªá kh√¥ng?\"\n2. Ph√¢n t√≠ch:\n- C√¢u g·ªëc: One of your penfriends (M·ªôt trong nh·ªØng b·∫°n qua th∆∞ c·ªßa b·∫°n).\n- C√¢u vi·∫øt l·∫°i: A penfriend of yours (M·ªôt ng∆∞·ªùi b·∫°n qua th∆∞ c·ªßa b·∫°n).\n3. T·∫°i sao ch·ªçn A?\n- Hai c·∫•u tr√∫c n√†y t∆∞∆°ng ƒë∆∞∆°ng nhau."
        },
        {
            "id": 21,
            "question": "Grandma, can you see me ______ on your tablet? (Part XI - Word Form)",
            "options": ["clearly", "clear", "clarity", "clearing"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"B√† ∆°i, b√† c√≥ nh√¨n th·∫•y ch√°u r√µ r√†ng tr√™n m√°y t√≠nh b·∫£ng kh√¥ng?\"\n2. Ph√¢n t√≠ch:\n- A. clearly (adv): r√µ r√†ng.\n- B. clear (adj): r√µ.\n- C. clarity (n): s·ª± r√µ r√†ng.\n- D. clearing (v-ing).\n3. T·∫°i sao ch·ªçn A?\n- B·ªï nghƒ©a cho ƒë·ªông t·ª´ \"see\" -> C·∫ßn m·ªôt Tr·∫°ng t·ª´ (Adv).\n- Clear + ly = Clearly."
        },
        {
            "id": 22,
            "question": "Email features ______ whereas snail mail represents tradition. (Part XI - Word Form)",
            "options": ["modernity", "modernize", "modern", "modernly"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"Email mang t√≠nh hi·ªán ƒë·∫°i trong khi th∆∞ tay ƒë·∫°i di·ªán cho truy·ªÅn th·ªëng.\"\n2. Ph√¢n t√≠ch:\n- A. modernity (n): t√≠nh hi·ªán ƒë·∫°i.\n- B. modernize (v): hi·ªán ƒë·∫°i h√≥a.\n- C. modern (adj): hi·ªán ƒë·∫°i.\n- D. modernly (adv).\n3. T·∫°i sao ch·ªçn A?\n- C·∫•u tr√∫c c√¢u: Snail mail (S) represents (V) tradition (N). T∆∞∆°ng t·ª±: Email features (V) ... -> C·∫ßn m·ªôt Danh t·ª´ (N) ƒë·ªÉ ƒë·ªëi l·∫≠p v·ªõi \"tradition\"."
        },
        {
            "id": 23,
            "question": "A three-______ object can be measured in three different directions. (Part XI - Word Form)",
            "options": ["dimensional", "dimension", "dimensions", "dimensionally"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"M·ªôt v·∫≠t th·ªÉ ba chi·ªÅu c√≥ th·ªÉ ƒëo ƒë∆∞·ª£c theo ba h∆∞·ªõng kh√°c nhau.\"\n2. Ph√¢n t√≠ch:\n- A. dimensional (adj): thu·ªôc v·ªÅ chi·ªÅu.\n- B. dimension (n): chi·ªÅu/k√≠ch th∆∞·ªõc.\n3. T·∫°i sao ch·ªçn A?\n- V·ªã tr√≠: ƒê·ª©ng sau s·ªë ƒë·∫øm v√† g·∫°ch n·ªëi ƒë·ªÉ t·∫°o th√†nh t√≠nh t·ª´ gh√©p b·ªï nghƒ©a cho \"object\" -> C·∫ßn T√≠nh t·ª´.\n- Three-dimensional (3D)."
        },
        {
            "id": 24,
            "question": "Message boards can be ______ teaching tools. (Part XI - Word Form)",
            "options": ["interactive", "interaction", "interact", "interactively"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"C√°c b·∫£ng tin nh·∫Øn c√≥ th·ªÉ l√† c√¥ng c·ª• gi·∫£ng d·∫°y c√≥ t√≠nh t∆∞∆°ng t√°c.\"\n2. Ph√¢n t√≠ch:\n- A. interactive (adj): c√≥ t√≠nh t∆∞∆°ng t√°c.\n- B. interaction (n): s·ª± t∆∞∆°ng t√°c.\n- C. interact (v): t∆∞∆°ng t√°c.\n3. T·∫°i sao ch·ªçn A?\n- V·ªã tr√≠: ƒê·ª©ng tr∆∞·ªõc danh t·ª´ \"teaching tools\" -> C·∫ßn T√≠nh t·ª´ (Adj) ƒë·ªÉ b·ªï nghƒ©a."
        },
        {
            "id": 25,
            "question": "They've been together for so long they have a ______ understanding. (Part XI - Word Form)",
            "options": ["telepathic", "telepathy", "telepathically", "telepath"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"H·ªç ƒë√£ ·ªü b√™n nhau qu√° l√¢u n√™n h·ªç c√≥ s·ª± th·∫•u hi·ªÉu nh∆∞ th·∫ßn giao c√°ch c·∫£m.\"\n2. Ph√¢n t√≠ch:\n- A. telepathic (adj): thu·ªôc v·ªÅ th·∫ßn giao c√°ch c·∫£m.\n- B. telepathy (n): th·∫ßn giao c√°ch c·∫£m.\n3. T·∫°i sao ch·ªçn A?\n- V·ªã tr√≠: ƒê·ª©ng tr∆∞·ªõc danh t·ª´ \"understanding\" -> C·∫ßn T√≠nh t·ª´ (Adj).\n- Telepathy -> Telepathic."
        },
        {
            "id": 26,
            "question": "All the samples at this bakery are ______ images of the real products. (Part XI - Word Form)",
            "options": ["holographic", "hologram", "holography", "holograph"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"T·∫•t c·∫£ c√°c m·∫´u t·∫°i ti·ªám b√°nh n√†y l√† h√¨nh ·∫£nh ba chi·ªÅu (hologram) c·ªßa s·∫£n ph·∫©m th·∫≠t.\"\n2. Ph√¢n t√≠ch:\n- A. holographic (adj): thu·ªôc v·ªÅ to√†n ·∫£nh.\n- B. hologram (n): ·∫£nh to√†n ·∫£nh.\n- C. holography (n): k·ªπ thu·∫≠t to√†n ·∫£nh.\n3. T·∫°i sao ch·ªçn A?\n- V·ªã tr√≠: ƒê·ª©ng tr∆∞·ªõc danh t·ª´ \"images\" -> C·∫ßn T√≠nh t·ª´ (Adj).\n- Holography -> Holographic."
        },
        {
            "id": 27,
            "question": "There are many cultural ______ between Vietnam and the US. (Part XI - Word Form)",
            "options": ["differences", "different", "differently", "difference"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"C√≥ nhi·ªÅu s·ª± kh√°c bi·ªát vƒÉn h√≥a gi·ªØa Vi·ªát Nam v√† M·ªπ.\"\n2. Ph√¢n t√≠ch:\n- A. differences (n s·ªë nhi·ªÅu).\n- B. different (adj).\n- C. differently (adv).\n- D. difference (n s·ªë √≠t).\n3. T·∫°i sao ch·ªçn A?\n- V·ªã tr√≠: Sau \"many cultural\" -> C·∫ßn Danh t·ª´ s·ªë nhi·ªÅu (do many).\n- Differ -> Difference (N) -> Differences (Ns)."
        },
        {
            "id": 28,
            "question": "Satellites can ______ voice, video and data communications. (Part XI - Word Form)",
            "options": ["transmit", "transmission", "transmitting", "transmitter"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"V·ªá tinh c√≥ th·ªÉ truy·ªÅn t·∫£i d·ªØ li·ªáu tho·∫°i, video v√† d·ªØ li·ªáu truy·ªÅn th√¥ng.\"\n2. Ph√¢n t√≠ch:\n- A. transmit (v): truy·ªÅn t·∫£i.\n- B. transmission (n): s·ª± truy·ªÅn d·∫´n.\n3. T·∫°i sao ch·ªçn A?\n- V·ªã tr√≠: Sau modal verb \"can\" -> C·∫ßn ƒê·ªông t·ª´ nguy√™n m·∫´u (V-inf).\n- Transmission -> Transmit."
        },
        {
            "id": 29,
            "question": "A ______ language is a language produced by sounds, as opposed to a written language. (Part XI - Word Form)",
            "options": ["spoken", "speaking", "speaker", "speech"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"Ng√¥n ng·ªØ n√≥i l√† ng√¥n ng·ªØ ƒë∆∞·ª£c t·∫°o ra b·ªüi √¢m thanh, tr√°i ng∆∞·ª£c v·ªõi ng√¥n ng·ªØ vi·∫øt.\"\n2. Ph√¢n t√≠ch:\n- A. spoken (adj/PII): n√≥i (ƒë∆∞·ª£c n√≥i).\n- B. speaking (v-ing).\n- C. speaker (n): ng∆∞·ªùi n√≥i.\n- D. speech (n): b√†i ph√°t bi·ªÉu.\n3. T·∫°i sao ch·ªçn A?\n- V·ªã tr√≠: Tr∆∞·ªõc danh t·ª´ \"language\", ƒë·ªëi l·∫≠p v·ªõi \"written language\" -> C·∫ßn T√≠nh t·ª´ (d·∫°ng Ph√¢n t·ª´ 2 - PII).\n- Speak -> Spoken language (Ng√¥n ng·ªØ n√≥i)."
        },
        {
            "id": 30,
            "question": "By paying attention to your storytelling and body language, you can become a more effective ______. (Part XI - Word Form)",
            "options": ["communicator", "communication", "communicative", "communicating"],
            "correct": 0,
            "rationale": "1. D·ªãch nghƒ©a: \"B·∫±ng c√°ch ch√∫ √Ω ƒë·∫øn c√°ch k·ªÉ chuy·ªán v√† ng√¥n ng·ªØ c∆° th·ªÉ, b·∫°n c√≥ th·ªÉ tr·ªü th√†nh m·ªôt ng∆∞·ªùi giao ti·∫øp hi·ªáu qu·∫£ h∆°n.\"\n2. Ph√¢n t√≠ch:\n- A. communicator (n): ng∆∞·ªùi giao ti·∫øp.\n- B. communication (n): s·ª± giao ti·∫øp.\n- C. communicative (adj): c·ªüi m·ªü.\n3. T·∫°i sao ch·ªçn A?\n- V·ªã tr√≠: Sau \"a more effective...\" -> C·∫ßn Danh t·ª´ ch·ªâ ng∆∞·ªùi (v√¨ ch·ªß ng·ªØ l√† You).\n- Communicate -> Communicator."
        }
    ];

    // --- LOGIC ·ª®NG D·ª§NG ---
    let currentQuestion = 0;
    let score = 0;
    let isAnswered = false;

    // √Çm thanh s·ª≠ d·ª•ng Web Audio API ƒë·ªÉ kh√¥ng c·∫ßn file ngo√†i
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

    function playSound(type) {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();
        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);

        if (type === 'correct') {
            // Ding sound (High pitch arpeggio)
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(523.25, audioCtx.currentTime); // C5
            oscillator.frequency.exponentialRampToValueAtTime(1046.5, audioCtx.currentTime + 0.1); // C6
            gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
            oscillator.start();
            oscillator.stop(audioCtx.currentTime + 0.5);
            fireConfetti();
        } else {
            // Wrong sound (Low pitch sawtooth)
            oscillator.type = 'sawtooth';
            oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
            oscillator.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
            gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
            oscillator.start();
            oscillator.stop(audioCtx.currentTime + 0.3);
        }
    }

    function initQuiz() {
        renderQuestion();
        updateProgress();
    }

    function renderQuestion() {
        isAnswered = false;
        const q = quizData[currentQuestion];
        
        // C·∫≠p nh·∫≠t text
        document.getElementById('questionNumber').innerText = `Question ${currentQuestion + 1}/${quizData.length}`;
        document.getElementById('questionText').innerText = q.question;
        
        // ·∫®n gi·∫£i th√≠ch v√† n√∫t Next
        document.getElementById('explanationBox').style.display = 'none';
        document.getElementById('nextBtn').style.display = 'none';
        if (currentQuestion === quizData.length - 1) {
            document.getElementById('finishBtn').style.display = 'none';
        }

        // T·∫°o buttons
        const grid = document.getElementById('optionsGrid');
        grid.innerHTML = '';
        
        q.options.forEach((opt, index) => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.innerHTML = `
                <span class="option-tag">${String.fromCharCode(65 + index)}</span>
                ${opt}
            `;
            btn.onclick = () => checkAnswer(index, btn);
            grid.appendChild(btn);
        });
    }

    function checkAnswer(selectedIndex, btnElement) {
        if (isAnswered) return;
        isAnswered = true;

        const q = quizData[currentQuestion];
        const buttons = document.querySelectorAll('.option-btn');

        if (selectedIndex === q.correct) {
            btnElement.classList.add('correct');
            score++;
            playSound('correct');
        } else {
            btnElement.classList.add('wrong');
            buttons[q.correct].classList.add('correct'); // Hi·ªán ƒë√°p √°n ƒë√∫ng
            playSound('wrong');
        }

        // Disable t·∫•t c·∫£ buttons
        buttons.forEach(btn => btn.disabled = true);

        // Hi·ªán gi·∫£i th√≠ch
        const expBox = document.getElementById('explanationBox');
        document.getElementById('expContent').innerHTML = q.rationale.replace(/\n/g, '<br>');
        expBox.style.display = 'block';

        // Hi·ªán n√∫t Next ho·∫∑c Finish
        if (currentQuestion < quizData.length - 1) {
            document.getElementById('nextBtn').style.display = 'block';
        } else {
            document.getElementById('finishBtn').style.display = 'block';
        }

        updateProgress();
    }

    function nextQuestion() {
        currentQuestion++;
        renderQuestion();
    }

    function updateProgress() {
        const percent = ((currentQuestion + (isAnswered ? 1 : 0)) / quizData.length) * 100;
        document.getElementById('progressBar').style.width = `${percent}%`;
    }

    function showResult() {
        document.getElementById('resultOverlay').style.display = 'flex';
        document.getElementById('finalScore').innerText = `${score}/${quizData.length}`;
        
        let msg = "";
        if (score === quizData.length) msg = "Xu·∫•t s·∫Øc! B·∫°n l√† thi√™n t√†i ng·ªØ ph√°p! üèÜ";
        else if (score >= 25) msg = "L√†m r·∫•t t·ªët! C√¥ Mai An r·∫•t t·ª± h√†o! üåü";
        else if (score >= 15) msg = "Kh√° l·∫Øm! C·ªë g·∫Øng th√™m ch√∫t n·ªØa nh√©! üí™";
        else msg = "ƒê·ª´ng n·∫£n l√≤ng! H√£y √¥n l·∫°i b√†i v√† th·ª≠ l·∫°i nh√©! üìö";
        
        document.getElementById('finalMsg').innerText = msg;
        fireConfetti();
    }

    // --- CONFETTI LOGIC (Simple version) ---
    const confettiCanvas = document.getElementById('confetti-canvas');
    const ctx = confettiCanvas.getContext('2d');
    confettiCanvas.width = window.innerWidth;
    confettiCanvas.height = window.innerHeight;

    let particles = [];
    const colors = ['#8854C0', '#00C9A7', '#FF9FF3', '#FECA57', '#FF6B6B'];

    function fireConfetti() {
        for (let i = 0; i < 100; i++) {
            particles.push({
                x: window.innerWidth / 2,
                y: window.innerHeight / 2,
                r: Math.random() * 6 + 2,
                d: Math.random() * 100, // density
                dx: (Math.random() - 0.5) * 20,
                dy: (Math.random() - 0.5) * 20,
                color: colors[Math.floor(Math.random() * colors.length)],
                tilt: Math.floor(Math.random() * 10) - 10,
                tiltAngle: 0,
                tiltAngleIncremental: (Math.random() * 0.07) + 0.05
            });
        }
        animateConfetti();
    }

    function animateConfetti() {
        if (particles.length === 0) return;
        
        ctx.clearRect(0, 0, window.innerWidth, window.innerHeight);
        
        for (let i = 0; i < particles.length; i++) {
            const p = particles[i];
            p.tiltAngle += p.tiltAngleIncremental;
            p.y += (Math.cos(p.d) + 3 + p.r / 2) / 2;
            p.x += Math.sin(0.1);
            p.tilt = Math.sin(p.tiltAngle) * 15;

            ctx.beginPath();
            ctx.lineWidth = p.r;
            ctx.strokeStyle = p.color;
            ctx.moveTo(p.x + p.tilt + p.r / 2, p.y);
            ctx.lineTo(p.x + p.tilt, p.y + p.tilt + p.r / 2);
            ctx.stroke();

            if (p.y > window.innerHeight) {
                particles.splice(i, 1);
                i--;
            }
        }
        
        requestAnimationFrame(animateConfetti);
    }

    // Kh·ªüi ch·∫°y
    initQuiz();

</script>

</body>
</html>
