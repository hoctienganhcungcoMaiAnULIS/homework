<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Test - Ms Mai An ULIS</title>
    <style>
        :root {
            --primary-color: #0056b3; /* Xanh ƒë·∫≠m ch·ªß ƒë·∫°o theo y√™u c·∫ßu hex */
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-color: #333;
            --correct-color: #28a745;
            --incorrect-color: #dc3545;
            --warning-color: #ffc107;
            --accent-pink: #ffeef2; /* H·ªìng nh·∫°t cho n·ªÅn text box ƒë·ªÉ g·ª£i nh·ªõ y√™u c·∫ßu */
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            margin: 0;
            padding: 0;
            padding-bottom: 80px; /* Space for sticky footer */
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary-color), #004494);
            color: white;
            padding: 15px 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        header h1 {
            margin: 0;
            font-size: 1.2rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        header p {
            margin: 5px 0 0;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        /* Container */
        .container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 15px;
        }

        /* Exercise Section */
        .exercise-section {
            margin-bottom: 40px;
        }

        .section-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.4rem;
        }

        /* Data Box (Reading/Context) */
        .data-box {
            background-color: var(--accent-pink);
            border: 1px solid #e0cffc;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: inset 0 0 10px rgba(0,0,0,0.05);
            font-size: 1.05rem;
            text-align: justify;
        }

        /* Options Box for Gap Fill */
        .options-box {
            background-color: #e3f2fd;
            border: 2px dashed var(--primary-color);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-weight: bold;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }

        .option-item {
            background: white;
            padding: 5px 10px;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        /* Glossary Table */
        .glossary-box {
            margin-top: 15px;
            margin-bottom: 20px;
            overflow-x: auto;
        }
        
        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .glossary-table th, .glossary-table td {
            padding: 10px;
            border-bottom: 1px solid #eee;
            text-align: left;
        }

        .glossary-table th {
            background-color: var(--primary-color);
            color: white;
        }

        /* Question Card */
        .question-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            transition: transform 0.2s;
            border-left: 5px solid transparent;
        }

        .question-card:hover {
            transform: translateY(-2px);
        }

        .question-text {
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        /* Options styling */
        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-label {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-label:hover {
            background-color: #f0f8ff;
            border-color: var(--primary-color);
        }

        .option-label input[type="radio"] {
            margin-right: 12px;
            transform: scale(1.2);
        }

        /* Check Button per question */
        .btn-check-single {
            margin-top: 15px;
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background 0.3s;
        }

        .btn-check-single:hover {
            background-color: #5a6268;
        }

        /* Explanation Area */
        .explanation-area {
            margin-top: 15px;
            padding: 15px;
            background-color: #f1f9ff;
            border-left: 4px solid var(--primary-color);
            border-radius: 4px;
            display: none; /* Hidden by default */
            font-size: 0.95rem;
        }

        .explanation-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .exp-detail p {
            margin: 5px 0;
        }

        .keyword {
            font-weight: bold;
            color: #d63384;
        }

        /* Status Colors */
        .status-correct {
            border-left-color: var(--correct-color) !important;
            background-color: #f0fff4;
        }

        .status-incorrect {
            border-left-color: var(--incorrect-color) !important;
            background-color: #fff5f5;
        }

        .status-unanswered {
            border-left-color: var(--warning-color) !important;
        }

        /* Sticky Footer */
        .sticky-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            padding: 15px;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            text-align: center;
            z-index: 1000;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
        }

        .btn-submit {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 40px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0,86,179,0.3);
            transition: transform 0.2s, background 0.3s;
        }

        .btn-submit:hover {
            background-color: #004494;
            transform: scale(1.05);
        }

        /* Modal for Result */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .score-circle {
            width: 100px;
            height: 100px;
            background: var(--primary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: bold;
            margin: 0 auto 20px;
        }

        .btn-close-modal {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
        }
    </style>
</head>
<body>

<header>
    <h1>ENGLISH TEST PRACTICE</h1>
    <p>Teacher: Ms Mai An ULIS | Topic: Festivals & Holidays</p>
</header>

<div class="container">

    <section class="exercise-section" id="ex7">
        <h2 class="section-title">Exercise 7: Halloween Reading</h2>
        
        <div class="data-box">
            <h3 style="margin-top: 0; color: var(--primary-color);">Reading Passage</h3>
            <p>Halloween is a festival held on the 31st of October every year. The most common colors of the day are orange and black. Halloween comes from the ancient Celtic festival Samhain. The ancient Celts believed that on the night of October 31st, now known as Halloween, the boundary between the living and the deceased was not clear, and the dead became dangerous for the living by causing problems such as sickness or damaged crops. On Halloween day, the ancient Celts would place a skeleton by their window to represent the dead. Believing that the head was the most powerful part of the body, containing the spirit and knowledge, the Celts used the "head" of vegetables to decorate their houses. On this day people often wear strange clothes as characters in horrible novels or movies to frighten others. People usually like to dress as ghosts, skeletons, or witches. Now Halloween is an official holiday in almost all European countries.</p>
        </div>

        <div class="glossary-box">
            <h4 style="margin: 0 0 5px 0;">üìö Vocabulary Glossary (B1-C1)</h4>
            <table class="glossary-table">
                <thead>
                    <tr>
                        <th>Word</th>
                        <th>Type</th>
                        <th>Meaning (Vietnamese)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Ancient</td><td>Adj</td><td>C·ªï ƒë·∫°i, x∆∞a</td></tr>
                    <tr><td>Boundary</td><td>Noun</td><td>Ranh gi·ªõi</td></tr>
                    <tr><td>Deceased</td><td>Adj/Noun</td><td>Ng∆∞·ªùi ƒë√£ khu·∫•t (trang tr·ªçng)</td></tr>
                    <tr><td>Represent</td><td>Verb</td><td>T∆∞·ª£ng tr∆∞ng, ƒë·∫°i di·ªán</td></tr>
                    <tr><td>Official</td><td>Adj</td><td>Ch√≠nh th·ª©c</td></tr>
                </tbody>
            </table>
        </div>

        <div class="question-card" id="q7-1" data-correct="C">
            <div class="question-text">1. When is Halloween?<br>ü°≤ It's on ______________ every year.</div>
            <div class="options-container">
                <label class="option-label"><input type="radio" name="q7-1" value="A"> A. March 31st</label>
                <label class="option-label"><input type="radio" name="q7-1" value="B"> B. October 13th</label>
                <label class="option-label"><input type="radio" name="q7-1" value="C"> C. October 31st</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q7-1')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q7-2" data-correct="B">
            <div class="question-text">2. What are the most common colors of the day?<br>ü°≤ They're _________________.</div>
            <div class="options-container">
                <label class="option-label"><input type="radio" name="q7-2" value="A"> A. pink and black</label>
                <label class="option-label"><input type="radio" name="q7-2" value="B"> B. orange and black</label>
                <label class="option-label"><input type="radio" name="q7-2" value="C"> C. blue and black</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q7-2')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q7-3" data-correct="B">
            <div class="question-text">3. Where does Halloween come from?<br>ü°≤ It comes from ______________.</div>
            <div class="options-container">
                <label class="option-label"><input type="radio" name="q7-3" value="A"> A. the night of October 31st</label>
                <label class="option-label"><input type="radio" name="q7-3" value="B"> B. the ancient Celtic festival Samhain</label>
                <label class="option-label"><input type="radio" name="q7-3" value="C"> C. the boundary between the living and the deceased</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q7-3')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q7-4" data-correct="C">
            <div class="question-text">4. What did the Celts use to decorate their houses on Halloween day?<br>ü°≤ They used ________________________.</div>
            <div class="options-container">
                <label class="option-label"><input type="radio" name="q7-4" value="A"> A. a skeleton</label>
                <label class="option-label"><input type="radio" name="q7-4" value="B"> B. their body</label>
                <label class="option-label"><input type="radio" name="q7-4" value="C"> C. the head of vegetable</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q7-4')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q7-5" data-correct="A">
            <div class="question-text">5. What do people like to dress as?<br>ü°≤ They like to dress as ______________.</div>
            <div class="options-container">
                <label class="option-label"><input type="radio" name="q7-5" value="A"> A. ghosts, skeletons, or witches</label>
                <label class="option-label"><input type="radio" name="q7-5" value="B"> B. ghosts, princesses or witches</label>
                <label class="option-label"><input type="radio" name="q7-5" value="C"> C. fairies, skeletons, or queens</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q7-5')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q7-6" data-correct="A">
            <div class="question-text">6. Is Halloween an official holiday in almost all European countries nowadays?<br>ü°≤ Yes, ___________.</div>
            <div class="options-container">
                <label class="option-label"><input type="radio" name="q7-6" value="A"> A. it is</label>
                <label class="option-label"><input type="radio" name="q7-6" value="B"> B. she is</label>
                <label class="option-label"><input type="radio" name="q7-6" value="C"> C. they are</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q7-6')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>
    </section>

    <hr style="border: 0; border-top: 1px solid #ddd; margin: 40px 0;">

    <section class="exercise-section" id="ex8">
        <h2 class="section-title">Exercise 8: Thanksgiving Gap Fill</h2>
        
        <div class="options-box">
            <div class="option-item">A. take part in</div>
            <div class="option-item">B. successful</div>
            <div class="option-item">C. celebrated</div>
            <div class="option-item">D. spend</div>
            <div class="option-item">E. play</div>
            <div class="option-item">F. take</div>
        </div>

        <div class="data-box">
            Thanksgiving (also called Turkey Day) is a seasonal holiday held annually to give thanks to God for <b>(1) ________</b> harvests. In the USA, the holiday is <b>(2) ________</b> on the fourth Thursday of November. In Canada it is celebrated on the second Monday of October because harvest there generally ends earlier.<br><br>
            Thanksgiving is traditionally celebrated with a feast among family and friends. Not only adults but children <b>(3) ________</b> the food preparation. Traditional foods are turkey, stuffing, gravy, sweet potatoes, cornbread, mashed potatoes, and cranberry sauce. After the feast people often do some other activities. Some like to go for a walk. Some take naps. Others <b>(4) ________</b> board or card games together. A lot of people <b>(5) ________</b> this opportunity to help the less fortunate. They volunteer to cook and serve food to homeless people, <b>(6) ________</b> time with sick people in hospitals or help a needy family.
        </div>

        <div class="question-card" id="q8-1" data-correct="B">
            <div class="question-text">Gap (1): Choose the correct word</div>
            <div class="options-container" style="flex-direction: row; flex-wrap: wrap;">
                <label class="option-label"><input type="radio" name="q8-1" value="A"> A</label>
                <label class="option-label"><input type="radio" name="q8-1" value="B"> B</label>
                <label class="option-label"><input type="radio" name="q8-1" value="C"> C</label>
                <label class="option-label"><input type="radio" name="q8-1" value="D"> D</label>
                <label class="option-label"><input type="radio" name="q8-1" value="E"> E</label>
                <label class="option-label"><input type="radio" name="q8-1" value="F"> F</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q8-1')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q8-2" data-correct="C">
            <div class="question-text">Gap (2): Choose the correct word</div>
            <div class="options-container" style="flex-direction: row; flex-wrap: wrap;">
                <label class="option-label"><input type="radio" name="q8-2" value="A"> A</label>
                <label class="option-label"><input type="radio" name="q8-2" value="B"> B</label>
                <label class="option-label"><input type="radio" name="q8-2" value="C"> C</label>
                <label class="option-label"><input type="radio" name="q8-2" value="D"> D</label>
                <label class="option-label"><input type="radio" name="q8-2" value="E"> E</label>
                <label class="option-label"><input type="radio" name="q8-2" value="F"> F</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q8-2')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q8-3" data-correct="A">
            <div class="question-text">Gap (3): Choose the correct word</div>
            <div class="options-container" style="flex-direction: row; flex-wrap: wrap;">
                <label class="option-label"><input type="radio" name="q8-3" value="A"> A</label>
                <label class="option-label"><input type="radio" name="q8-3" value="B"> B</label>
                <label class="option-label"><input type="radio" name="q8-3" value="C"> C</label>
                <label class="option-label"><input type="radio" name="q8-3" value="D"> D</label>
                <label class="option-label"><input type="radio" name="q8-3" value="E"> E</label>
                <label class="option-label"><input type="radio" name="q8-3" value="F"> F</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q8-3')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q8-4" data-correct="E">
            <div class="question-text">Gap (4): Choose the correct word</div>
            <div class="options-container" style="flex-direction: row; flex-wrap: wrap;">
                <label class="option-label"><input type="radio" name="q8-4" value="A"> A</label>
                <label class="option-label"><input type="radio" name="q8-4" value="B"> B</label>
                <label class="option-label"><input type="radio" name="q8-4" value="C"> C</label>
                <label class="option-label"><input type="radio" name="q8-4" value="D"> D</label>
                <label class="option-label"><input type="radio" name="q8-4" value="E"> E</label>
                <label class="option-label"><input type="radio" name="q8-4" value="F"> F</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q8-4')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q8-5" data-correct="F">
            <div class="question-text">Gap (5): Choose the correct word</div>
            <div class="options-container" style="flex-direction: row; flex-wrap: wrap;">
                <label class="option-label"><input type="radio" name="q8-5" value="A"> A</label>
                <label class="option-label"><input type="radio" name="q8-5" value="B"> B</label>
                <label class="option-label"><input type="radio" name="q8-5" value="C"> C</label>
                <label class="option-label"><input type="radio" name="q8-5" value="D"> D</label>
                <label class="option-label"><input type="radio" name="q8-5" value="E"> E</label>
                <label class="option-label"><input type="radio" name="q8-5" value="F"> F</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q8-5')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q8-6" data-correct="D">
            <div class="question-text">Gap (6): Choose the correct word</div>
            <div class="options-container" style="flex-direction: row; flex-wrap: wrap;">
                <label class="option-label"><input type="radio" name="q8-6" value="A"> A</label>
                <label class="option-label"><input type="radio" name="q8-6" value="B"> B</label>
                <label class="option-label"><input type="radio" name="q8-6" value="C"> C</label>
                <label class="option-label"><input type="radio" name="q8-6" value="D"> D</label>
                <label class="option-label"><input type="radio" name="q8-6" value="E"> E</label>
                <label class="option-label"><input type="radio" name="q8-6" value="F"> F</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q8-6')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>
    </section>

    <hr style="border: 0; border-top: 1px solid #ddd; margin: 40px 0;">

    <section class="exercise-section" id="ex9">
        <h2 class="section-title">Exercise 9: National Children‚Äôs Day - Japan</h2>
        
        <div class="data-box">
            <h3 style="margin-top: 0; color: var(--primary-color);">Reading Passage</h3>
            <p>National Children‚Äô Day in Japan is on the fifth day of the fifth month every year - that‚Äôs May 5th. People in Japan celebrate children and their happiness. It is also the start of the summer. People always put some fish outside their houses, and the number of fish is also the number of people in a family. The mother in every family often makes special food for National Children‚Äô Day: rice cakes and delicious sweets. People often eat at home, but some restaurants have got special Children‚Äôs Day menus - a lot of families eat at restaurants, too. Children often wear traditional Japanese clothes and sing a special National Children‚Äô Day song, and the boys wear special paper hats.</p>
        </div>

         <div class="glossary-box">
            <h4 style="margin: 0 0 5px 0;">üìö Vocabulary Glossary (A2-B1)</h4>
            <table class="glossary-table">
                <thead>
                    <tr>
                        <th>Word</th>
                        <th>Type</th>
                        <th>Meaning</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Celebrate</td><td>Verb</td><td>K·ª∑ ni·ªám, ƒÉn m·ª´ng</td></tr>
                    <tr><td>Happiness</td><td>Noun</td><td>S·ª± h·∫°nh ph√∫c</td></tr>
                    <tr><td>Traditional</td><td>Adj</td><td>Truy·ªÅn th·ªëng</td></tr>
                    <tr><td>Delicious</td><td>Adj</td><td>Ngon mi·ªáng</td></tr>
                </tbody>
            </table>
        </div>

        <h3 style="color: #666;">Part A: True (T), False (F), or Not Mentioned (NM)</h3>

        <div class="question-card" id="q9a-1" data-correct="NM">
            <div class="question-text">1. National Children‚Äô Day in Japan is the biggest holiday of the year.</div>
            <div class="options-container" style="flex-direction: row;">
                <label class="option-label"><input type="radio" name="q9a-1" value="T"> True</label>
                <label class="option-label"><input type="radio" name="q9a-1" value="F"> False</label>
                <label class="option-label"><input type="radio" name="q9a-1" value="NM"> Not Mentioned</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q9a-1')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q9a-2" data-correct="T">
            <div class="question-text">2. It‚Äôs the start of the summer holiday.</div>
            <div class="options-container" style="flex-direction: row;">
                <label class="option-label"><input type="radio" name="q9a-2" value="T"> True</label>
                <label class="option-label"><input type="radio" name="q9a-2" value="F"> False</label>
                <label class="option-label"><input type="radio" name="q9a-2" value="NM"> Not Mentioned</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q9a-2')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q9a-3" data-correct="T">
            <div class="question-text">3. A family of three puts three fish outside their houses.</div>
            <div class="options-container" style="flex-direction: row;">
                <label class="option-label"><input type="radio" name="q9a-3" value="T"> True</label>
                <label class="option-label"><input type="radio" name="q9a-3" value="F"> False</label>
                <label class="option-label"><input type="radio" name="q9a-3" value="NM"> Not Mentioned</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q9a-3')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q9a-4" data-correct="F">
            <div class="question-text">4. People always eat special food at home.</div>
            <div class="options-container" style="flex-direction: row;">
                <label class="option-label"><input type="radio" name="q9a-4" value="T"> True</label>
                <label class="option-label"><input type="radio" name="q9a-4" value="F"> False</label>
                <label class="option-label"><input type="radio" name="q9a-4" value="NM"> Not Mentioned</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q9a-4')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q9a-5" data-correct="T">
            <div class="question-text">5. People wear traditional Japanese clothes on that day.</div>
            <div class="options-container" style="flex-direction: row;">
                <label class="option-label"><input type="radio" name="q9a-5" value="T"> True</label>
                <label class="option-label"><input type="radio" name="q9a-5" value="F"> False</label>
                <label class="option-label"><input type="radio" name="q9a-5" value="NM"> Not Mentioned</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q9a-5')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q9a-6" data-correct="T">
            <div class="question-text">6. The boys put on their heads something special.</div>
            <div class="options-container" style="flex-direction: row;">
                <label class="option-label"><input type="radio" name="q9a-6" value="T"> True</label>
                <label class="option-label"><input type="radio" name="q9a-6" value="F"> False</label>
                <label class="option-label"><input type="radio" name="q9a-6" value="NM"> Not Mentioned</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q9a-6')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <h3 style="color: #666; margin-top: 30px;">Part B: Multiple Choice</h3>

        <div class="question-card" id="q9b-1" data-correct="B">
            <div class="question-text">1. When is National Children‚Äô Day celebrated in Japan?</div>
            <div class="options-container">
                <label class="option-label"><input type="radio" name="q9b-1" value="A"> A. On the first day of May.</label>
                <label class="option-label"><input type="radio" name="q9b-1" value="B"> B. On the fifth day of the fifth month (May 5th).</label>
                <label class="option-label"><input type="radio" name="q9b-1" value="C"> C. On the fifteenth day of August.</label>
                <label class="option-label"><input type="radio" name="q9b-1" value="D"> D. On the first day of summer (June 1st).</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q9b-1')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q9b-2" data-correct="D">
            <div class="question-text">2. Why do people in Japan celebrate this day?</div>
            <div class="options-container">
                <label class="option-label"><input type="radio" name="q9b-2" value="A"> A. To welcome the New Year.</label>
                <label class="option-label"><input type="radio" name="q9b-2" value="B"> B. To celebrate the harvest season.</label>
                <label class="option-label"><input type="radio" name="q9b-2" value="C"> C. To honor the elderly people in the family.</label>
                <label class="option-label"><input type="radio" name="q9b-2" value="D"> D. To celebrate children and their happiness, and mark the start of summer.</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q9b-2')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q9b-3" data-correct="C">
            <div class="question-text">3. What do mothers typically make for this occasion?</div>
            <div class="options-container">
                <label class="option-label"><input type="radio" name="q9b-3" value="A"> A. Sushi and sashimi.</label>
                <label class="option-label"><input type="radio" name="q9b-3" value="B"> B. Hamburgers and fries.</label>
                <label class="option-label"><input type="radio" name="q9b-3" value="C"> C. Rice cakes and delicious sweets.</label>
                <label class="option-label"><input type="radio" name="q9b-3" value="D"> D. Bread and soup.</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q9b-3')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q9b-4" data-correct="B">
            <div class="question-text">4. What do restaurants offer on National Children's Day?</div>
            <div class="options-container">
                <label class="option-label"><input type="radio" name="q9b-4" value="A"> A. Free food for everyone.</label>
                <label class="option-label"><input type="radio" name="q9b-4" value="B"> B. Special Children‚Äôs Day menus.</label>
                <label class="option-label"><input type="radio" name="q9b-4" value="C"> C. Only traditional drinks.</label>
                <label class="option-label"><input type="radio" name="q9b-4" value="D"> D. Closed doors for the holiday.</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q9b-4')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q9b-5" data-correct="C">
            <div class="question-text">5. How many Japanese families eat at restaurants on that day?</div>
            <div class="options-container">
                <label class="option-label"><input type="radio" name="q9b-5" value="A"> A. Very few families.</label>
                <label class="option-label"><input type="radio" name="q9b-5" value="B"> B. No families, everyone eats at home.</label>
                <label class="option-label"><input type="radio" name="q9b-5" value="C"> C. A lot of families.</label>
                <label class="option-label"><input type="radio" name="q9b-5" value="D"> D. Only families with boys.</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q9b-5')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

        <div class="question-card" id="q9b-6" data-correct="C">
            <div class="question-text">6. What do Japanese children often do on this day?</div>
            <div class="options-container">
                <label class="option-label"><input type="radio" name="q9b-6" value="A"> A. They go to school and study hard.</label>
                <label class="option-label"><input type="radio" name="q9b-6" value="B"> B. They sleep all day to relax.</label>
                <label class="option-label"><input type="radio" name="q9b-6" value="C"> C. They wear traditional clothes and sing a special song.</label>
                <label class="option-label"><input type="radio" name="q9b-6" value="D"> D. They go fishing to catch the fish for dinner.</label>
            </div>
            <button class="btn-check-single" onclick="checkOne('q9b-6')">Check Answer</button>
            <div class="explanation-area"></div>
        </div>

    </section>

</div>

<div class="sticky-footer">
    <button class="btn-submit" onclick="submitAll()">N·ªòP B√ÄI (SUBMIT)</button>
</div>

<div id="resultModal" class="modal">
    <div class="modal-content">
        <h2>K·∫øt qu·∫£ (Results)</h2>
        <div class="score-circle" id="scoreDisplay">0/24</div>
        <p id="feedbackText">H√£y c·ªë g·∫Øng h∆°n nh√©!</p>
        <button class="btn-close-modal" onclick="closeModal()">Xem chi ti·∫øt (Review)</button>
    </div>
</div>

<script>
    // DATA EXPLANATIONS - "MS MAI AN ULIS" STYLE
    const explanations = {
        'q7-1': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: C. October 31st</div>
            <div class="exp-detail">
                <p><b>1. D·ªãch c√¢u h·ªèi:</b> Halloween di·ªÖn ra khi n√†o? -> N√≥ di·ªÖn ra v√†o _________ h√†ng nƒÉm.</p>
                <p><b>2. D·∫´n ch·ª©ng b√†i ƒë·ªçc:</b> "Halloween is a festival held on the 31st of October every year." (Halloween l√† l·ªÖ h·ªôi ƒë∆∞·ª£c t·ªï ch·ª©c v√†o ng√†y 31 th√°ng 10 h√†ng nƒÉm).</p>
                <p><b>3. Ph√¢n t√≠ch:</b> B√†i ƒë·ªçc n√™u r√µ ng√†y c·ª• th·ªÉ l√† 31st of October. C√°c ƒë√°p √°n A v√† B sai ng√†y/th√°ng.</p>
            </div>`,
        'q7-2': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: B. orange and black</div>
            <div class="exp-detail">
                <p><b>1. D·ªãch c√¢u h·ªèi:</b> Nh·ªØng m√†u s·∫Øc ph·ªï bi·∫øn nh·∫•t c·ªßa ng√†y n√†y l√† g√¨?</p>
                <p><b>2. D·∫´n ch·ª©ng b√†i ƒë·ªçc:</b> "The most common colors of the day are orange and black." (Nh·ªØng m√†u s·∫Øc ph·ªï bi·∫øn nh·∫•t c·ªßa ng√†y n√†y l√† cam v√† ƒëen).</p>
                <p><b>3. Ph√¢n t√≠ch:</b> Th√¥ng tin chi ti·∫øt n·∫±m ngay c√¢u th·ª© 2 c·ªßa b√†i ƒë·ªçc.</p>
            </div>`,
        'q7-3': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: B. the ancient Celtic festival Samhain</div>
            <div class="exp-detail">
                <p><b>1. D·ªãch c√¢u h·ªèi:</b> Halloween b·∫Øt ngu·ªìn t·ª´ ƒë√¢u?</p>
                <p><b>2. D·∫´n ch·ª©ng b√†i ƒë·ªçc:</b> "Halloween comes from the ancient Celtic festival Samhain." (Halloween b·∫Øt ngu·ªìn t·ª´ l·ªÖ h·ªôi Samhain c·ªßa ng∆∞·ªùi Celtic c·ªï ƒë·∫°i).</p>
                <p><b>3. Ph√¢n t√≠ch:</b> C√¢u h·ªèi d√πng "come from", b√†i ƒë·ªçc c≈©ng d√πng "comes from". ƒê√°p √°n A ch·ªâ l√† th·ªùi gian, C l√† kh√°i ni·ªám v·ªÅ ranh gi·ªõi s·ª± s·ªëng/c√°i ch·∫øt, kh√¥ng ph·∫£i ngu·ªìn g·ªëc l·ªÖ h·ªôi.</p>
            </div>`,
        'q7-4': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: C. the head of vegetable</div>
            <div class="exp-detail">
                <p><b>1. D·ªãch c√¢u h·ªèi:</b> Ng∆∞·ªùi Celts ƒë√£ d√πng g√¨ ƒë·ªÉ trang tr√≠ nh√† v√†o ng√†y Halloween?</p>
                <p><b>2. D·∫´n ch·ª©ng b√†i ƒë·ªçc:</b> "...the Celts used the "head" of vegetables to decorate their houses." (...ng∆∞·ªùi Celts d√πng "ƒë·∫ßu" c·ªßa c√°c lo·∫°i rau c·ªß ƒë·ªÉ trang tr√≠ nh√† c·ª≠a).</p>
                <p><b>3. Ph√¢n t√≠ch:</b> B√†i ƒë·ªçc ƒë·ªÅ c·∫≠p h·ªç ƒë·∫∑t b·ªô x∆∞∆°ng (skeleton) b√™n c·ª≠a s·ªï, nh∆∞ng d√πng "ƒë·∫ßu rau c·ªß" ƒë·ªÉ DECORATE (trang tr√≠).</p>
            </div>`,
        'q7-5': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: A. ghosts, skeletons, or witches</div>
            <div class="exp-detail">
                <p><b>1. D·ªãch c√¢u h·ªèi:</b> M·ªçi ng∆∞·ªùi th√≠ch h√≥a trang th√†nh g√¨?</p>
                <p><b>2. D·∫´n ch·ª©ng b√†i ƒë·ªçc:</b> "People usually like to dress as ghosts, skeletons, or witches." (M·ªçi ng∆∞·ªùi th∆∞·ªùng th√≠ch h√≥a trang th√†nh ma, b·ªô x∆∞∆°ng, ho·∫∑c ph√π th·ªßy).</p>
                <p><b>3. Ph√¢n t√≠ch:</b> Li·ªát k√™ ch√≠nh x√°c theo b√†i ƒë·ªçc. C√°c ƒë√°p √°n B v√† C c√≥ t·ª´ "princesses" (c√¥ng ch√∫a) hay "fairies" (ti√™n) kh√¥ng ƒë∆∞·ª£c nh·∫Øc ƒë·∫øn trong ng·ªØ c·∫£nh kinh d·ªã (horrible) c·ªßa b√†i.</p>
            </div>`,
        'q7-6': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: A. it is</div>
            <div class="exp-detail">
                <p><b>1. D·ªãch c√¢u h·ªèi:</b> Ng√†y nay Halloween c√≥ ph·∫£i l√† ng√†y l·ªÖ ch√≠nh th·ª©c ·ªü h·∫ßu h·∫øt c√°c n∆∞·ªõc ch√¢u √Çu kh√¥ng?</p>
                <p><b>2. D·∫´n ch·ª©ng b√†i ƒë·ªçc:</b> "Now Halloween is an official holiday in almost all European countries."</p>
                <p><b>3. Ph√¢n t√≠ch:</b> Ch·ªß ng·ªØ l√† "Halloween" (s·ªë √≠t, v·∫≠t) -> d√πng ƒë·∫°i t·ª´ "It". C√¢u h·ªèi "Is...?" -> Tr·∫£ l·ªùi "Yes, it is".</p>
            </div>`,
        
        // Exercise 8
        'q8-1': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: B. successful</div>
            <div class="exp-detail">
                <p><b>D·ªãch nghƒ©a:</b> Thanksgiving... to give thanks to God for (1) <u>successful</u> harvests. (...ƒë·ªÉ t·∫° ∆°n Ch√∫a v√¨ nh·ªØng v·ª• m√πa <u>th√†nh c√¥ng/b·ªôi thu</u>).</p>
                <p><b>Ph√¢n t√≠ch:</b> V·ªã tr√≠ n√†y c·∫ßn m·ªôt T√≠nh t·ª´ (Adj) ƒë·ªÉ b·ªï nghƒ©a cho danh t·ª´ "harvests". "Successful" (th√†nh c√¥ng) h·ª£p l√Ω nh·∫•t v·ªÅ nghƒ©a.</p>
                <p><b>Lo·∫°i tr·ª´:</b> C√°c t·ª´ c√≤n l·∫°i l√† ƒê·ªông t·ª´ (take, spend, play, celebrated...) kh√¥ng ƒëi·ªÅn ƒë∆∞·ª£c v√†o ƒë√¢y.</p>
            </div>`,
        'q8-2': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: C. celebrated</div>
            <div class="exp-detail">
                <p><b>D·ªãch nghƒ©a:</b> In the USA, the holiday is (2) <u>celebrated</u> on... (T·∫°i M·ªπ, ng√†y l·ªÖ ƒë∆∞·ª£c <u>t·ªï ch·ª©c/k·ª∑ ni·ªám</u> v√†o...).</p>
                <p><b>Ph√¢n t√≠ch:</b> C·∫•u tr√∫c b·ªã ƒë·ªông "is + V-ed/V3". "Celebrated" l√† qu√° kh·ª© ph√¢n t·ª´ c·ªßa Celebrate (t·ªï ch·ª©c l·ªÖ k·ª∑ ni·ªám).</p>
            </div>`,
        'q8-3': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: A. take part in</div>
            <div class="exp-detail">
                <p><b>D·ªãch nghƒ©a:</b> ...children (3) <u>take part in</u> the food preparation. (...tr·∫ª em <u>tham gia v√†o</u> vi·ªác chu·∫©n b·ªã ƒë·ªì ƒÉn).</p>
                <p><b>Ph√¢n t√≠ch:</b> C·ª•m ƒë·ªông t·ª´ c·ªë ƒë·ªãnh (Collocation): "Take part in" = Participate in (Tham gia v√†o).</p>
            </div>`,
        'q8-4': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: E. play</div>
            <div class="exp-detail">
                <p><b>D·ªãch nghƒ©a:</b> Others (4) <u>play</u> board or card games together. (Nh·ªØng ng∆∞·ªùi kh√°c <u>ch∆°i</u> board game ho·∫∑c b√†i c√πng nhau).</p>
                <p><b>Ph√¢n t√≠ch:</b> Collocation: "Play games" (Ch∆°i tr√≤ ch∆°i).</p>
            </div>`,
        'q8-5': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: F. take</div>
            <div class="exp-detail">
                <p><b>D·ªãch nghƒ©a:</b> A lot of people (5) <u>take</u> this opportunity to help... (R·∫•t nhi·ªÅu ng∆∞·ªùi <u>n·∫Øm l·∫•y</u> c∆° h·ªôi n√†y ƒë·ªÉ gi√∫p ƒë·ª°...).</p>
                <p><b>Ph√¢n t√≠ch:</b> Collocation: "Take an opportunity" (N·∫Øm l·∫•y c∆° h·ªôi).</p>
            </div>`,
        'q8-6': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: D. spend</div>
            <div class="exp-detail">
                <p><b>D·ªãch nghƒ©a:</b> ...serve food to homeless people, (6) <u>spend</u> time with sick people... (...ph·ª•c v·ª• ƒë·ªì ƒÉn cho ng∆∞·ªùi v√¥ gia c∆∞, <u>d√†nh</u> th·ªùi gian cho ng∆∞·ªùi b·ªánh...).</p>
                <p><b>Ph√¢n t√≠ch:</b> Collocation: "Spend time + with + someone" (D√†nh th·ªùi gian cho ai).</p>
            </div>`,

        // Exercise 9A
        'q9a-1': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: Not Mentioned (NM)</div>
            <div class="exp-detail">
                <p><b>C√¢u h·ªèi:</b> National Children‚Äô Day is the <u>biggest</u> holiday of the year. (L√† ng√†y l·ªÖ <u>l·ªõn nh·∫•t</u> trong nƒÉm).</p>
                <p><b>D·∫´n ch·ª©ng:</b> B√†i ƒë·ªçc ch·ªâ n√≥i n√≥ l√† "National Children‚Äô Day" v√† di·ªÖn ra ng√†y 5/5. Kh√¥ng c√≥ c√¢u n√†o so s√°nh nh·∫•t (biggest) v·ªõi c√°c ng√†y l·ªÖ kh√°c.</p>
            </div>`,
        'q9a-2': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: True (T)</div>
            <div class="exp-detail">
                <p><b>C√¢u h·ªèi:</b> N√≥ l√† s·ª± b·∫Øt ƒë·∫ßu c·ªßa k·ª≥ ngh·ªâ h√®.</p>
                <p><b>D·∫´n ch·ª©ng:</b> "It is also the start of the summer." (N√≥ c≈©ng l√† s·ª± kh·ªüi ƒë·∫ßu c·ªßa m√πa h√®).</p>
            </div>`,
        'q9a-3': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: True (T)</div>
            <div class="exp-detail">
                <p><b>C√¢u h·ªèi:</b> Gia ƒë√¨nh 3 ng∆∞·ªùi th√¨ treo 3 con c√° b√™n ngo√†i nh√†.</p>
                <p><b>D·∫´n ch·ª©ng:</b> "...the number of fish is also the number of people in a family." (S·ªë l∆∞·ª£ng c√° ch√≠nh l√† s·ªë l∆∞·ª£ng ng∆∞·ªùi trong gia ƒë√¨nh).</p>
            </div>`,
        'q9a-4': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: False (F)</div>
            <div class="exp-detail">
                <p><b>C√¢u h·ªèi:</b> M·ªçi ng∆∞·ªùi <u>lu√¥n lu√¥n (always)</u> ƒÉn th·ª©c ƒÉn ƒë·∫∑c bi·ªát t·∫°i nh√†.</p>
                <p><b>D·∫´n ch·ª©ng:</b> "People often eat at home, but some restaurants have got special... menus - a lot of families eat at restaurants, too." (M·ªçi ng∆∞·ªùi th∆∞·ªùng ƒÉn ·ªü nh√†, nh∆∞ng... r·∫•t nhi·ªÅu gia ƒë√¨nh c≈©ng ƒÉn ·ªü nh√† h√†ng).</p>
                <p><b>Gi·∫£i th√≠ch:</b> T·ª´ "Always" l√†m c√¢u n√†y sai, v√¨ h·ªç c≈©ng ƒÉn ·ªü nh√† h√†ng.</p>
            </div>`,
        'q9a-5': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: True (T)</div>
            <div class="exp-detail">
                <p><b>C√¢u h·ªèi:</b> M·ªçi ng∆∞·ªùi m·∫∑c ƒë·ªì truy·ªÅn th·ªëng Nh·∫≠t B·∫£n v√†o ng√†y ƒë√≥.</p>
                <p><b>D·∫´n ch·ª©ng:</b> "Children often wear traditional Japanese clothes..." (Tr·∫ª em th∆∞·ªùng m·∫∑c qu·∫ßn √°o truy·ªÅn th·ªëng Nh·∫≠t B·∫£n...).</p>
                <p><b>Gi·∫£i th√≠ch:</b> Trong ng·ªØ c·∫£nh ng√†y T·∫øt thi·∫øu nhi, "People" (m·ªçi ng∆∞·ªùi) ·ªü c√¢u h·ªèi √°m ch·ªâ ƒë·ªëi t∆∞·ª£ng ch√≠nh c·ªßa ng√†y l·ªÖ l√† tr·∫ª em.</p>
            </div>`,
        'q9a-6': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: True (T)</div>
            <div class="exp-detail">
                <p><b>C√¢u h·ªèi:</b> C√°c b√© trai ƒë·ªôi th·ª© g√¨ ƒë√≥ ƒë·∫∑c bi·ªát l√™n ƒë·∫ßu.</p>
                <p><b>D·∫´n ch·ª©ng:</b> "...and the boys wear special paper hats." (...v√† c√°c b√© trai ƒë·ªôi nh·ªØng chi·∫øc m≈© gi·∫•y ƒë·∫∑c bi·ªát).</p>
            </div>`,

        // Exercise 9B
        'q9b-1': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: B. On the fifth day of the fifth month (May 5th).</div>
            <div class="exp-detail">
                <p><b>D·∫´n ch·ª©ng:</b> "National Children‚Äô Day in Japan is on the fifth day of the fifth month every year - that‚Äôs May 5th."</p>
            </div>`,
        'q9b-2': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: D. To celebrate children and their happiness...</div>
            <div class="exp-detail">
                <p><b>D·∫´n ch·ª©ng:</b> "People in Japan celebrate children and their happiness. It is also the start of the summer."</p>
                <p><b>Lo·∫°i tr·ª´:</b> Kh√¥ng nh·∫Øc ƒë·∫øn New Year (A), Harvest (B) hay Elderly people (C).</p>
            </div>`,
        'q9b-3': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: C. Rice cakes and delicious sweets.</div>
            <div class="exp-detail">
                <p><b>D·∫´n ch·ª©ng:</b> "The mother in every family often makes special food...: rice cakes and delicious sweets."</p>
            </div>`,
        'q9b-4': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: B. Special Children‚Äôs Day menus.</div>
            <div class="exp-detail">
                <p><b>D·∫´n ch·ª©ng:</b> "...some restaurants have got special Children‚Äôs Day menus..."</p>
            </div>`,
        'q9b-5': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: C. A lot of families.</div>
            <div class="exp-detail">
                <p><b>D·∫´n ch·ª©ng:</b> "...a lot of families eat at restaurants, too."</p>
                <p><b>Lo·∫°i tr·ª´:</b> Very few (R·∫•t √≠t) -> Sai; No families -> Sai.</p>
            </div>`,
        'q9b-6': `
            <div class="explanation-title">‚úÖ ƒê√°p √°n ƒë√∫ng: C. They wear traditional clothes and sing...</div>
            <div class="exp-detail">
                <p><b>D·∫´n ch·ª©ng:</b> "Children often wear traditional Japanese clothes and sing a special National Children‚Äô Day song..."</p>
            </div>`
    };

    function checkOne(questionId) {
        const container = document.getElementById(questionId);
        const selected = container.querySelector('input[name="'+questionId+'"]:checked');
        const explanationDiv = container.querySelector('.explanation-area');
        const correctVal = container.getAttribute('data-correct');

        if (!selected) {
            alert("Em ch∆∞a ch·ªçn ƒë√°p √°n n√†o c·∫£!");
            return;
        }

        // Disable options
        const allRadios = container.querySelectorAll('input[type="radio"]');
        allRadios.forEach(r => r.disabled = true);

        // Show Explanation
        explanationDiv.innerHTML = explanations[questionId];
        explanationDiv.style.display = 'block';

        // Check Correct/Incorrect
        if (selected.value === correctVal) {
            container.classList.add('status-correct');
        } else {
            container.classList.add('status-incorrect');
        }
    }

    function submitAll() {
        let score = 0;
        let total = 0;
        let firstUnanswered = null;

        // Loop through all question cards
        const questions = document.querySelectorAll('.question-card');
        
        questions.forEach(q => {
            total++;
            const id = q.id;
            const correctVal = q.getAttribute('data-correct');
            const selected = q.querySelector('input[name="'+id+'"]:checked');
            const explanationDiv = q.querySelector('.explanation-area');
            const allRadios = q.querySelectorAll('input[type="radio"]');

            // Remove old status classes
            q.classList.remove('status-correct', 'status-incorrect', 'status-unanswered');

            if (!selected) {
                q.classList.add('status-unanswered');
                if (!firstUnanswered) firstUnanswered = q;
                // Show explanation anyway for learning
                explanationDiv.innerHTML = `<p style='color:red;'><b>Em ch∆∞a l√†m c√¢u n√†y.</b></p>` + explanations[id];
                explanationDiv.style.display = 'block';
            } else {
                allRadios.forEach(r => r.disabled = true); // Lock answers
                if (selected.value === correctVal) {
                    score++;
                    q.classList.add('status-correct');
                } else {
                    q.classList.add('status-incorrect');
                }
                explanationDiv.innerHTML = explanations[id];
                explanationDiv.style.display = 'block';
            }
        });

        // Show Modal
        const modal = document.getElementById('resultModal');
        const scoreDisplay = document.getElementById('scoreDisplay');
        const feedback = document.getElementById('feedbackText');
        
        scoreDisplay.innerText = `${score}/${total}`;
        
        if (score === total) {
            feedback.innerText = "Xu·∫•t s·∫Øc! Em l√†m ƒë√∫ng h·∫øt r·ªìi! (Excellent!)";
        } else if (score > total * 0.8) {
            feedback.innerText = "R·∫•t t·ªët! Em ch·ªâ sai m·ªôt ch√∫t th√¥i. (Very Good!)";
        } else if (score > total * 0.5) {
            feedback.innerText = "Kh√° t·ªët. H√£y xem l·∫°i ph·∫ßn gi·∫£i th√≠ch nh√©. (Good try!)";
        } else {
            feedback.innerText = "C·∫ßn c·ªë g·∫Øng nhi·ªÅu h∆°n nha. (Keep practicing!)";
        }

        modal.style.display = 'flex';

        // Scroll to first unanswered if exists
        if (firstUnanswered) {
            firstUnanswered.scrollIntoView({behavior: 'smooth', block: 'center'});
        }
    }

    function closeModal() {
        document.getElementById('resultModal').style.display = 'none';
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
        const modal = document.getElementById('resultModal');
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>

</body>
</html>


