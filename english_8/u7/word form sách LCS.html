<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bài tập Word Form (Ex 6) - Ms. Mai An ULIS</title>
    
    <!-- Google Fonts: Nunito (Rounded & Friendly) -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Confetti Library -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --primary: #8854C0; /* Purple */
            --primary-dark: #6c429c;
            --secondary: #00C9A7; /* Teal */
            --secondary-dark: #009e82;
            --correct: #00D26A; /* Green */
            --correct-dark: #00a855;
            --wrong: #FF4757; /* Red/Orange */
            --wrong-dark: #cc3946;
            --background-pattern: radial-gradient(#ffffff 15%, transparent 16%), radial-gradient(#ffffff 15%, transparent 16%);
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: #f0f4f8;
            background-image: radial-gradient(#8854c0 0.8px, transparent 0.8px), radial-gradient(#8854c0 0.8px, #f0f4f8 0.8px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            color: #2d3748;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* 3D Button Effect */
        .btn-3d {
            transition: all 0.1s;
            border-bottom: 6px solid rgba(0,0,0,0.2);
            transform: translateY(0);
        }
        
        .btn-3d:active {
            transform: translateY(4px);
            border-bottom: 2px solid rgba(0,0,0,0.2);
        }

        .btn-option {
            background-color: white;
            border: 2px solid #e2e8f0;
            border-bottom: 6px solid #cbd5e0;
            color: #4a5568;
            border-radius: 16px;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.2s;
        }

        .btn-option:hover:not(:disabled) {
            transform: scale(1.02);
            background-color: #f7fafc;
            border-color: var(--primary);
        }

        .btn-option.correct {
            background-color: var(--correct) !important;
            border-color: var(--correct-dark) !important;
            border-bottom-color: var(--correct-dark) !important;
            color: white !important;
        }

        .btn-option.wrong {
            background-color: var(--wrong) !important;
            border-color: var(--wrong-dark) !important;
            border-bottom-color: var(--wrong-dark) !important;
            color: white !important;
            animation: shake 0.5s;
        }

        /* Animations */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-2deg); }
            50% { transform: translateX(5px) rotate(2deg); }
            75% { transform: translateX(-5px) rotate(-2deg); }
            100% { transform: translateX(0); }
        }

        @keyframes popIn {
            0% { opacity: 0; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }

        .card-container {
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* Teacher's Note Styling */
        .teacher-note {
            border-left: 5px solid var(--secondary);
            background-color: #e6fffa;
        }
        
        .analysis-box {
            background-color: #fff5f5;
            border-radius: 12px;
            border: 2px dashed #feb2b2;
        }

        .translation-box {
            background-color: #ebf8ff;
            border-radius: 12px;
            color: #2b6cb0;
        }

        /* Header Style */
        .header-badge {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            box-shadow: 0 4px 15px rgba(136, 84, 192, 0.4);
        }

        /* Custom Scrollbar for Explanation */
        .explanation-scroll::-webkit-scrollbar {
            width: 8px;
        }
        .explanation-scroll::-webkit-scrollbar-track {
            background: #f1f1f1; 
            border-radius: 4px;
        }
        .explanation-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e0; 
            border-radius: 4px;
        }
        .explanation-scroll::-webkit-scrollbar-thumb:hover {
            background: #a0aec0; 
        }

        [v-cloak] { display: none; }
    </style>
</head>
<body class="flex flex-col items-center justify-center py-6 px-4">

    <!-- Header -->
    <div class="w-full max-w-4xl flex justify-between items-center mb-6">
        <div class="header-badge text-white px-6 py-2 rounded-full font-bold text-sm md:text-lg flex items-center gap-2">
            <i class="fas fa-chalkboard-teacher"></i>
            <span>Ms. Mai An ULIS</span>
        </div>
        <div class="text-gray-600 font-bold bg-white px-4 py-2 rounded-full shadow-sm">
            Exercise 6: Environment & Life
        </div>
    </div>

    <!-- Main Game Container -->
    <div id="app" class="w-full max-w-3xl relative">
        
        <!-- Score & Progress -->
        <div class="flex justify-between items-end mb-4 px-2">
            <div class="w-full mr-4">
                <div class="flex justify-between text-sm font-bold text-gray-500 mb-1">
                    <span>Question <span id="current-q">1</span>/<span id="total-q">15</span></span>
                    <span>Score: <span id="score-display" class="text-purple-600 text-lg">0</span></span>
                </div>
                <div class="h-4 w-full bg-gray-200 rounded-full overflow-hidden border-2 border-white shadow-inner">
                    <div id="progress-bar" class="h-full bg-gradient-to-r from-purple-400 to-pink-500 transition-all duration-500 ease-out" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <!-- Question Card -->
        <div id="quiz-card" class="card-container bg-white rounded-3xl shadow-xl p-6 md:p-8 border-b-8 border-gray-200 relative overflow-hidden">
            
            <!-- Question Text -->
            <div class="mb-8">
                <h2 id="question-text" class="text-xl md:text-2xl font-bold text-gray-800 leading-relaxed">
                    <!-- Question goes here -->
                </h2>
                <div id="hint-text" class="mt-3 text-sm text-purple-500 font-semibold italic flex items-center gap-2 hidden">
                    <i class="fas fa-lightbulb text-yellow-400 text-lg"></i>
                    <span>Hint: <span id="hint-content">...</span></span>
                </div>
            </div>

            <!-- Options Grid -->
            <div id="options-grid" class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                <!-- Options injected via JS -->
            </div>

            <!-- Explanation Section (Hidden by default) -->
            <div id="explanation-area" class="hidden mt-6 border-t-2 border-dashed border-gray-200 pt-6 animate-fade-in">
                <div class="bg-white rounded-xl shadow-inner border border-gray-100 overflow-hidden">
                    <div class="bg-gradient-to-r from-green-400 to-emerald-500 text-white px-4 py-2 font-bold flex items-center gap-2">
                        <i class="fas fa-check-circle"></i>
                        <span>Giải thích chi tiết - Ms. Mai An</span>
                    </div>
                    
                    <div class="p-5 explanation-scroll max-h-[400px] overflow-y-auto space-y-4">
                        
                        <!-- 1. Translation -->
                        <div class="translation-box p-4 flex gap-3 items-start">
                            <div class="mt-1"><i class="fas fa-language text-xl"></i></div>
                            <div>
                                <h4 class="font-bold text-sm uppercase mb-1 opacity-70">Dịch nghĩa câu hỏi:</h4>
                                <p id="exp-translation" class="font-semibold text-lg"></p>
                            </div>
                        </div>

                        <!-- 2. Vocab Analysis -->
                        <div class="analysis-box p-4">
                            <h4 class="font-bold text-red-400 text-sm uppercase mb-2"><i class="fas fa-book-open mr-2"></i>Phân tích từ vựng:</h4>
                            <div id="exp-analysis" class="text-gray-700 space-y-1 text-sm md:text-base font-medium"></div>
                        </div>

                        <!-- 3. Teacher's Rationale -->
                        <div class="teacher-note p-4 rounded-r-lg">
                            <h4 class="font-bold text-teal-600 text-sm uppercase mb-2"><i class="fas fa-glasses mr-2"></i>Tại sao chọn đáp án này?</h4>
                            <p id="exp-rationale" class="text-gray-800 leading-relaxed"></p>
                        </div>

                    </div>
                </div>
                
                <!-- Next Button -->
                <div class="mt-6 flex justify-end">
                    <button id="next-btn" onclick="nextQuestion()" class="btn-3d bg-purple-600 border-purple-800 text-white px-8 py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-purple-500 flex items-center gap-2">
                        Câu tiếp theo <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>

        </div>

        <!-- Result Screen (Hidden initially) -->
        <div id="result-screen" class="hidden card-container bg-white rounded-3xl shadow-xl p-8 text-center border-b-8 border-gray-200">
            <div class="mb-6">
                <i class="fas fa-trophy text-6xl text-yellow-400 animate-bounce"></i>
            </div>
            <h2 class="text-3xl font-bold text-gray-800 mb-2">Hoàn thành xuất sắc!</h2>
            <p class="text-gray-500 mb-6">Bạn đã nỗ lực hết mình. Dưới đây là kết quả:</p>
            
            <div class="flex justify-center items-center gap-8 mb-8">
                <div class="text-center">
                    <div class="text-4xl font-extrabold text-green-500" id="final-score">0</div>
                    <div class="text-sm font-bold text-gray-400">ĐIỂM SỐ</div>
                </div>
                <div class="w-px h-12 bg-gray-200"></div>
                <div class="text-center">
                    <div class="text-4xl font-extrabold text-purple-500" id="final-percent">0%</div>
                    <div class="text-sm font-bold text-gray-400">CHÍNH XÁC</div>
                </div>
            </div>

            <div id="teacher-feedback" class="bg-purple-50 p-4 rounded-xl text-purple-700 font-bold mb-8 italic">
                "Tuyệt vời! Hãy tiếp tục giữ vững phong độ nhé!"
            </div>

            <button onclick="location.reload()" class="btn-3d bg-green-500 border-green-700 text-white px-8 py-3 rounded-xl font-bold text-lg w-full">
                <i class="fas fa-redo mr-2"></i> Làm lại bài
            </button>
        </div>

    </div>

    <!-- JavaScript Logic -->
    <script>
        // --- DATA SOURCE ---
        const quizData = {
            "questions": [
    {
      "questionNumber": 1,
      "question": "We need to ________________ our oceans by reducing plastic waste and overfishing. (PROTECTION)",
      "answerOptions": [
        {
          "text": "protect",
          "rationale": "Phân tích:\n- A. protect (verb): bảo vệ\n- B. protective (adj): mang tính bảo vệ\n- C. protection (noun): sự bảo vệ\n- D. protectively (adv): một cách che chở\n\nGiải thích: Sau 'need to' cần một động từ nguyên thể (infinitive) để chỉ hành động.\n\nDịch câu: Chúng ta cần bảo vệ đại dương bằng cách giảm rác thải nhựa và đánh bắt quá mức.",
          "isCorrect": true
        },
        {
          "text": "protective",
          "rationale": "Phân tích:\n- A. protect (verb): bảo vệ\n- B. protective (adj): mang tính bảo vệ\n- C. protection (noun): sự bảo vệ\n- D. protectively (adv): một cách che chở\n\nGiải thích: Sau 'need to' cần một động từ nguyên thể (infinitive) để chỉ hành động.\n\nDịch câu: Chúng ta cần bảo vệ đại dương bằng cách giảm rác thải nhựa và đánh bắt quá mức.",
          "isCorrect": false
        },
        {
          "text": "protection",
          "rationale": "Phân tích:\n- A. protect (verb): bảo vệ\n- B. protective (adj): mang tính bảo vệ\n- C. protection (noun): sự bảo vệ\n- D. protectively (adv): một cách che chở\n\nGiải thích: Sau 'need to' cần một động từ nguyên thể (infinitive) để chỉ hành động.\n\nDịch câu: Chúng ta cần bảo vệ đại dương bằng cách giảm rác thải nhựa và đánh bắt quá mức.",
          "isCorrect": false
        },
        {
          "text": "protectively",
          "rationale": "Phân tích:\n- A. protect (verb): bảo vệ\n- B. protective (adj): mang tính bảo vệ\n- C. protection (noun): sự bảo vệ\n- D. protectively (adv): một cách che chở\n\nGiải thích: Sau 'need to' cần một động từ nguyên thể (infinitive) để chỉ hành động.\n\nDịch câu: Chúng ta cần bảo vệ đại dương bằng cách giảm rác thải nhựa và đánh bắt quá mức.",
          "isCorrect": false
        }
      ],
      "hint": "Sau 'to' là động từ nguyên thể."
    },
    {
      "questionNumber": 2,
      "question": "Pesticides and chemical fertilizers can be ________________ to both the environment and human health. (TOXICITY)",
      "answerOptions": [
        {
          "text": "toxin",
          "rationale": "Phân tích:\n- A. toxin (noun): chất độc\n- B. toxic (adj): độc hại\n- C. toxicity (noun): độc tính\n- D. toxically (adv): một cách độc hại\n\nGiải thích: Sau động từ to be 'can be' cần một tính từ (adjective) để miêu tả tính chất của thuốc trừ sâu và phân bón.\n\nDịch câu: Thuốc trừ sâu và phân bón hóa học có thể gây độc hại cho cả môi trường và sức khỏe con người.",
          "isCorrect": false
        },
        {
          "text": "toxic",
          "rationale": "Phân tích:\n- A. toxin (noun): chất độc\n- B. toxic (adj): độc hại\n- C. toxicity (noun): độc tính\n- D. toxically (adv): một cách độc hại\n\nGiải thích: Sau động từ to be 'can be' cần một tính từ (adjective) để miêu tả tính chất của thuốc trừ sâu và phân bón.\n\nDịch câu: Thuốc trừ sâu và phân bón hóa học có thể gây độc hại cho cả môi trường và sức khỏe con người.",
          "isCorrect": true
        },
        {
          "text": "toxicity",
          "rationale": "Phân tích:\n- A. toxin (noun): chất độc\n- B. toxic (adj): độc hại\n- C. toxicity (noun): độc tính\n- D. toxically (adv): một cách độc hại\n\nGiải thích: Sau động từ to be 'can be' cần một tính từ (adjective) để miêu tả tính chất của thuốc trừ sâu và phân bón.\n\nDịch câu: Thuốc trừ sâu và phân bón hóa học có thể gây độc hại cho cả môi trường và sức khỏe con người.",
          "isCorrect": false
        },
        {
          "text": "toxically",
          "rationale": "Phân tích:\n- A. toxin (noun): chất độc\n- B. toxic (adj): độc hại\n- C. toxicity (noun): độc tính\n- D. toxically (adv): một cách độc hại\n\nGiải thích: Sau động từ to be 'can be' cần một tính từ (adjective) để miêu tả tính chất của thuốc trừ sâu và phân bón.\n\nDịch câu: Thuốc trừ sâu và phân bón hóa học có thể gây độc hại cho cả môi trường và sức khỏe con người.",
          "isCorrect": false
        }
      ],
      "hint": "Cần tính từ chỉ tính chất sau 'be'."
    },
    {
      "questionNumber": 3,
      "question": "Her younger sister can be ________________ when she behaves naughtily. (ANNOY)",
      "answerOptions": [
        {
          "text": "annoy",
          "rationale": "Phân tích:\n- A. annoy (verb): làm phiền\n- B. annoyance (noun): sự phiền toái\n- C. annoyed (adj): cảm thấy khó chịu (bị động)\n- D. annoying (adj): gây khó chịu (chủ động)\n\nGiải thích: Cần một tính từ để miêu tả tính cách/hành động của người em gái (người gây ra sự khó chịu). Do đó dùng tính từ đuôi -ing.\n\nDịch câu: Em gái của cô ấy có thể rất phiền phức khi con bé cư xử hư đốn.",
          "isCorrect": false
        },
        {
          "text": "annoyance",
          "rationale": "Phân tích:\n- A. annoy (verb): làm phiền\n- B. annoyance (noun): sự phiền toái\n- C. annoyed (adj): cảm thấy khó chịu (bị động)\n- D. annoying (adj): gây khó chịu (chủ động)\n\nGiải thích: Cần một tính từ để miêu tả tính cách/hành động của người em gái (người gây ra sự khó chịu). Do đó dùng tính từ đuôi -ing.\n\nDịch câu: Em gái của cô ấy có thể rất phiền phức khi con bé cư xử hư đốn.",
          "isCorrect": false
        },
        {
          "text": "annoyed",
          "rationale": "Phân tích:\n- A. annoy (verb): làm phiền\n- B. annoyance (noun): sự phiền toái\n- C. annoyed (adj): cảm thấy khó chịu (bị động)\n- D. annoying (adj): gây khó chịu (chủ động)\n\nGiải thích: Cần một tính từ để miêu tả tính cách/hành động của người em gái (người gây ra sự khó chịu). Do đó dùng tính từ đuôi -ing.\n\nDịch câu: Em gái của cô ấy có thể rất phiền phức khi con bé cư xử hư đốn.",
          "isCorrect": false
        },
        {
          "text": "annoying",
          "rationale": "Phân tích:\n- A. annoy (verb): làm phiền\n- B. annoyance (noun): sự phiền toái\n- C. annoyed (adj): cảm thấy khó chịu (bị động)\n- D. annoying (adj): gây khó chịu (chủ động)\n\nGiải thích: Cần một tính từ để miêu tả tính cách/hành động của người em gái (người gây ra sự khó chịu). Do đó dùng tính từ đuôi -ing.\n\nDịch câu: Em gái của cô ấy có thể rất phiền phức khi con bé cư xử hư đốn.",
          "isCorrect": true
        }
      ],
      "hint": "Người gây ra sự bực mình thì dùng tính từ đuôi -ing."
    },
    {
      "questionNumber": 4,
      "question": "You must read the ________________ carefully before you use the new oven. (INSTRUCT)",
      "answerOptions": [
        {
          "text": "instruct",
          "rationale": "Phân tích:\n- A. instruct (verb): hướng dẫn\n- B. instructor (noun): người hướng dẫn\n- C. instruction (noun): sự hướng dẫn (số ít)\n- D. instructions (noun): bản hướng dẫn (số nhiều)\n\nGiải thích: Sau mạo từ 'the' cần một danh từ. Trong ngữ cảnh sử dụng thiết bị, ta dùng 'instructions' (số nhiều) để chỉ bảng hướng dẫn sử dụng.\n\nDịch câu: Bạn phải đọc kỹ hướng dẫn sử dụng trước khi dùng lò nướng mới.",
          "isCorrect": false
        },
        {
          "text": "instructor",
          "rationale": "Phân tích:\n- A. instruct (verb): hướng dẫn\n- B. instructor (noun): người hướng dẫn\n- C. instruction (noun): sự hướng dẫn (số ít)\n- D. instructions (noun): bản hướng dẫn (số nhiều)\n\nGiải thích: Sau mạo từ 'the' cần một danh từ. Trong ngữ cảnh sử dụng thiết bị, ta dùng 'instructions' (số nhiều) để chỉ bảng hướng dẫn sử dụng.\n\nDịch câu: Bạn phải đọc kỹ hướng dẫn sử dụng trước khi dùng lò nướng mới.",
          "isCorrect": false
        },
        {
          "text": "instruction",
          "rationale": "Phân tích:\n- A. instruct (verb): hướng dẫn\n- B. instructor (noun): người hướng dẫn\n- C. instruction (noun): sự hướng dẫn (số ít)\n- D. instructions (noun): bản hướng dẫn (số nhiều)\n\nGiải thích: Sau mạo từ 'the' cần một danh từ. Trong ngữ cảnh sử dụng thiết bị, ta dùng 'instructions' (số nhiều) để chỉ bảng hướng dẫn sử dụng.\n\nDịch câu: Bạn phải đọc kỹ hướng dẫn sử dụng trước khi dùng lò nướng mới.",
          "isCorrect": false
        },
        {
          "text": "instructions",
          "rationale": "Phân tích:\n- A. instruct (verb): hướng dẫn\n- B. instructor (noun): người hướng dẫn\n- C. instruction (noun): sự hướng dẫn (số ít)\n- D. instructions (noun): bản hướng dẫn (số nhiều)\n\nGiải thích: Sau mạo từ 'the' cần một danh từ. Trong ngữ cảnh sử dụng thiết bị, ta dùng 'instructions' (số nhiều) để chỉ bảng hướng dẫn sử dụng.\n\nDịch câu: Bạn phải đọc kỹ hướng dẫn sử dụng trước khi dùng lò nướng mới.",
          "isCorrect": true
        }
      ],
      "hint": "Cần danh từ số nhiều chỉ 'tờ hướng dẫn'."
    },
    {
      "questionNumber": 5,
      "question": "We were taken aback at the ________________ changes in our village; each home owns a computer now. (DRAMA)",
      "answerOptions": [
        {
          "text": "drama",
          "rationale": "Phân tích:\n- A. drama (noun): kịch, sự việc kịch tính\n- B. dramatic (adj): ấn tượng, mạnh mẽ\n- C. dramatically (adv): một cách ấn tượng\n- D. dramatize (verb): kịch hóa\n\nGiải thích: Đứng trước danh từ 'changes' (sự thay đổi) cần một tính từ để bổ nghĩa.\n\nDịch câu: Chúng tôi ngạc nhiên trước những thay đổi ngoạn mục trong ngôi làng của mình; mỗi nhà giờ đều sở hữu một chiếc máy tính.",
          "isCorrect": false
        },
        {
          "text": "dramatic",
          "rationale": "Phân tích:\n- A. drama (noun): kịch, sự việc kịch tính\n- B. dramatic (adj): ấn tượng, mạnh mẽ\n- C. dramatically (adv): một cách ấn tượng\n- D. dramatize (verb): kịch hóa\n\nGiải thích: Đứng trước danh từ 'changes' (sự thay đổi) cần một tính từ để bổ nghĩa.\n\nDịch câu: Chúng tôi ngạc nhiên trước những thay đổi ngoạn mục trong ngôi làng của mình; mỗi nhà giờ đều sở hữu một chiếc máy tính.",
          "isCorrect": true
        },
        {
          "text": "dramatically",
          "rationale": "Phân tích:\n- A. drama (noun): kịch, sự việc kịch tính\n- B. dramatic (adj): ấn tượng, mạnh mẽ\n- C. dramatically (adv): một cách ấn tượng\n- D. dramatize (verb): kịch hóa\n\nGiải thích: Đứng trước danh từ 'changes' (sự thay đổi) cần một tính từ để bổ nghĩa.\n\nDịch câu: Chúng tôi ngạc nhiên trước những thay đổi ngoạn mục trong ngôi làng của mình; mỗi nhà giờ đều sở hữu một chiếc máy tính.",
          "isCorrect": false
        },
        {
          "text": "dramatize",
          "rationale": "Phân tích:\n- A. drama (noun): kịch, sự việc kịch tính\n- B. dramatic (adj): ấn tượng, mạnh mẽ\n- C. dramatically (adv): một cách ấn tượng\n- D. dramatize (verb): kịch hóa\n\nGiải thích: Đứng trước danh từ 'changes' (sự thay đổi) cần một tính từ để bổ nghĩa.\n\nDịch câu: Chúng tôi ngạc nhiên trước những thay đổi ngoạn mục trong ngôi làng của mình; mỗi nhà giờ đều sở hữu một chiếc máy tính.",
          "isCorrect": false
        }
      ],
      "hint": "Cần tính từ bổ nghĩa cho 'changes'."
    },
    {
      "questionNumber": 6,
      "question": "It is always ________________ to watch the cubs at play. (INTEREST)",
      "answerOptions": [
        {
          "text": "interest",
          "rationale": "Phân tích:\n- A. interest (n/v): sự quan tâm/làm quan tâm\n- B. interesting (adj): thú vị (tính chất sự việc)\n- C. interested (adj): cảm thấy quan tâm (cảm xúc người)\n- D. interestingly (adv): một cách thú vị\n\nGiải thích: Cấu trúc 'It is + adj + to V'. Việc 'watch the cubs' là sự việc gây hứng thú, nên dùng tính từ đuôi -ing.\n\nDịch câu: Luôn luôn thú vị khi xem những chú sư tử con chơi đùa.",
          "isCorrect": false
        },
        {
          "text": "interesting",
          "rationale": "Phân tích:\n- A. interest (n/v): sự quan tâm/làm quan tâm\n- B. interesting (adj): thú vị (tính chất sự việc)\n- C. interested (adj): cảm thấy quan tâm (cảm xúc người)\n- D. interestingly (adv): một cách thú vị\n\nGiải thích: Cấu trúc 'It is + adj + to V'. Việc 'watch the cubs' là sự việc gây hứng thú, nên dùng tính từ đuôi -ing.\n\nDịch câu: Luôn luôn thú vị khi xem những chú sư tử con chơi đùa.",
          "isCorrect": true
        },
        {
          "text": "interested",
          "rationale": "Phân tích:\n- A. interest (n/v): sự quan tâm/làm quan tâm\n- B. interesting (adj): thú vị (tính chất sự việc)\n- C. interested (adj): cảm thấy quan tâm (cảm xúc người)\n- D. interestingly (adv): một cách thú vị\n\nGiải thích: Cấu trúc 'It is + adj + to V'. Việc 'watch the cubs' là sự việc gây hứng thú, nên dùng tính từ đuôi -ing.\n\nDịch câu: Luôn luôn thú vị khi xem những chú sư tử con chơi đùa.",
          "isCorrect": false
        },
        {
          "text": "interestingly",
          "rationale": "Phân tích:\n- A. interest (n/v): sự quan tâm/làm quan tâm\n- B. interesting (adj): thú vị (tính chất sự việc)\n- C. interested (adj): cảm thấy quan tâm (cảm xúc người)\n- D. interestingly (adv): một cách thú vị\n\nGiải thích: Cấu trúc 'It is + adj + to V'. Việc 'watch the cubs' là sự việc gây hứng thú, nên dùng tính từ đuôi -ing.\n\nDịch câu: Luôn luôn thú vị khi xem những chú sư tử con chơi đùa.",
          "isCorrect": false
        }
      ],
      "hint": "Miêu tả tính chất của hành động 'watch' -> dùng tính từ đuôi -ing."
    },
    {
      "questionNumber": 7,
      "question": "My mother advised me to be careful in my ________________ of friends. (CHOOSE)",
      "answerOptions": [
        {
          "text": "choose",
          "rationale": "Phân tích:\n- A. choose (verb): chọn\n- B. choice (noun): sự lựa chọn\n- C. chosen (verb-ed): được chọn\n- D. choosy (adj): kén chọn\n\nGiải thích: Sau tính từ sở hữu 'my' cần một danh từ.\n\nDịch câu: Mẹ tôi khuyên tôi nên cẩn thận trong việc lựa chọn bạn bè.",
          "isCorrect": false
        },
        {
          "text": "choice",
          "rationale": "Phân tích:\n- A. choose (verb): chọn\n- B. choice (noun): sự lựa chọn\n- C. chosen (verb-ed): được chọn\n- D. choosy (adj): kén chọn\n\nGiải thích: Sau tính từ sở hữu 'my' cần một danh từ.\n\nDịch câu: Mẹ tôi khuyên tôi nên cẩn thận trong việc lựa chọn bạn bè.",
          "isCorrect": true
        },
        {
          "text": "chosen",
          "rationale": "Phân tích:\n- A. choose (verb): chọn\n- B. choice (noun): sự lựa chọn\n- C. chosen (verb-ed): được chọn\n- D. choosy (adj): kén chọn\n\nGiải thích: Sau tính từ sở hữu 'my' cần một danh từ.\n\nDịch câu: Mẹ tôi khuyên tôi nên cẩn thận trong việc lựa chọn bạn bè.",
          "isCorrect": false
        },
        {
          "text": "choosy",
          "rationale": "Phân tích:\n- A. choose (verb): chọn\n- B. choice (noun): sự lựa chọn\n- C. chosen (verb-ed): được chọn\n- D. choosy (adj): kén chọn\n\nGiải thích: Sau tính từ sở hữu 'my' cần một danh từ.\n\nDịch câu: Mẹ tôi khuyên tôi nên cẩn thận trong việc lựa chọn bạn bè.",
          "isCorrect": false
        }
      ],
      "hint": "Danh từ của 'choose' là gì?"
    },
    {
      "questionNumber": 8,
      "question": "The ________________ makes everybody very drowsy during the lesson in class. (HOT)",
      "answerOptions": [
        {
          "text": "hot",
          "rationale": "Phân tích:\n- A. hot (adj): nóng\n- B. heat (noun): sức nóng, nhiệt độ cao\n- C. heater (noun): lò sưởi\n- D. hotly (adv): một cách sôi nổi\n\nGiải thích: Sau mạo từ 'The' và làm chủ ngữ của câu, cần một danh từ chỉ hiện tượng/trạng thái thời tiết.\n\nDịch câu: Cái nóng khiến mọi người rất buồn ngủ trong giờ học trên lớp.",
          "isCorrect": false
        },
        {
          "text": "heat",
          "rationale": "Phân tích:\n- A. hot (adj): nóng\n- B. heat (noun): sức nóng, nhiệt độ cao\n- C. heater (noun): lò sưởi\n- D. hotly (adv): một cách sôi nổi\n\nGiải thích: Sau mạo từ 'The' và làm chủ ngữ của câu, cần một danh từ chỉ hiện tượng/trạng thái thời tiết.\n\nDịch câu: Cái nóng khiến mọi người rất buồn ngủ trong giờ học trên lớp.",
          "isCorrect": true
        },
        {
          "text": "heater",
          "rationale": "Phân tích:\n- A. hot (adj): nóng\n- B. heat (noun): sức nóng, nhiệt độ cao\n- C. heater (noun): lò sưởi\n- D. hotly (adv): một cách sôi nổi\n\nGiải thích: Sau mạo từ 'The' và làm chủ ngữ của câu, cần một danh từ chỉ hiện tượng/trạng thái thời tiết.\n\nDịch câu: Cái nóng khiến mọi người rất buồn ngủ trong giờ học trên lớp.",
          "isCorrect": false
        },
        {
          "text": "hotly",
          "rationale": "Phân tích:\n- A. hot (adj): nóng\n- B. heat (noun): sức nóng, nhiệt độ cao\n- C. heater (noun): lò sưởi\n- D. hotly (adv): một cách sôi nổi\n\nGiải thích: Sau mạo từ 'The' và làm chủ ngữ của câu, cần một danh từ chỉ hiện tượng/trạng thái thời tiết.\n\nDịch câu: Cái nóng khiến mọi người rất buồn ngủ trong giờ học trên lớp.",
          "isCorrect": false
        }
      ],
      "hint": "Cần danh từ của 'hot' để làm chủ ngữ."
    },
    {
      "questionNumber": 9,
      "question": "The couple came here at the special ________________ of the prime minister. (INVITE)",
      "answerOptions": [
        {
          "text": "invite",
          "rationale": "Phân tích:\n- A. invite (verb/noun - informal): mời\n- B. invitation (noun): lời mời\n- C. invited (verb-ed): đã mời\n- D. inviting (adj): hấp dẫn\n\nGiải thích: Sau tính từ 'special' cần một danh từ. 'Invitation' là danh từ trang trọng phù hợp với ngữ cảnh 'Prime Minister' (Thủ tướng).\n\nDịch câu: Cặp đôi đã đến đây theo lời mời đặc biệt của Thủ tướng.",
          "isCorrect": false
        },
        {
          "text": "invitation",
          "rationale": "Phân tích:\n- A. invite (verb/noun - informal): mời\n- B. invitation (noun): lời mời\n- C. invited (verb-ed): đã mời\n- D. inviting (adj): hấp dẫn\n\nGiải thích: Sau tính từ 'special' cần một danh từ. 'Invitation' là danh từ trang trọng phù hợp với ngữ cảnh 'Prime Minister' (Thủ tướng).\n\nDịch câu: Cặp đôi đã đến đây theo lời mời đặc biệt của Thủ tướng.",
          "isCorrect": true
        },
        {
          "text": "invited",
          "rationale": "Phân tích:\n- A. invite (verb/noun - informal): mời\n- B. invitation (noun): lời mời\n- C. invited (verb-ed): đã mời\n- D. inviting (adj): hấp dẫn\n\nGiải thích: Sau tính từ 'special' cần một danh từ. 'Invitation' là danh từ trang trọng phù hợp với ngữ cảnh 'Prime Minister' (Thủ tướng).\n\nDịch câu: Cặp đôi đã đến đây theo lời mời đặc biệt của Thủ tướng.",
          "isCorrect": false
        },
        {
          "text": "inviting",
          "rationale": "Phân tích:\n- A. invite (verb/noun - informal): mời\n- B. invitation (noun): lời mời\n- C. invited (verb-ed): đã mời\n- D. inviting (adj): hấp dẫn\n\nGiải thích: Sau tính từ 'special' cần một danh từ. 'Invitation' là danh từ trang trọng phù hợp với ngữ cảnh 'Prime Minister' (Thủ tướng).\n\nDịch câu: Cặp đôi đã đến đây theo lời mời đặc biệt của Thủ tướng.",
          "isCorrect": false
        }
      ],
      "hint": "Danh từ của 'invite' là gì?"
    },
    {
      "questionNumber": 10,
      "question": "Please ________________ the volume of your voice. I can even hear you from next door. (LOW)",
      "answerOptions": [
        {
          "text": "low",
          "rationale": "Phân tích:\n- A. low (adj/adv): thấp\n- B. lower (verb): hạ thấp\n- C. lowest (adj - so sánh nhất): thấp nhất\n- D. lowly (adj/adv): thấp kém\n\nGiải thích: Đây là câu mệnh lệnh, cần một động từ nguyên thể đứng đầu sau 'Please'. Động từ của 'low' là 'lower'.\n\nDịch câu: Làm ơn hạ thấp giọng xuống. Tôi có thể nghe thấy bạn từ phòng bên cạnh đấy.",
          "isCorrect": false
        },
        {
          "text": "lower",
          "rationale": "Phân tích:\n- A. low (adj/adv): thấp\n- B. lower (verb): hạ thấp\n- C. lowest (adj - so sánh nhất): thấp nhất\n- D. lowly (adj/adv): thấp kém\n\nGiải thích: Đây là câu mệnh lệnh, cần một động từ nguyên thể đứng đầu sau 'Please'. Động từ của 'low' là 'lower'.\n\nDịch câu: Làm ơn hạ thấp giọng xuống. Tôi có thể nghe thấy bạn từ phòng bên cạnh đấy.",
          "isCorrect": true
        },
        {
          "text": "lowest",
          "rationale": "Phân tích:\n- A. low (adj/adv): thấp\n- B. lower (verb): hạ thấp\n- C. lowest (adj - so sánh nhất): thấp nhất\n- D. lowly (adj/adv): thấp kém\n\nGiải thích: Đây là câu mệnh lệnh, cần một động từ nguyên thể đứng đầu sau 'Please'. Động từ của 'low' là 'lower'.\n\nDịch câu: Làm ơn hạ thấp giọng xuống. Tôi có thể nghe thấy bạn từ phòng bên cạnh đấy.",
          "isCorrect": false
        },
        {
          "text": "lowly",
          "rationale": "Phân tích:\n- A. low (adj/adv): thấp\n- B. lower (verb): hạ thấp\n- C. lowest (adj - so sánh nhất): thấp nhất\n- D. lowly (adj/adv): thấp kém\n\nGiải thích: Đây là câu mệnh lệnh, cần một động từ nguyên thể đứng đầu sau 'Please'. Động từ của 'low' là 'lower'.\n\nDịch câu: Làm ơn hạ thấp giọng xuống. Tôi có thể nghe thấy bạn từ phòng bên cạnh đấy.",
          "isCorrect": false
        }
      ],
      "hint": "Cần động từ mang nghĩa 'hạ thấp'."
    },
    {
      "questionNumber": 11,
      "question": "These men are armed and ________________, and should not be approached. (DANGER)",
      "answerOptions": [
        {
          "text": "danger",
          "rationale": "Phân tích:\n- A. danger (noun): sự nguy hiểm\n- B. endanger (verb): gây nguy hiểm\n- C. dangerous (adj): nguy hiểm\n- D. dangerously (adv): một cách nguy hiểm\n\nGiải thích: Cấu trúc song hành với 'armed' (adj - có vũ trang) thông qua từ 'and'. Ta cần một tính từ miêu tả đặc điểm của 'These men'.\n\nDịch câu: Những người đàn ông này có vũ trang và rất nguy hiểm, không nên tiếp cận.",
          "isCorrect": false
        },
        {
          "text": "endanger",
          "rationale": "Phân tích:\n- A. danger (noun): sự nguy hiểm\n- B. endanger (verb): gây nguy hiểm\n- C. dangerous (adj): nguy hiểm\n- D. dangerously (adv): một cách nguy hiểm\n\nGiải thích: Cấu trúc song hành với 'armed' (adj - có vũ trang) thông qua từ 'and'. Ta cần một tính từ miêu tả đặc điểm của 'These men'.\n\nDịch câu: Những người đàn ông này có vũ trang và rất nguy hiểm, không nên tiếp cận.",
          "isCorrect": false
        },
        {
          "text": "dangerous",
          "rationale": "Phân tích:\n- A. danger (noun): sự nguy hiểm\n- B. endanger (verb): gây nguy hiểm\n- C. dangerous (adj): nguy hiểm\n- D. dangerously (adv): một cách nguy hiểm\n\nGiải thích: Cấu trúc song hành với 'armed' (adj - có vũ trang) thông qua từ 'and'. Ta cần một tính từ miêu tả đặc điểm của 'These men'.\n\nDịch câu: Những người đàn ông này có vũ trang và rất nguy hiểm, không nên tiếp cận.",
          "isCorrect": true
        },
        {
          "text": "dangerously",
          "rationale": "Phân tích:\n- A. danger (noun): sự nguy hiểm\n- B. endanger (verb): gây nguy hiểm\n- C. dangerous (adj): nguy hiểm\n- D. dangerously (adv): một cách nguy hiểm\n\nGiải thích: Cấu trúc song hành với 'armed' (adj - có vũ trang) thông qua từ 'and'. Ta cần một tính từ miêu tả đặc điểm của 'These men'.\n\nDịch câu: Những người đàn ông này có vũ trang và rất nguy hiểm, không nên tiếp cận.",
          "isCorrect": false
        }
      ],
      "hint": "Cần tính từ đi sau động từ 'are'."
    },
    {
      "questionNumber": 12,
      "question": "The latest ________________ of this book contains many illustrative pictures. (EDIT)",
      "answerOptions": [
        {
          "text": "edit",
          "rationale": "Phân tích:\n- A. edit (verb): chỉnh sửa\n- B. editor (noun): biên tập viên\n- C. edition (noun): ấn bản/phiên bản\n- D. editing (noun): việc biên tập\n\nGiải thích: Sau tính từ 'latest' cần một danh từ. Ngữ cảnh nói về cuốn sách có tranh minh họa thì đó là 'ấn bản'.\n\nDịch câu: Ấn bản mới nhất của cuốn sách này chứa nhiều hình ảnh minh họa.",
          "isCorrect": false
        },
        {
          "text": "editor",
          "rationale": "Phân tích:\n- A. edit (verb): chỉnh sửa\n- B. editor (noun): biên tập viên\n- C. edition (noun): ấn bản/phiên bản\n- D. editing (noun): việc biên tập\n\nGiải thích: Sau tính từ 'latest' cần một danh từ. Ngữ cảnh nói về cuốn sách có tranh minh họa thì đó là 'ấn bản'.\n\nDịch câu: Ấn bản mới nhất của cuốn sách này chứa nhiều hình ảnh minh họa.",
          "isCorrect": false
        },
        {
          "text": "edition",
          "rationale": "Phân tích:\n- A. edit (verb): chỉnh sửa\n- B. editor (noun): biên tập viên\n- C. edition (noun): ấn bản/phiên bản\n- D. editing (noun): việc biên tập\n\nGiải thích: Sau tính từ 'latest' cần một danh từ. Ngữ cảnh nói về cuốn sách có tranh minh họa thì đó là 'ấn bản'.\n\nDịch câu: Ấn bản mới nhất của cuốn sách này chứa nhiều hình ảnh minh họa.",
          "isCorrect": true
        },
        {
          "text": "editing",
          "rationale": "Phân tích:\n- A. edit (verb): chỉnh sửa\n- B. editor (noun): biên tập viên\n- C. edition (noun): ấn bản/phiên bản\n- D. editing (noun): việc biên tập\n\nGiải thích: Sau tính từ 'latest' cần một danh từ. Ngữ cảnh nói về cuốn sách có tranh minh họa thì đó là 'ấn bản'.\n\nDịch câu: Ấn bản mới nhất của cuốn sách này chứa nhiều hình ảnh minh họa.",
          "isCorrect": false
        }
      ],
      "hint": "Danh từ chỉ 'phiên bản sách'."
    },
    {
      "questionNumber": 13,
      "question": "The giant panda is an ________________ species due to habitat loss and poaching. (DANGER)",
      "answerOptions": [
        {
          "text": "danger",
          "rationale": "Phân tích:\n- A. danger (noun): sự nguy hiểm\n- B. dangerous (adj): nguy hiểm (gây hại cho người khác)\n- C. endangered (adj): bị đe dọa/có nguy cơ tuyệt chủng\n- D. endanger (verb): gây nguy hiểm\n\nGiải thích: Trước danh từ 'species' (loài) cần một tính từ. 'Endangered species' là cụm từ cố định chỉ các loài động vật có nguy cơ tuyệt chủng.\n\nDịch câu: Gấu trúc khổng lồ là một loài có nguy cơ tuyệt chủng do mất môi trường sống và nạn săn trộm.",
          "isCorrect": false
        },
        {
          "text": "dangerous",
          "rationale": "Phân tích:\n- A. danger (noun): sự nguy hiểm\n- B. dangerous (adj): nguy hiểm (gây hại cho người khác)\n- C. endangered (adj): bị đe dọa/có nguy cơ tuyệt chủng\n- D. endanger (verb): gây nguy hiểm\n\nGiải thích: Trước danh từ 'species' (loài) cần một tính từ. 'Endangered species' là cụm từ cố định chỉ các loài động vật có nguy cơ tuyệt chủng.\n\nDịch câu: Gấu trúc khổng lồ là một loài có nguy cơ tuyệt chủng do mất môi trường sống và nạn săn trộm.",
          "isCorrect": false
        },
        {
          "text": "endangered",
          "rationale": "Phân tích:\n- A. danger (noun): sự nguy hiểm\n- B. dangerous (adj): nguy hiểm (gây hại cho người khác)\n- C. endangered (adj): bị đe dọa/có nguy cơ tuyệt chủng\n- D. endanger (verb): gây nguy hiểm\n\nGiải thích: Trước danh từ 'species' (loài) cần một tính từ. 'Endangered species' là cụm từ cố định chỉ các loài động vật có nguy cơ tuyệt chủng.\n\nDịch câu: Gấu trúc khổng lồ là một loài có nguy cơ tuyệt chủng do mất môi trường sống và nạn săn trộm.",
          "isCorrect": true
        },
        {
          "text": "endanger",
          "rationale": "Phân tích:\n- A. danger (noun): sự nguy hiểm\n- B. dangerous (adj): nguy hiểm (gây hại cho người khác)\n- C. endangered (adj): bị đe dọa/có nguy cơ tuyệt chủng\n- D. endanger (verb): gây nguy hiểm\n\nGiải thích: Trước danh từ 'species' (loài) cần một tính từ. 'Endangered species' là cụm từ cố định chỉ các loài động vật có nguy cơ tuyệt chủng.\n\nDịch câu: Gấu trúc khổng lồ là một loài có nguy cơ tuyệt chủng do mất môi trường sống và nạn săn trộm.",
          "isCorrect": false
        }
      ],
      "hint": "Cụm từ '... species' (loài có nguy cơ tuyệt chủng)."
    },
    {
      "questionNumber": 14,
      "question": "The dodo bird went into ________________ in the 17th century due to hunting and habitat destruction. (EXTINCT)",
      "answerOptions": [
        {
          "text": "extinct",
          "rationale": "Phân tích:\n- A. extinct (adj): tuyệt chủng\n- B. extinction (noun): sự tuyệt chủng\n- C. extinguish (verb): dập tắt\n- D. extinctive (adj): làm tuyệt giống\n\nGiải thích: Sau giới từ 'into' cần một danh từ.\n\nDịch câu: Loài chim dodo đã đi vào sự tuyệt chủng (bị tuyệt chủng) vào thế kỷ 17 do nạn săn bắn và phá hủy môi trường sống.",
          "isCorrect": false
        },
        {
          "text": "extinction",
          "rationale": "Phân tích:\n- A. extinct (adj): tuyệt chủng\n- B. extinction (noun): sự tuyệt chủng\n- C. extinguish (verb): dập tắt\n- D. extinctive (adj): làm tuyệt giống\n\nGiải thích: Sau giới từ 'into' cần một danh từ.\n\nDịch câu: Loài chim dodo đã đi vào sự tuyệt chủng (bị tuyệt chủng) vào thế kỷ 17 do nạn săn bắn và phá hủy môi trường sống.",
          "isCorrect": true
        },
        {
          "text": "extinguish",
          "rationale": "Phân tích:\n- A. extinct (adj): tuyệt chủng\n- B. extinction (noun): sự tuyệt chủng\n- C. extinguish (verb): dập tắt\n- D. extinctive (adj): làm tuyệt giống\n\nGiải thích: Sau giới từ 'into' cần một danh từ.\n\nDịch câu: Loài chim dodo đã đi vào sự tuyệt chủng (bị tuyệt chủng) vào thế kỷ 17 do nạn săn bắn và phá hủy môi trường sống.",
          "isCorrect": false
        },
        {
          "text": "extinctive",
          "rationale": "Phân tích:\n- A. extinct (adj): tuyệt chủng\n- B. extinction (noun): sự tuyệt chủng\n- C. extinguish (verb): dập tắt\n- D. extinctive (adj): làm tuyệt giống\n\nGiải thích: Sau giới từ 'into' cần một danh từ.\n\nDịch câu: Loài chim dodo đã đi vào sự tuyệt chủng (bị tuyệt chủng) vào thế kỷ 17 do nạn săn bắn và phá hủy môi trường sống.",
          "isCorrect": false
        }
      ],
      "hint": "Cần danh từ sau giới từ 'into'."
    },
    {
      "questionNumber": 15,
      "question": "The rainforest is the ________________ of many species of animals and plants. (HABITATION)",
      "answerOptions": [
        {
          "text": "habit",
          "rationale": "Phân tích:\n- A. habit (noun): thói quen\n- B. habitat (noun): môi trường sống (tự nhiên)\n- C. habitation (noun): sự cư trú (của con người), nơi ở\n- D. inhabit (verb): cư trú\n\nGiải thích: Rừng nhiệt đới là môi trường tự nhiên cho động thực vật, nên dùng 'habitat'. 'Habitation' thường dùng cho việc sinh sống của con người hoặc hành động ở.\n\nDịch câu: Rừng nhiệt đới là môi trường sống của nhiều loài động vật và thực vật.",
          "isCorrect": false
        },
        {
          "text": "habitat",
          "rationale": "Phân tích:\n- A. habit (noun): thói quen\n- B. habitat (noun): môi trường sống (tự nhiên)\n- C. habitation (noun): sự cư trú (của con người), nơi ở\n- D. inhabit (verb): cư trú\n\nGiải thích: Rừng nhiệt đới là môi trường tự nhiên cho động thực vật, nên dùng 'habitat'. 'Habitation' thường dùng cho việc sinh sống của con người hoặc hành động ở.\n\nDịch câu: Rừng nhiệt đới là môi trường sống của nhiều loài động vật và thực vật.",
          "isCorrect": true
        },
        {
          "text": "habitation",
          "rationale": "Phân tích:\n- A. habit (noun): thói quen\n- B. habitat (noun): môi trường sống (tự nhiên)\n- C. habitation (noun): sự cư trú (của con người), nơi ở\n- D. inhabit (verb): cư trú\n\nGiải thích: Rừng nhiệt đới là môi trường tự nhiên cho động thực vật, nên dùng 'habitat'. 'Habitation' thường dùng cho việc sinh sống của con người hoặc hành động ở.\n\nDịch câu: Rừng nhiệt đới là môi trường sống của nhiều loài động vật và thực vật.",
          "isCorrect": false
        },
        {
          "text": "inhabit",
          "rationale": "Phân tích:\n- A. habit (noun): thói quen\n- B. habitat (noun): môi trường sống (tự nhiên)\n- C. habitation (noun): sự cư trú (của con người), nơi ở\n- D. inhabit (verb): cư trú\n\nGiải thích: Rừng nhiệt đới là môi trường tự nhiên cho động thực vật, nên dùng 'habitat'. 'Habitation' thường dùng cho việc sinh sống của con người hoặc hành động ở.\n\nDịch câu: Rừng nhiệt đới là môi trường sống của nhiều loài động vật và thực vật.",
          "isCorrect": false
        }
      ],
      "hint": "Từ chuyên ngành sinh học chỉ 'môi trường sống'."
    }
  ]
        };

        // --- GAME LOGIC ---
        let currentQuestionIndex = 0;
        let score = 0;
        let isAnswered = false;

        // Audio Context (Synthesizer)
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playTone(freq, type, duration) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.type = type;
            osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
            gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + duration);
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + duration);
        }

        function playCorrectSound() {
            playTone(600, 'sine', 0.1);
            setTimeout(() => playTone(800, 'sine', 0.2), 100);
        }

        function playWrongSound() {
            playTone(150, 'sawtooth', 0.3);
            setTimeout(() => playTone(100, 'sawtooth', 0.3), 150);
        }

        // Parse Teacher Explanation Text
        function parseExplanationText(rawText) {
            // Default Structure
            let translation = "Đang cập nhật...";
            let analysis = "Đang cập nhật...";
            let rationale = "Đang cập nhật...";

            // Use simple splitting based on the known format in JSON
            // Format: "Phân tích:\n...\n\nGiải thích: ...\n\nDịch câu: ..."
            
            // Extract Translation
            const transMatch = rawText.match(/Dịch câu:\s*([\s\S]*?)$/i);
            if (transMatch) translation = transMatch[1].trim();

            // Extract Analysis
            const analysisMatch = rawText.match(/Phân tích:\s*([\s\S]*?)(?=Giải thích:)/i);
            if (analysisMatch) {
                analysis = analysisMatch[1].trim().split('\n').map(line => {
                    return `<div class="pl-2 border-l-2 border-red-200">${line.trim()}</div>`;
                }).join('');
            } else {
                 // Fallback if formatting is slightly different
                 const parts = rawText.split("Giải thích:");
                 if(parts[0]) analysis = parts[0].replace("Phân tích:", "").trim().split('\n').map(l => `<div>${l}</div>`).join('');
            }

            // Extract Rationale (Explanation)
            const rationaleMatch = rawText.match(/Giải thích:\s*([\s\S]*?)(?=Dịch câu:)/i);
            if (rationaleMatch) {
                rationale = rationaleMatch[1].trim();
            } else {
                // Fallback
                 const parts = rawText.split("Giải thích:");
                 if(parts[1]) {
                     const subParts = parts[1].split("Dịch câu:");
                     rationale = subParts[0].trim();
                 }
            }

            return { translation, analysis, rationale };
        }

        function renderQuestion() {
            isAnswered = false;
            const q = quizData.questions[currentQuestionIndex];
            
            // Update UI Stats
            document.getElementById('current-q').innerText = currentQuestionIndex + 1;
            document.getElementById('total-q').innerText = quizData.questions.length;
            const progressPct = ((currentQuestionIndex) / quizData.questions.length) * 100;
            document.getElementById('progress-bar').style.width = `${progressPct}%`;
            
            // Reset UI
            document.getElementById('explanation-area').classList.add('hidden');
            document.getElementById('question-text').innerHTML = q.question.replace('________________', '<span class="border-b-4 border-purple-400 text-purple-600 px-2 inline-block min-w-[50px]"></span>');
            
            // Hint
            if (q.hint) {
                document.getElementById('hint-text').classList.remove('hidden');
                document.getElementById('hint-content').innerText = q.hint;
            } else {
                document.getElementById('hint-text').classList.add('hidden');
            }

            // Options
            const optionsGrid = document.getElementById('options-grid');
            optionsGrid.innerHTML = '';
            
            const letters = ['A', 'B', 'C', 'D'];
            q.answerOptions.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = `btn-3d btn-option w-full py-4 px-4 flex items-center justify-between group`;
                btn.onclick = () => checkAnswer(idx);
                btn.id = `opt-${idx}`;
                btn.innerHTML = `
                    <span class="flex items-center gap-3">
                        <span class="bg-gray-100 text-gray-500 w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm group-hover:bg-purple-100 group-hover:text-purple-600 transition-colors">${letters[idx]}</span>
                        <span class="text-left">${opt.text}</span>
                    </span>
                    <i class="fas fa-check-circle text-white opacity-0 transform scale-0 transition-all duration-300 status-icon"></i>
                `;
                optionsGrid.appendChild(btn);
            });
        }

        function checkAnswer(selectedIndex) {
            if (isAnswered) return;
            isAnswered = true;

            const q = quizData.questions[currentQuestionIndex];
            const correctIndex = q.answerOptions.findIndex(o => o.isCorrect);
            const correctOption = q.answerOptions[correctIndex];
            const selectedOption = q.answerOptions[selectedIndex];

            // UI Updates
            const correctBtn = document.getElementById(`opt-${correctIndex}`);
            const selectedBtn = document.getElementById(`opt-${selectedIndex}`);

            // Always highlight correct answer green
            correctBtn.classList.add('correct');
            correctBtn.querySelector('.status-icon').classList.remove('opacity-0', 'scale-0');

            if (selectedIndex === correctIndex) {
                // Correct Case
                score++;
                document.getElementById('score-display').innerText = score;
                playCorrectSound();
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#8854C0', '#00C9A7', '#FFD700']
                });
            } else {
                // Wrong Case
                selectedBtn.classList.add('wrong');
                selectedBtn.querySelector('.status-icon').classList.remove('fas', 'fa-check-circle');
                selectedBtn.querySelector('.status-icon').classList.add('fas', 'fa-times-circle');
                selectedBtn.querySelector('.status-icon').classList.remove('opacity-0', 'scale-0');
                playWrongSound();
            }

            // Disable all buttons
            document.querySelectorAll('.btn-option').forEach(btn => {
                btn.disabled = true;
                btn.classList.add('cursor-default');
            });

            // Show Explanation
            const parsedExp = parseExplanationText(correctOption.rationale); // The correct option contains the full rationale in this dataset
            
            document.getElementById('exp-translation').innerText = parsedExp.translation;
            document.getElementById('exp-analysis').innerHTML = parsedExp.analysis;
            document.getElementById('exp-rationale').innerText = parsedExp.rationale;
            
            document.getElementById('explanation-area').classList.remove('hidden');
            
            // Scroll to explanation on mobile
            if (window.innerWidth < 768) {
                setTimeout(() => {
                    document.getElementById('explanation-area').scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 300);
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizData.questions.length) {
                renderQuestion();
                document.getElementById('quiz-card').scrollIntoView({ behavior: 'smooth', block: 'center' });
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('quiz-card').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            document.getElementById('final-score').innerText = score + '/' + quizData.questions.length;
            
            const percent = Math.round((score / quizData.questions.length) * 100);
            document.getElementById('final-percent').innerText = percent + '%';
            
            const feedback = document.getElementById('teacher-feedback');
            if (percent === 100) feedback.innerText = "Xuất sắc! Cô Mai An rất tự hào về em!";
            else if (percent >= 80) feedback.innerText = "Rất tốt! Em nắm bài rất chắc chắn.";
            else if (percent >= 50) feedback.innerText = "Khá lắm! Cố gắng ôn lại các từ vựng đã sai nhé.";
            else feedback.innerText = "Đừng buồn nhé! Hãy xem lại phần giải thích và làm lại bài nào.";

            confetti({
                particleCount: 200,
                spread: 160,
                origin: { y: 0.6 }
            });
        }

        // Initialize
        renderQuestion();

    </script>
</body>
</html>
