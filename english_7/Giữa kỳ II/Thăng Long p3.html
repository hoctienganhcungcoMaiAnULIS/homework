<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i Thi Ti·∫øng Anh T∆∞∆°ng T√°c - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8854C0;
            --secondary: #00C9A7;
            --accent: #FDCB6E;
            --correct: #00D26A;
            --wrong: #FF4757;
            --bg-light: #ffffff;
            --text-dark: #2d3436;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Quicksand', sans-serif;
        }

        /* DYNAMIC BACKGROUND & ANIMATION */
        body {
            background: linear-gradient(45deg, var(--primary), var(--secondary), var(--accent));
            background-size: 300% 300%;
            animation: gradientBG 10s ease infinite;
            color: var(--text-dark);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* SVG PATTERN OVERLAY */
        .pattern-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg width="150" height="150" xmlns="http://www.w3.org/2000/svg"><text x="20" y="40" font-size="25" opacity="0.2">üåü</text><text x="100" y="90" font-size="25" opacity="0.2">üìö</text><text x="40" y="130" font-size="25" opacity="0.2">üöÄ</text></svg>');
            pointer-events: none;
            z-index: 0;
            animation: floatPattern 20s linear infinite;
        }

        @keyframes floatPattern {
            from { background-position: 0 0; }
            to { background-position: 150px 150px; }
        }

        /* TOP BAR */
        .top-bar {
            background: rgba(255, 255, 255, 0.95);
            height: 70px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            position: relative;
            z-index: 10;
        }

        .header-title {
            font-size: 1.2rem;
            color: var(--primary);
            font-weight: 700;
        }

        .header-title span {
            font-size: 0.8rem;
            color: #636e72;
            display: block;
        }

        .timer-btn {
            background: var(--wrong);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 0 #d63031;
            transition: all 0.2s;
        }

        .timer-btn:active {
            transform: translateY(5px);
            box-shadow: none;
        }

        .timer-display {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--wrong);
            display: none;
            align-items: center;
            gap: 10px;
        }

        /* SPLIT SCREEN LAYOUT */
        .main-container {
            display: flex;
            flex: 1;
            overflow: hidden;
            position: relative;
            z-index: 1;
            padding: 20px;
            gap: 20px;
        }

        .panel {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            backdrop-filter: blur(10px);
        }

        /* LEFT PANEL: READING */
        .passage {
            margin-bottom: 40px;
            line-height: 1.8;
            font-size: 1.1rem;
        }

        .passage-title {
            color: var(--primary);
            font-size: 1.4rem;
            margin-bottom: 15px;
            border-bottom: 2px dashed var(--accent);
            padding-bottom: 10px;
        }

        .translate-btn {
            background: var(--accent);
            color: #2d3436;
            border: none;
            padding: 8px 15px;
            border-radius: 12px;
            font-size: 0.9rem;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            box-shadow: 0 4px 0 #e1b12c;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }
        .translate-btn:active { transform: translateY(4px); box-shadow: none; }

        .translation-box {
            display: none;
            background: #fff3cd;
            padding: 15px;
            border-radius: 12px;
            margin-top: 10px;
            font-size: 1rem;
            border-left: 5px solid var(--accent);
        }

        /* GLOSSARY TABLE */
        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .glossary-table th, .glossary-table td {
            padding: 12px;
            border-bottom: 1px solid #eee;
            text-align: left;
        }
        .glossary-table th {
            background: var(--primary);
            color: white;
        }

        /* RIGHT PANEL: EXERCISES */
        .question-card {
            background: white;
            border: 2px solid #eee;
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s;
        }

        .question-text {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .option-btn {
            background: white;
            border: 2px solid #dfe6e9;
            padding: 15px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 0 #dfe6e9;
            text-align: left;
        }

        .option-btn:hover:not(:disabled) {
            transform: scale(1.02);
            border-color: var(--secondary);
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(4px) scale(1.02);
            box-shadow: none;
        }

        .option-btn.correct {
            background: var(--correct);
            color: white;
            border-color: var(--correct);
            box-shadow: 0 4px 0 #00a854;
        }

        .option-btn.wrong {
            background: var(--wrong);
            color: white;
            border-color: var(--wrong);
            box-shadow: 0 4px 0 #d63031;
            animation: shake 0.4s;
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }

        .explanation {
            display: none;
            margin-top: 15px;
            padding: 15px;
            background: #e0f7fa;
            border-left: 5px solid var(--secondary);
            border-radius: 10px;
            font-size: 1rem;
            animation: fadeIn 0.5s;
        }

        .explanation strong { color: var(--primary); }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* SUBMIT BUTTON & MODAL */
        .submit-btn {
            display: block;
            width: 100%;
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px;
            font-size: 1.3rem;
            font-weight: bold;
            border-radius: 20px;
            cursor: pointer;
            box-shadow: 0 6px 0 #6c5ce7;
            margin-top: 30px;
            transition: all 0.2s;
        }
        .submit-btn:active {
            transform: translateY(6px);
            box-shadow: none;
        }

        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }
        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 25px;
            text-align: center;
            max-width: 500px;
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes popIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .score-circle {
            width: 120px; height: 120px;
            background: var(--accent);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.5rem;
            font-weight: bold;
            margin: 0 auto 20px;
            color: #2d3436;
            border: 5px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* CONFETTI CANVAS */
        #confetti {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 999;
        }

        /* SCROLLBAR CUSTOMIZATION */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 10px; }
        ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 10px; }
    </style>
</head>
<body>

    <div class="pattern-overlay"></div>
    <canvas id="confetti"></canvas>

    <div class="top-bar">
        <div class="header-title">
            ENGLISH CHALLENGE
            <span>Gi√°o vi√™n t·∫°o: Ms Mai An ULIS</span>
        </div>
        <button class="timer-btn" id="startTimerBtn">‚è≥ B·∫ÆT ƒê·∫¶U T√çNH GI·ªú L√ÄM B√ÄI</button>
        <div class="timer-display" id="timerDisplay">
            <span id="timeText">10:00</span>
            <button id="pauseTimerBtn" style="background:none;border:none;cursor:pointer;font-size:1.2rem;">‚è∏Ô∏è</button>
        </div>
    </div>

    <div class="main-container">
        <div class="panel left-panel">
            
            <div class="passage">
                <h2 class="passage-title">Ex 10. ADVANTAGES OF FESTIVALS</h2>
                <p>
                    Around the world, there are a lot of festivals. People love festivals (1) __________ of the advantages they bring about. First of all, festivals are (2) __________for the community. They create an opportunity for the people to take part in the festival (3) __________. Also, festivals help people cooperate with one another when they organise the activities together. They can also (4) __________ more about and appreciate their cultural values. Second, families can benefit from festivals. These are the opportunities for family (5) __________ to gather, prepare for the festival and (6) __________ some fun. For example, before Tet, the whole family (7) __________ their house, go to the flower market, make Chung cake, etc. During Tet, they enjoy the meals (8) __________ and visit their relatives.
                </p>
                <button class="translate-btn" onclick="toggleTranslation('trans1')">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                <div class="translation-box" id="trans1">
                    <strong>B·∫¢N D·ªäCH ƒê·∫¶Y ƒê·ª¶:</strong><br>
                    Tr√™n kh·∫Øp th·∫ø gi·ªõi, c√≥ r·∫•t nhi·ªÅu l·ªÖ h·ªôi. M·ªçi ng∆∞·ªùi y√™u th√≠ch c√°c l·ªÖ h·ªôi (1) b·ªüi v√¨ nh·ªØng l·ª£i √≠ch m√† ch√∫ng mang l·∫°i. Tr∆∞·ªõc h·∫øt, l·ªÖ h·ªôi r·∫•t (2) t·ªët cho c·ªông ƒë·ªìng. Ch√∫ng t·∫°o c∆° h·ªôi cho m·ªçi ng∆∞·ªùi tham gia v√†o c√°c (3) ho·∫°t ƒë·ªông l·ªÖ h·ªôi. Ngo√†i ra, l·ªÖ h·ªôi gi√∫p m·ªçi ng∆∞·ªùi h·ª£p t√°c v·ªõi nhau khi c√πng nhau t·ªï ch·ª©c c√°c ho·∫°t ƒë·ªông. H·ªç c≈©ng c√≥ th·ªÉ (4) t√¨m hi·ªÉu th√™m v√† tr√¢n tr·ªçng nh·ªØng gi√° tr·ªã vƒÉn h√≥a c·ªßa m√¨nh. Th·ª© hai, c√°c gia ƒë√¨nh c√≥ th·ªÉ h∆∞·ªüng l·ª£i t·ª´ l·ªÖ h·ªôi. ƒê√¢y l√† c∆° h·ªôi ƒë·ªÉ c√°c (5) th√†nh vi√™n trong gia ƒë√¨nh ƒëo√†n t·ª•, chu·∫©n b·ªã cho l·ªÖ h·ªôi v√† (6) c√≥ nh·ªØng ni·ªÅm vui. V√≠ d·ª•, tr∆∞·ªõc T·∫øt, c·∫£ gia ƒë√¨nh (7) d·ªçn d·∫πp nh√† c·ª≠a, ƒëi ch·ª£ hoa, g√≥i b√°nh ch∆∞ng, v.v. Trong d·ªãp T·∫øt, h·ªç (8) c√πng nhau th∆∞·ªüng th·ª©c c√°c b·ªØa ƒÉn v√† ƒëi thƒÉm h·ªç h√†ng.
                </div>
            </div>

            <div class="passage">
                <h2 class="passage-title">Ex 11. TRAFFIC IN CITIES</h2>
                <p>
                    The volume of traffic in many cities in the world today continues to expand. This caused many problems, including serious air pollution, lengthy delays, and the greater risk of accidents. Clearly, something must be done, but it is difficult to persuade people to change habits and leaves their cars at home.
                </p>
                <button class="translate-btn" onclick="toggleTranslation('trans2')">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                <div class="translation-box" id="trans2">
                    <strong>B·∫¢N D·ªäCH ƒê·∫¶Y ƒê·ª¶:</strong><br>
                    L∆∞u l∆∞·ª£ng giao th√¥ng ·ªü nhi·ªÅu th√†nh ph·ªë tr√™n th·∫ø gi·ªõi ng√†y nay ti·∫øp t·ª•c tƒÉng l√™n. ƒêi·ªÅu n√†y g√¢y ra nhi·ªÅu v·∫•n ƒë·ªÅ, bao g·ªìm √¥ nhi·ªÖm kh√¥ng kh√≠ nghi√™m tr·ªçng, nh·ªØng s·ª± ch·∫≠m tr·ªÖ k√©o d√†i v√† nguy c∆° tai n·∫°n cao h∆°n. R√µ r√†ng, c·∫ßn ph·∫£i l√†m m·ªôt ƒëi·ªÅu g√¨ ƒë√≥, nh∆∞ng r·∫•t kh√≥ ƒë·ªÉ thuy·∫øt ph·ª•c m·ªçi ng∆∞·ªùi thay ƒë·ªïi th√≥i quen v√† ƒë·ªÉ xe h∆°i c·ªßa h·ªç ·ªü nh√†.
                </div>
                <br>
                <p>
                    One possible approach is to make it more expensive for people to use their cars by increasing charges for parking and bringing in tougher fines for anyone who breaks the law. In addition, drivers could be required to pay for using particular routes at differ times of the day. This system, known as road pricing has already been introduced in a number of cities, using a special electronic card fixed to the windscreen of the car. Of course, the most important thing is to provide good public transport. However, to get people to give up the comfort of their cars, public transport must be felt to be reliable, convenient and comfortable, with fares kept at an acceptable level.
                </p>
                <button class="translate-btn" onclick="toggleTranslation('trans3')">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                <div class="translation-box" id="trans3">
                    <strong>B·∫¢N D·ªäCH ƒê·∫¶Y ƒê·ª¶:</strong><br>
                    M·ªôt gi·∫£i ph√°p kh·∫£ thi l√† l√†m cho vi·ªác s·ª≠ d·ª•ng xe h∆°i tr·ªü n√™n ƒë·∫Øt ƒë·ªè h∆°n b·∫±ng c√°ch tƒÉng ph√≠ ƒë·ªó xe v√† √°p d·ª•ng c√°c m·ª©c ph·∫°t n·∫∑ng h∆°n ƒë·ªëi v·ªõi b·∫•t k·ª≥ ai vi ph·∫°m lu·∫≠t. Ngo√†i ra, t√†i x·∫ø c√≥ th·ªÉ b·ªã y√™u c·∫ßu tr·∫£ ti·ªÅn khi s·ª≠ d·ª•ng c√°c tuy·∫øn ƒë∆∞·ªùng c·ª• th·ªÉ v√†o c√°c th·ªùi ƒëi·ªÉm kh√°c nhau trong ng√†y. H·ªá th·ªëng n√†y, ƒë∆∞·ª£c g·ªçi l√† thu ph√≠ ƒë∆∞·ªùng b·ªô, ƒë√£ ƒë∆∞·ª£c √°p d·ª•ng ·ªü m·ªôt s·ªë th√†nh ph·ªë, s·ª≠ d·ª•ng m·ªôt th·∫ª ƒëi·ªán t·ª≠ ƒë·∫∑c bi·ªát g·∫Øn tr√™n k√≠nh ch·∫Øn gi√≥ c·ªßa xe h∆°i. T·∫•t nhi√™n, ƒëi·ªÅu quan tr·ªçng nh·∫•t l√† ph·∫£i cung c·∫•p ph∆∞∆°ng ti·ªán giao th√¥ng c√¥ng c·ªông t·ªët. Tuy nhi√™n, ƒë·ªÉ khi·∫øn m·ªçi ng∆∞·ªùi t·ª´ b·ªè s·ª± tho·∫£i m√°i c·ªßa xe h∆°i c√° nh√¢n, giao th√¥ng c√¥ng c·ªông ph·∫£i t·∫°o ƒë∆∞·ª£c c·∫£m gi√°c ƒë√°ng tin c·∫≠y, ti·ªán l·ª£i v√† tho·∫£i m√°i, v·ªõi m·ª©c gi√° v√© ƒë∆∞·ª£c gi·ªØ ·ªü m·ª©c ch·∫•p nh·∫≠n ƒë∆∞·ª£c.
                </div>
            </div>

            <div class="passage">
                <h2 class="passage-title">Ex 12. TITANIC FILM</h2>
                <p>
                    Titanic is a romantic film, which was ............. (1) by James Cameron. However, it‚Äôs also about a disaster. It .............. (2) Leonardo DiCaprio and Kate Winslet. The film is about the sinking of the ship Titanic on its first voyage. The main .............. (3) are Jack Dawson and Rose DeWitt Bukater. Jack saves Rose from killing herself during the journey on board the ship. .............. (4) they are from different social classes, and Rose is already engaged, they fall in love. The film has a sad .............. (5): the Titanic sinks and more than a thousand people die in the disaster, including Jack. .............. (6) say it is a must-see. I agree, because the story is moving and the acting is excellent. The .............. (7) effects, visuals, and music are also incredible. Titanic is a very sad film. Nevertheless, many people really love it. Go and see it if you can.
                </p>
                <button class="translate-btn" onclick="toggleTranslation('trans4')">M·ªü d·ªãch ƒëo·∫°n n√†y üåü</button>
                <div class="translation-box" id="trans4">
                    <strong>B·∫¢N D·ªäCH ƒê·∫¶Y ƒê·ª¶:</strong><br>
                    Titanic l√† m·ªôt b·ªô phim l√£ng m·∫°n, ƒë∆∞·ª£c (1) ƒë·∫°o di·ªÖn b·ªüi James Cameron. Tuy nhi√™n, n√≥ c≈©ng k·ªÉ v·ªÅ m·ªôt th·∫£m h·ªça. B·ªô phim (2) c√≥ s·ª± tham gia ƒë√≥ng ch√≠nh c·ªßa Leonardo DiCaprio v√† Kate Winslet. Phim k·ªÉ v·ªÅ v·ª• ch√¨m t√†u Titanic trong chuy·∫øn h·∫£i h√†nh ƒë·∫ßu ti√™n c·ªßa n√≥. (3) C√°c nh√¢n v·∫≠t ch√≠nh l√† Jack Dawson v√† Rose DeWitt Bukater. Jack c·ª©u Rose kh·ªèi vi·ªác t·ª± t·ª≠ trong su·ªët h√†nh tr√¨nh tr√™n t√†u. (4) M·∫∑c d√π h·ªç xu·∫•t th√¢n t·ª´ c√°c t·∫ßng l·ªõp x√£ h·ªôi kh√°c nhau, v√† Rose ƒë√£ ƒë√≠nh h√¥n, h·ªç v·∫´n ƒëem l√≤ng y√™u nhau. B·ªô phim c√≥ m·ªôt (5) k·∫øt th√∫c bu·ªìn: t√†u Titanic ch√¨m v√† h∆°n m·ªôt ngh√¨n ng∆∞·ªùi ch·∫øt trong th·∫£m h·ªça, bao g·ªìm c·∫£ Jack. (6) C√°c nh√† ph√™ b√¨nh n√≥i r·∫±ng ƒë√¢y l√† m·ªôt b·ªô phim ph·∫£i xem. T√¥i ƒë·ªìng √Ω, b·ªüi v√¨ c√¢u chuy·ªán r·∫•t c·∫£m ƒë·ªông v√† di·ªÖn xu·∫•t th√¨ xu·∫•t s·∫Øc. (7) C√°c k·ªπ x·∫£o ƒë·∫∑c bi·ªát, h√¨nh ·∫£nh v√† √¢m nh·∫°c c≈©ng r·∫•t ƒë√°ng kinh ng·∫°c. Titanic l√† m·ªôt b·ªô phim r·∫•t bu·ªìn. Tuy nhi√™n, nhi·ªÅu ng∆∞·ªùi th·ª±c s·ª± y√™u th√≠ch n√≥. H√£y ƒëi xem n·∫øu b·∫°n c√≥ th·ªÉ.
                </div>
            </div>

            <h3 style="color:var(--primary); margin-top:30px;">üìö B·∫¢NG T·ª™ V·ª∞NG H·ªåC THU·∫¨T (GLOSSARY)</h3>
            <table class="glossary-table">
                <thead>
                    <tr><th>T·ª´ v·ª±ng (Word)</th><th>Lo·∫°i t·ª´</th><th>Nghƒ©a Ti·∫øng Vi·ªát</th></tr>
                </thead>
                <tbody>
                    <tr><td>1. Advantage</td><td>(n)</td><td>L·ª£i √≠ch, ∆∞u ƒëi·ªÉm</td></tr>
                    <tr><td>2. Cooperate</td><td>(v)</td><td>H·ª£p t√°c, c·ªông t√°c</td></tr>
                    <tr><td>3. Appreciate</td><td>(v)</td><td>Tr√¢n tr·ªçng, ƒë√°nh gi√° cao</td></tr>
                    <tr><td>4. Expand</td><td>(v)</td><td>M·ªü r·ªông, tƒÉng l√™n</td></tr>
                    <tr><td>5. Persuade</td><td>(v)</td><td>Thuy·∫øt ph·ª•c</td></tr>
                    <tr><td>6. Approach</td><td>(n)</td><td>Gi·∫£i ph√°p, ph∆∞∆°ng ph√°p ti·∫øp c·∫≠n</td></tr>
                    <tr><td>7. Reliable</td><td>(adj)</td><td>ƒê√°ng tin c·∫≠y</td></tr>
                    <tr><td>8. Disaster</td><td>(n)</td><td>Th·∫£m h·ªça</td></tr>
                    <tr><td>9. Voyage</td><td>(n)</td><td>Chuy·∫øn h·∫£i h√†nh (ƒëi tr√™n bi·ªÉn)</td></tr>
                    <tr><td>10. Engaged</td><td>(adj)</td><td>ƒê√£ ƒë√≠nh h√¥n</td></tr>
                    <tr><td>11. Critic</td><td>(n)</td><td>Nh√† ph√™ b√¨nh</td></tr>
                    <tr><td>12. Incredible</td><td>(adj)</td><td>ƒê√°ng kinh ng·∫°c, tuy·ªát v·ªùi</td></tr>
                </tbody>
            </table>
        </div>

        <div class="panel right-panel" id="quizContainer">
            <button class="submit-btn" onclick="submitQuiz()">N·ªòP B√ÄI NH·∫¨N K·∫æT QU·∫¢ üöÄ</button>
        </div>
    </div>

    <div class="modal-overlay" id="resultModal">
        <div class="modal-content">
            <h2 style="color:var(--primary); margin-bottom:15px;">K·∫æT QU·∫¢ B√ÄI L√ÄM</h2>
            <div class="score-circle" id="scoreDisplay">0/0</div>
            <h3 id="feedbackMessage" style="margin-bottom:20px;">ƒêang t√≠nh ƒëi·ªÉm...</h3>
            <p style="color:#636e72; margin-bottom: 25px;">H√£y xem l·∫°i c√°c c√¢u sai ·ªü c·ªôt b√™n ph·∫£i ƒë·ªÉ ƒë·ªçc gi·∫£i th√≠ch chi ti·∫øt nh√©!</p>
            <button class="translate-btn" style="padding:10px 30px;" onclick="closeModal()">ƒê√ìNG</button>
        </div>
    </div>

    <script>
        // --- D·ªÆ LI·ªÜU B√ÄI T·∫¨P ---
        const quizData = [
            // EX 10 (Sinh ƒë√°p √°n cho h·ªçc sinh ch·ªçn)
            { id: "10_1", title: "Ex 10 - Blank (1)", text: "People love festivals (1) __________ of the advantages they bring about.", 
              options: [ {t:"because", c:true}, {t:"spite", c:false}, {t:"instead", c:false}, {t:"due", c:false} ],
              exp: "<strong>T·∫°i sao ch·ªçn 'because'?</strong><br>C·∫•u tr√∫c: <b>because of + C·ª•m danh t·ª´/V-ing</b> (B·ªüi v√¨). Theo sau kho·∫£ng tr·ªëng l√† c·ª•m danh t·ª´ 'the advantages', n√™n ta d√πng 'because'. 'In spite of' mang nghƒ©a 'm·∫∑c d√π' (sai nghƒ©a). 'Due' ƒëi v·ªõi 'to'." },
            { id: "10_2", title: "Ex 10 - Blank (2)", text: "First of all, festivals are (2) __________ for the community.", 
              options: [ {t:"good", c:true}, {t:"bad", c:false}, {t:"harmful", c:false}, {t:"useless", c:false} ],
              exp: "<strong>T·∫°i sao ch·ªçn 'good'?</strong><br>C·ª•m t·ª´: <b>be good for...</b> (t·ªët cho...). C√°c l·ªÖ h·ªôi mang l·∫°i l·ª£i √≠ch (advantages) n√™n ch√∫ng 't·ªët cho' c·ªông ƒë·ªìng. C√°c t·ª´ c√≤n l·∫°i mang nghƒ©a ti√™u c·ª±c." },
            { id: "10_3", title: "Ex 10 - Blank (3)", text: "take part in the festival (3) __________.", 
              options: [ {t:"activities", c:true}, {t:"actions", c:false}, {t:"actors", c:false}, {t:"acting", c:false} ],
              exp: "<strong>T·∫°i sao ch·ªçn 'activities'?</strong><br><b>Festival activities</b>: c√°c ho·∫°t ƒë·ªông l·ªÖ h·ªôi. Ch·ªó tr·ªëng c·∫ßn m·ªôt danh t·ª´ s·ªë nhi·ªÅu ch·ªâ c√°c ho·∫°t ƒë·ªông ƒë∆∞·ª£c t·ªï ch·ª©c." },
            { id: "10_4", title: "Ex 10 - Blank (4)", text: "They can also (4) __________ more about and appreciate their cultural values.", 
              options: [ {t:"learn", c:true}, {t:"teach", c:false}, {t:"forget", c:false}, {t:"ignore", c:false} ],
              exp: "<strong>T·∫°i sao ch·ªçn 'learn'?</strong><br>C·ª•m <b>learn about</b>: h·ªçc h·ªèi/t√¨m hi·ªÉu v·ªÅ. H·ª£p l√Ω v·ªõi v·∫ø sau 'appreciate' (tr√¢n tr·ªçng) gi√° tr·ªã vƒÉn h√≥a." },
            { id: "10_5", title: "Ex 10 - Blank (5)", text: "These are the opportunities for family (5) __________ to gather...", 
              options: [ {t:"members", c:true}, {t:"people", c:false}, {t:"humans", c:false}, {t:"friends", c:false} ],
              exp: "<strong>T·∫°i sao ch·ªçn 'members'?</strong><br>C·ª•m t·ª´ c·ªë ƒë·ªãnh: <b>family members</b> (c√°c th√†nh vi√™n trong gia ƒë√¨nh)." },
            { id: "10_6", title: "Ex 10 - Blank (6)", text: "...prepare for the festival and (6) __________ some fun.", 
              options: [ {t:"have", c:true}, {t:"make", c:false}, {t:"do", c:false}, {t:"take", c:false} ],
              exp: "<strong>T·∫°i sao ch·ªçn 'have'?</strong><br>Collocation c·ªë ƒë·ªãnh: <b>have fun / have some fun</b> (vui v·∫ª, c√≥ ni·ªÅm vui). Kh√¥ng d√πng make/do fun." },
            { id: "10_7", title: "Ex 10 - Blank (7)", text: "before Tet, the whole family (7) __________ their house...", 
              options: [ {t:"clean", c:true}, {t:"build", c:false}, {t:"destroy", c:false}, {t:"sell", c:false} ],
              exp: "<strong>T·∫°i sao ch·ªçn 'clean'?</strong><br>Ho·∫°t ƒë·ªông ƒë·∫∑c tr∆∞ng tr∆∞·ªõc T·∫øt: <b>clean the house</b> (d·ªçn d·∫πp nh√† c·ª≠a)." },
            { id: "10_8", title: "Ex 10 - Blank (8)", text: "During Tet, they enjoy the meals (8) __________ and visit their relatives.", 
              options: [ {t:"together", c:true}, {t:"lonely", c:false}, {t:"sadly", c:false}, {t:"alone", c:false} ],
              exp: "<strong>T·∫°i sao ch·ªçn 'together'?</strong><br><b>Enjoy meals together</b>: Th∆∞·ªüng th·ª©c b·ªØa ƒÉn c√πng nhau. Th·ªÉ hi·ªán s·ª± ƒëo√†n t·ª• gia ƒë√¨nh." },

            // EX 11
            { id: "11_38", title: "Ex 11 - Question 38", text: "The word expand in paragraph 1 is closest in meaning to ____________.", 
              options: [ {t:"A. decrease", c:false}, {t:"B. increase", c:true}, {t:"C. reduce", c:false}, {t:"D. develop", c:false} ],
              exp: "<strong>Ph√¢n t√≠ch:</strong><br>- <b>expand</b> (v): m·ªü r·ªông, tƒÉng l√™n.<br>- <b>increase</b> (v): tƒÉng l√™n -> ƒê·ªìng nghƒ©a.<br>- decrease/reduce: gi·∫£m (Tr√°i nghƒ©a). D·∫´n ch·ª©ng: 'The volume of traffic... continues to expand'." },
            { id: "11_39", title: "Ex 11 - Question 39", text: "Which of the following is NOT mentioned as a problem caused by more traffic?", 
              options: [ {t:"A. serious air pollution", c:false}, {t:"B. greater risks of accidents", c:false}, {t:"C. people‚Äôs habits", c:true}, {t:"D. very long delays", c:false} ],
              exp: "<strong>Ph√¢n t√≠ch:</strong><br>ƒêo·∫°n 1 li·ªát k√™ h·∫≠u qu·∫£: 'serious air pollution, lengthy delays, and the greater risk of accidents'. <b>Th√≥i quen c·ªßa con ng∆∞·ªùi (people's habits)</b> l√† nguy√™n nh√¢n/v·∫•n ƒë·ªÅ kh√≥ thay ƒë·ªïi, KH√îNG ph·∫£i l√† h·∫≠u qu·∫£ do giao th√¥ng g√¢y ra." },
            { id: "11_40", title: "Ex 11 - Question 40", text: "The most important thing to encourage people to use public transport is ____________", 
              options: [ {t:"A. high parking fees", c:false}, {t:"B. good public transport", c:true}, {t:"C. road using fees", c:false}, {t:"D. high charges", c:false} ],
              exp: "<strong>Ph√¢n t√≠ch:</strong><br>D·∫´n ch·ª©ng ƒëo·∫°n 2: <i>'Of course, the most important thing is to provide <b>good public transport</b>'</i> (T·∫•t nhi√™n, ƒëi·ªÅu quan tr·ªçng nh·∫•t l√† cung c·∫•p ph∆∞∆°ng ti·ªán giao th√¥ng c√¥ng c·ªông t·ªët)." },
            { id: "11_41", title: "Ex 11 - Question 41", text: "The verb give up is closest in meaning to ____________.", 
              options: [ {t:"A. continue using", c:false}, {t:"B. encourage", c:false}, {t:"C. get bored with", c:false}, {t:"D. stop using", c:true} ],
              exp: "<strong>Ph√¢n t√≠ch:</strong><br>Phrasal verb <b>give up</b> = t·ª´ b·ªè, ng·ª´ng l√†m g√¨ ƒë√≥. C·ª•m ƒë·ªìng nghƒ©a l√† <b>stop using</b>." },
            { id: "11_42", title: "Ex 11 - Question 42", text: "We can learn from the text that ____________.", 
              options: [ {t:"A. easy to change habits", c:false}, {t:"B. not drive expensive cars", c:false}, {t:"C. more people use public transport if cheap, reliable, comfortable", c:true}, {t:"D. pollution causes people to leave cars", c:false} ],
              exp: "<strong>Ph√¢n t√≠ch:</strong><br>D·∫´n ch·ª©ng c√¢u cu·ªëi: <i>'...public transport must be felt to be reliable, convenient and comfortable, with fares kept at an acceptable level'</i> (Giao th√¥ng c√¥ng c·ªông ph·∫£i ƒë√°ng tin c·∫≠y, tho·∫£i m√°i v√† gi√° v√© h·ª£p l√Ω th√¨ ng∆∞·ªùi d√¢n m·ªõi s·ª≠ d·ª•ng)." },

            // EX 12
            { id: "12_1", title: "Ex 12 - Blank (1)", text: "Titanic is a romantic film, which was ............. (1) by James Cameron.", 
              options: [ {t:"A. direction", c:false}, {t:"B. directed", c:true}, {t:"C. directing", c:false}, {t:"D. direct", c:false} ],
              exp: "<strong>Ph√¢n t√≠ch:</strong><br>C·∫•u tr√∫c c√¢u b·ªã ƒë·ªông (Passive Voice): <b>was + V_ed/P2</b>. Phim ƒë∆∞·ª£c ƒë·∫°o di·ªÖn b·ªüi James Cameron. Ch·ªçn B. directed." },
            { id: "12_2", title: "Ex 12 - Blank (2)", text: "It .............. (2) Leonardo DiCaprio and Kate Winslet.", 
              options: [ {t:"A. stars", c:true}, {t:"B. plays", c:false}, {t:"C. creates", c:false}, {t:"D. introduces", c:false} ],
              exp: "<strong>Ph√¢n t√≠ch:</strong><br>T·ª´ <b>star</b> ·ªü ƒë√¢y ƒë√≥ng vai tr√≤ ƒë·ªông t·ª´: c√≥ s·ª± tham gia di·ªÖn ch√≠nh c·ªßa ai ƒë√≥. Phim n√†y c√≥ s·ª± tham gia c·ªßa Leonardo v√† Kate." },
            { id: "12_3", title: "Ex 12 - Blank (3)", text: "The main .............. (3) are Jack Dawson and Rose DeWitt Bukater.", 
              options: [ {t:"A. people", c:false}, {t:"B. actors", c:false}, {t:"C. characters", c:true}, {t:"D. humans", c:false} ],
              exp: "<strong>Ph√¢n t√≠ch:</strong><br>C·ª•m t·ª´ <b>main characters</b> c√≥ nghƒ©a l√†: c√°c nh√¢n v·∫≠t ch√≠nh trong phim/truy·ªán." },
            { id: "12_4", title: "Ex 12 - Blank (4)", text: ".............. (4) they are from different social classes, and Rose is already engaged, they fall in love.", 
              options: [ {t:"A. because", c:false}, {t:"B. although", c:true}, {t:"C. nevertheless", c:false}, {t:"D. therefore", c:false} ],
              exp: "<strong>Ph√¢n t√≠ch:</strong><br>Hai v·∫ø c√¢u mang nghƒ©a ƒë·ªëi l·∫≠p: (1) Kh√°c t·∫ßng l·ªõp, ƒë√£ ƒë√≠nh h√¥n >< (2) V·∫´n y√™u nhau. Do ƒë√≥ ta d√πng <b>Although</b> (M·∫∑c d√π) ƒë·ª©ng ƒë·∫ßu c√¢u." },
            { id: "12_5", title: "Ex 12 - Blank (5)", text: "The film has a sad .............. (5): the Titanic sinks...", 
              options: [ {t:"A. end", c:false}, {t:"B. start", c:false}, {t:"C. ending", c:true}, {t:"D. starting", c:false} ],
              exp: "<strong>Ph√¢n t√≠ch:</strong><br>C·ª•m t·ª´ ch·ªâ k·∫øt c·ª•c c·ªßa m·ªôt b·ªô phim/c√¢u chuy·ªán l√† <b>a sad ending / a happy ending</b> (m·ªôt c√°i k·∫øt bu·ªìn/vui)." },
            { id: "12_6", title: "Ex 12 - Blank (6)", text: ".............. (6) say it is a must-see.", 
              options: [ {t:"A. critics", c:true}, {t:"B. criticism", c:false}, {t:"C. critical", c:false}, {t:"D. criticize", c:false} ],
              exp: "<strong>Ph√¢n t√≠ch:</strong><br>Ch·ªó tr·ªëng ƒë·ª©ng ƒë·∫ßu c√¢u l√†m ch·ªß ng·ªØ cho ƒë·ªông t·ª´ 'say' (n√≥i), n√™n c·∫ßn danh t·ª´ ch·ªâ ng∆∞·ªùi s·ªë nhi·ªÅu. <b>Critics</b> (c√°c nh√† ph√™ b√¨nh). Criticism l√† l·ªùi ph√™ b√¨nh (v·∫≠t)." },
            { id: "12_7", title: "Ex 12 - Blank (7)", text: "The .............. (7) effects, visuals, and music are also incredible.", 
              options: [ {t:"A. unique", c:false}, {t:"B. important", c:false}, {t:"C. great", c:false}, {t:"D. special", c:true} ],
              exp: "<strong>Ph√¢n t√≠ch:</strong><br>Collocation c·ªë ƒë·ªãnh trong phim ·∫£nh: <b>special effects</b> (k·ªπ x·∫£o ƒëi·ªán ·∫£nh/hi·ªáu ·ª©ng ƒë·∫∑c bi·ªát)." }
        ];

        let score = 0;
        let answeredQuestions = new Set();
        const totalQuestions = quizData.length;

        // --- WEB AUDIO API (T·∫°o √¢m thanh kh√¥ng c·∫ßn link ngo√†i) ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playDing() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            osc.type = 'sine';
            osc.frequency.setValueAtTime(880, audioCtx.currentTime); // Note A5
            gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.5);
            osc.start(audioCtx.currentTime);
            osc.stop(audioCtx.currentTime + 0.5);
        }

        function playWrong() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(150, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(50, audioCtx.currentTime + 0.3);
            gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.3);
            osc.start(audioCtx.currentTime);
            osc.stop(audioCtx.currentTime + 0.3);
        }

        // --- H·ªÜ TH·ªêNG RENDER V√Ä SHUFFLE TR·∫ÆC NGHI·ªÜM ---
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function renderQuiz() {
            const container = document.getElementById('quizContainer');
            // X√≥a button n·ªôp b√†i t·∫°m ƒë·ªÉ render c√¢u h·ªèi
            container.innerHTML = ''; 

            quizData.forEach((q, index) => {
                const card = document.createElement('div');
                card.className = 'question-card';
                card.id = `card_${q.id}`;
                
                // Shuffle options
                const shuffledOptions = shuffleArray([...q.options]);
                
                let optionsHTML = '<div class="options-grid">';
                shuffledOptions.forEach((opt, optIdx) => {
                    optionsHTML += `
                        <button class="option-btn" 
                                onclick="handleAnswer('${q.id}', ${opt.c}, this)"
                                data-correct="${opt.c}">
                            ${opt.t}
                        </button>`;
                });
                optionsHTML += '</div>';

                card.innerHTML = `
                    <div style="color:#636e72; font-size:0.9rem; margin-bottom:5px;">${q.title}</div>
                    <div class="question-text">${q.text}</div>
                    ${optionsHTML}
                    <div class="explanation" id="exp_${q.id}">${q.exp}</div>
                `;
                container.appendChild(card);
            });

            // Append l·∫°i n√∫t N·ªòP B√ÄI
            const submitBtn = document.createElement('button');
            submitBtn.className = 'submit-btn';
            submitBtn.innerHTML = 'N·ªòP B√ÄI NH·∫¨N K·∫æT QU·∫¢ üöÄ';
            submitBtn.onclick = submitQuiz;
            container.appendChild(submitBtn);
        }

        function handleAnswer(qId, isCorrect, btnElement) {
            if (answeredQuestions.has(qId)) return; // Ch·ªâ cho ph√©p ch·ªçn 1 l·∫ßn
            
            answeredQuestions.add(qId);
            const card = document.getElementById(`card_${qId}`);
            const allBtns = card.querySelectorAll('.option-btn');
            
            // Kh√≥a c√°c n√∫t kh√°c
            allBtns.forEach(b => b.disabled = true);

            if (isCorrect) {
                btnElement.classList.add('correct');
                playDing();
                fireConfetti(btnElement);
                score++;
            } else {
                btnElement.classList.add('wrong');
                playWrong();
                // Hi·ªÉn th·ªã n√∫t ƒë√∫ng
                allBtns.forEach(b => {
                    if(b.getAttribute('data-correct') === 'true') {
                        b.classList.add('correct');
                    }
                });
            }

            // Hi·ªán gi·∫£i th√≠ch
            document.getElementById(`exp_${qId}`).style.display = 'block';
        }

        // --- C√ÅC T√çNH NƒÇNG PH·ª§ TR·ª¢ ---
        function toggleTranslation(id) {
            const el = document.getElementById(id);
            el.style.display = (el.style.display === 'block') ? 'none' : 'block';
        }

        // --- TIMER B·∫§M GI·ªú ---
        let timerInterval;
        let timeLeft = 600; // 10 minutes in seconds
        let isTimerRunning = false;

        document.getElementById('startTimerBtn').addEventListener('click', function() {
            this.style.display = 'none';
            document.getElementById('timerDisplay').style.display = 'flex';
            startTimer();
            // K√≠ch ho·∫°t AudioContext cho ph√©p ch·∫°y √¢m thanh sau c√∫ click ƒë·∫ßu ti√™n
            if (audioCtx.state === 'suspended') audioCtx.resume();
        });

        document.getElementById('pauseTimerBtn').addEventListener('click', function() {
            if(isTimerRunning) {
                clearInterval(timerInterval);
                this.innerHTML = '‚ñ∂Ô∏è';
                isTimerRunning = false;
            } else {
                startTimer();
                this.innerHTML = '‚è∏Ô∏è';
            }
        });

        function startTimer() {
            isTimerRunning = true;
            timerInterval = setInterval(() => {
                timeLeft--;
                let m = Math.floor(timeLeft / 60);
                let s = timeLeft % 60;
                document.getElementById('timeText').innerText = `${m}:${s < 10 ? '0'+s : s}`;
                
                if(timeLeft <= 0) {
                    clearInterval(timerInterval);
                    alert("‚è∞ ƒê√£ h·∫øt gi·ªù l√†m b√†i! B·∫°n v·∫´n c√≥ th·ªÉ ti·∫øp t·ª•c l√†m, nh∆∞ng nh·ªõ l√† trong ph√≤ng thi th·∫≠t, b·∫°n ch·ªâ n√™n l√†m m·ªôt b√†i nh∆∞ th·∫ø n√†y trong 10 ph√∫t th√¥i nha.");
                }
            }, 1000);
        }

        // --- T√çNH ƒêI·ªÇM & ƒê√ÅNH GI√Å ---
        function submitQuiz() {
            const modal = document.getElementById('resultModal');
            const scoreDisplay = document.getElementById('scoreDisplay');
            const feedbackMessage = document.getElementById('feedbackMessage');

            scoreDisplay.innerText = `${score}/${totalQuestions}`;
            
            let message = "";
            let percentage = score / totalQuestions;

            if (percentage === 1) {
                message = "üèÜ THI√äN T√ÄI XU·∫§T CH√öNG! B·∫°n ƒë√£ ƒë√∫ng to√†n b·ªô!";
            } else if (percentage >= 0.8) {
                message = "üåü L√ÄM T·ªêT L·∫ÆM! Ki·∫øn th·ª©c c·ªßa b·∫°n r·∫•t v·ªØng!";
            } else if (percentage >= 0.5) {
                message = "üëç KH√Å L·∫ÆM! H√£y xem l·∫°i gi·∫£i th√≠ch ƒë·ªÉ ho√†n h·∫£o h∆°n nh√©!";
            } else {
                message = "üí™ C·ªê L√äN NH√â! ƒê·ª´ng n·∫£n, ƒë·ªçc k·ªπ ph·∫ßn gi·∫£i th√≠ch l√† b·∫°n s·∫Ω gi·ªèi l√™n ngay!";
            }

            feedbackMessage.innerText = message;
            modal.style.display = 'flex';
            fireConfettiCenter();
        }

        function closeModal() {
            document.getElementById('resultModal').style.display = 'none';
        }

        // --- HI·ªÜU ·ª®NG PH√ÅO GI·∫§Y (CONFETTI VANILLA JS) ---
        const canvas = document.getElementById('confetti');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        let particles = [];

        function createParticles(x, y) {
            for(let i=0; i<30; i++) {
                particles.push({
                    x: x, y: y,
                    vx: (Math.random() - 0.5) * 10,
                    vy: (Math.random() - 1) * 10,
                    color: `hsl(${Math.random()*360}, 100%, 50%)`,
                    size: Math.random() * 8 + 4
                });
            }
        }

        function fireConfetti(btn) {
            const rect = btn.getBoundingClientRect();
            createParticles(rect.left + rect.width/2, rect.top + rect.height/2);
        }

        function fireConfettiCenter() {
            createParticles(window.innerWidth/2, window.innerHeight/2);
            createParticles(window.innerWidth/3, window.innerHeight/2);
            createParticles((window.innerWidth/3)*2, window.innerHeight/2);
        }

        function animateConfetti() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach((p, index) => {
                p.x += p.vx;
                p.y += p.vy;
                p.vy += 0.3; // gravity
                ctx.fillStyle = p.color;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fill();
                if(p.y > canvas.height) particles.splice(index, 1);
            });
            requestAnimationFrame(animateConfetti);
        }
        animateConfetti();

        // Kh·ªüi t·∫°o b√†i t·∫≠p
        renderQuiz();
    </script>
</body>
</html>