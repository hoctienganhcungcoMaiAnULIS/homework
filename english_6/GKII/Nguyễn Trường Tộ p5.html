<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Quiz - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8854C0;
            --secondary: #FDCB6E;
            --tertiary: #00C9A7;
            --correct: #00D26A;
            --correct-shadow: #00994d;
            --wrong: #FF4757;
            --wrong-shadow: #cc3946;
            --bg-card: rgba(255, 255, 255, 0.96);
            --text-main: #333333;
            --btn-shadow: #d9d9d9;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, var(--primary), var(--tertiary), var(--secondary), #FF9A9E);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: var(--text-main);
            overflow-x: hidden;
            min-height: 100vh;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .pattern-overlay {
            position: fixed;
            top: 0; left: 0; width: 100vw; height: 100vh;
            background-image: url('data:image/svg+xml;utf8,<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><text x="10" y="20" font-size="12">‚≠ê</text><text x="50" y="80" font-size="15">‚òÅÔ∏è</text><text x="80" y="30" font-size="12">üå∏</text><text x="30" y="70" font-size="16">üê±</text><text x="85" y="85" font-size="12">üçì</text><text x="40" y="40" font-size="10">‚ú®</text><text x="15" y="90" font-size="14">üçé</text><text x="90" y="10" font-size="15">üåà</text></svg>');
            background-size: 250px 250px;
            animation: floatPattern 40s linear infinite;
            mix-blend-mode: overlay;
            opacity: 0.8;
            pointer-events: none;
            z-index: 1;
        }

        @keyframes floatPattern {
            0% { background-position: 0 0; }
            100% { background-position: 250px -250px; }
        }

        .header-title {
            text-align: center;
            color: white;
            font-size: 1.5rem;
            font-weight: 900;
            padding: 20px 0 5px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 2;
        }

        .container {
            max-width: 850px;
            margin: 20px auto 100px auto;
            position: relative;
            z-index: 2;
            padding: 0 15px;
        }

        .section-title {
            background: var(--primary);
            color: white;
            padding: 15px 20px;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: 800;
            margin: 30px 0 20px 0;
            box-shadow: 0 6px 0 #5f368c;
            text-transform: uppercase;
        }

        .question-card {
            background: var(--bg-card);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            border: 3px solid white;
            transition: transform 0.3s;
        }

        .question-card:hover {
            transform: translateY(-5px);
        }

        .question-text {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--primary);
            line-height: 1.8;
        }

        /* --- GAP FILL STYLES --- */
        .gap-btn {
            background: #f1f5f9;
            border: 3px dashed var(--tertiary);
            color: var(--tertiary);
            padding: 5px 20px;
            border-radius: 10px;
            font-family: inherit;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s;
            margin: 0 5px;
            min-width: 120px;
        }

        .gap-btn:hover:not(:disabled) {
            background: var(--tertiary);
            color: white;
            transform: scale(1.05);
        }

        .gap-btn:disabled {
            cursor: default;
            border-style: solid;
        }

        .gap-btn.correct {
            background: var(--correct);
            border-color: var(--correct);
            color: white;
            animation: pop 0.4s ease;
        }

        .gap-btn.wrong {
            background: var(--wrong);
            border-color: var(--wrong);
            color: white;
            animation: shake 0.5s both;
        }

        /* --- OPTIONS GRID STYLES (Tr·∫Øc nghi·ªám th∆∞·ªùng) --- */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        @media (min-width: 600px) {
            .options-grid.two-cols { grid-template-columns: 1fr 1fr; }
        }

        .option-btn {
            background: #f4f4f5;
            border: 2px solid #e4e4e7;
            padding: 15px 20px;
            border-radius: 15px;
            font-family: 'Nunito', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: #4b5563;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 6px 0 var(--btn-shadow);
            text-align: left;
        }

        .option-btn:hover:not(:disabled) {
            transform: scale(1.02);
            border-color: var(--primary);
            color: var(--primary);
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(4px) scale(0.98);
            box-shadow: 0 2px 0 var(--btn-shadow);
        }

        .option-btn.correct {
            background: var(--correct); border-color: var(--correct); color: white;
            box-shadow: 0 6px 0 var(--correct-shadow); animation: pop 0.4s ease;
        }

        .option-btn.wrong {
            background: var(--wrong); border-color: var(--wrong); color: white;
            box-shadow: 0 6px 0 var(--wrong-shadow); animation: shake 0.5s both;
        }

        /* --- EXPLANATION STYLES --- */
        .explanation-box {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: #fdf2f8;
            border-left: 6px solid var(--primary);
            border-radius: 12px;
            font-size: 1.05rem;
            line-height: 1.7;
            animation: slideDown 0.4s ease-out;
            color: #1f2937;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .exp-title { font-weight: 900; color: var(--primary); font-size: 1.2rem; margin-bottom: 10px; text-transform: uppercase; }
        .exp-step { margin-bottom: 10px; }

        /* --- MODALS --- */
        .modal-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(0,0,0,0.6); z-index: 1000; justify-content: center; align-items: center;
        }

        .modal-content {
            background: white; padding: 30px; border-radius: 25px; text-align: center;
            max-width: 400px; width: 90%; box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            animation: scaleUp 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes scaleUp { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        /* Modal Result Specific */
        .score-circle {
            width: 120px; height: 120px; background: var(--secondary); border-radius: 50%;
            display: flex; justify-content: center; align-items: center; margin: 0 auto 20px auto;
            font-size: 2rem; font-weight: 900; color: white; border: 6px solid #f9b22a;
        }

        /* Popup Gap Fill Specific */
        .gap-modal-title { font-size: 1.3rem; font-weight: bold; color: var(--primary); margin-bottom: 20px; }
        .gap-options-grid { display: flex; flex-direction: column; gap: 10px; }
        .gap-opt-btn {
            background: #f4f4f5; border: 2px solid #e4e4e7; padding: 12px; border-radius: 12px;
            font-weight: 700; font-size: 1.1rem; cursor: pointer; transition: 0.2s;
        }
        .gap-opt-btn:hover { background: var(--tertiary); color: white; border-color: var(--tertiary); }

        /* General Animations */
        @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
        @keyframes shake { 10%, 90% { transform: translate3d(-2px, 0, 0); } 20%, 80% { transform: translate3d(4px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-6px, 0, 0); } 40%, 60% { transform: translate3d(6px, 0, 0); } }

        /* Confetti */
        .confetti-piece { position: fixed; width: 10px; height: 10px; z-index: 9999; pointer-events: none; animation: fall linear forwards; }
        @keyframes fall { to { transform: translateY(100vh) rotate(720deg); opacity: 0; } }

        .submit-btn {
            background: var(--tertiary); color: white; font-family: 'Nunito', sans-serif; font-size: 1.5rem;
            font-weight: 900; padding: 15px 50px; border: none; border-radius: 20px; cursor: pointer;
            box-shadow: 0 8px 0 #00997d; display: block; margin: 40px auto; text-transform: uppercase; transition: 0.2s;
        }
        .submit-btn:hover { transform: scale(1.05); }
        .submit-btn:active { transform: translateY(6px); box-shadow: 0 2px 0 #00997d; }

        /* --- CSS DRAWINGS FOR SIGNS --- */
        .sign-container { margin: 20px 0; display: flex; justify-content: center; }
        
        /* 1. KEEP QUIET */
        .sign-keep-quiet {
            background: #f4a460; border: 6px solid #fdf5e6; color: black; font-family: 'Impact', 'Arial Black', sans-serif;
            font-size: 30px; font-weight: 900; text-align: center; padding: 15px 30px; letter-spacing: 2px;
            box-shadow: 3px 3px 8px rgba(0,0,0,0.2); transform: rotate(-2deg);
        }
        
        /* 2. CIRCLE CROSSED TEMPLATE */
        .sign-circle-crossed {
            position: relative; width: 100px; height: 100px; border: 10px solid #dc3545; border-radius: 50%;
            display: flex; align-items: center; justify-content: center; background: white; box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }
        .sign-circle-crossed .slash {
            position: absolute; width: 120%; height: 10px; background: #dc3545; transform: rotate(-45deg); z-index: 2;
        }
        .sign-circle-crossed .icon { font-size: 45px; z-index: 1; }

        /* 3. EMERGENCY EXIT */
        .sign-emergency {
            background: #28a745; color: white; border: 4px solid white; border-radius: 8px; padding: 15px 20px;
            display: flex; align-items: center; gap: 10px; font-size: 50px; box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }

        /* 4. DANGER OPEN HOLE */
        .sign-danger {
            border: 3px solid #333; border-radius: 8px; padding: 15px; background: white; text-align: center; display: inline-block; box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }
        .sign-danger-header {
            background: #dc3545; color: white; border-radius: 25px; padding: 5px 20px; font-weight: 900; font-size: 18px; margin-bottom: 10px; letter-spacing: 1px;
        }
        .sign-danger-text { font-weight: 900; font-size: 20px; line-height: 1.2; color: black; }
        
        /* 6. PATIENTS CAN PARK */
        .sign-parking {
            border: 5px solid #add8e6; padding: 20px; background: white; border-radius: 6px; color: #333; font-weight: 800;
            font-size: 18px; text-align: center; line-height: 1.4; box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }

        /* 7. NO ENTRY */
        .sign-no-entry {
            background: #d4edda; border: 4px solid #c3e6cb; border-radius: 30px; padding: 15px 40px;
            font-weight: 900; font-style: italic; font-size: 28px; color: black; box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
        }

    </style>
</head>
<body>

    <div class="pattern-overlay"></div>

    <div class="header-title">
        üë©‚Äçüè´ GI√ÅO VI√äN T·∫†O: MS MAI AN ULIS
    </div>

    <div class="container" id="quiz-container">
        </div>

    <button class="submit-btn" onclick="showResults()">N·ªòP B√ÄI TH√îI! üèÜ</button>

    <div class="modal-overlay" id="gap-modal">
        <div class="modal-content">
            <div class="gap-modal-title">Ch·ªçn t·ª´ ph√π h·ª£p nh·∫•t nh√©:</div>
            <div class="gap-options-grid" id="gap-options-container">
                </div>
        </div>
    </div>

    <div class="modal-overlay" id="result-modal">
        <div class="modal-content">
            <div class="score-circle" id="score-display">0/0</div>
            <div class="modal-message" id="score-message">L√†m t·ªët l·∫Øm!</div>
            <button class="submit-btn" style="margin: 20px auto 0 auto; font-size: 1.2rem; padding: 10px 30px;" onclick="location.reload()">Ch∆°i L·∫°i N√†o! üöÄ</button>
        </div>
    </div>

    <script>
        // --- AUDIO SYSTEM ---
        const AudioContext = window.AudioContext || window.webkitAudioContext;
        let audioCtx;
        function initAudio() { if (!audioCtx) audioCtx = new AudioContext(); if (audioCtx.state === 'suspended') audioCtx.resume(); }
        function playDing() {
            initAudio(); const osc = audioCtx.createOscillator(); const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            osc.type = 'sine'; osc.frequency.setValueAtTime(880, audioCtx.currentTime); osc.frequency.exponentialRampToValueAtTime(1760, audioCtx.currentTime + 0.1);
            gain.gain.setValueAtTime(0.5, audioCtx.currentTime); gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
            osc.start(); osc.stop(audioCtx.currentTime + 0.5);
        }
        function playBuzz() {
            initAudio(); const osc = audioCtx.createOscillator(); const gain = audioCtx.createGain();
            osc.connect(gain); gain.connect(audioCtx.destination);
            osc.type = 'sawtooth'; osc.frequency.setValueAtTime(150, audioCtx.currentTime); osc.frequency.exponentialRampToValueAtTime(80, audioCtx.currentTime + 0.2);
            gain.gain.setValueAtTime(0.5, audioCtx.currentTime); gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
            osc.start(); osc.stop(audioCtx.currentTime + 0.3);
        }

        function shootConfetti() {
            const colors = ['#00D26A', '#FDCB6E', '#8854C0', '#00C9A7', '#FF4757', '#FF9A9E'];
            for (let i = 0; i < 40; i++) {
                const confetti = document.createElement('div'); confetti.classList.add('confetti-piece');
                confetti.style.left = Math.random() * 100 + 'vw'; confetti.style.top = '-10px';
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                const duration = Math.random() * 2 + 2; confetti.style.animationDuration = duration + 's';
                document.body.appendChild(confetti); setTimeout(() => confetti.remove(), duration * 1000);
            }
        }

        // --- DATA ---
        const rawData = [
            { section: "Exercise 4: Put the verbs in brackets in the correct form." },
            {
                type: "gap",
                qText: "1. Nam (not do) {GAP} his homework now.", trans: "Nam ƒëang kh√¥ng l√†m b√†i t·∫≠p v·ªÅ nh√† c·ªßa anh ·∫•y b√¢y gi·ªù.",
                opts: [
                    { t: "is not doing", m: "Th√¨ Hi·ªán t·∫°i ti·∫øp di·ªÖn", c: true },
                    { t: "doesn't do", m: "Th√¨ Hi·ªán t·∫°i ƒë∆°n", c: false },
                    { t: "didn't do", m: "Th√¨ Qu√° kh·ª© ƒë∆°n", c: false },
                    { t: "hasn't done", m: "Th√¨ Hi·ªán t·∫°i ho√†n th√†nh", c: false }
                ],
                whyR: "D·∫•u hi·ªáu 'now' (b√¢y gi·ªù) y√™u c·∫ßu chia ƒë·ªông t·ª´ ·ªü th√¨ Hi·ªán t·∫°i ti·∫øp di·ªÖn (S + is/am/are + V-ing). Ch·ªß ng·ªØ 'Nam' (ng√¥i 3 s·ªë √≠t) ƒëi v·ªõi 'is'.",
                whyW: "C√°c ƒë√°p √°n kh√°c chia sai th√¨ (Hi·ªán t·∫°i ƒë∆°n, Qu√° kh·ª© ƒë∆°n, Hi·ªán t·∫°i ho√†n th√†nh) kh√¥ng ph√π h·ª£p v·ªõi ng·ªØ c·∫£nh s·ª± vi·ªác ƒëang di·ªÖn ra."
            },
            {
                type: "gap",
                qText: "2. I (leave) {GAP} my school bag at school this morning.", trans: "T√¥i ƒë√£ ƒë·ªÉ qu√™n c·∫∑p s√°ch ·ªü tr∆∞·ªùng s√°ng nay.",
                opts: [
                    { t: "left", m: "Th√¨ Qu√° kh·ª© ƒë∆°n", c: true },
                    { t: "leave", m: "Th√¨ Hi·ªán t·∫°i ƒë∆°n", c: false },
                    { t: "leaving", m: "D·∫°ng V-ing", c: false },
                    { t: "have left", m: "Th√¨ Hi·ªán t·∫°i ho√†n th√†nh", c: false }
                ],
                whyR: "D·∫•u hi·ªáu 'this morning' (s√°ng nay) √°m ch·ªâ m·ªôt th·ªùi ƒëi·ªÉm ƒë√£ qua trong qu√° kh·ª©, n√™n d√πng th√¨ Qu√° kh·ª© ƒë∆°n. D·∫°ng qu√° kh·ª© c·ªßa 'leave' l√† 'left'.",
                whyW: "C√°c ƒë√°p √°n kh√°c chia sai th√¨ ti·∫øng Anh."
            },
            {
                type: "gap",
                qText: "3. I went to the shop but I (not have) {GAP} any money.", trans: "T√¥i ƒë√£ ƒëi ƒë·∫øn c·ª≠a h√†ng nh∆∞ng t√¥i kh√¥ng c√≥ ch√∫t ti·ªÅn n√†o.",
                opts: [
                    { t: "didn't have", m: "Qu√° kh·ª© ƒë∆°n (ph·ªß ƒë·ªãnh)", c: true },
                    { t: "don't have", m: "Hi·ªán t·∫°i ƒë∆°n (ph·ªß ƒë·ªãnh)", c: false },
                    { t: "wasn't have", m: "Sai c·∫•u tr√∫c ng·ªØ ph√°p", c: false },
                    { t: "haven't had", m: "Hi·ªán t·∫°i ho√†n th√†nh (ph·ªß ƒë·ªãnh)", c: false }
                ],
                whyR: "ƒê·ªông t·ª´ v·∫ø tr∆∞·ªõc l√† 'went' (qu√° kh·ª© ƒë∆°n), n√™n v·∫ø sau c≈©ng ph·∫£i l√πi v·ªÅ qu√° kh·ª© ƒë·ªÉ h√≤a h·ª£p th√¨. Ph·ªß ƒë·ªãnh c·ªßa ƒë·ªông t·ª´ th∆∞·ªùng trong qu√° kh·ª© l√† 'did not (didn't) + V nguy√™n th·ªÉ'.",
                whyW: "D√πng 'don't have' s·∫Ω sai h√≤a h·ª£p th√¨. 'wasn't have' l√† c·∫•u tr√∫c sai ho√†n to√†n (to-be kh√¥ng ƒëi k√®m ƒë·ªông t·ª´ nguy√™n th·ªÉ)."
            },
            {
                type: "gap",
                qText: "4. Look! Somebody (climb) {GAP} up the tree.", trans: "Nh√¨n k√¨a! C√≥ ai ƒë√≥ ƒëang tr√®o l√™n c√¢y.",
                opts: [
                    { t: "is climbing", m: "Th√¨ Hi·ªán t·∫°i ti·∫øp di·ªÖn", c: true },
                    { t: "climbs", m: "Th√¨ Hi·ªán t·∫°i ƒë∆°n", c: false },
                    { t: "climbed", m: "Th√¨ Qu√° kh·ª© ƒë∆°n", c: false },
                    { t: "are climbing", m: "Hi·ªán t·∫°i ti·∫øp di·ªÖn (s·ªë nhi·ªÅu)", c: false }
                ],
                whyR: "T·ª´ ƒë·ªÉ √Ω 'Look!' (Nh√¨n k√¨a!) d√πng ƒë·ªÉ thu h√∫t s·ª± ch√∫ √Ω v√†o m·ªôt h√†nh ƒë·ªông ƒêANG x·∫£y ra ngay l√∫c n√≥i. Ta d√πng th√¨ Hi·ªán t·∫°i ti·∫øp di·ªÖn. ƒê·∫°i t·ª´ 'Somebody' lu√¥n ƒë∆∞·ª£c coi l√† s·ªë √≠t -> d√πng 'is climbing'.",
                whyW: "Chia sai th√¨ ho·∫∑c chia sai to-be (are) v√¨ somebody l√† s·ªë √≠t."
            },
            {
                type: "gap",
                qText: "5. Which programme (Linda/ like) {GAP} best?", trans: "Ch∆∞∆°ng tr√¨nh n√†o Linda th√≠ch nh·∫•t?",
                opts: [
                    { t: "does Linda like", m: "C√¢u h·ªèi Hi·ªán t·∫°i ƒë∆°n", c: true },
                    { t: "do Linda like", m: "Sai tr·ª£ ƒë·ªông t·ª´", c: false },
                    { t: "is Linda liking", m: "Hi·ªán t·∫°i ti·∫øp di·ªÖn", c: false },
                    { t: "Linda likes", m: "C√¢u kh·∫≥ng ƒë·ªãnh", c: false }
                ],
                whyR: "H·ªèi v·ªÅ s·ªü th√≠ch n√≥i chung, ta d√πng th√¨ Hi·ªán t·∫°i ƒë∆°n. C·∫•u tr√∫c c√¢u h·ªèi: Wh-word + do/does + S + V(nguy√™n th·ªÉ). 'Linda' l√† s·ªë √≠t n√™n m∆∞·ª£n tr·ª£ ƒë·ªông t·ª´ 'does'.",
                whyW: "ƒê·ªông t·ª´ ch·ªâ c·∫£m x√∫c (like) hi·∫øm khi d√πng ·ªü d·∫°ng ti·∫øp di·ªÖn (V-ing). D√πng 'do' cho s·ªë √≠t l√† sai ng·ªØ ph√°p."
            },
            {
                type: "gap",
                qText: "6. Susan (not prepare) {GAP} for the exam and she did very badly.", trans: "Susan ƒë√£ kh√¥ng chu·∫©n b·ªã cho k·ª≥ thi v√† c√¥ ·∫•y l√†m b√†i r·∫•t t·ªá.",
                opts: [
                    { t: "didn't prepare", m: "Qu√° kh·ª© ƒë∆°n (ph·ªß ƒë·ªãnh)", c: true },
                    { t: "doesn't prepare", m: "Hi·ªán t·∫°i ƒë∆°n (ph·ªß ƒë·ªãnh)", c: false },
                    { t: "hasn't prepared", m: "Hi·ªán t·∫°i ho√†n th√†nh", c: false },
                    { t: "wasn't prepared", m: "B·ªã ƒë·ªông qu√° kh·ª© ƒë∆°n", c: false }
                ],
                whyR: "V·∫ø sau c√≥ ƒë·ªông t·ª´ 'did' (qu√° kh·ª© ƒë∆°n), n√™n s·ª± vi·ªác 'kh√¥ng chu·∫©n b·ªã' c≈©ng ƒë√£ x·∫£y ra trong qu√° kh·ª©. Ph·ªß ƒë·ªãnh ·ªü qu√° kh·ª©: didn't + V.",
                whyW: "D√πng th√¨ hi·ªán t·∫°i hay hi·ªán t·∫°i ho√†n th√†nh s·∫Ω ph√° v·ª° s·ª± h√≤a h·ª£p th√¨. ƒê√°p √°n d·∫°ng b·ªã ƒë·ªông (wasn't prepared) kh√¥ng ph√π h·ª£p v√¨ ƒë√¢y l√† ch·ªß ƒë·ªông (c√¥ ·∫•y t·ª± chu·∫©n b·ªã)."
            },
            {
                type: "gap",
                qText: "7. A new series of wildlife programmes (be) {GAP} on at 9 o‚Äôclock Monday evenings.", trans: "M·ªôt lo·∫°t c√°c ch∆∞∆°ng tr√¨nh th·∫ø gi·ªõi hoang d√£ m·ªõi ƒë∆∞·ª£c chi·∫øu v√†o 9 gi·ªù t·ªëi th·ª© Hai h√†ng tu·∫ßn.",
                opts: [
                    { t: "is", m: "To-be s·ªë √≠t th√¨ HTƒê", c: true },
                    { t: "are", m: "To-be s·ªë nhi·ªÅu th√¨ HTƒê", c: false },
                    { t: "was", m: "To-be s·ªë √≠t th√¨ QKƒê", c: false },
                    { t: "were", m: "To-be s·ªë nhi·ªÅu th√¨ QKƒê", c: false }
                ],
                whyR: "D·∫•u hi·ªáu 'Monday evenings' (c√°c t·ªëi th·ª© 2) ch·ªâ m·ªôt l·ªãch tr√¨nh c·ªë ƒë·ªãnh -> d√πng Hi·ªán t·∫°i ƒë∆°n. Ch·ªß ng·ªØ ch√≠nh l√† 'A new series' (M·ªôt lo·∫°t) l√† DANH T·ª™ S·ªê √çT n√™n to-be l√† 'is'.",
                whyW: "R·∫•t nhi·ªÅu b·∫°n nh·∫ßm t∆∞·ªüng 'programmes' l√† ch·ªß ng·ªØ n√™n ch·ªçn 'are', nh∆∞ng ch·ªß ng·ªØ c·ªët l√µi l√† c·ª•m 'A new series' (s·ªë √≠t)."
            },
            {
                type: "gap",
                qText: "8. (you/ watch) {GAP} the news on TV last night?", trans: "B·∫°n c√≥ xem tin t·ª©c tr√™n TV t·ªëi qua kh√¥ng?",
                opts: [
                    { t: "Did you watch", m: "C√¢u h·ªèi th√¨ Qu√° kh·ª© ƒë∆°n", c: true },
                    { t: "Do you watch", m: "C√¢u h·ªèi th√¨ Hi·ªán t·∫°i ƒë∆°n", c: false },
                    { t: "Were you watch", m: "Sai c·∫•u tr√∫c", c: false },
                    { t: "Have you watched", m: "C√¢u h·ªèi th√¨ Hi·ªán t·∫°i ho√†n th√†nh", c: false }
                ],
                whyR: "D·∫•u hi·ªáu 'last night' (t·ªëi qua) -> Qu√° kh·ª© ƒë∆°n. C·∫•u tr√∫c c√¢u h·ªèi Yes/No: Did + S + V(nguy√™n th·ªÉ).",
                whyW: "Sai th√¨ (Do, Have). D√πng 'Were' ƒëi v·ªõi ƒë·ªông t·ª´ th∆∞·ªùng 'watch' nguy√™n th·ªÉ l√† sai ng·ªØ ph√°p nghi√™m tr·ªçng."
            },
            {
                type: "gap",
                qText: "9. The people in the caf√© (not be) {GAP} friendly when I was there yesterday.", trans: "Nh·ªØng ng∆∞·ªùi trong qu√°n c√† ph√™ ƒë√£ kh√¥ng th√¢n thi·ªán khi t√¥i ·ªü ƒë√≥ ng√†y h√¥m qua.",
                opts: [
                    { t: "weren't", m: "To-be s·ªë nhi·ªÅu ·ªü Qu√° kh·ª©", c: true },
                    { t: "wasn't", m: "To-be s·ªë √≠t ·ªü Qu√° kh·ª©", c: false },
                    { t: "aren't", m: "To-be s·ªë nhi·ªÅu ·ªü Hi·ªán t·∫°i", c: false },
                    { t: "didn't be", m: "Sai c·∫•u tr√∫c ph·ªß ƒë·ªãnh to-be", c: false }
                ],
                whyR: "D·∫•u hi·ªáu 'yesterday' (h√¥m qua) -> Qu√° kh·ª© ƒë∆°n. Ch·ªß ng·ªØ 'The people' l√† danh t·ª´ s·ªë nhi·ªÅu -> d√πng 'were'. Th√™m 'not' th√†nh 'were not' ho·∫∑c 'weren't'.",
                whyW: "Kh√¥ng d√πng tr·ª£ ƒë·ªông t·ª´ 'did' cho to-be. Kh√¥ng d√πng 'wasn't' v√¨ ch·ªß ng·ªØ s·ªë nhi·ªÅu."
            },
            {
                type: "gap",
                qText: "10. How many languages (Hoa/ speak) {GAP}? - Well, two languages.", trans: "Hoa n√≥i ƒë∆∞·ª£c bao nhi√™u ng√¥n ng·ªØ? - √Ä, hai ng√¥n ng·ªØ.",
                opts: [
                    { t: "does Hoa speak", m: "C√¢u h·ªèi th√¨ Hi·ªán t·∫°i ƒë∆°n", c: true },
                    { t: "do Hoa speak", m: "Sai tr·ª£ ƒë·ªông t·ª´", c: false },
                    { t: "is Hoa speaking", m: "Hi·ªán t·∫°i ti·∫øp di·ªÖn", c: false },
                    { t: "did Hoa speak", m: "Qu√° kh·ª© ƒë∆°n", c: false }
                ],
                whyR: "H·ªèi v·ªÅ kh·∫£ nƒÉng/s·ª± th·∫≠t hi·ªÉn nhi√™n -> d√πng th√¨ Hi·ªán t·∫°i ƒë∆°n. Ch·ªß ng·ªØ 'Hoa' (s·ªë √≠t) n√™n m∆∞·ª£n tr·ª£ ƒë·ªông t·ª´ 'does'.",
                whyW: "C√°c ph∆∞∆°ng √°n kh√°c chia sai th√¨ ho·∫∑c sai tr·ª£ ƒë·ªông t·ª´."
            },

            { section: "Exercise 5: Give the correct form of the word given to complete the sentences." },
            {
                type: "gap",
                qText: "1. He was sitting {GAP} in the living room, watching TV. (COMFORT)", trans: "Anh ·∫•y ƒëang ng·ªìi m·ªôt c√°ch tho·∫£i m√°i trong ph√≤ng kh√°ch, xem TV.",
                opts: [
                    { t: "comfortably", m: "(adv): m·ªôt c√°ch tho·∫£i m√°i", c: true },
                    { t: "comfortable", m: "(adj): tho·∫£i m√°i", c: false },
                    { t: "comforts", m: "(v/n): an ·ªßi / s·ª± tho·∫£i m√°i", c: false },
                    { t: "uncomfortably", m: "(adv): m·ªôt c√°ch kh√¥ng tho·∫£i m√°i", c: false }
                ],
                whyR: "ƒê·ª©ng sau ƒë·ªông t·ª´ th∆∞·ªùng 'sitting' (ƒëang ng·ªìi) ƒë·ªÉ b·ªï nghƒ©a cho n√≥, ta c·∫ßn m·ªôt TR·∫†NG T·ª™ (Adverb) -> comfortably.",
                whyW: "Kh√¥ng th·ªÉ d√πng t√≠nh t·ª´ (comfortable). D√πng 'uncomfortably' sai ng·ªØ nghƒ©a v√¨ ƒëang xem tivi th∆∞·ªùng l√† t∆∞ th·∫ø tho·∫£i m√°i."
            },
            {
                type: "gap",
                qText: "2. The {GAP} in this gym is very modern. (EQUIP)", trans: "Trang thi·∫øt b·ªã trong ph√≤ng t·∫≠p gym n√†y r·∫•t hi·ªán ƒë·∫°i.",
                opts: [
                    { t: "equipment", m: "(n): trang thi·∫øt b·ªã", c: true },
                    { t: "equip", m: "(v): trang b·ªã", c: false },
                    { t: "equipped", m: "(v-ed/adj): ƒë∆∞·ª£c trang b·ªã", c: false },
                    { t: "equipments", m: "Sai ng·ªØ ph√°p (danh t·ª´ kh√¥ng ƒë·∫øm ƒë∆∞·ª£c)", c: false }
                ],
                whyR: "ƒê·ª©ng sau m·∫°o t·ª´ 'The' v√† l√†m ch·ªß ng·ªØ cho c√¢u c·∫ßn m·ªôt DANH T·ª™ -> equipment.",
                whyW: "'Equipment' l√† danh t·ª´ KH√îNG ƒë·∫øm ƒë∆∞·ª£c n√™n kh√¥ng bao gi·ªù c√≥ 's' ·ªü cu·ªëi (equipments l√† sai)."
            },
            {
                type: "gap",
                qText: "3. The program attracted millions of {GAP}. (VIEW)", trans: "Ch∆∞∆°ng tr√¨nh ƒë√£ thu h√∫t h√†ng tri·ªáu ng∆∞·ªùi xem.",
                opts: [
                    { t: "viewers", m: "(n): ng∆∞·ªùi xem (s·ªë nhi·ªÅu)", c: true },
                    { t: "viewer", m: "(n): ng∆∞·ªùi xem (s·ªë √≠t)", c: false },
                    { t: "views", m: "(n): l∆∞·ª£t xem / quang c·∫£nh", c: false },
                    { t: "viewing", m: "(v-ing): vi·ªác xem", c: false }
                ],
                whyR: "Sau c·ª•m 'millions of' (h√†ng tri·ªáu) c·∫ßn m·ªôt danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c S·ªê NHI·ªÄU ch·ªâ ng∆∞·ªùi -> viewers.",
                whyW: "Kh√¥ng d√πng s·ªë √≠t (viewer). T·ª´ 'views' (l∆∞·ª£t xem) kh√¥ng d√πng trong ng·ªØ c·∫£nh kh√°n gi·∫£ truy·ªÅn h√¨nh tr·ª±c ti·∫øp."
            },
            {
                type: "gap",
                qText: "4. Peter can play a lot of sports such as football, volleyball... He looks quite {GAP}. (SPORT)", trans: "Peter c√≥ th·ªÉ ch∆°i nhi·ªÅu m√¥n th·ªÉ thao... Anh ·∫•y tr√¥ng kh√° ƒë·∫≠m ch·∫•t th·ªÉ thao.",
                opts: [
                    { t: "sporty", m: "(adj): kh·ªèe kho·∫Øn, d√°ng th·ªÉ thao", c: true },
                    { t: "sports", m: "(n): c√°c m√¥n th·ªÉ thao", c: false },
                    { t: "sporting", m: "(adj): li√™n quan ƒë·∫øn h·ªôi thao", c: false },
                    { t: "sport", m: "(n): m√¥n th·ªÉ thao", c: false }
                ],
                whyR: "ƒê·ª©ng sau ƒë·ªông t·ª´ n·ªëi 'looks' (tr√¥ng c√≥ v·∫ª) c·∫ßn m·ªôt T√çNH T·ª™ mi√™u t·∫£ ngo·∫°i h√¨nh/t√≠nh c√°ch -> sporty.",
                whyW: "D√πng danh t·ª´ ·ªü ƒë√¢y l√† sai ng·ªØ ph√°p cƒÉn b·∫£n."
            },
            {
                type: "gap",
                qText: "5. There are many modern {GAP} in Ho Chi Minh City. (BUILD)", trans: "C√≥ r·∫•t nhi·ªÅu t√≤a nh√† hi·ªán ƒë·∫°i ·ªü Th√†nh ph·ªë H·ªì Ch√≠ Minh.",
                opts: [
                    { t: "buildings", m: "(n): nh·ªØng t√≤a nh√† (s·ªë nhi·ªÅu)", c: true },
                    { t: "building", m: "(n): t√≤a nh√† (s·ªë √≠t)", c: false },
                    { t: "builder", m: "(n): th·ª£ x√¢y", c: false },
                    { t: "built", m: "(v-ed): ƒë√£ x√¢y", c: false }
                ],
                whyR: "ƒê·ª©ng sau t√≠nh t·ª´ 'modern' v√† l∆∞·ª£ng t·ª´ 'many' (nhi·ªÅu) c·∫ßn m·ªôt danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c S·ªê NHI·ªÄU -> buildings.",
                whyW: "D√πng danh t·ª´ s·ªë √≠t ho·∫∑c ch·ªâ ng∆∞·ªùi (th·ª£ x√¢y) ƒë·ªÅu sai logic v√† ng·ªØ ph√°p."
            },
            {
                type: "gap",
                qText: "6. She is an experienced English teacher. I always find her talks so informative and {GAP}. (entertain)", trans: "C√¥ ·∫•y l√† m·ªôt gi√°o vi√™n ti·∫øng Anh gi√†u kinh nghi·ªám. T√¥i lu√¥n th·∫•y c√°c b√†i n√≥i c·ªßa c√¥ ·∫•y gi√†u th√¥ng tin v√† mang t√≠nh gi·∫£i tr√≠.",
                opts: [
                    { t: "entertaining", m: "(adj): mang t√≠nh gi·∫£i tr√≠", c: true },
                    { t: "entertainment", m: "(n): s·ª± gi·∫£i tr√≠", c: false },
                    { t: "entertained", m: "(adj): c·∫£m th·∫•y ƒë∆∞·ª£c gi·∫£i tr√≠", c: false },
                    { t: "entertainer", m: "(n): ng∆∞·ªùi l√†m gi·∫£i tr√≠", c: false }
                ],
                whyR: "ƒê·ª©ng sau li√™n t·ª´ 'and' ph·∫£i ƒë·ªìng ƒë·∫≥ng v·ªõi t·ª´ ph√≠a tr∆∞·ªõc l√† 'informative' (t√≠nh t·ª´ ch·ªâ t√≠nh ch·∫•t s·ª± v·∫≠t). Ta c·∫ßn m·ªôt t√≠nh t·ª´ ƒëu√¥i -ing ƒë·ªÉ mi√™u t·∫£ b·∫£n ch·∫•t c·ªßa b√†i n√≥i (her talks) -> entertaining.",
                whyW: "T√≠nh t·ª´ ƒëu√¥i -ed (entertained) d√πng ƒë·ªÉ ch·ªâ c·∫£m x√∫c con ng∆∞·ªùi. Kh√¥ng d√πng danh t·ª´ v√¨ vi ph·∫°m c·∫•u tr√∫c song song 'adj and adj'."
            },
            {
                type: "gap",
                qText: "7. The boy band will give two {GAP} this week. (PERFORM)", trans: "Ban nh·∫°c nam s·∫Ω c√≥ hai bu·ªïi bi·ªÉu di·ªÖn tu·∫ßn n√†y.",
                opts: [
                    { t: "performances", m: "(n): c√°c bu·ªïi bi·ªÉu di·ªÖn (s·ªë nhi·ªÅu)", c: true },
                    { t: "performance", m: "(n): bu·ªïi bi·ªÉu di·ªÖn (s·ªë √≠t)", c: false },
                    { t: "performers", m: "(n): ng∆∞·ªùi bi·ªÉu di·ªÖn", c: false },
                    { t: "performing", m: "(v-ing): vi·ªác bi·ªÉu di·ªÖn", c: false }
                ],
                whyR: "Sau s·ªë t·ª´ 'two' (hai) c·∫ßn m·ªôt danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c S·ªê NHI·ªÄU -> performances.",
                whyW: "D√πng t·ª´ s·ªë √≠t l√† sai. Kh√¥ng d√πng 'performers' (nh·ªØng ng∆∞·ªùi bi·ªÉu di·ªÖn) v√¨ band nh·∫°c 'ƒë∆∞a ra / t·ªï ch·ª©c' c√°c bu·ªïi di·ªÖn ch·ª© kh√¥ng ph·∫£i t·ªï ch·ª©c ra con ng∆∞·ªùi."
            },
            {
                type: "gap",
                qText: "8. Sapa is a wonderful {GAP} resort in Viet Nam. (MOUNTAIN)", trans: "Sapa l√† m·ªôt khu ngh·ªâ d∆∞·ª°ng mi·ªÅn n√∫i tuy·ªát v·ªùi ·ªü Vi·ªát Nam.",
                opts: [
                    { t: "mountainous", m: "(adj): thu·ªôc v·ªÅ mi·ªÅn n√∫i", c: true },
                    { t: "mountains", m: "(n): nh·ªØng ng·ªçn n√∫i", c: false },
                    { t: "mountain", m: "(n): ng·ªçn n√∫i", c: false },
                    { t: "mountaineer", m: "(n): ng∆∞·ªùi leo n√∫i", c: false }
                ],
                whyR: "ƒê·ª©ng tr∆∞·ªõc danh t·ª´ 'resort' c·∫ßn m·ªôt T√çNH T·ª™ ƒë·ªÉ b·ªï nghƒ©a t·∫°o th√†nh c·ª•m t·ª´ -> mountainous resort (khu ngh·ªâ d∆∞·ª°ng v√πng n√∫i).",
                whyW: "Danh t·ª´ (mountain) kh√¥ng b·ªï nghƒ©a tr·ª±c ti·∫øp cho resort trong tr∆∞·ªùng h·ª£p n√†y."
            },
            {
                type: "gap",
                qText: "9. {GAP}! Your team won the first prize. (CONGRATULATE)", trans: "Ch√∫c m·ª´ng nh√©! ƒê·ªôi c·ªßa b·∫°n ƒë√£ gi√†nh gi·∫£i nh·∫•t.",
                opts: [
                    { t: "Congratulations", m: "(n/exclamation): Xin ch√∫c m·ª´ng!", c: true },
                    { t: "Congratulation", m: "(Thi·∫øu 's')", c: false },
                    { t: "Congratulate", m: "(v): ch√∫c m·ª´ng", c: false },
                    { t: "Congratulating", m: "(v-ing)", c: false }
                ],
                whyR: "ƒê·ª©ng ƒë·ªôc l·∫≠p ƒë·∫ßu c√¢u v·ªõi d·∫•u ch·∫•m than (!) l√† m·ªôt th√°n t·ª´. T·ª´ 'ch√∫c m·ª´ng' trong ti·∫øng Anh lu√¥n ph·∫£i c√≥ 's' ·ªü cu·ªëi -> Congratulations!",
                whyW: "T·ª´ 'Congratulation' vi·∫øt thi·∫øu ch·ªØ 's' l√† sai l·ªói c∆° b·∫£n. ƒê·ªông t·ª´ kh√¥ng ƒë·ª©ng m·ªôt m√¨nh nh∆∞ v·∫≠y ƒë·ªÉ c·∫£m th√°n."
            },
            {
                type: "gap",
                qText: "10. There was a really {GAP} football match on TV last night. (EXCITE)", trans: "ƒê√£ c√≥ m·ªôt tr·∫≠n b√≥ng ƒë√° th·ª±c s·ª± th√∫ v·ªã tr√™n TV t·ªëi qua.",
                opts: [
                    { t: "exciting", m: "(adj): th√∫ v·ªã, h√†o h·ª©ng", c: true },
                    { t: "excited", m: "(adj): c·∫£m th·∫•y h√†o h·ª©ng", c: false },
                    { t: "excitement", m: "(n): s·ª± ph·∫•n kh√≠ch", c: false },
                    { t: "excites", m: "(v): l√†m cho h√†o h·ª©ng", c: false }
                ],
                whyR: "ƒê·ª©ng tr∆∞·ªõc danh t·ª´ 'football match' c·∫ßn m·ªôt T√çNH T·ª™. V√¨ mi√™u t·∫£ b·∫£n ch·∫•t c·ªßa tr·∫≠n b√≥ng (v·∫≠t/s·ª± vi·ªác) n√™n d√πng t√≠nh t·ª´ ƒëu√¥i -ing -> exciting.",
                whyW: "T√≠nh t·ª´ ƒëu√¥i -ed (excited) d√πng ƒë·ªÉ ch·ªâ c·∫£m x√∫c c·ªßa CON NG∆Ø·ªúI (v√≠ d·ª•: I am excited)."
            },

            { section: "C. READING COMPREHENSION<br>Exercise 6: Read the following sign or notice and choose the correct answer to each of the following questions." },
            {
                type: "mc",
                cssSign: `<div class="sign-container"><div class="sign-keep-quiet">KEEP QUIET</div></div>`,
                qText: "1. Where can you see this notice?", trans: "B·∫°n c√≥ th·ªÉ th·∫•y bi·ªÉn b√°o n√†y ·ªü ƒë√¢u? (Gi·ªØ tr·∫≠t t·ª±)",
                opts: [
                    { t: "A. In your bedroom", m: "Trong ph√≤ng ng·ªß c·ªßa b·∫°n", c: false },
                    { t: "B. In the playground", m: "Tr√™n s√¢n ch∆°i", c: false },
                    { t: "C. In the library", m: "Trong th∆∞ vi·ªán", c: true },
                    { t: "D. In the supermarket", m: "Trong si√™u th·ªã", c: false }
                ],
                whyR: "Bi·ªÉn b√°o 'Keep Quiet' (Gi·ªØ tr·∫≠t t·ª±) th∆∞·ªùng xu·∫•t hi·ªán ·ªü nh·ªØng n∆°i c·∫ßn s·ª± y√™n tƒ©nh ƒë·ªÉ t·∫≠p trung nh∆∞ th∆∞ vi·ªán (library), b·ªánh vi·ªán.",
                whyW: "S√¢n ch∆°i hay si√™u th·ªã l√† n∆°i ·ªìn √†o. Ph√≤ng ng·ªß ri√™ng t∆∞ th∆∞·ªùng kh√¥ng treo bi·ªÉn n√†y."
            },
            {
                type: "mc",
                cssSign: `<div class="sign-container"><div class="sign-circle-crossed"><span class="icon">üö¨</span><div class="slash"></div></div></div>`,
                qText: "2. What does the notice say?", trans: "Bi·ªÉn b√°o n√†y n√≥i g√¨? (C·∫•m h√∫t thu·ªëc)",
                opts: [
                    { t: "A. You must not smoke in here.", m: "B·∫°n kh√¥ng ƒë∆∞·ª£c ph√©p h√∫t thu·ªëc ·ªü ƒë√¢y.", c: true },
                    { t: "B. You shouldn‚Äôt smoke in here.", m: "B·∫°n kh√¥ng n√™n h√∫t thu·ªëc ·ªü ƒë√¢y.", c: false },
                    { t: "C. You are allowed to smoke.", m: "B·∫°n ƒë∆∞·ª£c ph√©p h√∫t thu·ªëc.", c: false },
                    { t: "D. Smoking is not good for you.", m: "H√∫t thu·ªëc kh√¥ng t·ªët cho b·∫°n.", c: false }
                ],
                whyR: "Bi·ªÉn c·∫•m (v√≤ng tr√≤n ƒë·ªè g·∫°ch ch√©o) th·ªÉ hi·ªán t√≠nh B·∫ÆT BU·ªòC tuy·ªát ƒë·ªëi, c·∫•u tr√∫c chu·∫©n trong ti·∫øng Anh l√† 'must not' (c·∫•m).",
                whyW: "'Shouldn't' (kh√¥ng n√™n) ch·ªâ l√† l·ªùi khuy√™n, kh√¥ng di·ªÖn t·∫£ ƒë·ªô nghi√™m tr·ªçng c·ªßa bi·ªÉn c·∫•m ph√°p lu·∫≠t."
            },
            {
                type: "mc",
                cssSign: `<div class="sign-container"><div class="sign-emergency">üèÉ üö™</div></div>`,
                qText: "3. What does the notice say?", trans: "Bi·ªÉn b√°o n√†y n√≥i g√¨? (L·ªëi tho√°t hi·ªÉm kh·∫©n c·∫•p)",
                opts: [
                    { t: "A. Go this way in an emergency.", m: "ƒêi l·ªëi n√†y trong tr∆∞·ªùng h·ª£p kh·∫©n c·∫•p.", c: true },
                    { t: "B. You should run to the door.", m: "B·∫°n n√™n ch·∫°y ra c·ª≠a.", c: false },
                    { t: "C. One person can enter this area.", m: "M·ªôt ng∆∞·ªùi c√≥ th·ªÉ v√†o khu v·ª±c n√†y.", c: false },
                    { t: "D. You should walk slowly.", m: "B·∫°n n√™n ƒëi b·ªô t·ª´ t·ª´.", c: false }
                ],
                whyR: "H√¨nh ·∫£nh ng∆∞·ªùi ch·∫°y qua c·ª≠a m√†u xanh l√° c√¢y l√† bi·ªÉu t∆∞·ª£ng to√†n c·∫ßu cho 'Emergency Exit' (L·ªëi tho√°t hi·ªÉm). ƒê√°p √°n A gi·∫£i th√≠ch ch√≠nh x√°c √Ω nghƒ©a n√†y.",
                whyW: "Bi·ªÉn kh√¥ng √©p b·∫°n ph·∫£i 'ch·∫°y ra c·ª≠a' l√∫c b√¨nh th∆∞·ªùng (B). C v√† D ho√†n to√†n sai √Ω nghƒ©a."
            },
            {
                type: "mc",
                cssSign: `<div class="sign-container"><div class="sign-danger"><div class="sign-danger-header">DANGER</div><div class="sign-danger-text">OPEN<br>HOLE üö∂‚Äç‚ôÇÔ∏èüï≥Ô∏è</div></div></div>`,
                qText: "4. What does the notice say?", trans: "Bi·ªÉn b√°o n√†y n√≥i g√¨? (Nguy hi·ªÉm: H·ªë s√¢u)",
                opts: [
                    { t: "A. Step into the hole, please.", m: "Vui l√≤ng b∆∞·ªõc v√†o h·ªë.", c: false },
                    { t: "B. It is dangerous for a hole.", m: "H·ªë n√†y b·ªã nguy hi·ªÉm (Sai logic).", c: false },
                    { t: "C. Be careful; there is a hole.", m: "H√£y c·∫©n th·∫≠n; c√≥ m·ªôt c√°i h·ªë ƒë·∫•y.", c: true },
                    { t: "D. Open the hole, danger.", m: "M·ªü h·ªë ra, nguy hi·ªÉm (D·ªãch Word-by-word sai).", c: false }
                ],
                whyR: "Bi·ªÉn b√°o c·∫£nh b√°o nguy hi·ªÉm h·ªë m·ªü h·ªü n·∫Øp. Nghƒ©a v·ª• c·ªßa ng∆∞·ªùi ƒë·ªçc l√† ph·∫£i 'c·∫©n th·∫≠n' (Be careful) v√¨ c√≥ h·ªë s√¢u (there is a hole).",
                whyW: "A l√† khuy·∫øn kh√≠ch t·ª± t·ª≠ (sai). B v√† D d·ªãch theo ki·ªÉu gh√©p t·ª´ ng·ªõ ng·∫©n, sai ng·ªØ ph√°p v√† ng·ªØ nghƒ©a."
            },
            {
                type: "mc",
                cssSign: `<div class="sign-container"><div class="sign-circle-crossed"><span class="icon">üêï</span><div class="slash"></div></div></div>`,
                qText: "5. What does the sign say?", trans: "Bi·ªÉn b√°o n√†y n√≥i g√¨? (C·∫•m ch√≥)",
                opts: [
                    { t: "A. Do not bring any pets into this area.", m: "Kh√¥ng mang b·∫•t k·ª≥ th√∫ c∆∞ng n√†o v√†o khu v·ª±c n√†y.", c: false },
                    { t: "B. Only dogs are allowed to be here.", m: "Ch·ªâ ch√≥ m·ªõi ƒë∆∞·ª£c ph√©p ·ªü ƒë√¢y.", c: false },
                    { t: "C. No dogs are accepted to be here.", m: "Kh√¥ng c√≥ con ch√≥ n√†o ƒë∆∞·ª£c ch·∫•p nh·∫≠n ·ªü ƒë√¢y.", c: true },
                    { t: "D. We don‚Äôt sell dogs in this place.", m: "Ch√∫ng t√¥i kh√¥ng b√°n ch√≥ ·ªü n∆°i n√†y.", c: false }
                ],
                whyR: "H√¨nh ·∫£nh c·ª• th·ªÉ ch√∫ ch√≥ b·ªã g·∫°ch ch√©o c√≥ nghƒ©a ƒëen s√°t nh·∫•t l√† 'C·∫•m ch√≥' (No dogs). ƒê√°p √°n C b√°m s√°t nh·∫•t h√¨nh ·∫£nh c·ª• th·ªÉ n√†y.",
                whyW: "ƒê√°p √°n A bao g·ªìm T·∫§T C·∫¢ th√∫ c∆∞ng (pets) c√≥ th·ªÉ b·ªã th·ª´a (nh·ª° mang m√®o v√†o ƒë∆∞·ª£c th√¨ sao). B l√† ng∆∞·ª£c nghƒ©a ho√†n to√†n."
            },
            {
                type: "mc",
                cssSign: `<div class="sign-container"><div class="sign-parking">Patients can<br>park here in an<br>emergency</div></div>`,
                qText: "6. What does the notice say?", trans: "Bi·ªÉn b√°o n√†y n√≥i g√¨? (B·ªánh nh√¢n c√≥ th·ªÉ ƒë·ªó xe ·ªü ƒë√¢y trong tr∆∞·ªùng h·ª£p kh·∫©n c·∫•p)",
                opts: [
                    { t: "A. Only doctors and nurses can park here.", m: "Ch·ªâ b√°c sƒ© v√† y t√° m·ªõi ƒë∆∞·ª£c ƒë·ªó xe ·ªü ƒë√¢y.", c: false },
                    { t: "B. Everyone can park here if they are in a hurry.", m: "M·ªçi ng∆∞·ªùi c√≥ th·ªÉ ƒë·ªó xe ·ªü ƒë√¢y n·∫øu h·ªç ƒëang v·ªôi.", c: false },
                    { t: "C. Patients can use the parking lot in emergencies.", m: "B·ªánh nh√¢n c√≥ th·ªÉ s·ª≠ d·ª•ng b√£i ƒë·ªó xe trong tr∆∞·ªùng h·ª£p kh·∫©n c·∫•p.", c: true },
                    { t: "D. Impatient people cannot park in this area.", m: "Ng∆∞·ªùi thi·∫øu ki√™n nh·∫´n kh√¥ng ƒë∆∞·ª£c ƒë·ªó xe ·ªü khu v·ª±c n√†y.", c: false }
                ],
                whyR: "ƒê√°p √°n C ƒë∆°n gi·∫£n l√† c√°ch vi·∫øt l·∫°i (paraphrase) c√¢u tr√™n bi·ªÉn b√°o. 'park' -> 'use the parking lot', 'in an emergency' -> 'in emergencies'.",
                whyW: "D l√† m·ªôt c√°i b·∫´y ch∆°i ch·ªØ si√™u kinh ƒëi·ªÉn: 'Impatient' (thi·∫øu ki√™n nh·∫´n) b·ªã nh·∫ßm v·ªõi ph·ªß ƒë·ªãnh c·ªßa 'Patient' (b·ªánh nh√¢n)."
            },
            {
                type: "mc",
                cssSign: `<div class="sign-container"><div class="sign-no-entry">NO ENTRY</div></div>`,
                qText: "7. What does the notice say?", trans: "Bi·ªÉn b√°o n√†y n√≥i g√¨? (C·∫•m v√†o)",
                opts: [
                    { t: "A. Everyone, come in, please.", m: "M·ªçi ng∆∞·ªùi, xin m·ªùi v√†o.", c: false },
                    { t: "B. You mustn‚Äôt enter this place.", m: "B·∫°n kh√¥ng ƒë∆∞·ª£c ph√©p v√†o n∆°i n√†y.", c: true },
                    { t: "C. You should stay inside.", m: "B·∫°n n√™n ·ªü b√™n trong.", c: false },
                    { t: "D. There is no door to the place.", m: "Kh√¥ng c√≥ c·ª≠a v√†o n∆°i n√†y.", c: false }
                ],
                whyR: "Bi·ªÉn 'No Entry' mang t√≠nh ch·∫•t c·∫•m ƒëo√°n tuy·ªát ƒë·ªëi kh√¥ng cho ph√©p ai b∆∞·ªõc v√†o. C·∫•u tr√∫c ph√°p l√Ω chu·∫©n l√† 'mustn't' (c·∫•m).",
                whyW: "A l√† ng∆∞·ª£c nghƒ©a ho√†n to√†n. C v√† D kh√¥ng ph·∫£n √°nh ƒë√∫ng ch·ª©c nƒÉng c·∫£nh b√°o c·ªßa bi·ªÉn."
            },
            {
                type: "mc",
                cssSign: `<div class="sign-container"><div class="sign-circle-crossed"><span class="icon">üèä</span><div class="slash"></div></div></div>`,
                qText: "8. What does the sign say?", trans: "Bi·ªÉn b√°o n√†y n√≥i g√¨? (C·∫•m b∆°i)",
                opts: [
                    { t: "A. Don‚Äôt fall into the water.", m: "ƒê·ª´ng ng√£ xu·ªëng n∆∞·ªõc.", c: false },
                    { t: "B. You mustn‚Äôt swim here.", m: "B·∫°n kh√¥ng ƒë∆∞·ª£c ph√©p b∆°i ·ªü ƒë√¢y.", c: true },
                    { t: "C. You can swim here.", m: "B·∫°n c√≥ th·ªÉ b∆°i ·ªü ƒë√¢y.", c: false },
                    { t: "D. You should swim here.", m: "B·∫°n n√™n b∆°i ·ªü ƒë√¢y.", c: false }
                ],
                whyR: "H√¨nh ·∫£nh ng∆∞·ªùi b∆°i b·ªã g·∫°ch ch√©o ƒë·ªè l√† 'No Swimming' (C·∫•m b∆°i). D√πng 'mustn't' ƒë·ªÉ di·ªÖn t·∫£ l·ªánh c·∫•m.",
                whyW: "C v√† D l√† ng∆∞·ª£c nghƒ©a (cho ph√©p/khuy√™n b∆°i). A kh√¥ng ƒë√∫ng v·ªõi h√†nh ƒë·ªông b∆°i c√≥ ch·ªß ƒë√≠ch (fall = v√¥ t√¨nh ng√£)."
            }
        ];

        // --- RENDER ENGINE ---
        const container = document.getElementById('quiz-container');
        let currentScore = 0;
        let answeredQuestions = 0;
        let questionCount = 0;

        // State cho Gap fill modal
        let currentGapCard = null;
        let currentGapBtn = null;
        let currentItemData = null;
        let currentShuffledOpts = null;
        let currentCorrectLetter = '';
        let currentWrongLetters = '';

        function shuffleArray(array) {
            let arr = [...array];
            let currentIndex = arr.length, randomIndex;
            while (currentIndex != 0) {
                randomIndex = Math.floor(Math.random() * currentIndex);
                currentIndex--;
                [arr[currentIndex], arr[randomIndex]] = [arr[randomIndex], arr[currentIndex]];
            }
            return arr;
        }

        function renderQuiz() {
            rawData.forEach((item) => {
                if (item.section) {
                    const sectionTitle = document.createElement('div');
                    sectionTitle.className = 'section-title';
                    sectionTitle.innerHTML = item.section;
                    container.appendChild(sectionTitle);
                } else {
                    questionCount++;
                    const card = document.createElement('div');
                    card.className = 'question-card';
                    card.id = `card-${questionCount}`;

                    if (item.cssSign) {
                        card.innerHTML += item.cssSign;
                    }

                    const qText = document.createElement('div');
                    qText.className = 'question-text';
                    
                    let shuffledOpts = shuffleArray(item.opts);
                    shuffledOpts.forEach((opt, idx) => { opt.assignedLetter = String.fromCharCode(65 + idx); });
                    const correctLetter = shuffledOpts.find(o => o.c).assignedLetter;
                    const wrongLetters = shuffledOpts.filter(o => !o.c).map(o => o.assignedLetter).join(", ");

                    if (item.type === 'gap') {
                        // Render Gap Fill
                        const textParts = item.qText.split('{GAP}');
                        const btnGap = document.createElement('button');
                        btnGap.className = 'gap-btn';
                        btnGap.innerText = 'B·∫•m ch·ªçn t·ª´';
                        btnGap.onclick = () => openGapModal(card, btnGap, item, shuffledOpts, correctLetter, wrongLetters);
                        
                        qText.appendChild(document.createTextNode(textParts[0]));
                        qText.appendChild(btnGap);
                        qText.appendChild(document.createTextNode(textParts[1]));
                        card.appendChild(qText);
                    } else {
                        // Render Multiple Choice
                        qText.innerHTML = item.qText;
                        card.appendChild(qText);

                        const grid = document.createElement('div');
                        grid.className = 'options-grid two-cols';

                        shuffledOpts.forEach(opt => {
                            const btn = document.createElement('button');
                            btn.className = 'option-btn';
                            btn.innerHTML = `<b>${opt.assignedLetter}.</b> ${opt.t.replace(/^[A-Z]\.\s/, '')}`;
                            btn.onclick = () => handleMCAnswer(btn, opt, item, shuffledOpts, card, correctLetter, wrongLetters);
                            grid.appendChild(btn);
                        });
                        card.appendChild(grid);
                    }

                    // Khung gi·∫£i th√≠ch
                    const expBox = document.createElement('div');
                    expBox.className = 'explanation-box';
                    expBox.id = `exp-${questionCount}`;
                    
                    let optsExplanation = shuffledOpts.map(o => `<b>${o.assignedLetter}. ${o.t.replace(/^[A-Z]\.\s/, '')}</b>: ${o.m}`).join('<br>');

                    expBox.innerHTML = `
                        <div class="exp-title">üìö PH·∫¶N GI·∫¢I TH√çCH CHI TI·∫æT:</div>
                        <div class="exp-step"><b>1. D·ªãch ƒë·ªÅ b√†i:</b> ${item.trans}</div>
                        <div class="exp-step"><b>2. Ph√¢n t√≠ch 4 ƒë√°p √°n:</b><br>${optsExplanation}</div>
                        <div class="exp-step"><b>3. T·∫°i sao ch·ªçn ${correctLetter}?</b> ${item.whyR}</div>
                        <div class="exp-step"><b>4. T·∫°i sao c√°c ƒë√°p √°n ${wrongLetters} sai?</b> ${item.whyW}</div>
                    `;

                    card.appendChild(expBox);
                    container.appendChild(card);
                }
            });
        }

        // --- GAP FILL LOGIC ---
        function openGapModal(card, btnGap, item, shuffledOpts, correctLetter, wrongLetters) {
            currentGapCard = card; currentGapBtn = btnGap; currentItemData = item;
            currentShuffledOpts = shuffledOpts; currentCorrectLetter = correctLetter; currentWrongLetters = wrongLetters;

            const modal = document.getElementById('gap-modal');
            const container = document.getElementById('gap-options-container');
            container.innerHTML = '';

            shuffledOpts.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'gap-opt-btn';
                btn.innerHTML = opt.t;
                btn.onclick = () => handleGapAnswer(opt, btn);
                container.appendChild(btn);
            });

            modal.style.display = 'flex';
        }

        function handleGapAnswer(optData, modalBtn) {
            document.getElementById('gap-modal').style.display = 'none';
            initAudio();
            
            currentGapBtn.innerText = optData.t;
            currentGapBtn.disabled = true;

            const expBox = currentGapCard.querySelector('.explanation-box');
            expBox.style.display = 'block';

            if (optData.c) {
                currentGapBtn.classList.add('correct');
                playDing(); shootConfetti(); currentScore++;
            } else {
                currentGapBtn.classList.add('wrong');
                playBuzz();
                // Hi·ªán ƒë√°p √°n ƒë√∫ng ƒë·ªÉ HS bi·∫øt
                setTimeout(() => {
                    const correctOpt = currentShuffledOpts.find(o => o.c);
                    currentGapBtn.innerHTML = `<s>${optData.t}</s> <span style="color:white; margin-left:10px;">‚ûî ${correctOpt.t}</span>`;
                }, 800);
            }
            answeredQuestions++;
        }

        // --- MULTIPLE CHOICE LOGIC ---
        function handleMCAnswer(btn, optData, itemData, shuffledOpts, card, correctLetter, wrongLetters) {
            initAudio(); 
            const buttons = card.querySelectorAll('.option-btn');
            
            buttons.forEach(b => b.disabled = true);
            card.querySelector('.explanation-box').style.display = 'block';

            if (optData.c) {
                btn.classList.add('correct');
                playDing(); shootConfetti(); currentScore++;
            } else {
                btn.classList.add('wrong');
                playBuzz();
                buttons.forEach((b, idx) => { if(shuffledOpts[idx].c) b.classList.add('correct'); });
            }
            answeredQuestions++;
        }

        // --- RESULTS LOGIC ---
        function showResults() {
            if(answeredQuestions < questionCount) {
                alert(`Khoan ƒë√£! B·∫°n m·ªõi l√†m ${answeredQuestions}/${questionCount} c√¢u. H√£y k√©o l√™n l√†m n·ªët ƒë·ªÉ xem si√™u nƒÉng l·ª±c c·ªßa m√¨nh nh√©! üòâ`);
                return;
            }
            const modal = document.getElementById('result-modal');
            const scoreDisplay = document.getElementById('score-display');
            const scoreMessage = document.getElementById('score-message');

            scoreDisplay.innerText = `${currentScore}/${questionCount}`;
            let percent = currentScore / questionCount;
            if(percent === 1) { scoreMessage.innerText = "Tuy·ªát ƒë·ªânh v√¥ song! üíØ Kh√¥ng tr·∫≠t c√¢u n√†o!"; shootConfetti(); playDing(); } 
            else if (percent >= 0.8) { scoreMessage.innerText = "Xu·∫•t s·∫Øc! B·∫°n qu√° si√™u lu√¥n! üåü"; shootConfetti(); playDing(); } 
            else if (percent >= 0.5) { scoreMessage.innerText = "L√†m t·ªët l·∫Øm! C·ªë g·∫Øng ch√∫t n·ªØa l√† ho√†n h·∫£o! üëç"; playDing(); } 
            else { scoreMessage.innerText = "√îi, kh√¥ng sao! Xem k·ªπ gi·∫£i th√≠ch v√† l√†m l·∫°i nh√©! üí™"; }
            modal.style.display = 'flex';
        }

        // ƒê√≥ng modal gap khi click ra ngo√†i
        window.onclick = function(event) {
            const gapModal = document.getElementById('gap-modal');
            if (event.target == gapModal) gapModal.style.display = "none";
        }

        window.onload = renderQuiz;
    </script>
</body>
</html>