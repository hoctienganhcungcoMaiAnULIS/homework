<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ms Mai An ULIS - Whale Watching Reading Test</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <style>
        :root {
            --primary-pink: #8854C0;
            --primary-teal: #00C9A7;
            --correct-green: #00D26A;
            --wrong-red: #FF4757;
            --bg-color: #F0F3F8;
            --card-bg: #FFFFFF;
            --text-color: #2D3436;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Nunito', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            background-image: radial-gradient(#8854c022 1px, transparent 1px);
            background-size: 20px 20px;
            color: var(--text-color);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden; /* Prevent body scroll, handle in panels */
        }

        /* --- Header & Timer --- */
        header {
            background: white;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            z-index: 100;
            height: 60px;
        }

        .teacher-brand {
            font-weight: 800;
            font-size: 1.1rem;
            color: var(--primary-pink);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .timer-container {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .timer-display {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary-teal);
            font-variant-numeric: tabular-nums;
        }

        .timer-btn {
            background: var(--primary-pink);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 700;
            cursor: pointer;
            box-shadow: 0 4px 0 #6c429c;
            transition: all 0.1s;
        }

        .timer-btn:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        /* --- Main Layout --- */
        main {
            display: flex;
            height: calc(100vh - 60px);
            gap: 20px;
            padding: 20px;
        }

        .panel {
            flex: 1;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.05);
            padding: 25px;
            overflow-y: auto;
            position: relative;
        }

        /* Custom Scrollbar */
        .panel::-webkit-scrollbar {
            width: 10px;
        }
        .panel::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .panel::-webkit-scrollbar-thumb {
            background: #dcdcdc;
            border-radius: 10px;
        }
        .panel::-webkit-scrollbar-thumb:hover {
            background: var(--primary-pink);
        }

        /* --- Reading Section (Left) --- */
        h2 {
            color: var(--primary-pink);
            border-bottom: 3px dashed var(--primary-teal);
            padding-bottom: 10px;
            margin-top: 0;
        }

        .reading-title {
            font-size: 1.8rem;
            text-align: center;
            color: var(--primary-teal);
            margin-bottom: 5px;
        }

        .reading-author {
            text-align: center;
            color: #888;
            font-style: italic;
            margin-bottom: 20px;
        }

        .paragraph {
            margin-bottom: 20px;
            line-height: 1.6;
            font-size: 1.05rem;
            text-align: justify;
        }

        .translate-btn {
            display: inline-block;
            background: #f0f0f0;
            color: #555;
            padding: 5px 10px;
            border-radius: 8px;
            font-size: 0.8rem;
            cursor: pointer;
            border: 1px solid #ddd;
            margin-top: 5px;
            transition: 0.3s;
        }
        .translate-btn:hover {
            background: var(--primary-teal);
            color: white;
        }

        .translation-text {
            display: none;
            background: #eafff9;
            padding: 10px;
            border-radius: 8px;
            margin-top: 10px;
            border-left: 4px solid var(--primary-teal);
            color: #333;
            font-style: italic;
        }

        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 30px;
            background: #fff5f8;
            border-radius: 10px;
            overflow: hidden;
        }

        .glossary-table th {
            background: var(--primary-pink);
            color: white;
            padding: 10px;
            text-align: left;
        }

        .glossary-table td {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }

        /* --- Exercise Section (Right) --- */
        .question-card {
            background: #fff;
            border: 2px solid #f0f0f0;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            position: relative;
        }

        .q-number {
            position: absolute;
            top: -15px;
            left: 20px;
            background: var(--primary-teal);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: 800;
            box-shadow: 0 3px 0 #009e82;
        }

        .q-text {
            margin-top: 15px;
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        .options-grid {
            display: grid;
            gap: 12px;
        }

        .option-btn {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 15px;
            border-radius: 15px;
            text-align: left;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-size: 1rem;
            transition: all 0.2s;
            position: relative;
            box-shadow: 0 4px 0 #e0e0e0;
        }

        .option-btn:hover:not(:disabled) {
            transform: scale(1.02);
            border-color: var(--primary-pink);
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(4px);
            box-shadow: none;
        }

        /* Status Classes */
        .option-btn.correct {
            background-color: var(--correct-green);
            color: white;
            border-color: var(--correct-green);
            box-shadow: 0 4px 0 #00a352;
        }

        .option-btn.wrong {
            background-color: var(--wrong-red);
            color: white;
            border-color: var(--wrong-red);
            box-shadow: 0 4px 0 #c4303d;
            animation: shake 0.5s;
        }

        .option-btn:disabled {
            cursor: default;
            opacity: 0.7;
        }

        /* Support Buttons Area */
        .support-area {
            margin-top: 15px;
            display: none; /* Hidden initially */
            gap: 10px;
            flex-wrap: wrap;
        }

        .support-btn {
            flex: 1;
            padding: 8px;
            border: none;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            font-size: 0.9rem;
            color: white;
            box-shadow: 0 3px 0 rgba(0,0,0,0.2);
            transition: 0.2s;
        }

        .btn-explain { background: #FF9F43; }
        .btn-translate { background: #54a0ff; }
        .btn-paraphrase { background: #5f27cd; }

        .support-btn:active {
            transform: translateY(3px);
            box-shadow: none;
        }

        .support-content {
            margin-top: 10px;
            padding: 15px;
            border-radius: 10px;
            font-size: 0.95rem;
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .content-explain { background: #fff0e6; border-left: 4px solid #FF9F43; }
        .content-translate { background: #e6f2ff; border-left: 4px solid #54a0ff; }
        .content-paraphrase { background: #f0e6ff; border-left: 4px solid #5f27cd; }

        /* Submit Button */
        #submit-section {
            text-align: center;
            margin-top: 30px;
            padding-bottom: 30px;
        }

        #submit-btn {
            background: linear-gradient(45deg, var(--primary-pink), var(--primary-teal));
            color: white;
            font-size: 1.2rem;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(136, 84, 192, 0.4);
            transition: transform 0.2s;
        }
        #submit-btn:hover { transform: scale(1.05); }

        /* Animations */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Canvas for Confetti */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
        }

        /* Responsive */
        @media (max-width: 768px) {
            main {
                flex-direction: column;
                height: auto;
            }
            body {
                overflow: auto;
                height: auto;
            }
            .panel {
                height: 500px;
            }
        }
    </style>
</head>
<body>

<canvas id="confetti-canvas"></canvas>

<header>
    <div class="teacher-brand">
        <i class="fas fa-graduation-cap"></i> Ms Mai An ULIS
    </div>
    
    <div class="timer-container">
        <div class="timer-display" id="timer">15:00</div>
        <button class="timer-btn" id="timer-control" onclick="toggleTimer()">B·∫ÆT ƒê·∫¶U</button>
    </div>
</header>

<main>
    <div class="panel" id="reading-panel">
        <h2 class="reading-title">Whale-watching trip</h2>
        <p class="reading-author">by Jack Madison, 15</p>

        <div class="paragraph-block">
            <p class="paragraph">
                A while ago, my friend Olivia was telling me about a whale-watching trip she‚Äôd been on, in Canada. I wanted to tell her I was about to do the same thing, off the north coast of the UK, where my grandparents live. Whales had recently appeared there again, and my grandparents were convinced we‚Äôd see some ‚Äì so I was sure my trip would be as good as Olivia‚Äôs! But then I saw some review of the trip my dad had booked for us, when no-one had seen any whales at all. So, in the end, I decided not to tell Olivia anything about my trip, in case it wasn‚Äôt successful!
            </p>
            <button class="translate-btn" onclick="toggleTrans('trans1')"><i class="fas fa-language"></i> B·∫¢N D·ªäCH ƒê·∫¶Y ƒê·ª¶</button>
            <div id="trans1" class="translation-text">
                C√°ch ƒë√¢y kh√¥ng l√¢u, c√¥ b·∫°n Olivia c·ªßa t√¥i k·ªÉ cho t√¥i nghe v·ªÅ chuy·∫øn ƒëi xem c√° voi ·ªü Canada m√† b·∫°n ·∫•y ƒë√£ tham gia. T√¥i ƒë√£ mu·ªën k·ªÉ v·ªõi b·∫°n ·∫•y r·∫±ng t√¥i c≈©ng s·∫Øp l√†m ƒëi·ªÅu t∆∞∆°ng t·ª±, ·ªü ngo√†i kh∆°i b·ªù bi·ªÉn ph√≠a b·∫Øc V∆∞∆°ng qu·ªëc Anh, n∆°i √¥ng b√† t√¥i s·ªëng. G·∫ßn ƒë√¢y c√° voi ƒë√£ xu·∫•t hi·ªán tr·ªü l·∫°i ·ªü ƒë√≥, v√† √¥ng b√† t√¥i tin ch·∫Øc r·∫±ng ch√∫ng t√¥i s·∫Ω nh√¨n th·∫•y v√†i con ‚Äì v√¨ v·∫≠y t√¥i tin ch·∫Øc chuy·∫øn ƒëi c·ªßa m√¨nh c≈©ng s·∫Ω tuy·ªát nh∆∞ c·ªßa Olivia! Nh∆∞ng sau ƒë√≥, t√¥i th·∫•y m·ªôt b√†i ƒë√°nh gi√° v·ªÅ chuy·∫øn ƒëi m√† b·ªë t√¥i ƒë√£ ƒë·∫∑t cho ch√∫ng t√¥i, n√≥i r·∫±ng kh√¥ng ai nh√¨n th·∫•y con c√° voi n√†o c·∫£. V√¨ v·∫≠y, cu·ªëi c√πng, t√¥i quy·∫øt ƒë·ªãnh kh√¥ng n√≥i g√¨ v·ªõi Olivia v·ªÅ chuy·∫øn ƒëi c·ªßa m√¨nh, ph√≤ng khi n√≥ kh√¥ng th√†nh c√¥ng!
            </div>
        </div>

        <hr style="border: 0; border-top: 1px dashed #ddd; margin: 20px 0;">

        <div class="paragraph-block">
            <p class="paragraph">
                Anyway, Dad and I set off on our trip ‚Äì which was Dad‚Äôs idea ‚Äì and it was fantastic! Travelling out to sea on the tour boat with our guide, we soon reached the spot where whales often appeared. Then we waited ‚Äì and nothing happened. I was sure this wouldn‚Äôt last, though. People kept calling out they‚Äôd seen one, which was exciting ‚Äì but then it turned out they were wrong. Then finally I saw something move under the water ‚Äì a minke whale! So I felt like a hero for the rest of the trip!
            </p>
            <button class="translate-btn" onclick="toggleTrans('trans2')"><i class="fas fa-language"></i> B·∫¢N D·ªäCH ƒê·∫¶Y ƒê·ª¶</button>
            <div id="trans2" class="translation-text">
                D√π sao th√¨, b·ªë v√† t√¥i c≈©ng kh·ªüi h√†nh chuy·∫øn ƒëi ‚Äì ƒë√≥ l√† √Ω t∆∞·ªüng c·ªßa b·ªë ‚Äì v√† n√≥ th·∫≠t tuy·ªát v·ªùi! ƒêi ra bi·ªÉn tr√™n thuy·ªÅn du l·ªãch c√πng h∆∞·ªõng d·∫´n vi√™n, ch√∫ng t√¥i s·ªõm ƒë·∫øn ƒë∆∞·ª£c ƒëi·ªÉm m√† c√° voi th∆∞·ªùng xu·∫•t hi·ªán. Sau ƒë√≥ ch√∫ng t√¥i ch·ªù ƒë·ª£i ‚Äì v√† ch·∫≥ng c√≥ g√¨ x·∫£y ra c·∫£. Tuy nhi√™n, t√¥i ch·∫Øc ch·∫Øn ƒëi·ªÅu n√†y s·∫Ω kh√¥ng k√©o d√†i. M·ªçi ng∆∞·ªùi li√™n t·ª•c reo l√™n r·∫±ng h·ªç ƒë√£ nh√¨n th·∫•y m·ªôt con, ƒëi·ªÅu ƒë√≥ th·∫≠t th√∫ v·ªã ‚Äì nh∆∞ng r·ªìi h√≥a ra h·ªç ƒë√£ nh·∫ßm. R·ªìi cu·ªëi c√πng t√¥i c≈©ng th·∫•y th·ª© g√¨ ƒë√≥ di chuy·ªÉn d∆∞·ªõi n∆∞·ªõc ‚Äì m·ªôt con c√° voi minke! Th·∫ø l√† t√¥i c·∫£m th·∫•y nh∆∞ m·ªôt ng∆∞·ªùi h√πng trong su·ªët ph·∫ßn c√≤n l·∫°i c·ªßa chuy·∫øn ƒëi!
            </div>
        </div>

        <hr style="border: 0; border-top: 1px dashed #ddd; margin: 20px 0;">

        <div class="paragraph-block">
            <p class="paragraph">
                The whale was a wonderful sight, with its huge back not far from the boat. Our guide said it was around five tonnes in weight and around 10 metres long. Yet, despite its size, it swam alongside us at speed, and with little effort. We waited to see if more appeared, and some time later, we saw three more some distance away, that kept diving under the water and coming up again. Then just after I‚Äôd filmed them, they disappeared.
            </p>
            <button class="translate-btn" onclick="toggleTrans('trans3')"><i class="fas fa-language"></i> B·∫¢N D·ªäCH ƒê·∫¶Y ƒê·ª¶</button>
            <div id="trans3" class="translation-text">
                Con c√° voi l√† m·ªôt c·∫£nh t∆∞·ª£ng tuy·ªát v·ªùi, v·ªõi c√°i l∆∞ng kh·ªïng l·ªì c√°ch thuy·ªÅn kh√¥ng xa. H∆∞·ªõng d·∫´n vi√™n c·ªßa ch√∫ng t√¥i cho bi·∫øt n√≥ n·∫∑ng kho·∫£ng 5 t·∫•n v√† d√†i kho·∫£ng 10 m√©t. Tuy nhi√™n, b·∫•t ch·∫•p k√≠ch th∆∞·ªõc c·ªßa m√¨nh, n√≥ b∆°i d·ªçc theo ch√∫ng t√¥i v·ªõi t·ªëc ƒë·ªô nhanh v√† r·∫•t nh·∫π nh√†ng (√≠t t·ªën s·ª©c). Ch√∫ng t√¥i ch·ªù xem c√≥ con n√†o xu·∫•t hi·ªán n·ªØa kh√¥ng, v√† m·ªôt l√∫c sau, ch√∫ng t√¥i th·∫•y th√™m ba con n·ªØa ·ªü ƒë·∫±ng xa, c·ª© l·∫∑n xu·ªëng n∆∞·ªõc r·ªìi l·∫°i tr·ªìi l√™n. Sau ƒë√≥ ngay khi t√¥i v·ª´a quay phim ch√∫ng xong th√¨ ch√∫ng bi·∫øn m·∫•t.
            </div>
        </div>

        <hr style="border: 0; border-top: 1px dashed #ddd; margin: 20px 0;">

        <div class="paragraph-block">
            <p class="paragraph">
                Although the water‚Äôs less deep around the coast, larger whale species appear in the area with minke whales, feeding on fish. But minkes are curious creatures, so they‚Äôre more likely to approach tourist boats ‚Äì which was why we were successful! Then later, up on the cliffs, we looked out to sea, searching for signs of whales. Sometimes seabirds diving into the water means whales are around, as they‚Äôre stealing the whales‚Äô meal. We were unlucky, sadly ‚Äì but we‚Äôll be back!
            </p>
            <button class="translate-btn" onclick="toggleTrans('trans4')"><i class="fas fa-language"></i> B·∫¢N D·ªäCH ƒê·∫¶Y ƒê·ª¶</button>
            <div id="trans4" class="translation-text">
                M·∫∑c d√π n∆∞·ªõc ·ªü quanh b·ªù bi·ªÉn n√¥ng h∆°n, nh∆∞ng c√°c lo√†i c√° voi l·ªõn h∆°n v·∫´n xu·∫•t hi·ªán trong khu v·ª±c c√πng v·ªõi c√° voi minke, ƒë·ªÉ ƒÉn c√°. Nh∆∞ng c√° voi minke l√† lo√†i sinh v·∫≠t t√≤ m√≤, v√¨ v·∫≠y ch√∫ng c√≥ nhi·ªÅu kh·∫£ nƒÉng ti·∫øp c·∫≠n thuy·ªÅn du l·ªãch h∆°n ‚Äì ƒë√≥ l√† l√Ω do t·∫°i sao ch√∫ng t√¥i ƒë√£ th√†nh c√¥ng! Sau ƒë√≥, tr√™n v√°ch ƒë√°, ch√∫ng t√¥i nh√¨n ra bi·ªÉn, t√¨m ki·∫øm d·∫•u hi·ªáu c·ªßa c√° voi. ƒê√¥i khi chim bi·ªÉn lao xu·ªëng n∆∞·ªõc c√≥ nghƒ©a l√† c√° voi ƒëang ·ªü quanh ƒë√≥, v√¨ ch√∫ng ƒëang c∆∞·ªõp b·ªØa ƒÉn c·ªßa c√° voi. ƒê√°ng bu·ªìn l√† ch√∫ng t√¥i kh√¥ng g·∫∑p may ‚Äì nh∆∞ng ch√∫ng t√¥i s·∫Ω quay l·∫°i!
            </div>
        </div>

        <h3>üìö VOCABULARY HIGHLIGHTS (B1-C2)</h3>
        <table class="glossary-table">
            <thead>
                <tr>
                    <th>Word / Type</th>
                    <th>Meaning (Vietnamese)</th>
                </tr>
            </thead>
            <tbody>
                <tr><td><b>convinced</b> (adj)</td><td>Tin ch·∫Øc, b·ªã thuy·∫øt ph·ª•c</td></tr>
                <tr><td><b>excursion</b> (noun)</td><td>Chuy·∫øn tham quan (trip)</td></tr>
                <tr><td><b>spectacle</b> (noun)</td><td>C·∫£nh t∆∞·ª£ng h√πng vƒ© (sight)</td></tr>
                <tr><td><b>exertion</b> (noun)</td><td>S·ª± g·∫Øng s·ª©c (effort)</td></tr>
                <tr><td><b>approach</b> (verb)</td><td>Ti·∫øp c·∫≠n, l·∫°i g·∫ßn</td></tr>
                <tr><td><b>curious</b> (adj)</td><td>T√≤ m√≤, hi·∫øu k·ª≥</td></tr>
                <tr><td><b>cliff</b> (noun)</td><td>V√°ch ƒë√° d·ª±ng ƒë·ª©ng</td></tr>
                <tr><td><b>species</b> (noun)</td><td>Lo√†i (sinh v·∫≠t)</td></tr>
                <tr><td><b>disappointed</b> (adj)</td><td>Th·∫•t v·ªçng</td></tr>
                <tr><td><b>persuade</b> (verb)</td><td>Thuy·∫øt ph·ª•c</td></tr>
            </tbody>
        </table>
    </div>

    <div class="panel" id="exercise-panel">
        <h2>üìù EXERCISES</h2>

        <div class="question-card" id="q1">
            <div class="q-number">C√¢u 1</div>
            <div class="q-text">Jack wasn‚Äôt keen to mention his whale-watching trip to Olivia because</div>
            <div class="options-grid">
                <button class="option-btn" onclick="checkAnswer(1, 'A', 'B')">A. he thought her trip sounded a lot more exciting.</button>
                <button class="option-btn" onclick="checkAnswer(1, 'B', 'B')">B. he‚Äôd read some negative reports about where he was going.</button>
                <button class="option-btn" onclick="checkAnswer(1, 'C', 'B')">C. he wasn‚Äôt sure if his dad had definitely arranged it.</button>
                <button class="option-btn" onclick="checkAnswer(1, 'D', 'B')">D. he didn‚Äôt know whether she was very interested in whales.</button>
            </div>
            
            <div class="support-area" id="support-1">
                <button class="support-btn btn-explain" onclick="toggleSupport('explain-1')">üí° C√¥ Mai An gi·∫£i th√≠ch</button>
                <button class="support-btn btn-translate" onclick="toggleSupport('trans-q1')">üåê D·ªãch c√¢u h·ªèi</button>
                <button class="support-btn btn-paraphrase" onclick="toggleSupport('para-1')">üîÑ Paraphrase</button>
            </div>
            
            <div id="explain-1" class="support-content content-explain">
                <b>ƒê√°p √°n ƒë√∫ng l√† B.</b><br>
                Trong ƒëo·∫°n 1, Jack n√≥i: "But then I saw some <b>review</b>... when <b>no-one had seen any whales at all</b>" (T√¥i ƒë·ªçc th·∫•y b√†i ƒë√°nh gi√° b·∫£o kh√¥ng ai th·∫•y c√° voi c·∫£). V√¨ s·ª£ chuy·∫øn ƒëi kh√¥ng th√†nh c√¥ng (not successful) n√™n Jack quy·∫øt ƒë·ªãnh kh√¥ng k·ªÉ. <br>
                <i>Review x·∫•u = Negative reports.</i>
            </div>
            <div id="trans-q1" class="support-content content-translate">
                <b>H·ªèi:</b> Jack kh√¥ng m·∫∑n m√† nh·∫Øc ƒë·∫øn chuy·∫øn ƒëi xem c√° voi v·ªõi Olivia b·ªüi v√¨...<br>
                <b>A:</b> c·∫≠u ·∫•y nghƒ© chuy·∫øn ƒëi c·ªßa c√¥ ·∫•y nghe th√∫ v·ªã h∆°n nhi·ªÅu.<br>
                <b>B:</b> c·∫≠u ·∫•y ƒë√£ ƒë·ªçc v√†i b√°o c√°o ti√™u c·ª±c v·ªÅ n∆°i m√¨nh s·∫Øp ƒë·∫øn.<br>
                <b>C:</b> c·∫≠u ·∫•y kh√¥ng ch·∫Øc b·ªë m√¨nh ƒë√£ th·ª±c s·ª± s·∫Øp x·∫øp ch∆∞a.<br>
                <b>D:</b> c·∫≠u ·∫•y kh√¥ng bi·∫øt c√¥ ·∫•y c√≥ th√≠ch c√° voi kh√¥ng.
            </div>
            <div id="para-1" class="support-content content-paraphrase">
                <ul>
                    <li><b>Negative reports</b> = saw some review... when no-one had seen any whales</li>
                    <li><b>Wasn't keen to mention</b> = decided not to tell</li>
                </ul>
            </div>
        </div>

        <div class="question-card" id="q2">
            <div class="q-number">C√¢u 2</div>
            <div class="q-text">On board the whale-watching boat, Jack</div>
            <div class="options-grid">
                <button class="option-btn" onclick="checkAnswer(2, 'A', 'A')">A. was proud to be the first person to see a whale.</button>
                <button class="option-btn" onclick="checkAnswer(2, 'B', 'A')">B. began to worry that they might all be disappointed.</button>
                <button class="option-btn" onclick="checkAnswer(2, 'C', 'A')">C. tried not to get excited when anyone saw something.</button>
                <button class="option-btn" onclick="checkAnswer(2, 'D', 'A')">D. was glad he‚Äôd persuaded his dad to come with him.</button>
            </div>
            
            <div class="support-area" id="support-2">
                <button class="support-btn btn-explain" onclick="toggleSupport('explain-2')">üí° C√¥ Mai An gi·∫£i th√≠ch</button>
                <button class="support-btn btn-translate" onclick="toggleSupport('trans-q2')">üåê D·ªãch c√¢u h·ªèi</button>
                <button class="support-btn btn-paraphrase" onclick="toggleSupport('para-2')">üîÑ Paraphrase</button>
            </div>

            <div id="explain-2" class="support-content content-explain">
                <b>ƒê√°p √°n ƒë√∫ng l√† A.</b><br>
                ·ªû ƒëo·∫°n 2: "Then finally <b>I saw something move</b>... So I <b>felt like a hero</b> for the rest of the trip!".<br>
                Jack l√† ng∆∞·ªùi nh√¨n th·∫•y c√° voi ƒë·∫ßu ti√™n (sau khi nh·ªØng ng∆∞·ªùi kh√°c nh√¨n nh·∫ßm), v√† c·∫£m th·∫•y nh∆∞ ng∆∞·ªùi h√πng (hero) -> t∆∞∆°ng ƒë∆∞∆°ng v·ªõi c·∫£m th·∫•y t·ª± h√†o (proud).
            </div>
            <div id="trans-q2" class="support-content content-translate">
                <b>H·ªèi:</b> Tr√™n thuy·ªÅn xem c√° voi, Jack...<br>
                <b>A:</b> t·ª± h√†o l√† ng∆∞·ªùi ƒë·∫ßu ti√™n nh√¨n th·∫•y c√° voi.<br>
                <b>B:</b> b·∫Øt ƒë·∫ßu lo l·∫Øng r·∫±ng t·∫•t c·∫£ c√≥ th·ªÉ s·∫Ω th·∫•t v·ªçng.<br>
                <b>C:</b> c·ªë g·∫Øng kh√¥ng t·ªè ra ph·∫•n kh√≠ch khi ai ƒë√≥ nh√¨n th·∫•y g√¨ ƒë√≥.<br>
                <b>D:</b> vui m·ª´ng v√¨ ƒë√£ thuy·∫øt ph·ª•c b·ªë ƒëi c√πng.
            </div>
            <div id="para-2" class="support-content content-paraphrase">
                <ul>
                    <li><b>Proud</b> ~ Felt like a hero</li>
                    <li><b>First person to see</b> = finally I saw something move (after others were wrong)</li>
                </ul>
            </div>
        </div>

        <div class="question-card" id="q3">
            <div class="q-number">C√¢u 3</div>
            <div class="q-text">When Jack saw the minke whale, he was</div>
            <div class="options-grid">
                <button class="option-btn" onclick="checkAnswer(3, 'A', 'C')">A. surprised at how close it came to the boat.</button>
                <button class="option-btn" onclick="checkAnswer(3, 'B', 'C')">B. amazed that it was so much bigger than he‚Äôd imagined.</button>
                <button class="option-btn" onclick="checkAnswer(3, 'C', 'C')">C. impressed that it moved through the water so easily.</button>
                <button class="option-btn" onclick="checkAnswer(3, 'D', 'C')">D. delighted to see it had arrived with several others.</button>
            </div>
            
            <div class="support-area" id="support-3">
                <button class="support-btn btn-explain" onclick="toggleSupport('explain-3')">üí° C√¥ Mai An gi·∫£i th√≠ch</button>
                <button class="support-btn btn-translate" onclick="toggleSupport('trans-q3')">üåê D·ªãch c√¢u h·ªèi</button>
                <button class="support-btn btn-paraphrase" onclick="toggleSupport('para-3')">üîÑ Paraphrase</button>
            </div>

            <div id="explain-3" class="support-content content-explain">
                <b>ƒê√°p √°n ƒë√∫ng l√† C.</b><br>
                ƒêo·∫°n 3: "Yet, despite its size, it <b>swam alongside us at speed, and with little effort</b>."<br>
                Jack ·∫•n t∆∞·ª£ng v√¨ d√π n√≥ r·∫•t to (5 t·∫•n) nh∆∞ng b∆°i r·∫•t nhanh v√† nh·∫π nh√†ng (little effort) -> moved easily.
            </div>
            <div id="trans-q3" class="support-content content-translate">
                <b>H·ªèi:</b> Khi Jack nh√¨n th·∫•y c√° voi minke, c·∫≠u ·∫•y ƒë√£...<br>
                <b>A:</b> ng·∫°c nhi√™n v√¨ n√≥ ƒë·∫øn g·∫ßn thuy·ªÅn.<br>
                <b>B:</b> kinh ng·∫°c v√¨ n√≥ to h∆°n c·∫≠u t∆∞·ªüng t∆∞·ª£ng nhi·ªÅu.<br>
                <b>C:</b> ·∫•n t∆∞·ª£ng r·∫±ng n√≥ di chuy·ªÉn trong n∆∞·ªõc qu√° d·ªÖ d√†ng.<br>
                <b>D:</b> vui m·ª´ng khi th·∫•y n√≥ ƒë·∫øn c√πng v√†i con kh√°c.
            </div>
            <div id="para-3" class="support-content content-paraphrase">
                <ul>
                    <li><b>Moved so easily</b> = swam... with little effort</li>
                    <li><b>Impressed</b> (implied via tone "Yet, despite its size...")</li>
                </ul>
            </div>
        </div>

        <div class="question-card" id="q4">
            <div class="q-number">C√¢u 4</div>
            <div class="q-text">Jack suggests minke whales appeared in the same area as the boat because</div>
            <div class="options-grid">
                <button class="option-btn" onclick="checkAnswer(4, 'A', 'B')">A. they knew there were plenty of fish there.</button>
                <button class="option-btn" onclick="checkAnswer(4, 'B', 'B')">B. they were attracted by the arrival of the visitors.</button>
                <button class="option-btn" onclick="checkAnswer(4, 'C', 'B')">C. they didn‚Äôt have to compete for food with seabirds.</button>
                <button class="option-btn" onclick="checkAnswer(4, 'D', 'B')">D. they preferred how deep the water was there.</button>
            </div>
            
            <div class="support-area" id="support-4">
                <button class="support-btn btn-explain" onclick="toggleSupport('explain-4')">üí° C√¥ Mai An gi·∫£i th√≠ch</button>
                <button class="support-btn btn-translate" onclick="toggleSupport('trans-q4')">üåê D·ªãch c√¢u h·ªèi</button>
                <button class="support-btn btn-paraphrase" onclick="toggleSupport('para-4')">üîÑ Paraphrase</button>
            </div>

            <div id="explain-4" class="support-content content-explain">
                <b>ƒê√°p √°n ƒë√∫ng l√† B.</b><br>
                ƒêo·∫°n 4: "But minkes are <b>curious creatures</b>, so they‚Äôre more likely to <b>approach tourist boats</b>".<br>
                Ch√∫ng l√† lo√†i t√≤ m√≤ n√™n hay l·∫°i g·∫ßn thuy·ªÅn du l·ªãch -> b·ªã thu h√∫t b·ªüi s·ª± xu·∫•t hi·ªán c·ªßa du kh√°ch (visitors).
            </div>
            <div id="trans-q4" class="support-content content-translate">
                <b>H·ªèi:</b> Jack cho r·∫±ng c√° voi minke xu·∫•t hi·ªán c√πng khu v·ª±c v·ªõi thuy·ªÅn v√¨...<br>
                <b>A:</b> ch√∫ng bi·∫øt ·ªü ƒë√≥ c√≥ nhi·ªÅu c√°.<br>
                <b>B:</b> ch√∫ng b·ªã thu h√∫t b·ªüi s·ª± xu·∫•t hi·ªán c·ªßa du kh√°ch.<br>
                <b>C:</b> ch√∫ng kh√¥ng ph·∫£i tranh gi√†nh th·ª©c ƒÉn v·ªõi chim bi·ªÉn.<br>
                <b>D:</b> ch√∫ng th√≠ch ƒë·ªô s√¢u c·ªßa n∆∞·ªõc ·ªü ƒë√≥.
            </div>
            <div id="para-4" class="support-content content-paraphrase">
                <ul>
                    <li><b>Attracted by visitors</b> = curious... approach tourist boats</li>
                </ul>
            </div>
        </div>

        <div class="question-card" id="q5">
            <div class="q-number">C√¢u 5</div>
            <div class="q-text">What would Jack text to his grandparents about the whales?</div>
            <div class="options-grid">
                <button class="option-btn" onclick="checkAnswer(5, 'A', 'D')">A. I‚Äôll send you my video of the group of whales ‚Äì they only appeared briefly, so they weren‚Äôt as interesting as the first one we saw.</button>
                <button class="option-btn" onclick="checkAnswer(5, 'B', 'D')">B. Dad said he‚Äôd really wanted to go to Canada to watch whales, like my friend Olivia ‚Äì but now we‚Äôre really happy we came here.</button>
                <button class="option-btn" onclick="checkAnswer(5, 'C', 'D')">C. I must take you up to the cliffs to look for whales ‚Äì we‚Äôve seen them every time we‚Äôve been there, so far.</button>
                <button class="option-btn" onclick="checkAnswer(5, 'D', 'D')">D. You were so sure our whale-watching trip would be a success, while I still had doubts ‚Äì but you were right.</button>
            </div>
            
            <div class="support-area" id="support-5">
                <button class="support-btn btn-explain" onclick="toggleSupport('explain-5')">üí° C√¥ Mai An gi·∫£i th√≠ch</button>
                <button class="support-btn btn-translate" onclick="toggleSupport('trans-q5')">üåê D·ªãch c√¢u h·ªèi</button>
                <button class="support-btn btn-paraphrase" onclick="toggleSupport('para-5')">üîÑ Paraphrase</button>
            </div>

            <div id="explain-5" class="support-content content-explain">
                <b>ƒê√°p √°n ƒë√∫ng l√† D.</b><br>
                Ban ƒë·∫ßu Jack nghi ng·ªù (ƒë·ªçc review x·∫•u), nh∆∞ng √¥ng b√† th√¨ "convinced we'd see some" (tin ch·∫Øc s·∫Ω th·∫•y). K·∫øt qu·∫£ l√† th·∫•y th·∫≠t (fantastic). V·∫≠y n√™n Jack s·∫Ω nh·∫Øn: √îng b√† ƒë√£ ch·∫Øc ch·∫Øn chuy·∫øn ƒëi th√†nh c√¥ng, trong khi ch√°u nghi ng·ªù - nh∆∞ng √¥ng b√† ƒë√£ ƒë√∫ng!
            </div>
            <div id="trans-q5" class="support-content content-translate">
                <b>H·ªèi:</b> Jack s·∫Ω nh·∫Øn tin g√¨ cho √¥ng b√† v·ªÅ nh·ªØng con c√° voi?<br>
                <b>D:</b> √îng b√† ƒë√£ r·∫•t ch·∫Øc ch·∫Øn chuy·∫øn ƒëi xem c√° voi c·ªßa ch√∫ng ch√°u s·∫Ω th√†nh c√¥ng, trong khi ch√°u v·∫´n c√≤n nghi ng·ªù ‚Äì nh∆∞ng √¥ng b√† ƒë√£ ƒë√∫ng.
            </div>
            <div id="para-5" class="support-content content-paraphrase">
                <ul>
                    <li><b>You were so sure</b> = Grandparents were convinced</li>
                    <li><b>I still had doubts</b> = I saw some review... (negative)</li>
                    <li><b>You were right</b> = It was fantastic!</li>
                </ul>
            </div>
        </div>

        <div id="submit-section">
            <button id="submit-btn" onclick="finishTest()">N·ªòP B√ÄI <i class="fas fa-paper-plane"></i></button>
        </div>
    </div>
</main>

<audio id="sound-correct" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3"></audio>
<audio id="sound-wrong" src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3"></audio>

<script>
    // --- TIMER LOGIC ---
    let timeRemaining = 15 * 60; // 15 minutes
    let timerInterval = null;
    let isTimerRunning = false;

    function formatTime(seconds) {
        const m = Math.floor(seconds / 60);
        const s = seconds % 60;
        return `${m < 10 ? '0' : ''}${m}:${s < 10 ? '0' : ''}${s}`;
    }

    function toggleTimer() {
        const btn = document.getElementById('timer-control');
        const display = document.getElementById('timer');

        if (isTimerRunning) {
            // Pause
            clearInterval(timerInterval);
            isTimerRunning = false;
            btn.textContent = "TI·∫æP T·ª§C";
            btn.style.backgroundColor = "#FF9F43";
        } else {
            // Start/Resume
            isTimerRunning = true;
            btn.textContent = "T·∫†M D·ª™NG";
            btn.style.backgroundColor = "#FF4757";
            
            timerInterval = setInterval(() => {
                timeRemaining--;
                display.textContent = formatTime(timeRemaining);
                
                if (timeRemaining <= 0) {
                    clearInterval(timerInterval);
                    alert("‚è∞ ƒê√£ h·∫øt gi·ªù l√†m b√†i! B·∫°n v·∫´n c√≥ th·ªÉ ti·∫øp t·ª•c l√†m, nh∆∞ng nh·ªõ l√† trong ph√≤ng thi th·∫≠t, b·∫°n ch·ªâ n√™n l√†m m·ªôt b√†i nh∆∞ th·∫ø n√†y trong 15 ph√∫t th√¥i nha.");
                    btn.textContent = "H·∫æT GI·ªú";
                    btn.disabled = true;
                }
            }, 1000);
        }
    }

    // --- TRANSLATION TOGGLE ---
    function toggleTrans(id) {
        const el = document.getElementById(id);
        if (el.style.display === "block") {
            el.style.display = "none";
        } else {
            el.style.display = "block";
        }
    }

    // --- QUIZ LOGIC ---
    let score = 0;
    let totalQuestions = 5;
    let answeredCount = 0;

    function checkAnswer(qId, selectedOption, correctOption) {
        const btnSelector = `#q${qId} .option-btn`;
        const buttons = document.querySelectorAll(btnSelector);
        
        // Disable all buttons in this question
        buttons.forEach(btn => {
            btn.disabled = true;
            if (btn.textContent.startsWith(correctOption)) {
                // Ensure correct answer is always green at the end
                // We will handle coloring logic below
            }
        });

        const selectedBtn = Array.from(buttons).find(b => b.textContent.startsWith(selectedOption));
        const correctBtn = Array.from(buttons).find(b => b.textContent.startsWith(correctOption));

        if (selectedOption === correctOption) {
            // CORRECT
            selectedBtn.classList.add('correct');
            playSound('correct');
            triggerConfetti();
            score++;
        } else {
            // WRONG
            selectedBtn.classList.add('wrong');
            correctBtn.classList.add('correct'); // Show correct answer
            playSound('wrong');
        }

        answeredCount++;
        
        // Show Support Buttons
        document.getElementById(`support-${qId}`).style.display = 'flex';
    }

    function toggleSupport(contentId) {
        const el = document.getElementById(contentId);
        // Hide others in same group
        const parent = el.parentElement;
        const allContents = parent.querySelectorAll('.support-content');
        
        if (el.style.display === "block") {
            el.style.display = "none";
        } else {
            // Optional: Hide others if you want only one open at a time
            // allContents.forEach(c => c.style.display = 'none');
            el.style.display = "block";
        }
    }

    function playSound(type) {
        const audio = document.getElementById(type === 'correct' ? 'sound-correct' : 'sound-wrong');
        audio.currentTime = 0;
        audio.play().catch(e => console.log("Audio play failed (user interaction required first)"));
    }

    function finishTest() {
        let msg = "";
        if (score === 5) msg = "Xu·∫•t s·∫Øc! B·∫°n l√† thi√™n t√†i ƒë·ªçc hi·ªÉu! üåü";
        else if (score >= 3) msg = "L√†m t·ªët l·∫Øm! C·ªë g·∫Øng th√™m ch√∫t n·ªØa nh√©! üí™";
        else msg = "ƒê·ª´ng bu·ªìn nh√©, h√£y xem k·ªπ l·∫°i ph·∫ßn gi·∫£i th√≠ch c·ªßa c√¥ Mai An n√†o! ‚ù§";

        alert(`K·∫æT QU·∫¢ C·ª¶A B·∫†N: ${score}/${totalQuestions}\n\n${msg}`);
    }

    // --- CONFETTI EFFECT (Simple Implementation) ---
    const canvas = document.getElementById("confetti-canvas");
    const ctx = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let confetti = [];
    const colors = ['#8854C0', '#00C9A7', '#FF4757', '#FF9F43', '#2e86de'];

    function triggerConfetti() {
        confetti = [];
        for (let i = 0; i < 100; i++) {
            confetti.push({
                x: window.innerWidth / 2,
                y: window.innerHeight / 2,
                w: Math.random() * 10 + 5,
                h: Math.random() * 10 + 5,
                color: colors[Math.floor(Math.random() * colors.length)],
                vx: (Math.random() - 0.5) * 20,
                vy: (Math.random() - 0.5) * 20,
                gravity: 0.5
            });
        }
        animateConfetti();
    }

    function animateConfetti() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        confetti.forEach((p, index) => {
            p.x += p.vx;
            p.y += p.vy;
            p.vy += p.gravity;
            
            ctx.fillStyle = p.color;
            ctx.fillRect(p.x, p.y, p.w, p.h);

            if (p.y > canvas.height) confetti.splice(index, 1);
        });

        if (confetti.length > 0) requestAnimationFrame(animateConfetti);
    }

    window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
    });

</script>

</body>
</html>
