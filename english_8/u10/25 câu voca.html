<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr·∫Øc nghi·ªám M√¥i tr∆∞·ªùng - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #8854C0; /* T√≠m Pastel */
            --secondary-color: #00C9A7; /* Xanh Ng·ªçc */
            --correct-color: #00D26A; /* Xanh L√° Gamification */
            --wrong-color: #FF4757; /* ƒê·ªè Cam */
            --bg-color: #F0F3F8;
            --card-bg: #FFFFFF;
            --text-color: #2F3542;
            --shadow-color: rgba(0, 0, 0, 0.15);
            --btn-shadow: 0px 4px 0px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#8854c0 1.5px, transparent 1.5px), radial-gradient(#00c9a7 1.5px, #f0f3f8 1.5px);
            background-size: 30px 30px;
            background-position: 0 0, 15px 15px;
            color: var(--text-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        /* Header Styles */
        header {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 15px 30px;
            border-radius: 50px;
            box-shadow: 0 8px 16px var(--shadow-color);
            border: 3px solid var(--primary-color);
            z-index: 10;
        }

        h1 {
            color: var(--primary-color);
            font-family: 'Quicksand', sans-serif;
            font-weight: 800;
            font-size: 1.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .subtitle {
            font-size: 1rem;
            color: #57606f;
            font-weight: 600;
        }

        /* Quiz Container */
        .quiz-container {
            width: 100%;
            max-width: 800px;
            position: relative;
        }

        /* Question Card */
        .question-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 25px rgba(136, 84, 192, 0.2);
            border-bottom: 6px solid #e1e1e1;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .question-badge {
            background: var(--secondary-color);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 800;
            font-size: 0.9rem;
            display: inline-block;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 700;
            line-height: 1.5;
            color: #2f3542;
            margin-bottom: 25px;
        }

        /* Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
            .question-text {
                font-size: 1.1rem;
            }
        }

        /* Option Button Styles (Gamification 3D) */
        .option-btn {
            background: white;
            border: 2px solid #dfe4ea;
            border-bottom: 5px solid #dfe4ea; /* 3D effect */
            border-radius: 15px;
            padding: 15px 20px;
            font-family: 'Nunito', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: #57606f;
            cursor: pointer;
            transition: all 0.1s;
            position: relative;
            text-align: left;
            display: flex;
            align-items: center;
        }

        .option-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            border-color: var(--primary-color);
            border-bottom-color: var(--primary-color);
            color: var(--primary-color);
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(3px);
            border-bottom-width: 2px;
        }

        .option-label {
            width: 30px;
            height: 30px;
            background: #f1f2f6;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: 800;
            font-size: 0.9rem;
            color: #a4b0be;
            flex-shrink: 0;
        }

        /* Correct/Wrong States */
        .option-btn.correct {
            background: #d1fae5;
            border-color: var(--correct-color);
            border-bottom-color: #00b85c;
            color: #065f46;
        }
        .option-btn.correct .option-label {
            background: var(--correct-color);
            color: white;
        }

        .option-btn.wrong {
            background: #fee2e2;
            border-color: var(--wrong-color);
            border-bottom-color: #e63e4d;
            color: #991b1b;
            animation: shake 0.5s;
        }
        .option-btn.wrong .option-label {
            background: var(--wrong-color);
            color: white;
        }

        /* Explanation Box */
        .explanation-box {
            margin-top: 20px;
            background: #f8f9fa;
            border-left: 5px solid var(--primary-color);
            border-radius: 10px;
            padding: 20px;
            display: none; /* Hidden by default */
            animation: slideDown 0.4s ease-out;
        }

        .exp-header {
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .exp-header img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
        }

        .exp-content {
            font-size: 1rem;
            line-height: 1.6;
            color: #2f3542;
            white-space: pre-line; /* Respect newlines from JSON */
        }
        
        .exp-content strong {
            color: #2f3542;
            background: #ecccff;
            padding: 2px 6px;
            border-radius: 4px;
        }

        /* Submit Button */
        #submit-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            border-bottom: 5px solid #6c4299;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: 800;
            border-radius: 50px;
            cursor: pointer;
            margin: 40px auto;
            display: block;
            transition: all 0.2s;
            box-shadow: 0 10px 20px rgba(136, 84, 192, 0.4);
        }

        #submit-btn:hover {
            transform: translateY(-3px);
            filter: brightness(1.1);
        }

        #submit-btn:active {
            transform: translateY(2px);
            border-bottom-width: 2px;
        }

        /* Result Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            border: 5px solid var(--secondary-color);
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .score-circle {
            width: 120px;
            height: 120px;
            background: var(--secondary-color);
            color: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2.5rem;
            font-weight: 800;
            margin: 0 auto 20px;
            border: 5px solid #fff;
            box-shadow: 0 5px 15px rgba(0,201,167,0.4);
        }

        .modal-msg {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        .modal-desc {
            margin-bottom: 30px;
            color: #7f8c8d;
        }
        
        .close-btn {
            background: #ff4757;
            color: white;
            border: none;
            padding: 10px 25px;
            border-radius: 20px;
            font-weight: 700;
            cursor: pointer;
            font-size: 1rem;
        }

        /* Animations */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-2deg); }
            50% { transform: translateX(5px) rotate(2deg); }
            75% { transform: translateX(-5px) rotate(-2deg); }
            100% { transform: translateX(0); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes popIn {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }

        /* Canvas for Confetti */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 99;
        }

        /* Footer */
        .footer {
            margin-top: 30px;
            text-align: center;
            color: #a4b0be;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>

    <header>
        <h1>Ms Mai An ULIS</h1>
        <div class="subtitle">Tr·∫Øc nghi·ªám M√¥i tr∆∞·ªùng (Gi·∫£i th√≠ch Si√™u chi ti·∫øt)</div>
    </header>

    <div class="quiz-container" id="quiz-container">
        <!-- Questions will be injected here via JS -->
    </div>

    <button id="submit-btn" onclick="showResult()">N·ªòP B√ÄI & XEM ƒêI·ªÇM</button>

    <div class="footer">
        Designed with ‚ù§Ô∏è for Students
    </div>

    <!-- Modal Result -->
    <div class="modal-overlay" id="result-modal">
        <div class="modal-content">
            <div class="score-circle" id="final-score">0/0</div>
            <div class="modal-msg" id="modal-msg">Tuy·ªát v·ªùi!</div>
            <p class="modal-desc" id="modal-desc">Em ƒë√£ ho√†n th√†nh xu·∫•t s·∫Øc b√†i ki·ªÉm tra.</p>
            <button class="close-btn" onclick="closeModal()">Xem l·∫°i b√†i l√†m</button>
        </div>
    </div>

    <canvas id="confetti-canvas"></canvas>

    <script>
        // --- DATA SOURCE ---
        const quizData = [
            {
                "questionNumber": 1,
                "question": "We should ______ our carbon footprint to protect the environment.",
                "answerOptions": [
                    { "text": "pollute", "rationale": "Ph√¢n t√≠ch:\n- A. pollute (v): l√†m √¥ nhi·ªÖm.\n- B. protect (v): b·∫£o v·ªá.\n- C. reduce (v): gi·∫£m thi·ªÉu.\n- D. endanger (v): g√¢y nguy hi·ªÉm.\n\nD·ªãch c√¢u: Ch√∫ng ta n√™n gi·∫£m l∆∞·ª£ng kh√≠ th·∫£i carbon ƒë·ªÉ b·∫£o v·ªá m√¥i tr∆∞·ªùng.\n\nGi·∫£i th√≠ch: C·ª•m t·ª´ 'reduce carbon footprint' l√† colocation (c·ª•m t·ª´ c·ªë ƒë·ªãnh) mang nghƒ©a gi·∫£m l∆∞·ª£ng kh√≠ th·∫£i.", "isCorrect": false },
                    { "text": "protect", "rationale": "Sai. Kh√¥ng d√πng 'b·∫£o v·ªá d·∫•u ch√¢n carbon'.", "isCorrect": false },
                    { "text": "reduce", "rationale": "ƒê√∫ng. (v) gi·∫£m thi·ªÉu.\n\nGi·∫£i th√≠ch: 'reduce carbon footprint' l√† c·ª•m t·ª´ c·ªë ƒë·ªãnh.", "isCorrect": true },
                    { "text": "endanger", "rationale": "Sai. Nghƒ©a ti√™u c·ª±c (g√¢y nguy hi·ªÉm).", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 2,
                "question": "You should turn off devices that you are not using to ______ electricity.",
                "answerOptions": [
                    { "text": "save", "rationale": "ƒê√∫ng. (v) ti·∫øt ki·ªám.\n\nGi·∫£i th√≠ch: 'save electricity' (ti·∫øt ki·ªám ƒëi·ªán).", "isCorrect": true },
                    { "text": "reuse", "rationale": "Ph√¢n t√≠ch:\n- A. save (v): ti·∫øt ki·ªám.\n- B. reuse (v): t√°i s·ª≠ d·ª•ng.\n- C. release (v): th·∫£i ra.\n- D. turn (v): xoay/v·∫∑n.\n\nD·ªãch c√¢u: B·∫°n n√™n t·∫Øt c√°c thi·∫øt b·ªã kh√¥ng s·ª≠ d·ª•ng ƒë·ªÉ ti·∫øt ki·ªám ƒëi·ªán.\n\nGi·∫£i th√≠ch: Ta d√πng 'save electricity' (ti·∫øt ki·ªám ƒëi·ªán).", "isCorrect": false },
                    { "text": "release", "rationale": "Sai. Mang nghƒ©a th·∫£i ra.", "isCorrect": false },
                    { "text": "turn", "rationale": "Sai. Th∆∞·ªùng ƒëi v·ªõi on/off.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 3,
                "question": "\"Carbon footprint\" is the amount of carbon dioxide that we ______ into the environment.",
                "answerOptions": [
                    { "text": "stop", "rationale": "Sai. (v) d·ª´ng l·∫°i.", "isCorrect": false },
                    { "text": "plant", "rationale": "Sai. (v) tr·ªìng (c√¢y).", "isCorrect": false },
                    { "text": "recycle", "rationale": "Sai. (v) t√°i ch·∫ø.", "isCorrect": false },
                    { "text": "release", "rationale": "Ph√¢n t√≠ch:\n- A. stop (v): d·ª´ng.\n- B. plant (v): tr·ªìng.\n- C. recycle (v): t√°i ch·∫ø.\n- D. release (v): th·∫£i ra/ph√≥ng th√≠ch.\n\nD·ªãch c√¢u: 'D·∫•u ch√¢n carbon' l√† l∆∞·ª£ng kh√≠ CO2 m√† ch√∫ng ta th·∫£i ra m√¥i tr∆∞·ªùng.\n\nGi·∫£i th√≠ch: C·∫•u tr√∫c 'release into' (th·∫£i v√†o).", "isCorrect": true }
                ]
            },
            {
                "questionNumber": 4,
                "question": "People shouldn't throw away single-use products but ______ them.",
                "answerOptions": [
                    { "text": "endanger", "rationale": "Sai. (v) g√¢y nguy hi·ªÉm.", "isCorrect": false },
                    { "text": "recycle", "rationale": "Ph√¢n t√≠ch:\n- A. endanger (v): g√¢y nguy h·∫°i.\n- B. recycle (v): t√°i ch·∫ø.\n- C. protect (v): b·∫£o v·ªá.\n- D. pollute (v): l√†m √¥ nhi·ªÖm.\n\nD·ªãch c√¢u: M·ªçi ng∆∞·ªùi kh√¥ng n√™n v·ª©t b·ªè s·∫£n ph·∫©m d√πng m·ªôt l·∫ßn m√† h√£y t√°i ch·∫ø ch√∫ng.", "isCorrect": true },
                    { "text": "protect", "rationale": "Sai. (v) b·∫£o v·ªá.", "isCorrect": false },
                    { "text": "pollute", "rationale": "Sai. (v) l√†m √¥ nhi·ªÖm.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 5,
                "question": "They can ______ campfires on the beach near the hotel.",
                "answerOptions": [
                    { "text": "volunteer", "rationale": "Sai. (v) l√†m t√¨nh nguy·ªán.", "isCorrect": false },
                    { "text": "cut", "rationale": "Sai. (v) c·∫Øt.", "isCorrect": false },
                    { "text": "build", "rationale": "Ph√¢n t√≠ch:\n- A. volunteer (v): t√¨nh nguy·ªán.\n- B. cut (v): c·∫Øt.\n- C. build (v): x√¢y d·ª±ng/nh√≥m (l·ª≠a).\n- D. litter (v): x·∫£ r√°c.\n\nD·ªãch c√¢u: H·ªç c√≥ th·ªÉ nh√≥m l·ª≠a tr·∫°i tr√™n b√£i bi·ªÉn.\n\nGi·∫£i th√≠ch: 'Build a campfire' l√† c·ª•m t·ª´ ch·ªâ vi·ªác nh√≥m l·ª≠a tr·∫°i.", "isCorrect": true },
                    { "text": "litter", "rationale": "Sai. (v) x·∫£ r√°c.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 6,
                "question": "The people in my village often ______ down trees to build houses.",
                "answerOptions": [
                    { "text": "cut", "rationale": "Ph√¢n t√≠ch:\n- A. cut (v): c·∫Øt/ch·∫∑t.\n- B. pollute (v): l√†m √¥ nhi·ªÖm.\n- C. avoid (v): tr√°nh.\n- D. release (v): th·∫£i ra.\n\nD·ªãch c√¢u: Ng∆∞·ªùi d√¢n l√†ng t√¥i th∆∞·ªùng ch·∫∑t c√¢y ƒë·ªÉ x√¢y nh√†.\n\nGi·∫£i th√≠ch: Phrasal verb 'cut down' nghƒ©a l√† ch·∫∑t h·∫°.", "isCorrect": true },
                    { "text": "pollute", "rationale": "Sai.", "isCorrect": false },
                    { "text": "avoid", "rationale": "Sai.", "isCorrect": false },
                    { "text": "release", "rationale": "Sai.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 7,
                "question": "You shouldn't dump the rubbish into the river to reduce ________ pollution.",
                "answerOptions": [
                    { "text": "air", "rationale": "Sai. (n) kh√¥ng kh√≠.", "isCorrect": false },
                    { "text": "water", "rationale": "Ph√¢n t√≠ch:\n- A. air (n): kh√¥ng kh√≠.\n- B. water (n): n∆∞·ªõc.\n- C. carbon (n): c√°c-bon.\n- D. campfire (n): l·ª≠a tr·∫°i.\n\nD·ªãch c√¢u: B·∫°n kh√¥ng n√™n ƒë·ªï r√°c xu·ªëng s√¥ng ƒë·ªÉ gi·∫£m √¥ nhi·ªÖm n∆∞·ªõc.\n\nGi·∫£i th√≠ch: 'River' (s√¥ng) li√™n quan ƒë·∫øn 'water pollution'.", "isCorrect": true },
                    { "text": "carbon", "rationale": "Sai.", "isCorrect": false },
                    { "text": "campfire", "rationale": "Sai.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 8,
                "question": "Forests help release oxygen and absorb __________________.",
                "answerOptions": [
                    { "text": "carbon dioxide", "rationale": "Ph√¢n t√≠ch:\n- A. carbon dioxide (n phrase): kh√≠ CO2.\n- B. global warming (n phrase): n√≥ng l√™n to√†n c·∫ßu.\n- C. environmental protection (n phrase): b·∫£o v·ªá m√¥i tr∆∞·ªùng.\n- D. water pollution (n phrase): √¥ nhi·ªÖm n∆∞·ªõc.\n\nD·ªãch c√¢u: R·ª´ng gi√∫p th·∫£i oxy v√† h·∫•p th·ª• kh√≠ CO2.", "isCorrect": true },
                    { "text": "global warming", "rationale": "Sai. Kh√¥ng th·ªÉ 'h·∫•p th·ª•' hi·ªán t∆∞·ª£ng n√≥ng l√™n.", "isCorrect": false },
                    { "text": "environmental protection", "rationale": "Sai.", "isCorrect": false },
                    { "text": "water pollution", "rationale": "Sai.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 9,
                "question": "We can take part in activities like picking ______ and planting trees to protect nature.",
                "answerOptions": [
                    { "text": "up", "rationale": "Ph√¢n t√≠ch:\n- A. up (adv/particle): l√™n.\n- B. about (prep): v·ªÅ.\n- C. down (adv): xu·ªëng.\n- D. to (prep): t·ªõi.\n\nD·ªãch c√¢u: Ch√∫ng ta c√≥ th·ªÉ tham gia nh·∫∑t r√°c v√† tr·ªìng c√¢y.\n\nGi·∫£i th√≠ch: C·ª•m ƒë·ªông t·ª´ 'pick up' (nh·∫∑t l√™n/thu gom).", "isCorrect": true },
                    { "text": "about", "rationale": "Sai.", "isCorrect": false },
                    { "text": "down", "rationale": "Sai.", "isCorrect": false },
                    { "text": "to", "rationale": "Sai.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 10,
                "question": "A number of cleaning products contain ______ chemicals.",
                "answerOptions": [
                    { "text": "safety", "rationale": "Sai. (n) s·ª± an to√†n. ·ªû ƒë√¢y c·∫ßn t√≠nh t·ª´.", "isCorrect": false },
                    { "text": "helpful", "rationale": "Sai. (adj) h·ªØu √≠ch. Ng·ªØ c·∫£nh c·∫£nh b√°o v·ªÅ h√≥a ch·∫•t th√¨ th∆∞·ªùng l√† ti√™u c·ª±c.", "isCorrect": false },
                    { "text": "harmful", "rationale": "Ph√¢n t√≠ch:\n- A. safety (n): s·ª± an to√†n.\n- B. helpful (adj): c√≥ √≠ch.\n- C. harmful (adj): c√≥ h·∫°i.\n- D. hopeful (adj): ƒë·∫ßy hy v·ªçng.\n\nD·ªãch c√¢u: M·ªôt s·ªë s·∫£n ph·∫©m t·∫©y r·ª≠a ch·ª©a h√≥a ch·∫•t ƒë·ªôc h·∫°i.", "isCorrect": true },
                    { "text": "hopeful", "rationale": "Sai. (adj) ƒë·∫ßy hy v·ªçng.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 11,
                "question": "The gases from the exhausts of cars have also increased ______ pollution in most cities.",
                "answerOptions": [
                    { "text": "land", "rationale": "Sai. (n) ƒë·∫•t.", "isCorrect": false },
                    { "text": "sand", "rationale": "Sai. (n) c√°t.", "isCorrect": false },
                    { "text": "water", "rationale": "Sai. (n) n∆∞·ªõc.", "isCorrect": false },
                    { "text": "air", "rationale": "Ph√¢n t√≠ch:\n- A. land (n): ƒë·∫•t.\n- B. sand (n): c√°t.\n- C. water (n): n∆∞·ªõc.\n- D. air (n): kh√¥ng kh√≠.\n\nD·ªãch c√¢u: Kh√≠ th·∫£i t·ª´ xe c·ªô ƒë√£ l√†m tƒÉng √¥ nhi·ªÖm kh√¥ng kh√≠ ·ªü h·∫ßu h·∫øt c√°c th√†nh ph·ªë.\n\nGi·∫£i th√≠ch: 'Gases' (kh√≠) v√† 'exhausts' (·ªëng x·∫£) li√™n quan ƒë·∫øn 'air pollution'.", "isCorrect": true }
                ]
            },
            {
                "questionNumber": 12,
                "question": "The death rate would ______ if hygienic conditions were improved.",
                "answerOptions": [
                    { "text": "decrease", "rationale": "Ph√¢n t√≠ch:\n- A. decrease (v): gi·∫£m.\n- B. increase (v): tƒÉng.\n- C. be (v): th√¨/l√†.\n- D. up (adv/prep): l√™n.\n\nD·ªãch c√¢u: T·ª∑ l·ªá t·ª≠ vong s·∫Ω gi·∫£m n·∫øu ƒëi·ªÅu ki·ªán v·ªá sinh ƒë∆∞·ª£c c·∫£i thi·ªán.\n\nGi·∫£i th√≠ch: ƒêi·ªÅu ki·ªán v·ªá sinh t·ªët l√™n (improved) th√¨ t·ª∑ l·ªá ch·∫øt ph·∫£i gi·∫£m (decrease).", "isCorrect": true },
                    { "text": "increase", "rationale": "Sai. (v) tƒÉng.", "isCorrect": false },
                    { "text": "be", "rationale": "Sai. (v) l√†.", "isCorrect": false },
                    { "text": "up", "rationale": "Sai. Kh√¥ng ph·∫£i ƒë·ªông t·ª´.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 13,
                "question": "When radiation goes into the land, air or water, it is called radioactive ______.",
                "answerOptions": [
                    { "text": "pollution", "rationale": "Ph√¢n t√≠ch:\n- A. pollution (n): s·ª± √¥ nhi·ªÖm.\n- B. polluted (adj): b·ªã √¥ nhi·ªÖm.\n- C. pollutants (n): ch·∫•t g√¢y √¥ nhi·ªÖm.\n- D. polluting (v-ing/adj): g√¢y √¥ nhi·ªÖm.\n\nD·ªãch c√¢u: Khi b·ª©c x·∫° ƒëi v√†o ƒë·∫•t, kh√¥ng kh√≠ ho·∫∑c n∆∞·ªõc, n√≥ ƒë∆∞·ª£c g·ªçi l√† √¥ nhi·ªÖm ph√≥ng x·∫°.\n\nGi·∫£i th√≠ch: C·∫ßn m·ªôt danh t·ª´ ch·ªâ hi·ªán t∆∞·ª£ng. 'Radioactive pollution'.", "isCorrect": true },
                    { "text": "polluted", "rationale": "Sai. (adj).", "isCorrect": false },
                    { "text": "pollutants", "rationale": "Sai. (n s·ªë nhi·ªÅu) ch·∫•t g√¢y √¥ nhi·ªÖm.", "isCorrect": false },
                    { "text": "polluting", "rationale": "Sai. (v-ing).", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 14,
                "question": "Too much use of electric lights in cities may ______ light pollution.",
                "answerOptions": [
                    { "text": "go", "rationale": "Sai. (v) ƒëi.", "isCorrect": false },
                    { "text": "result", "rationale": "Sai. (v) k·∫øt qu·∫£ (th∆∞·ªùng ƒëi v·ªõi 'in').", "isCorrect": false },
                    { "text": "cause", "rationale": "Ph√¢n t√≠ch:\n- A. go (v): ƒëi.\n- B. result (v): d·∫´n ƒë·∫øn (c·∫ßn 'in').\n- C. cause (v): g√¢y ra.\n- D. lead (v): d·∫´n ƒë·∫øn (c·∫ßn 'to').\n\nD·ªãch c√¢u: S·ª≠ d·ª•ng qu√° nhi·ªÅu ƒë√®n ƒëi·ªán ·ªü th√†nh ph·ªë c√≥ th·ªÉ g√¢y ra √¥ nhi·ªÖm √°nh s√°ng.", "isCorrect": true },
                    { "text": "lead", "rationale": "Sai. Thi·∫øu 'to'.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 15,
                "question": "______ pollution is the contamination of lakes, rivers, oceans, or groundwater, usually by human activities.",
                "answerOptions": [
                    { "text": "Soil", "rationale": "Sai. (n) ƒê·∫•t.", "isCorrect": false },
                    { "text": "Air", "rationale": "Sai. (n) Kh√¥ng kh√≠.", "isCorrect": false },
                    { "text": "Noise", "rationale": "Sai. (n) Ti·∫øng ·ªìn.", "isCorrect": false },
                    { "text": "Water", "rationale": "Ph√¢n t√≠ch:\n- A. Soil (n): ƒê·∫•t tr·ªìng.\n- B. Air (n): Kh√¥ng kh√≠.\n- C. Noise (n): Ti·∫øng ·ªìn.\n- D. Water (n): N∆∞·ªõc.\n\nD·ªãch c√¢u: √î nhi·ªÖm n∆∞·ªõc l√† s·ª± l√†m b·∫©n c√°c h·ªì, s√¥ng, ƒë·∫°i d∆∞∆°ng...\n\nGi·∫£i th√≠ch: T·ª´ kh√≥a 'lakes, rivers' ch·ªâ n∆∞·ªõc.", "isCorrect": true }
                ]
            },
            {
                "questionNumber": 16,
                "question": "Land pollution happens when human activities ______ the Earth's surface.",
                "answerOptions": [
                    { "text": "cover", "rationale": "Sai. (v) che ph·ªß.", "isCorrect": false },
                    { "text": "destroy", "rationale": "Ph√¢n t√≠ch:\n- A. cover (v): che ph·ªß.\n- B. destroy (v): ph√° h·ªßy.\n- C. damages (v): l√†m h·∫°i (sai ng·ªØ ph√°p, ch·ªß ng·ªØ 'activities' s·ªë nhi·ªÅu n√™n ƒë·ªông t·ª´ kh√¥ng chia 's').\n- D. cause (v): g√¢y ra (thi·∫øu t√¢n ng·ªØ ph√π h·ª£p).\n\nD·ªãch c√¢u: √î nhi·ªÖm ƒë·∫•t x·∫£y ra khi c√°c ho·∫°t ƒë·ªông c·ªßa con ng∆∞·ªùi ph√° h·ªßy b·ªÅ m·∫∑t Tr√°i ƒê·∫•t.", "isCorrect": true },
                    { "text": "damages", "rationale": "Sai ng·ªØ ph√°p (th·ª´a 's').", "isCorrect": false },
                    { "text": "cause", "rationale": "Sai nghƒ©a.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 17,
                "question": "The sight of too many telephone poles, advertising billboards... may cause ______ pollution.",
                "answerOptions": [
                    { "text": "visual", "rationale": "Ph√¢n t√≠ch:\n- A. visual (adj): thu·ªôc th·ªã gi√°c.\n- B. vision (n): t·∫ßm nh√¨n.\n- C. visualize (v): h√¨nh dung.\n- D. visible (adj): c√≥ th·ªÉ nh√¨n th·∫•y.\n\nD·ªãch c√¢u: H√¨nh ·∫£nh qu√° nhi·ªÅu c·ªôt ƒëi·ªán, bi·ªÉn qu·∫£ng c√°o... c√≥ th·ªÉ g√¢y √¥ nhi·ªÖm t·∫ßm nh√¨n (m·ªπ quan).\n\nGi·∫£i th√≠ch: 'Visual pollution' l√† thu·∫≠t ng·ªØ ch·ªâ √¥ nhi·ªÖm t·∫ßm nh√¨n.", "isCorrect": true },
                    { "text": "vision", "rationale": "Sai. (n).", "isCorrect": false },
                    { "text": "visualize", "rationale": "Sai. (v).", "isCorrect": false },
                    { "text": "visible", "rationale": "Sai. (adj).", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 18,
                "question": "People don't care much about the environment, so they keep ______ it worse.",
                "answerOptions": [
                    { "text": "made", "rationale": "Sai. (v-ed).", "isCorrect": false },
                    { "text": "making", "rationale": "Ph√¢n t√≠ch:\n- A. made (v-ed).\n- B. making (v-ing).\n- C. to make (to v).\n- D. make (v).\n\nD·ªãch c√¢u: M·ªçi ng∆∞·ªùi kh√¥ng quan t√¢m l·∫Øm ƒë·∫øn m√¥i tr∆∞·ªùng, n√™n h·ªç c·ª© l√†m n√≥ t·ªá h∆°n.\n\nGi·∫£i th√≠ch: C·∫•u tr√∫c 'keep + V-ing' (ti·∫øp t·ª•c l√†m g√¨).", "isCorrect": true },
                    { "text": "to make", "rationale": "Sai.", "isCorrect": false },
                    { "text": "make", "rationale": "Sai.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 19,
                "question": "Land pollution is responsible for damage done ______ natural habitat of animals.",
                "answerOptions": [
                    { "text": "with", "rationale": "Sai.", "isCorrect": false },
                    { "text": "for", "rationale": "Sai.", "isCorrect": false },
                    { "text": "to", "rationale": "Ph√¢n t√≠ch:\n- A. with (prep): v·ªõi.\n- B. for (prep): cho.\n- C. to (prep): t·ªõi/ƒë·ªëi v·ªõi.\n- D. of (prep): c·ªßa.\n\nD·ªãch c√¢u: √î nhi·ªÖm ƒë·∫•t ch·ªãu tr√°ch nhi·ªám cho nh·ªØng thi·ªát h·∫°i g√¢y ra ƒë·ªëi v·ªõi m√¥i tr∆∞·ªùng s·ªëng t·ª± nhi√™n.\n\nGi·∫£i th√≠ch: C·∫•u tr√∫c 'damage done TO something' (thi·ªát h·∫°i g√¢y ra cho c√°i g√¨).", "isCorrect": true },
                    { "text": "of", "rationale": "Sai.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 20,
                "question": "Americans throw ______ twenty-eight and a half million tons of plastic in landfills every year.",
                "answerOptions": [
                    { "text": "in", "rationale": "Sai.", "isCorrect": false },
                    { "text": "at", "rationale": "Sai.", "isCorrect": false },
                    { "text": "to", "rationale": "Sai.", "isCorrect": false },
                    { "text": "away", "rationale": "Ph√¢n t√≠ch:\n- A. in (prep).\n- B. at (prep).\n- C. to (prep).\n- D. away (adv/particle).\n\nD·ªãch c√¢u: Ng∆∞·ªùi M·ªπ v·ª©t b·ªè 28.5 tri·ªáu t·∫•n nh·ª±a ra b√£i r√°c m·ªói nƒÉm.\n\nGi·∫£i th√≠ch: Phrasal verb 'throw away' (v·ª©t ƒëi).", "isCorrect": true }
                ]
            },
            {
                "questionNumber": 21,
                "question": "Scientists have come up ______ new ways of saving energy.",
                "answerOptions": [
                    { "text": "with", "rationale": "Ph√¢n t√≠ch:\n- A. with (prep).\n- B. on (prep).\n- C. to (prep).\n- D. out (adv).\n\nD·ªãch c√¢u: C√°c nh√† khoa h·ªçc ƒë√£ nghƒ© ra nh·ªØng c√°ch m·ªõi ƒë·ªÉ ti·∫øt ki·ªám nƒÉng l∆∞·ª£ng.\n\nGi·∫£i th√≠ch: Phrasal verb 'come up with' (nghƒ© ra, n·∫£y ra √Ω t∆∞·ªüng).", "isCorrect": true },
                    { "text": "on", "rationale": "Sai.", "isCorrect": false },
                    { "text": "to", "rationale": "Sai.", "isCorrect": false },
                    { "text": "out", "rationale": "Sai.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 22,
                "question": "Thousands of people were exposed ______ radiation when the nuclear plant exploded.",
                "answerOptions": [
                    { "text": "in", "rationale": "Sai.", "isCorrect": false },
                    { "text": "at", "rationale": "Sai.", "isCorrect": false },
                    { "text": "to", "rationale": "Ph√¢n t√≠ch:\n- A. in (prep).\n- B. at (prep).\n- C. to (prep).\n- D. away (adv).\n\nD·ªãch c√¢u: H√†ng ng√†n ng∆∞·ªùi ƒë√£ b·ªã ph∆°i nhi·ªÖm ph√≥ng x·∫° khi nh√† m√°y h·∫°t nh√¢n ph√°t n·ªï.\n\nGi·∫£i th√≠ch: C·∫•u tr√∫c 'be exposed to' (ti·∫øp x√∫c v·ªõi/b·ªã ph∆°i nhi·ªÖm v·ªõi).", "isCorrect": true },
                    { "text": "away", "rationale": "Sai.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 23,
                "question": "Waste water from many factories which is dumped ______ water bodies directly cause water pollution.",
                "answerOptions": [
                    { "text": "on", "rationale": "Sai.", "isCorrect": false },
                    { "text": "into", "rationale": "Ph√¢n t√≠ch:\n- A. on (prep): tr√™n.\n- B. into (prep): v√†o trong.\n- C. out (adv): ra ngo√†i.\n- D. by (prep): b·ªüi.\n\nD·ªãch c√¢u: N∆∞·ªõc th·∫£i t·ª´ c√°c nh√† m√°y ƒë·ªï tr·ª±c ti·∫øp v√†o c√°c ngu·ªìn n∆∞·ªõc g√¢y √¥ nhi·ªÖm.\n\nGi·∫£i th√≠ch: 'Dump into' (ƒë·ªï v√†o trong).", "isCorrect": true },
                    { "text": "out", "rationale": "Sai.", "isCorrect": false },
                    { "text": "by", "rationale": "Sai.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 24,
                "question": "______ fumes from these vehicles are serious air pollutants.",
                "answerOptions": [
                    { "text": "Poisonously", "rationale": "Sai. (adv) m·ªôt c√°ch ƒë·ªôc h·∫°i.", "isCorrect": false },
                    { "text": "Poison", "rationale": "Sai. (n/v) ch·∫•t ƒë·ªôc.", "isCorrect": false },
                    { "text": "Poisonous", "rationale": "Ph√¢n t√≠ch:\n- A. Poisonously (adv).\n- B. Poison (n/v).\n- C. Poisonous (adj): c√≥ ƒë·ªôc.\n- D. Poisons (n-plural/v).\n\nD·ªãch c√¢u: Kh√≠ th·∫£i ƒë·ªôc h·∫°i t·ª´ nh·ªØng ph∆∞∆°ng ti·ªán n√†y l√† ch·∫•t g√¢y √¥ nhi·ªÖm nghi√™m tr·ªçng.\n\nGi·∫£i th√≠ch: C·∫ßn t√≠nh t·ª´ b·ªï nghƒ©a cho danh t·ª´ 'fumes'.", "isCorrect": true },
                    { "text": "Poisons", "rationale": "Sai.", "isCorrect": false }
                ]
            },
            {
                "questionNumber": 25,
                "question": "Air pollution occurs when the atmosphere contains gases, dust, or fumes in ______ amounts.",
                "answerOptions": [
                    { "text": "unharmed", "rationale": "Sai. (adj) kh√¥ng b·ªã t·ªïn h·∫°i.", "isCorrect": false },
                    { "text": "harmless", "rationale": "Sai. (adj) v√¥ h·∫°i.", "isCorrect": false },
                    { "text": "harm", "rationale": "Sai. (n/v) h·∫°i.", "isCorrect": false },
                    { "text": "harmful", "rationale": "Ph√¢n t√≠ch:\n- A. unharmed (adj): nguy√™n v·∫πn.\n- B. harmless (adj): v√¥ h·∫°i.\n- C. harm (n/v): h·∫°i.\n- D. harmful (adj): c√≥ h·∫°i.\n\nD·ªãch c√¢u: √î nhi·ªÖm kh√¥ng kh√≠ x·∫£y ra khi kh√≠ quy·ªÉn ch·ª©a kh√≠, b·ª•i ·ªü m·ª©c ƒë·ªô c√≥ h·∫°i.\n\nGi·∫£i th√≠ch: C·∫ßn t√≠nh t·ª´ mang nghƒ©a ti√™u c·ª±c ƒë·ªÉ m√¥ t·∫£ 'amounts' g√¢y √¥ nhi·ªÖm.", "isCorrect": true }
                ]
            }
        ];

        let score = 0;
        const totalQuestions = quizData.length;
        let answeredCount = 0;

        // --- SOUND EFFECTS (Base64) ---
        // Short Ding Sound
        const sndCorrect = new Audio("data:audio/wav;base64,UklGRi4AAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAACAgICAQEBAYEAAYAAAAAA"); 
        // Note: Real mp3s are too long for data URI in this context, using simulated beep logic below for reliability
        
        function playSound(type) {
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            if (!AudioContext) return;
            const ctx = new AudioContext();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            
            osc.connect(gain);
            gain.connect(ctx.destination);
            
            if (type === 'correct') {
                osc.type = 'sine';
                osc.frequency.setValueAtTime(500, ctx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1000, ctx.currentTime + 0.1);
                gain.gain.setValueAtTime(0.1, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);
                osc.start();
                osc.stop(ctx.currentTime + 0.3);
            } else {
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(150, ctx.currentTime);
                osc.frequency.linearRampToValueAtTime(100, ctx.currentTime + 0.3);
                gain.gain.setValueAtTime(0.1, ctx.currentTime);
                gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);
                osc.start();
                osc.stop(ctx.currentTime + 0.3);
            }
        }

        // --- RENDER QUIZ ---
        const container = document.getElementById('quiz-container');

        // Helper to format rationale text
        function formatRationale(text) {
            if (!text) return "Ch∆∞a c√≥ gi·∫£i th√≠ch.";
            // Highlight specific keywords
            let formatted = text
                .replace(/\n/g, '<br>')
                .replace(/Ph√¢n t√≠ch:/g, '<strong>Ph√¢n t√≠ch:</strong>')
                .replace(/D·ªãch c√¢u:/g, '<br><strong>D·ªãch c√¢u:</strong>')
                .replace(/Gi·∫£i th√≠ch:/g, '<br><strong>Gi·∫£i th√≠ch:</strong>')
                .replace(/Sai\./g, '<strong>Sai.</strong>')
                .replace(/ƒê√∫ng\./g, '<strong>ƒê√∫ng.</strong>');
            return formatted;
        }

        function renderQuiz() {
            quizData.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'question-card';
                card.id = `q-card-${index}`;

                // Question Header
                const badge = document.createElement('div');
                badge.className = 'question-badge';
                badge.innerText = `C√¢u h·ªèi ${item.questionNumber}`;
                card.appendChild(badge);

                // Question Text
                const qText = document.createElement('div');
                qText.className = 'question-text';
                // Replace "______" with a styled blank if needed, or leave as is
                qText.innerText = item.question;
                card.appendChild(qText);

                // Options Grid
                const grid = document.createElement('div');
                grid.className = 'options-grid';

                item.answerOptions.forEach((opt, optIndex) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.id = `btn-${index}-${optIndex}`;
                    btn.onclick = () => checkAnswer(index, optIndex, opt.isCorrect, opt.rationale);
                    
                    const label = document.createElement('div');
                    label.className = 'option-label';
                    label.innerText = String.fromCharCode(65 + optIndex); // A, B, C, D
                    
                    const textSpan = document.createElement('span');
                    textSpan.innerText = opt.text;

                    btn.appendChild(label);
                    btn.appendChild(textSpan);
                    grid.appendChild(btn);
                });
                card.appendChild(grid);

                // Explanation Box (Hidden initially)
                const expBox = document.createElement('div');
                expBox.className = 'explanation-box';
                expBox.id = `exp-${index}`;
                expBox.innerHTML = `
                    <div class="exp-header">
                        <span>üë©‚Äçüè´ Gi·∫£i th√≠ch chi ti·∫øt t·ª´ Ms Mai An:</span>
                    </div>
                    <div class="exp-content" id="exp-text-${index}"></div>
                `;
                card.appendChild(expBox);

                container.appendChild(card);
            });
        }

        function checkAnswer(qIndex, optIndex, isCorrect, rationale) {
            const btns = document.querySelectorAll(`#q-card-${qIndex} .option-btn`);
            const selectedBtn = document.getElementById(`btn-${qIndex}-${optIndex}`);
            
            // Prevent re-clicking
            if (selectedBtn.disabled) return;

            // Disable all buttons in this card
            btns.forEach(btn => btn.disabled = true);

            const expBox = document.getElementById(`exp-${qIndex}`);
            const expText = document.getElementById(`exp-text-${qIndex}`);
            
            // Format rationale properly
            // Find the rationale of the SELECTED option + general rationale if needed
            // But the design requires showing the rationale for why the selected is right/wrong
            // The JSON has 'rationale' attached to each option. 
            // If the user selects a wrong answer, we should show WHY that is wrong, AND also show the Correct answer rationale.
            // Let's combine them for maximum learning value.
            
            let combinedRationale = "";
            const correctOption = quizData[qIndex].answerOptions.find(o => o.isCorrect);

            if (isCorrect) {
                // User is correct
                selectedBtn.classList.add('correct');
                playSound('correct');
                fireConfetti();
                score++;
                combinedRationale = rationale; // The rationale from the correct option is usually the full explanation
            } else {
                // User is wrong
                selectedBtn.classList.add('wrong');
                playSound('wrong');
                
                // Highlight the correct answer automatically
                const correctBtnIndex = quizData[qIndex].answerOptions.findIndex(o => o.isCorrect);
                document.getElementById(`btn-${qIndex}-${correctBtnIndex}`).classList.add('correct');

                combinedRationale = `<strong>B·∫°n ch·ªçn: ${quizData[qIndex].answerOptions[optIndex].text}</strong> - ${rationale}<hr style="border:0; border-top:1px dashed #ccc; margin:10px 0;"><strong>ƒê√°p √°n ƒë√∫ng: ${correctOption.text}</strong> - ${correctOption.rationale}`;
            }

            // Show explanation
            expText.innerHTML = formatRationale(combinedRationale);
            expBox.style.display = 'block';

            answeredCount++;
        }

        function showResult() {
            if (answeredCount < totalQuestions) {
                if(!confirm(`Em m·ªõi l√†m ${answeredCount}/${totalQuestions} c√¢u. Em c√≥ ch·∫Øc ch·∫Øn mu·ªën n·ªôp b√†i kh√¥ng?`)) return;
            }

            const modal = document.getElementById('result-modal');
            const scoreDisplay = document.getElementById('final-score');
            const msgDisplay = document.getElementById('modal-msg');
            const descDisplay = document.getElementById('modal-desc');

            scoreDisplay.innerText = `${score}/${totalQuestions}`;
            modal.style.display = 'flex';

            const percentage = (score / totalQuestions) * 100;
            if (percentage === 100) {
                msgDisplay.innerText = "Xu·∫•t s·∫Øc! üåü";
                descDisplay.innerText = "Em l√† b·∫≠c th·∫ßy v·ªÅ m√¥i tr∆∞·ªùng! C√¥ Mai An r·∫•t t·ª± h√†o.";
                fireConfetti();
            } else if (percentage >= 80) {
                msgDisplay.innerText = "L√†m t·ªët l·∫Øm! üéâ";
                descDisplay.innerText = "Ki·∫øn th·ª©c c·ªßa em r·∫•t v·ªØng. C·ªë g·∫Øng th√™m ch√∫t n·ªØa nh√©!";
            } else if (percentage >= 50) {
                msgDisplay.innerText = "C·ªë g·∫Øng l√™n! üí™";
                descDisplay.innerText = "Em h√£y xem l·∫°i ph·∫ßn gi·∫£i th√≠ch chi ti·∫øt ƒë·ªÉ hi·ªÉu r√µ h∆°n nh√©.";
            } else {
                msgDisplay.innerText = "ƒê·ª´ng n·∫£n ch√≠! üå±";
                descDisplay.innerText = "H·ªçc t·∫≠p l√† m·ªôt qu√° tr√¨nh. H√£y √¥n l·∫°i t·ª´ v·ª±ng v√† l√†m l·∫°i b√†i nh√©.";
            }
        }

        function closeModal() {
            document.getElementById('result-modal').style.display = 'none';
        }

        // --- CONFETTI LOGIC ---
        function fireConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const particles = [];
            const particleCount = 100;
            const colors = ['#8854C0', '#00C9A7', '#FF4757', '#F1C40F'];

            for (let i = 0; i < particleCount; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    vx: Math.random() * 4 - 2,
                    vy: Math.random() * 4 + 2,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    size: Math.random() * 8 + 4
                });
            }

            let animationId;
            function update() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                let activeParticles = 0;
                
                particles.forEach(p => {
                    p.x += p.vx;
                    p.y += p.vy;
                    if (p.y < canvas.height) {
                        ctx.fillStyle = p.color;
                        ctx.fillRect(p.x, p.y, p.size, p.size);
                        activeParticles++;
                    }
                });

                if (activeParticles > 0) {
                    animationId = requestAnimationFrame(update);
                }
            }
            update();
        }

        // Initialize
        renderQuiz();

    </script>
</body>
</html>
