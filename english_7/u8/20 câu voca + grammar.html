<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grade 7 - Ex6: Conjunctions & Vocab - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8854C0; /* T√≠m h·ªìng */
            --primary-dark: #6c4299;
            --secondary: #00C9A7; /* Xanh ng·ªçc */
            --secondary-dark: #00a186;
            --correct: #00D26A; /* Xanh l√° */
            --correct-dark: #00a855;
            --wrong: #FF4757; /* ƒê·ªè cam */
            --wrong-dark: #d6303e;
            --bg-color: #f0f4f8;
            --card-bg: #ffffff;
            --text-main: #2f3542;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#d1d8e0 20%, transparent 20%),
                              radial-gradient(#d1d8e0 20%, transparent 20%);
            background-position: 0 0, 10px 10px;
            background-size: 20px 20px;
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Header */
        header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            z-index: 10;
        }

        h1 {
            font-family: 'Quicksand', sans-serif;
            font-weight: 800;
            color: var(--primary);
            font-size: 2rem;
            text-shadow: 2px 2px 0px #ffffff;
            margin: 0;
            background: white;
            padding: 10px 20px;
            border-radius: 15px;
            border: 3px solid var(--primary);
            box-shadow: 5px 5px 0px rgba(136, 84, 192, 0.3);
            display: inline-block;
        }

        .teacher-tag {
            display: block;
            margin-top: 5px;
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--secondary-dark);
            background: #e0fbf6;
            padding: 5px 15px;
            border-radius: 20px;
            width: fit-content;
            margin-left: auto;
            margin-right: auto;
        }

        /* Main Container */
        .quiz-container {
            width: 100%;
            max-width: 800px;
            position: relative;
        }

        /* Question Card */
        .question-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            margin-bottom: 25px;
            border-bottom: 6px solid #e1e1e1;
            animation: slideIn 0.5s ease-out;
            position: relative;
            overflow: hidden;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-number {
            font-size: 1.1rem;
            font-weight: 800;
            color: #a4b0be;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: 700;
            line-height: 1.5;
            color: #2f3542;
            margin-bottom: 25px;
        }

        /* Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
            h1 { font-size: 1.5rem; }
            .question-text { font-size: 1.2rem; }
        }

        /* Buttons 3D Style */
        .option-btn {
            background: #ffffff;
            border: 2px solid #dfe4ea;
            border-radius: 15px;
            padding: 15px 20px;
            font-family: 'Nunito', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: #57606f;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 0 4px 0 #dfe4ea;
            position: relative;
            text-align: left;
            display: flex;
            align-items: center;
        }

        .option-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            border-color: var(--primary);
            color: var(--primary);
            box-shadow: 0 6px 0 #d1d8e0;
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(2px);
            box-shadow: 0 0 0 #dfe4ea;
        }

        .option-letter {
            background: #f1f2f6;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: 800;
            font-size: 0.9rem;
            color: #a4b0be;
            flex-shrink: 0;
        }

        /* Correct/Wrong States */
        .option-btn.correct {
            background-color: var(--correct) !important;
            border-color: var(--correct-dark) !important;
            box-shadow: 0 4px 0 var(--correct-dark) !important;
            color: white !important;
        }
        .option-btn.correct .option-letter {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        .option-btn.wrong {
            background-color: var(--wrong) !important;
            border-color: var(--wrong-dark) !important;
            box-shadow: 0 4px 0 var(--wrong-dark) !important;
            color: white !important;
            animation: shake 0.5s;
        }
        .option-btn.wrong .option-letter {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        /* Disabled state after answer */
        .option-btn:disabled {
            cursor: default;
            opacity: 0.7;
        }
        .option-btn:disabled:hover {
            transform: none;
        }
        .option-btn.correct:disabled, .option-btn.wrong:disabled {
            opacity: 1;
        }

        /* Explanation Box */
        .explanation-box {
            margin-top: 20px;
            background: #f8f0ff;
            border-left: 5px solid var(--primary);
            border-radius: 10px;
            padding: 20px;
            display: none; /* Hidden by default */
            animation: expand 0.4s ease-out;
        }

        .exp-header {
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .exp-header svg { width: 20px; height: 20px; }

        .exp-content {
            font-size: 1rem;
            line-height: 1.6;
            color: #2f3542;
        }

        /* Customizing the Markdown-like content from JSON */
        .exp-content p { margin: 8px 0; }
        .exp-content strong { color: var(--secondary-dark); }
        .exp-content ul { padding-left: 20px; list-style-type: none; background: white; padding: 15px; border-radius: 10px; border: 1px dashed #ced6e0; }
        .exp-content li { margin-bottom: 5px; position: relative; padding-left: 20px;}
        .exp-content li:before { content: 'üîπ'; position: absolute; left: -5px; top: 0; font-size: 0.8rem;}

        /* Animations */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-2deg); }
            50% { transform: translateX(5px) rotate(2deg); }
            75% { transform: translateX(-5px) rotate(-2deg); }
            100% { transform: translateX(0); }
        }
        
        @keyframes expand {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Progress & Footer */
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #dfe4ea;
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
            border: 1px solid #ced6e0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            width: 0%;
            transition: width 0.5s ease;
        }

        .submit-area {
            text-align: center;
            margin-top: 30px;
            padding-bottom: 50px;
        }

        .submit-btn {
            background: var(--primary);
            color: white;
            font-size: 1.2rem;
            font-weight: 700;
            padding: 15px 40px;
            border-radius: 50px;
            border: none;
            box-shadow: 0 6px 0 var(--primary-dark);
            cursor: pointer;
            transition: all 0.2s;
        }
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 9px 0 var(--primary-dark);
        }
        .submit-btn:active {
            transform: translateY(3px);
            box-shadow: 0 0 0 var(--primary-dark);
        }

        /* Result Modal */
        .modal-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .result-card {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            animation: zoomIn 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 5px solid var(--secondary);
        }
        @keyframes zoomIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        
        .score-display {
            font-size: 3rem;
            font-weight: 800;
            color: var(--primary);
            margin: 20px 0;
        }
        .message { font-size: 1.2rem; margin-bottom: 20px; color: #57606f; }

        /* Confetti Canvas */
        #confetti-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            pointer-events: none;
            z-index: 999;
        }

    </style>
</head>
<body>

    <canvas id="confetti-canvas"></canvas>

    <header>
        <span class="teacher-tag">Gi√°o vi√™n: Ms. Mai An (ULIS)</span>
        <h1>Exercise 6: Conjunctions & Vocab</h1>
    </header>

    <div class="quiz-container">
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>

        <div id="quiz-content">
            <!-- Questions will be injected here -->
        </div>

        <div class="submit-area">
            <button class="submit-btn" onclick="showFinalResult()">N·ªòP B√ÄI & XEM ƒêI·ªÇM</button>
        </div>
    </div>

    <!-- Result Modal -->
    <div class="modal-overlay" id="result-modal">
        <div class="result-card">
            <h2 style="color: var(--secondary);">K·∫æT QU·∫¢ C·ª¶A B·∫†N</h2>
            <div class="score-display" id="final-score">0/20</div>
            <p class="message" id="final-message">B·∫°n l√†m r·∫•t t·ªët!</p>
            <button class="submit-btn" style="background: var(--secondary); box-shadow: 0 6px 0 var(--secondary-dark);" onclick="closeModal()">Xem l·∫°i b√†i</button>
        </div>
    </div>

    <script>
        // --- DATA FROM USER INPUT ---
        const quizData = [
    {
      "questionNumber": 1,
      "question": "The ending of the film is ________. All audiences are very sad.",
      "options": [
        { "text": "disappointed", "isCorrect": false },
        { "text": "satisfying", "isCorrect": false },
        { "text": "disappointing", "isCorrect": true },
        { "text": "satisfied", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. T√≠nh t·ª´ ƒëu√¥i -ing ch·ªâ t√≠nh ch·∫•t c·ªßa s·ª± v·∫≠t.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. disappointed (adj): th·∫•t v·ªçng (c·∫£m x√∫c)</li><li>B. satisfying (adj): th·ªèa m√£n</li><li>C. disappointing (adj): g√¢y th·∫•t v·ªçng</li><li>D. satisfied (adj): h√†i l√≤ng</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> Ch·ªß ng·ªØ l√† 'The ending of the film' (K·∫øt th√∫c c·ªßa phim) -> s·ª± v·∫≠t -> d√πng t√≠nh t·ª´ ƒëu√¥i -ing. V√¨ kh√°n gi·∫£ bu·ªìn (sad) n√™n k·∫øt phim ph·∫£i g√¢y th·∫•t v·ªçng.<br><br><strong>D·ªãch c√¢u:</strong> K·∫øt th√∫c c·ªßa b·ªô phim th·∫≠t ƒë√°ng th·∫•t v·ªçng. T·∫•t c·∫£ kh√°n gi·∫£ ƒë·ªÅu r·∫•t bu·ªìn."
    },
    {
      "questionNumber": 2,
      "question": "This is a ________ film and it makes me cry a lot.",
      "options": [
        { "text": "funny", "isCorrect": false },
        { "text": "moving", "isCorrect": true },
        { "text": "comedy", "isCorrect": false },
        { "text": "excited", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. Phim c·∫£m ƒë·ªông l√†m r∆°i n∆∞·ªõc m·∫Øt.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. funny (adj): h√†i h∆∞·ªõc</li><li>B. moving (adj): c·∫£m ƒë·ªông</li><li>C. comedy (n): phim h√†i</li><li>D. excited (adj): h√†o h·ª©ng</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> C·ª•m t·ª´ 'makes me cry a lot' (l√†m t√¥i kh√≥c nhi·ªÅu) cho th·∫•y b·ªô phim ch·∫°m ƒë·∫øn c·∫£m x√∫c.<br><br><strong>D·ªãch c√¢u:</strong> ƒê√¢y l√† m·ªôt b·ªô phim c·∫£m ƒë·ªông v√† n√≥ l√†m t√¥i kh√≥c r·∫•t nhi·ªÅu."
    },
    {
      "questionNumber": 3,
      "question": "________ he is a CEO and earns a lot of money, he is very mean.",
      "options": [
        { "text": "Because", "isCorrect": false },
        { "text": "Although", "isCorrect": true },
        { "text": "Despite", "isCorrect": false },
        { "text": "Because of", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. Sau 'Although' l√† m·ªôt m·ªánh ƒë·ªÅ (S + V).<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. Because: B·ªüi v√¨</li><li>B. Although: M·∫∑c d√π (+ M·ªánh ƒë·ªÅ)</li><li>C. Despite: M·∫∑c d√π (+ Noun/V-ing)</li><li>D. Because of: B·ªüi v√¨ (+ Noun/V-ing)</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> 'he is a CEO...' l√† m·ªôt m·ªánh ƒë·ªÅ c√≥ ƒë·∫ßy ƒë·ªß ch·ªß ng·ªØ v√† ƒë·ªông t·ª´. Hai v·∫ø t∆∞∆°ng ph·∫£n (Gi√†u >< Keo ki·ªát) n√™n d√πng 'Although'.<br><br><strong>D·ªãch c√¢u:</strong> M·∫∑c d√π √¥ng ·∫•y l√† gi√°m ƒë·ªëc ƒëi·ªÅu h√†nh v√† ki·∫øm nhi·ªÅu ti·ªÅn, √¥ng ·∫•y r·∫•t keo ki·ªát."
    },
    {
      "questionNumber": 4,
      "question": "This is a (n) ________ on real life during wars in Vietnam in 1945.",
      "options": [
        { "text": "horror film", "isCorrect": false },
        { "text": "sci-fi", "isCorrect": false },
        { "text": "comedy", "isCorrect": false },
        { "text": "documentary", "isCorrect": true }
      ],
      "rationale": "‚úÖ ƒê√∫ng. Phim t√†i li·ªáu n√≥i v·ªÅ s·ª± th·∫≠t l·ªãch s·ª≠.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. horror film (n): phim kinh d·ªã</li><li>B. sci-fi (n): phim khoa h·ªçc vi·ªÖn t∆∞·ªüng</li><li>C. comedy (n): phim h√†i</li><li>D. documentary (n): phim t√†i li·ªáu</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> T·ª´ kh√≥a 'real life' (ƒë·ªùi th·ª±c) v√† b·ªëi c·∫£nh l·ªãch s·ª≠ 'wars in Vietnam in 1945' cho th·∫•y ƒë√¢y l√† phim t√†i li·ªáu.<br><br><strong>D·ªãch c√¢u:</strong> ƒê√¢y l√† m·ªôt b·ªô phim t√†i li·ªáu v·ªÅ ƒë·ªùi s·ªëng th·ª±c trong chi·∫øn tranh ·ªü Vi·ªát Nam nƒÉm 1945."
    },
    {
      "questionNumber": 5,
      "question": "She ________ the Oscar Prize as the best actress this year.",
      "options": [
        { "text": "wins", "isCorrect": true },
        { "text": "acts", "isCorrect": false },
        { "text": "performs", "isCorrect": false },
        { "text": "directs", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. Chi·∫øn th·∫Øng gi·∫£i th∆∞·ªüng.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. wins (v): chi·∫øn th·∫Øng, gi√†nh ƒë∆∞·ª£c</li><li>B. acts (v): di·ªÖn xu·∫•t</li><li>C. performs (v): bi·ªÉu di·ªÖn</li><li>D. directs (v): ƒë·∫°o di·ªÖn</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> V·ªõi gi·∫£i th∆∞·ªüng (Prize), ƒë·ªông t·ª´ ph√π h·ª£p nh·∫•t l√† 'win'.<br><br><strong>D·ªãch c√¢u:</strong> C√¥ ·∫•y gi√†nh gi·∫£i Oscar cho n·ªØ di·ªÖn vi√™n xu·∫•t s·∫Øc nh·∫•t nƒÉm nay."
    },
    {
      "questionNumber": 6,
      "question": "She is hard-working. ________, she isn't lucky in examinations.",
      "options": [
        { "text": "Therefore", "isCorrect": false },
        { "text": "But", "isCorrect": false },
        { "text": "However", "isCorrect": true },
        { "text": "So", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. ƒê·ª©ng sau d·∫•u ch·∫•m, tr∆∞·ªõc d·∫•u ph·∫©y ƒë·ªÉ ch·ªâ s·ª± t∆∞∆°ng ph·∫£n.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. Therefore (adv): Do ƒë√≥, v√¨ v·∫≠y</li><li>B. But (conj): Nh∆∞ng</li><li>C. However (adv): Tuy nhi√™n</li><li>D. So (conj): V√¨ v·∫≠y</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> C·∫•u tr√∫c: [C√¢u 1]. However, [C√¢u 2]. Hai c√¢u c√≥ √Ω nghƒ©a tr√°i ng∆∞·ª£c: chƒÉm ch·ªâ >< kh√¥ng may m·∫Øn.<br><br><strong>D·ªãch c√¢u:</strong> C√¥ ·∫•y r·∫•t chƒÉm ch·ªâ. Tuy nhi√™n, c√¥ ·∫•y kh√¥ng may m·∫Øn trong c√°c k·ª≥ thi."
    },
    {
      "questionNumber": 7,
      "question": "Before you go to the cinema, you can watch the trailer and read ________ of the film.",
      "options": [
        { "text": "reviews", "isCorrect": true },
        { "text": "disaster", "isCorrect": false },
        { "text": "critic", "isCorrect": false },
        { "text": "character", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. B√†i ƒë√°nh gi√° phim.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. reviews (n): b√†i nh·∫≠n x√©t, ƒë√°nh gi√°</li><li>B. disaster (n): th·∫£m h·ªça</li><li>C. critic (n): nh√† ph√™ b√¨nh (ng∆∞·ªùi)</li><li>D. character (n): nh√¢n v·∫≠t</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> Ch√∫ng ta ƒë·ªçc c√°c b√†i nh·∫≠n x√©t (reviews) ƒë·ªÉ bi·∫øt phim hay hay d·ªü tr∆∞·ªõc khi xem.<br><br><strong>D·ªãch c√¢u:</strong> Tr∆∞·ªõc khi ƒë·∫øn r·∫°p, b·∫°n c√≥ th·ªÉ xem trailer v√† ƒë·ªçc c√°c b√†i ƒë√°nh gi√° v·ªÅ b·ªô phim."
    },
    {
      "questionNumber": 8,
      "question": "The film was so _______. However, my father saw it from beginning to end.",
      "options": [
        { "text": "interesting", "isCorrect": false },
        { "text": "exciting", "isCorrect": false },
        { "text": "boring", "isCorrect": true },
        { "text": "fascinating", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. Phim ch√°n nh∆∞ng v·∫´n xem h·∫øt -> T∆∞∆°ng ph·∫£n.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. interesting (adj): th√∫ v·ªã</li><li>B. exciting (adj): h√†o h·ª©ng</li><li>C. boring (adj): nh√†m ch√°n</li><li>D. fascinating (adj): l√¥i cu·ªën</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> T·ª´ 'However' (Tuy nhi√™n) b√°o hi·ªáu s·ª± tr√°i ng∆∞·ª£c. Vi·ªác 'xem t·ª´ ƒë·∫ßu ƒë·∫øn cu·ªëi' l√† n·ªó l·ª±c ƒë√°ng khen, tr√°i ng∆∞·ª£c v·ªõi vi·ªác phim 'ch√°n'.<br><br><strong>D·ªãch c√¢u:</strong> B·ªô phim r·∫•t nh√†m ch√°n. Tuy nhi√™n b·ªë t√¥i ƒë√£ xem n√≥ t·ª´ ƒë·∫ßu ƒë·∫øn cu·ªëi."
    },
    {
      "questionNumber": 9,
      "question": "The end of the film was so _______ that many people cried.",
      "options": [
        { "text": "boring", "isCorrect": false },
        { "text": "shocking", "isCorrect": false },
        { "text": "exciting", "isCorrect": false },
        { "text": "moving", "isCorrect": true }
      ],
      "rationale": "‚úÖ ƒê√∫ng. C·∫£m ƒë·ªông -> kh√≥c.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. boring (adj): ch√°n</li><li>B. shocking (adj): g√¢y s·ªëc</li><li>C. exciting (adj): h√†o h·ª©ng</li><li>D. moving (adj): c·∫£m ƒë·ªông</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> K·∫øt qu·∫£ l√† 'many people cried' (nhi·ªÅu ng∆∞·ªùi kh√≥c) -> phim c·∫£m ƒë·ªông.<br><br><strong>D·ªãch c√¢u:</strong> K·∫øt th√∫c c·ªßa phim qu√° c·∫£m ƒë·ªông ƒë·∫øn n·ªói nhi·ªÅu ng∆∞·ªùi ƒë√£ kh√≥c."
    },
    {
      "questionNumber": 10,
      "question": "They are making this film based _______ a true story.",
      "options": [
        { "text": "to", "isCorrect": false },
        { "text": "after", "isCorrect": false },
        { "text": "on", "isCorrect": true },
        { "text": "for", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. C·ª•m t·ª´ 'based on'.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>based on: d·ª±a tr√™n</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> ƒê√¢y l√† c·ª•m t·ª´ c·ªë ƒë·ªãnh (collocation): 'to be based on something' (ƒë∆∞·ª£c d·ª±a tr√™n c√°i g√¨).<br><br><strong>D·ªãch c√¢u:</strong> H·ªç ƒëang l√†m b·ªô phim n√†y d·ª±a tr√™n m·ªôt c√¢u chuy·ªán c√≥ th·∫≠t."
    },
    {
      "questionNumber": 11,
      "question": "________ she has lots of money, she is very modest.",
      "options": [
        { "text": "Although", "isCorrect": true },
        { "text": "Because", "isCorrect": false },
        { "text": "However", "isCorrect": false },
        { "text": "Despite", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. C·ªông v·ªõi m·ªánh ƒë·ªÅ, ch·ªâ s·ª± t∆∞∆°ng ph·∫£n.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. Although (+ clause): M·∫∑c d√π</li><li>B. Because (+ clause): B·ªüi v√¨</li><li>C. However: Tuy nhi√™n</li><li>D. Despite (+ Noun/V-ing): M·∫∑c d√π</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> 'she has lots of money' l√† m·ªôt m·ªánh ƒë·ªÅ (S+V). Hai v·∫ø ƒë·ªëi l·∫≠p (Nhi·ªÅu ti·ªÅn >< Khi√™m t·ªën) -> D√πng Although.<br><br><strong>D·ªãch c√¢u:</strong> M·∫∑c d√π c√¥ ·∫•y c√≥ nhi·ªÅu ti·ªÅn, c√¥ ·∫•y r·∫•t khi√™m t·ªën."
    },
    {
      "questionNumber": 12,
      "question": "My younger sister didn‚Äôt choose that job ________ the salary was high.",
      "options": [
        { "text": "so", "isCorrect": false },
        { "text": "in spite of", "isCorrect": false },
        { "text": "though", "isCorrect": true },
        { "text": "Despite", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. 'Though' = 'Although', ƒëi v·ªõi m·ªánh ƒë·ªÅ.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. so: v√¨ v·∫≠y</li><li>B. in spite of (+ Noun/V-ing): m·∫∑c d√π</li><li>C. though (+ Clause): m·∫∑c d√π</li><li>D. Despite (+ Noun/V-ing): m·∫∑c d√π</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> Sau ch·ªó tr·ªëng l√† 'the salary was high' (m·ªánh ƒë·ªÅ). Nghƒ©a t∆∞∆°ng ph·∫£n: L∆∞∆°ng cao >< Kh√¥ng ch·ªçn -> D√πng Though.<br><br><strong>D·ªãch c√¢u:</strong> Em g√°i t√¥i ƒë√£ kh√¥ng ch·ªçn c√¥ng vi·ªác ƒë√≥ m·∫∑c d√π l∆∞∆°ng cao."
    },
    {
      "questionNumber": 13,
      "question": "________ having a broken leg, she took part in the competition.",
      "options": [
        { "text": "However", "isCorrect": false },
        { "text": "Although", "isCorrect": false },
        { "text": "In spite of", "isCorrect": true },
        { "text": "Because", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. ƒêi v·ªõi V-ing.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. However: Tuy nhi√™n</li><li>B. Although (+ Clause): M·∫∑c d√π</li><li>C. In spite of (+ V-ing/Noun): M·∫∑c d√π</li><li>D. Because (+ Clause): B·ªüi v√¨</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> 'having a broken leg' l√† c·ª•m V-ing. Ch·ªâ s·ª± t∆∞∆°ng ph·∫£n (G√£y ch√¢n >< v·∫´n thi ƒë·∫•u) -> D√πng In spite of.<br><br><strong>D·ªãch c√¢u:</strong> M·∫∑c d√π b·ªã g√£y ch√¢n, c√¥ ·∫•y v·∫´n tham gia cu·ªôc thi."
    },
    {
      "questionNumber": 14,
      "question": "We didn‚Äôt go camping that day ________ the nice weather.",
      "options": [
        { "text": "but", "isCorrect": false },
        { "text": "despite", "isCorrect": true },
        { "text": "although", "isCorrect": false },
        { "text": "though", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. ƒêi v·ªõi C·ª•m danh t·ª´.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. but: nh∆∞ng</li><li>B. despite (+ Noun): m·∫∑c d√π</li><li>C. although (+ Clause): m·∫∑c d√π</li><li>D. though (+ Clause): m·∫∑c d√π</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> 'the nice weather' l√† m·ªôt C·ª•m danh t·ª´. -> D√πng Despite.<br><br><strong>D·ªãch c√¢u:</strong> Ch√∫ng t√¥i ƒë√£ kh√¥ng ƒëi c·∫Øm tr·∫°i ng√†y h√¥m ƒë√≥ m·∫∑c d√π th·ªùi ti·∫øt ƒë·∫πp."
    },
    {
      "questionNumber": 15,
      "question": "Jimmy had done his homework; ________, his mother didn‚Äôt let him go out.",
      "options": [
        { "text": "though", "isCorrect": false },
        { "text": "in spite of", "isCorrect": false },
        { "text": "because", "isCorrect": false },
        { "text": "however", "isCorrect": true }
      ],
      "rationale": "‚úÖ ƒê√∫ng. D·∫•u hi·ªáu: ; + however + ,<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. though: m·∫∑c d√π</li><li>B. in spite of: m·∫∑c d√π</li><li>C. because: b·ªüi v√¨</li><li>D. however: tuy nhi√™n</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> C·∫•u tr√∫c kinh ƒëi·ªÉn: [M·ªánh ƒë·ªÅ 1] ; however , [M·ªánh ƒë·ªÅ 2]. Ch·ªâ s·ª± t∆∞∆°ng ph·∫£n (L√†m b√†i r·ªìi >< v·∫´n kh√¥ng ƒë∆∞·ª£c ƒëi ch∆°i).<br><br><strong>D·ªãch c√¢u:</strong> Jimmy ƒë√£ l√†m xong b√†i t·∫≠p v·ªÅ nh√†; tuy nhi√™n, m·∫π c·∫≠u ·∫•y v·∫´n kh√¥ng cho c·∫≠u ·∫•y ƒëi ch∆°i."
    },
    {
      "questionNumber": 16,
      "question": "________ working very hard, he lost his job.",
      "options": [
        { "text": "Despite", "isCorrect": true },
        { "text": "However", "isCorrect": false },
        { "text": "But", "isCorrect": false },
        { "text": "because", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. ƒêi v·ªõi V-ing.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. Despite (+ V-ing): M·∫∑c d√π</li><li>B. However: Tuy nhi√™n</li><li>C. But: Nh∆∞ng</li><li>D. because (+ Clause): B·ªüi v√¨</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> 'working very hard' l√† c·ª•m V-ing. T∆∞∆°ng ph·∫£n (L√†m chƒÉm >< M·∫•t vi·ªác).<br><br><strong>D·ªãch c√¢u:</strong> M·∫∑c d√π l√†m vi·ªác r·∫•t chƒÉm ch·ªâ, anh ·∫•y ƒë√£ m·∫•t vi·ªác."
    },
    {
      "questionNumber": 17,
      "question": "________ he is an honest man, lots of people trust him.",
      "options": [
        { "text": "Because", "isCorrect": true },
        { "text": "So", "isCorrect": false },
        { "text": "However", "isCorrect": false },
        { "text": "Although", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. Ch·ªâ nguy√™n nh√¢n - k·∫øt qu·∫£.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. Because: B·ªüi v√¨</li><li>B. So: V√¨ v·∫≠y</li><li>C. However: Tuy nhi√™n</li><li>D. Although: M·∫∑c d√π</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> Quan h·ªá nh√¢n qu·∫£: Trung th·ª±c (honest) -> ƒê∆∞·ª£c tin t∆∞·ªüng (trust). Kh√¥ng ph·∫£i t∆∞∆°ng ph·∫£n.<br><br><strong>D·ªãch c√¢u:</strong> B·ªüi v√¨ anh ·∫•y l√† m·ªôt ng∆∞·ªùi trung th·ª±c, r·∫•t nhi·ªÅu ng∆∞·ªùi tin t∆∞·ªüng anh ·∫•y."
    },
    {
      "questionNumber": 18,
      "question": "He never hangs out with his friends _______ the fact that he has lots of free time.",
      "options": [
        { "text": "although", "isCorrect": false },
        { "text": "because", "isCorrect": false },
        { "text": "though", "isCorrect": false },
        { "text": "in spite of", "isCorrect": true }
      ],
      "rationale": "‚úÖ ƒê√∫ng. C·∫•u tr√∫c 'In spite of the fact that...'.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. although</li><li>B. because</li><li>C. though</li><li>D. in spite of</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> 'the fact that...' ƒë√≥ng vai tr√≤ l√† m·ªôt C·ª•m danh t·ª´. Do ƒë√≥ ph·∫£i d√πng 'in spite of'.<br><br><strong>D·ªãch c√¢u:</strong> Anh ·∫•y kh√¥ng bao gi·ªù ƒëi ch∆°i v·ªõi b·∫°n b√® m·∫∑c d√π th·ª±c t·∫ø l√† anh ·∫•y c√≥ r·∫•t nhi·ªÅu th·ªùi gian r·∫£nh."
    },
    {
      "questionNumber": 19,
      "question": "He doesn‚Äôt enjoy playing sports, ________ he plays basketball twice a week.",
      "options": [
        { "text": "despite", "isCorrect": false },
        { "text": "but", "isCorrect": true },
        { "text": "because", "isCorrect": false },
        { "text": "so", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. N·ªëi 2 m·ªánh ƒë·ªÅ tr√°i ng∆∞·ª£c.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. despite</li><li>B. but: nh∆∞ng</li><li>C. because</li><li>D. so</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> Kh√¥ng th√≠ch th·ªÉ thao NH∆ØNG v·∫´n ch∆°i 2 l·∫ßn/tu·∫ßn -> T∆∞∆°ng ph·∫£n. D√πng 'but' ƒë·ªÉ n·ªëi hai m·ªánh ƒë·ªÅ.<br><br><strong>D·ªãch c√¢u:</strong> Anh ·∫•y kh√¥ng th√≠ch ch∆°i th·ªÉ thao, nh∆∞ng anh ·∫•y ch∆°i b√≥ng r·ªï hai l·∫ßn m·ªôt tu·∫ßn."
    },
    {
      "questionNumber": 20,
      "question": "________ her father is very strict, she loves him a lot.",
      "options": [
        { "text": "In spite of", "isCorrect": false },
        { "text": "Despite", "isCorrect": false },
        { "text": "Although", "isCorrect": true },
        { "text": "However", "isCorrect": false }
      ],
      "rationale": "‚úÖ ƒê√∫ng. ƒêi v·ªõi m·ªánh ƒë·ªÅ.<br><br><strong>Ph√¢n t√≠ch & D·ªãch:</strong><ul><li>A. In spite of</li><li>B. Despite</li><li>C. Although: M·∫∑c d√π</li><li>D. However</li></ul><br><strong>Gi·∫£i th√≠ch:</strong> 'her father is very strict' l√† m·ªôt m·ªánh ƒë·ªÅ (S+V). T∆∞∆°ng ph·∫£n (Nghi√™m kh·∫Øc >< Y√™u th∆∞∆°ng) -> D√πng Although.<br><br><strong>D·ªãch c√¢u:</strong> M·∫∑c d√π b·ªë c√¥ ·∫•y r·∫•t nghi√™m kh·∫Øc, c√¥ ·∫•y y√™u √¥ng ·∫•y r·∫•t nhi·ªÅu."
    }
];

        let score = 0;
        let answeredCount = 0;

        // --- SOUND LOGIC (Web Audio API) ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            if (type === 'correct') {
                // Ding sound (High pitch sine wave fade out)
                osc.type = 'sine';
                osc.frequency.setValueAtTime(600, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.1);
                gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.5);
            } else {
                // Wrong sound (Low pitch sawtooth wobbly)
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(150, audioCtx.currentTime);
                osc.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
                gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.4);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.4);
            }
        }

        // --- RENDER QUIZ ---
        function renderQuiz() {
            const container = document.getElementById('quiz-content');
            
            quizData.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'question-card';
                card.id = `q-card-${index}`;

                // Question Header
                const qNum = document.createElement('div');
                qNum.className = 'question-number';
                qNum.innerText = `Question ${index + 1}`;
                
                const qText = document.createElement('div');
                qText.className = 'question-text';
                qText.innerText = item.question;

                // Options Grid
                const optionsDiv = document.createElement('div');
                optionsDiv.className = 'options-grid';

                const letters = ['A', 'B', 'C', 'D'];
                item.options.forEach((opt, i) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.innerHTML = `<span class="option-letter">${letters[i]}</span> ${opt.text}`;
                    btn.onclick = () => checkAnswer(index, i, opt.isCorrect, btn);
                    optionsDiv.appendChild(btn);
                });

                // Explanation Box
                const expBox = document.createElement('div');
                expBox.className = 'explanation-box';
                expBox.id = `exp-${index}`;
                expBox.innerHTML = `
                    <div class="exp-header">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        GI·∫¢I TH√çCH CHI TI·∫æT - C√î MAI AN
                    </div>
                    <div class="exp-content">
                        ${item.rationale.replace(/\n/g, '<br>')}
                    </div>
                `;

                card.appendChild(qNum);
                card.appendChild(qText);
                card.appendChild(optionsDiv);
                card.appendChild(expBox);
                container.appendChild(card);
            });
        }

        function checkAnswer(qIndex, optIndex, isCorrect, btnElement) {
            const card = document.getElementById(`q-card-${qIndex}`);
            const buttons = card.querySelectorAll('.option-btn');
            
            // Disable all buttons in this card
            buttons.forEach(btn => btn.disabled = true);

            if (isCorrect) {
                btnElement.classList.add('correct');
                playSound('correct');
                confettiEffect(btnElement.getBoundingClientRect());
                score++;
            } else {
                btnElement.classList.add('wrong');
                playSound('wrong');
                // Highlight correct one automatically
                quizData[qIndex].options.forEach((opt, i) => {
                    if (opt.isCorrect) buttons[i].classList.add('correct');
                });
            }

            // Show explanation
            document.getElementById(`exp-${qIndex}`).style.display = 'block';

            // Update progress
            answeredCount++;
            const total = quizData.length;
            const percentage = (answeredCount / total) * 100;
            document.getElementById('progress-fill').style.width = `${percentage}%`;
        }

        // --- CONFETTI EFFECT ---
        function confettiEffect(rect) {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const pieces = [];
            const colors = ['#8854C0', '#00C9A7', '#FF4757', '#FFD32A', '#00D26A'];

            // Create particles starting from the button position
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;

            for (let i = 0; i < 50; i++) {
                pieces.push({
                    x: centerX,
                    y: centerY,
                    w: Math.random() * 10 + 5,
                    h: Math.random() * 10 + 5,
                    dx: (Math.random() - 0.5) * 10,
                    dy: (Math.random() - 1) * 10 - 5,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    life: 100
                });
            }

            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                let active = false;
                
                pieces.forEach(p => {
                    if (p.life > 0) {
                        ctx.fillStyle = p.color;
                        ctx.fillRect(p.x, p.y, p.w, p.h);
                        p.x += p.dx;
                        p.y += p.dy;
                        p.dy += 0.5; // gravity
                        p.life--;
                        active = true;
                    }
                });

                if (active) requestAnimationFrame(animate);
                else ctx.clearRect(0,0,canvas.width, canvas.height);
            }
            animate();
        }

        // --- FINAL RESULTS ---
        function showFinalResult() {
            const modal = document.getElementById('result-modal');
            const scoreText = document.getElementById('final-score');
            const msgText = document.getElementById('final-message');

            scoreText.innerText = `${score}/${quizData.length}`;
            
            if (score === quizData.length) {
                msgText.innerText = "Tuy·ªát v·ªùi! B·∫°n l√† si√™u sao Ti·∫øng Anh! üåü";
                playSound('correct');
            } else if (score >= quizData.length * 0.8) {
                msgText.innerText = "L√†m t·ªët l·∫Øm! Ch·ªâ m·ªôt ch√∫t n·ªØa th√¥i! üî•";
            } else {
                msgText.innerText = "H√£y c·ªë g·∫Øng h∆°n l·∫ßn sau nh√©! üí™";
            }

            modal.style.display = 'flex';
        }

        function closeModal() {
            document.getElementById('result-modal').style.display = 'none';
        }

        // Init
        window.onload = renderQuiz;

    </script>
</body>
</html>
