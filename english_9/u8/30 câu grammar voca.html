<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Relative Clauses Practice (Q31-Q60) - Ms. Mai An ULIS</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Confetti JS (Optional fallback handled in JS) -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        /* Custom Styles for Gamification Look */
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #f0f4f8;
            background-image: radial-gradient(#e2e8f0 15%, transparent 16%), radial-gradient(#e2e8f0 15%, transparent 16%);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
        }

        .teacher-badge {
            background: linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%);
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        /* 3D Button Style */
        .option-btn {
            transition: all 0.1s;
            border-bottom: 5px solid #d1d5db; /* Default darker shade */
            cursor: pointer;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }
        .option-btn:active {
            transform: translateY(4px);
            border-bottom-width: 1px;
            margin-bottom: 4px; /* Maintain layout */
        }

        /* Correct State */
        .option-btn.correct {
            background-color: #00D26A; /* Green */
            border-color: #00A855;
            color: white;
            cursor: default;
        }

        /* Incorrect State */
        .option-btn.incorrect {
            background-color: #FF4757; /* Red */
            border-color: #C72C3A;
            color: white;
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
            cursor: default;
        }

        /* Disabled State */
        .option-btn.disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        /* Explanation Box */
        .explanation-box {
            border-left: 5px solid #8854C0;
            background-color: #F3E8FF;
            transition: all 0.5s ease-in-out;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
        }
        .explanation-box.show {
            max-height: 2000px; /* Increased to ensure long explanations show */
            opacity: 1;
            margin-top: 1rem;
            padding: 1.5rem;
        }

        /* Shake Animation */
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        /* Card Style */
        .question-card {
            border-radius: 20px;
            box-shadow: 0 10px 0 #cbd5e1;
            transition: transform 0.3s;
        }
        .question-card:hover {
            transform: translateY(-2px);
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #8854C0;
            border-radius: 10px;
        }
    </style>
</head>
<body class="text-gray-800 pb-20">

    <!-- Header -->
    <header class="bg-white shadow-lg sticky top-0 z-50 border-b-4 border-gray-200">
        <div class="max-w-4xl mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-12 h-12 rounded-full teacher-badge flex items-center justify-center text-white text-xl font-bold">
                    MA
                </div>
                <div>
                    <h1 class="text-xl md:text-2xl font-extrabold text-gray-700 tracking-tight">Relative Clauses</h1>
                    <p class="text-sm font-semibold text-purple-600">Gi√°o vi√™n: Ms. Mai An ULIS</p>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <div class="hidden md:block bg-gray-100 px-4 py-2 rounded-xl font-bold text-gray-600">
                    Q31 - Q60
                </div>
                <div id="score-display" class="bg-yellow-100 text-yellow-700 px-4 py-2 rounded-xl font-extrabold border-b-4 border-yellow-200">
                    Score: 0
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-3xl mx-auto px-4 py-8 space-y-8" id="quiz-container">
        <!-- Questions will be injected here by JS -->
        <div class="text-center text-gray-500 py-10">ƒêang t·∫£i c√¢u h·ªèi...</div>
    </main>

    <!-- Footer Submit -->
    <div class="fixed bottom-0 left-0 w-full bg-white border-t-4 border-gray-200 p-4 z-40 shadow-[0_-10px_40px_rgba(0,0,0,0.1)]">
        <div class="max-w-3xl mx-auto flex justify-center">
            <button onclick="finishQuiz()" class="bg-[#00C9A7] hover:bg-[#00b395] text-white font-extrabold py-3 px-12 rounded-2xl text-xl shadow-[0_6px_0_#008f72] active:shadow-none active:translate-y-2 transition-all">
                N·ªòP B√ÄI & XEM K·∫æT QU·∫¢
            </button>
        </div>
    </div>

    <!-- Modal Result -->
    <div id="result-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100] hidden backdrop-blur-sm">
        <div class="bg-white rounded-3xl p-8 max-w-md w-full mx-4 text-center shadow-2xl transform scale-100 border-8 border-purple-100">
            <div class="text-6xl mb-4">üèÜ</div>
            <h2 class="text-3xl font-extrabold text-gray-800 mb-2">K·∫øt Qu·∫£ C·ªßa B·∫°n</h2>
            <p id="final-message" class="text-gray-500 mb-6 font-medium">B·∫°n ƒë√£ l√†m r·∫•t t·ªët!</p>
            
            <div class="bg-gray-100 rounded-2xl p-6 mb-6">
                <div class="text-5xl font-black text-[#8854C0]" id="final-score">0/30</div>
                <div class="text-gray-400 font-bold uppercase tracking-wider text-sm mt-2">C√¢u tr·∫£ l·ªùi ƒë√∫ng</div>
            </div>

            <button onclick="closeModal()" class="w-full bg-[#FF4757] hover:bg-[#ff2e43] text-white font-bold py-3 px-6 rounded-xl shadow-[0_5px_0_#c72c3a] active:shadow-none active:translate-y-1 transition-all">
                ƒê√≥ng & Xem L·∫°i B√†i
            </button>
        </div>
    </div>

    <script>
        // --- SOUND SYSTEM (Safe Implementation) ---
        let audioCtx;
        
        function initAudio() {
            if (!audioCtx) {
                try {
                    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                } catch (e) {
                    console.warn("Web Audio API not supported or blocked.");
                }
            }
            if (audioCtx && audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
        }

        function playSound(type) {
            initAudio();
            if (!audioCtx) return;

            try {
                const osc = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();
                osc.connect(gainNode);
                gainNode.connect(audioCtx.destination);

                if (type === 'correct') {
                    // Ding: C5 -> C6
                    osc.type = 'sine';
                    osc.frequency.setValueAtTime(523.25, audioCtx.currentTime);
                    osc.frequency.exponentialRampToValueAtTime(1046.5, audioCtx.currentTime + 0.1);
                    gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                    osc.start();
                    osc.stop(audioCtx.currentTime + 0.5);
                } else {
                    // Buzz: Sawtooth drop
                    osc.type = 'sawtooth';
                    osc.frequency.setValueAtTime(150, audioCtx.currentTime);
                    osc.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
                    gainNode.gain.setValueAtTime(0.2, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                    osc.start();
                    osc.stop(audioCtx.currentTime + 0.3);
                }
            } catch (e) {
                console.error("Audio Play Error", e);
            }
        }

        // --- DATA ---
        const rawQuizData = {
          "questions": [
            {
              "questionNumber": 31,
              "question": "The tour guide _______ speaks three languages is very popular with tourists.",
              "hint": "Danh t·ª´ ƒë·ª©ng tr∆∞·ªõc l√† 'tour guide' (ng∆∞·ªùi). ƒê·ªông t·ª´ ph√≠a sau l√† 'speaks'. C·∫ßn ƒë·∫°i t·ª´ quan h·ªá l√†m ch·ªß ng·ªØ ch·ªâ ng∆∞·ªùi.",
              "answerOptions": [
                { "text": "which", "rationale": "Sai. **which** d√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "who", "rationale": "Ch√≠nh x√°c! **who** thay th·∫ø cho danh t·ª´ ch·ªâ ng∆∞·ªùi v√† l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** Ng∆∞·ªùi h∆∞·ªõng d·∫´n vi√™n du l·ªãch, ng∆∞·ªùi m√† n√≥i ƒë∆∞·ª£c ba th·ª© ti·∫øng, r·∫•t ƒë∆∞·ª£c l√≤ng du kh√°ch.", "isCorrect": true },
                { "text": "whose", "rationale": "Sai. **whose** ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "where", "rationale": "Sai. **where** ch·ªâ n∆°i ch·ªën.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 32,
              "question": "We stayed at a hotel _______ has a beautiful swimming pool and garden.",
              "hint": "Danh t·ª´ ƒë·ª©ng tr∆∞·ªõc l√† 'hotel' (v·∫≠t/n∆°i ch·ªën). ƒê·ªông t·ª´ ph√≠a sau l√† 'has'. C·∫ßn ƒë·∫°i t·ª´ l√†m ch·ªß ng·ªØ.",
              "answerOptions": [
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "which", "rationale": "Ch√≠nh x√°c! **which** thay th·∫ø cho danh t·ª´ ch·ªâ v·∫≠t (hotel) v√† l√†m ch·ªß ng·ªØ cho ƒë·ªông t·ª´ 'has'. (L∆∞u √Ω: Kh√¥ng d√πng 'where' v√¨ 'where' = 'in which', kh√¥ng th·ªÉ l√†m ch·ªß ng·ªØ).\n**D·ªãch c√¢u:** Ch√∫ng t√¥i ƒë√£ ·ªü t·∫°i m·ªôt kh√°ch s·∫°n c√°i m√† c√≥ h·ªì b∆°i v√† khu v∆∞·ªùn ƒë·∫πp.", "isCorrect": true },
                { "text": "whom", "rationale": "Sai. D√πng cho ng∆∞·ªùi (t√¢n ng·ªØ).", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 33,
              "question": "The tourist _______ passport was lost had to go to the embassy.",
              "hint": "M·ªëi quan h·ªá gi·ªØa 'tourist' v√† 'passport' l√† s·ªü h·ªØu (h·ªô chi·∫øu C·ª¶A du kh√°ch).",
              "answerOptions": [
                { "text": "whose", "rationale": "Ch√≠nh x√°c! **whose** ch·ªâ s·ª± s·ªü h·ªØu (Whose passport = The tourist's passport).\n**D·ªãch c√¢u:** Ng∆∞·ªùi du kh√°ch m√† h·ªô chi·∫øu b·ªã m·∫•t ƒë√£ ph·∫£i ƒë·∫øn ƒë·∫°i s·ª© qu√°n.", "isCorrect": true },
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi (ch·ªß ng·ªØ).", "isCorrect": false },
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 34,
              "question": "The museum _______ we visited yesterday was built in 1850.",
              "hint": "Danh t·ª´ 'museum' (v·∫≠t). Vai tr√≤ trong m·ªánh ƒë·ªÅ quan h·ªá l√† t√¢n ng·ªØ c·ªßa 'visited' (We visited [it]).",
              "answerOptions": [
                { "text": "when", "rationale": "Sai. Ch·ªâ th·ªùi gian.", "isCorrect": false },
                { "text": "which", "rationale": "Ch√≠nh x√°c! **which** thay th·∫ø cho v·∫≠t (museum).\n**D·ªãch c√¢u:** B·∫£o t√†ng m√† ch√∫ng t√¥i ƒë√£ gh√© thƒÉm h√¥m qua ƒë∆∞·ª£c x√¢y d·ª±ng v√†o nƒÉm 1850.", "isCorrect": true },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 35,
              "question": "I met a traveler _______ has visited more than 50 countries.",
              "hint": "Danh t·ª´ 'traveler' (ng∆∞·ªùi). ƒê·ªông t·ª´ 'has visited'. C·∫ßn ch·ªß ng·ªØ.",
              "answerOptions": [
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false },
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "who", "rationale": "Ch√≠nh x√°c! **who** thay th·∫ø cho ng∆∞·ªùi (traveler) l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** T√¥i ƒë√£ g·∫∑p m·ªôt du kh√°ch ng∆∞·ªùi m√† ƒë√£ ƒëi thƒÉm h∆°n 50 qu·ªëc gia.", "isCorrect": true }
              ]
            },
            {
              "questionNumber": 36,
              "question": "The family _______ homestay we booked was very friendly and helpful.",
              "hint": "Homestay n√†y thu·ªôc v·ªÅ gia ƒë√¨nh ƒë√≥ (The family's homestay).",
              "answerOptions": [
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "whose", "rationale": "Ch√≠nh x√°c! **whose** ch·ªâ s·ª± s·ªü h·ªØu.\n**D·ªãch c√¢u:** Gia ƒë√¨nh m√† ch√∫ng t√¥i ƒë√£ ƒë·∫∑t homestay c·ªßa h·ªç r·∫•t th√¢n thi·ªán v√† hay gi√∫p ƒë·ª°.", "isCorrect": true },
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 37,
              "question": "The package holiday _______ includes meals and accommodation costs $800.",
              "hint": "Danh t·ª´ 'package holiday' (v·∫≠t/s·ª± vi·ªác). ƒê·ªông t·ª´ 'includes'.",
              "answerOptions": [
                { "text": "which", "rationale": "Ch√≠nh x√°c! **which** thay th·∫ø cho v·∫≠t l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** K·ª≥ ngh·ªâ tr·ªçn g√≥i c√°i m√† bao g·ªìm ƒÉn u·ªëng v√† ch·ªó ·ªü c√≥ gi√° 800 ƒë√¥ la.", "isCorrect": true },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "when", "rationale": "Sai. Ch·ªâ th·ªùi gian.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 38,
              "question": "The photographer _______ took our pictures at the beach was very professional.",
              "hint": "Danh t·ª´ 'photographer' (ng∆∞·ªùi). ƒê·ªông t·ª´ 'took'.",
              "answerOptions": [
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "who", "rationale": "Ch√≠nh x√°c! **who** thay th·∫ø cho ng∆∞·ªùi l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** Ng∆∞·ªùi th·ª£ nhi·∫øp ·∫£nh ng∆∞·ªùi m√† ƒë√£ ch·ª•p ·∫£nh cho ch√∫ng t√¥i ·ªü b√£i bi·ªÉn r·∫•t chuy√™n nghi·ªáp.", "isCorrect": true },
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 39,
              "question": "We found a restaurant _______ serves authentic local seafood dishes.",
              "hint": "Danh t·ª´ 'restaurant' (v·∫≠t/n∆°i ch·ªën). ƒê·ªông t·ª´ 'serves'. C·∫ßn ch·ªß ng·ªØ cho ƒë·ªông t·ª´ n√†y.",
              "answerOptions": [
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "whom", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "which", "rationale": "Ch√≠nh x√°c! **which** thay th·∫ø cho v·∫≠t l√†m ch·ªß ng·ªØ. (Kh√¥ng d√πng 'where' v√¨ 'where' kh√¥ng l√†m ch·ªß ng·ªØ cho ƒë·ªông t·ª´ 'serves').\n**D·ªãch c√¢u:** Ch√∫ng t√¥i ƒë√£ t√¨m th·∫•y m·ªôt nh√† h√†ng c√°i m√† ph·ª•c v·ª• c√°c m√≥n h·∫£i s·∫£n ƒë·ªãa ph∆∞∆°ng ch√≠nh g·ªëc.", "isCorrect": true }
              ]
            },
            {
              "questionNumber": 40,
              "question": "The tourists _______ luggage was damaged received compensation from the airline.",
              "hint": "H√†nh l√Ω (luggage) thu·ªôc v·ªÅ du kh√°ch (tourists).",
              "answerOptions": [
                { "text": "whose", "rationale": "Ch√≠nh x√°c! **whose** ch·ªâ s·ª± s·ªü h·ªØu.\n**D·ªãch c√¢u:** Nh·ªØng du kh√°ch m√† h√†nh l√Ω b·ªã h∆∞ h·ªèng ƒë√£ nh·∫≠n ƒë∆∞·ª£c b·ªìi th∆∞·ªùng t·ª´ h√£ng h√†ng kh√¥ng.", "isCorrect": true },
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 41,
              "question": "The woman _______ works at the travel agency helped us plan our trip.",
              "hint": "Danh t·ª´ 'woman' (ng∆∞·ªùi). ƒê·ªông t·ª´ 'works'.",
              "answerOptions": [
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "who", "rationale": "Ch√≠nh x√°c! **who** thay th·∫ø cho ng∆∞·ªùi l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** Ng∆∞·ªùi ph·ª• n·ªØ ng∆∞·ªùi m√† l√†m vi·ªác t·∫°i ƒë·∫°i l√Ω du l·ªãch ƒë√£ gi√∫p ch√∫ng t√¥i l√™n k·∫ø ho·∫°ch chuy·∫øn ƒëi.", "isCorrect": true },
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 42,
              "question": "The cruise ship _______ we traveled on had five restaurants and two pools.",
              "hint": "Danh t·ª´ 'cruise ship' (v·∫≠t). Ch√∫ √Ω gi·ªõi t·ª´ 'on' ·ªü ph√≠a sau (traveled on...).",
              "answerOptions": [
                { "text": "when", "rationale": "Sai. Ch·ªâ th·ªùi gian.", "isCorrect": false },
                { "text": "which", "rationale": "Ch√≠nh x√°c! **which** thay th·∫ø cho v·∫≠t. (C·∫•u tr√∫c: ...which we traveled on).\n**D·ªãch c√¢u:** Con t√†u du l·ªãch m√† ch√∫ng t√¥i ƒëi tr√™n ƒë√≥ c√≥ 5 nh√† h√†ng v√† 2 h·ªì b∆°i.", "isCorrect": true },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 43,
              "question": "The guide _______ knowledge of history impressed everyone was from the local museum.",
              "hint": "Ki·∫øn th·ª©c (knowledge) C·ª¶A ng∆∞·ªùi h∆∞·ªõng d·∫´n (guide).",
              "answerOptions": [
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi (ch·ªß ng·ªØ).", "isCorrect": false },
                { "text": "whose", "rationale": "Ch√≠nh x√°c! **whose** ch·ªâ s·ª± s·ªü h·ªØu (Whose knowledge = The guide's knowledge).\n**D·ªãch c√¢u:** Ng∆∞·ªùi h∆∞·ªõng d·∫´n vi√™n m√† ki·∫øn th·ª©c l·ªãch s·ª≠ c·ªßa anh ·∫•y g√¢y ·∫•n t∆∞·ª£ng v·ªõi m·ªçi ng∆∞·ªùi th√¨ ƒë·∫øn t·ª´ b·∫£o t√†ng ƒë·ªãa ph∆∞∆°ng.", "isCorrect": true },
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 44,
              "question": "The ticket _______ you bought online is 20% cheaper than at the counter.",
              "hint": "Danh t·ª´ 'ticket' (v·∫≠t).",
              "answerOptions": [
                { "text": "which", "rationale": "Ch√≠nh x√°c! **which** thay th·∫ø cho v·∫≠t.\n**D·ªãch c√¢u:** Chi·∫øc v√© m√† b·∫°n ƒë√£ mua tr·ª±c tuy·∫øn r·∫ª h∆°n 20% so v·ªõi t·∫°i qu·∫ßy.", "isCorrect": true },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "whom", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 45,
              "question": "The couple _______ we met on the tour became our good friends.",
              "hint": "Danh t·ª´ 'couple' (ng∆∞·ªùi). Vai tr√≤ l√† t√¢n ng·ªØ c·ªßa ƒë·ªông t·ª´ 'met' (We met [them]).",
              "answerOptions": [
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false },
                { "text": "whom", "rationale": "Ch√≠nh x√°c! **whom** thay th·∫ø cho ng∆∞·ªùi ƒë√≥ng vai tr√≤ t√¢n ng·ªØ.\n**D·ªãch c√¢u:** C·∫∑p ƒë√¥i m√† ch√∫ng t√¥i ƒë√£ g·∫∑p trong chuy·∫øn ƒëi ƒë√£ tr·ªü th√†nh b·∫°n t·ªët c·ªßa ch√∫ng t√¥i.", "isCorrect": true }
              ]
            },
            {
              "questionNumber": 46,
              "question": "The destination _______ beaches are famous for surfing attracts many young tourists.",
              "hint": "B√£i bi·ªÉn (beaches) C·ª¶A ƒëi·ªÉm ƒë·∫øn ƒë√≥ (destination).",
              "answerOptions": [
                { "text": "whose", "rationale": "Ch√≠nh x√°c! **whose** d√πng ƒë·ªÉ ch·ªâ s·ªü h·ªØu cho c·∫£ ng∆∞·ªùi v√† v·∫≠t.\n**D·ªãch c√¢u:** ƒêi·ªÉm ƒë·∫øn m√† c√°c b√£i bi·ªÉn c·ªßa n√≥ n·ªïi ti·∫øng v·ªÅ l∆∞·ªõt s√≥ng thu h√∫t nhi·ªÅu du kh√°ch tr·∫ª.", "isCorrect": true },
                { "text": "which", "rationale": "Sai. Kh√¥ng ch·ªâ s·ª± s·ªü h·ªØu.", "isCorrect": false },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "when", "rationale": "Sai. Ch·ªâ th·ªùi gian.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 47,
              "question": "The historical place _______ tells the story of ancient civilizations is worth visiting.",
              "hint": "Danh t·ª´ 'historical place' (v·∫≠t/n∆°i ch·ªën). ƒê·ªông t·ª´ 'tells'. C·∫ßn ch·ªß ng·ªØ.",
              "answerOptions": [
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "when", "rationale": "Sai. Ch·ªâ th·ªùi gian.", "isCorrect": false },
                { "text": "which", "rationale": "Ch√≠nh x√°c! **which** thay th·∫ø cho v·∫≠t l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** ƒê·ªãa ƒëi·ªÉm l·ªãch s·ª≠ n∆°i k·ªÉ l·∫°i c√¢u chuy·ªán v·ªÅ c√°c n·ªÅn vƒÉn minh c·ªï ƒë·∫°i r·∫•t ƒë√°ng ƒë·ªÉ gh√© thƒÉm.", "isCorrect": true },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 48,
              "question": "The backpacker _______ travels alone prefers budget accommodations.",
              "hint": "Danh t·ª´ 'backpacker' (ng∆∞·ªùi du l·ªãch b·ª•i). ƒê·ªông t·ª´ 'travels'.",
              "answerOptions": [
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false },
                { "text": "who", "rationale": "Ch√≠nh x√°c! **who** thay th·∫ø cho ng∆∞·ªùi l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** Ng∆∞·ªùi du l·ªãch b·ª•i ng∆∞·ªùi m√† ƒëi du l·ªãch m·ªôt m√¨nh th∆∞·ªùng th√≠ch ch·ªó ·ªü gi√° r·∫ª.", "isCorrect": true },
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 49,
              "question": "The itinerary _______ the agency prepared includes all major attractions.",
              "hint": "Danh t·ª´ 'itinerary' (l·ªãch tr√¨nh - v·∫≠t).",
              "answerOptions": [
                { "text": "which", "rationale": "Ch√≠nh x√°c! **which** thay th·∫ø cho v·∫≠t.\n**D·ªãch c√¢u:** L·ªãch tr√¨nh m√† ƒë·∫°i l√Ω ƒë√£ chu·∫©n b·ªã bao g·ªìm t·∫•t c·∫£ c√°c ƒëi·ªÉm tham quan ch√≠nh.", "isCorrect": true },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 50,
              "question": "The hotel _______ manager speaks five languages has excellent international reviews.",
              "hint": "Ng∆∞·ªùi qu·∫£n l√Ω (manager) C·ª¶A kh√°ch s·∫°n (hotel).",
              "answerOptions": [
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t (kh√¥ng ch·ªâ s·ªü h·ªØu).", "isCorrect": false },
                { "text": "whose", "rationale": "Ch√≠nh x√°c! **whose** ch·ªâ s·ªü h·ªØu cho v·∫≠t (The hotel's manager).\n**D·ªãch c√¢u:** Kh√°ch s·∫°n m√† ng∆∞·ªùi qu·∫£n l√Ω c·ªßa n√≥ n√≥i ƒë∆∞·ª£c 5 th·ª© ti·∫øng c√≥ nh·ªØng ƒë√°nh gi√° qu·ªëc t·∫ø xu·∫•t s·∫Øc.", "isCorrect": true },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 51,
              "question": "The visitors _______ arrived late missed the guided tour.",
              "hint": "Danh t·ª´ 'visitors' (ng∆∞·ªùi). ƒê·ªông t·ª´ 'arrived'.",
              "answerOptions": [
                { "text": "when", "rationale": "Sai. Ch·ªâ th·ªùi gian.", "isCorrect": false },
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "who", "rationale": "Ch√≠nh x√°c! **who** thay th·∫ø cho ng∆∞·ªùi l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** Nh·ªØng du kh√°ch ng∆∞·ªùi m√† ƒë·∫øn mu·ªôn ƒë√£ l·ª° chuy·∫øn tham quan c√≥ h∆∞·ªõng d·∫´n.", "isCorrect": true }
              ]
            },
            {
              "questionNumber": 52,
              "question": "The map _______ shows all tourist attractions is available at the information center.",
              "hint": "Danh t·ª´ 'map' (v·∫≠t). ƒê·ªông t·ª´ 'shows'.",
              "answerOptions": [
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "which", "rationale": "Ch√≠nh x√°c! **which** thay th·∫ø cho v·∫≠t l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** T·∫•m b·∫£n ƒë·ªì c√°i m√† hi·ªÉn th·ªã t·∫•t c·∫£ c√°c ƒëi·ªÉm du l·ªãch th√¨ c√≥ s·∫µn t·∫°i trung t√¢m th√¥ng tin.", "isCorrect": true },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "whom", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 53,
              "question": "The city _______ culture is unique attracts millions of tourists annually.",
              "hint": "VƒÉn h√≥a (culture) C·ª¶A th√†nh ph·ªë (city).",
              "answerOptions": [
                { "text": "whose", "rationale": "Ch√≠nh x√°c! **whose** ch·ªâ s·ªü h·ªØu cho v·∫≠t (The city's culture).\n**D·ªãch c√¢u:** Th√†nh ph·ªë m√† vƒÉn h√≥a c·ªßa n√≥ ƒë·ªôc ƒë√°o thu h√∫t h√†ng tri·ªáu du kh√°ch h√†ng nƒÉm.", "isCorrect": true },
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t (kh√¥ng ch·ªâ s·ªü h·ªØu).", "isCorrect": false },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "when", "rationale": "Sai. Ch·ªâ th·ªùi gian.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 54,
              "question": "The flight _______ was delayed for three hours finally departed at midnight.",
              "hint": "Danh t·ª´ 'flight' (v·∫≠t/s·ª± vi·ªác). ƒê·ªông t·ª´ 'was delayed'.",
              "answerOptions": [
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "which", "rationale": "Ch√≠nh x√°c! **which** thay th·∫ø cho v·∫≠t l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** Chuy·∫øn bay c√°i m√† b·ªã ho√£n 3 ti·∫øng ƒë·ªìng h·ªì cu·ªëi c√πng ƒë√£ kh·ªüi h√†nh l√∫c n·ª≠a ƒë√™m.", "isCorrect": true },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 55,
              "question": "The pilot _______ announced the landing was very experienced.",
              "hint": "Danh t·ª´ 'pilot' (ng∆∞·ªùi). ƒê·ªông t·ª´ 'announced'.",
              "answerOptions": [
                { "text": "who", "rationale": "Ch√≠nh x√°c! **who** thay th·∫ø cho ng∆∞·ªùi l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** Ng∆∞·ªùi phi c√¥ng ng∆∞·ªùi m√† th√¥ng b√°o h·∫° c√°nh r·∫•t gi√†u kinh nghi·ªám.", "isCorrect": true },
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 56,
              "question": "The country _______ tourism industry is growing rapidly needs more hotels.",
              "hint": "Ng√†nh du l·ªãch (tourism industry) C·ª¶A ƒë·∫•t n∆∞·ªõc ƒë√≥ (country).",
              "answerOptions": [
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t (kh√¥ng ch·ªâ s·ªü h·ªØu).", "isCorrect": false },
                { "text": "whose", "rationale": "Ch√≠nh x√°c! **whose** ch·ªâ s·ªü h·ªØu cho v·∫≠t (The country's tourism industry).\n**D·ªãch c√¢u:** Qu·ªëc gia m√† ng√†nh du l·ªãch c·ªßa n√≥ ƒëang ph√°t tri·ªÉn nhanh ch√≥ng c·∫ßn nhi·ªÅu kh√°ch s·∫°n h∆°n.", "isCorrect": true },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "when", "rationale": "Sai. Ch·ªâ th·ªùi gian.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 57,
              "question": "The souvenir _______ I bought for my mother was handmade by local artists.",
              "hint": "Danh t·ª´ 'souvenir' (v·∫≠t).",
              "answerOptions": [
                { "text": "when", "rationale": "Sai. Ch·ªâ th·ªùi gian.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "which", "rationale": "Ch√≠nh x√°c! **which** thay th·∫ø cho v·∫≠t.\n**D·ªãch c√¢u:** M√≥n qu√† l∆∞u ni·ªám c√°i m√† t√¥i mua cho m·∫π ƒë∆∞·ª£c l√†m th·ªß c√¥ng b·ªüi c√°c ngh·ªá sƒ© ƒë·ªãa ph∆∞∆°ng.", "isCorrect": true }
              ]
            },
            {
              "questionNumber": 58,
              "question": "The receptionist _______ checked us in was very polite and efficient.",
              "hint": "Danh t·ª´ 'receptionist' (nh√¢n vi√™n l·ªÖ t√¢n - ng∆∞·ªùi).",
              "answerOptions": [
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t.", "isCorrect": false },
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false },
                { "text": "who", "rationale": "Ch√≠nh x√°c! **who** thay th·∫ø cho ng∆∞·ªùi l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** Nh√¢n vi√™n l·ªÖ t√¢n ng∆∞·ªùi m√† l√†m th·ªß t·ª•c nh·∫≠n ph√≤ng cho ch√∫ng t√¥i r·∫•t l·ªãch s·ª± v√† l√†m vi·ªác hi·ªáu qu·∫£.", "isCorrect": true },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 59,
              "question": "The travel blog _______ provides useful tips has thousands of followers.",
              "hint": "Danh t·ª´ 'travel blog' (v·∫≠t/trang web). ƒê·ªông t·ª´ 'provides'.",
              "answerOptions": [
                { "text": "which", "rationale": "Ch√≠nh x√°c! **which** thay th·∫ø cho v·∫≠t l√†m ch·ªß ng·ªØ.\n**D·ªãch c√¢u:** Trang blog du l·ªãch c√°i m√† cung c·∫•p c√°c m·∫πo h·ªØu √≠ch c√≥ h√†ng ng√†n ng∆∞·ªùi theo d√µi.", "isCorrect": true },
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "whose", "rationale": "Sai. Ch·ªâ s·ªü h·ªØu.", "isCorrect": false },
                { "text": "where", "rationale": "Sai. Ch·ªâ n∆°i ch·ªën.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 60,
              "question": "The island _______ population depends on tourism is facing environmental challenges.",
              "hint": "D√¢n s·ªë (population) C·ª¶A h√≤n ƒë·∫£o (island).",
              "answerOptions": [
                { "text": "who", "rationale": "Sai. D√πng cho ng∆∞·ªùi.", "isCorrect": false },
                { "text": "whose", "rationale": "Ch√≠nh x√°c! **whose** ch·ªâ s·ªü h·ªØu cho v·∫≠t (The island's population).\n**D·ªãch c√¢u:** H√≤n ƒë·∫£o m√† d√¢n s·ªë c·ªßa n√≥ ph·ª• thu·ªôc v√†o du l·ªãch ƒëang ƒë·ªëi m·∫∑t v·ªõi c√°c th√°ch th·ª©c v·ªÅ m√¥i tr∆∞·ªùng.", "isCorrect": true },
                { "text": "which", "rationale": "Sai. D√πng cho v·∫≠t (kh√¥ng ch·ªâ s·ªü h·ªØu).", "isCorrect": false },
                { "text": "when", "rationale": "Sai. Ch·ªâ th·ªùi gian.", "isCorrect": false }
              ]
            }
          ]
        };

        // State Variables
        let currentScore = 0;
        let answeredCount = 0;
        const totalQuestions = rawQuizData.questions.length;

        // Shuffle Function (Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Initialize Data
        const questions = rawQuizData.questions;
        shuffleArray(questions);
        
        // Render Questions
        const container = document.getElementById('quiz-container');
        container.innerHTML = ''; // Clear loading text

        questions.forEach((q, index) => {
            // Shuffle Options for this question
            const shuffledOptions = [...q.answerOptions];
            shuffleArray(shuffledOptions);

            const card = document.createElement('div');
            card.className = 'question-card bg-white p-6 md:p-8';
            card.innerHTML = `
                <div class="flex items-center justify-between mb-4">
                    <span class="bg-purple-100 text-purple-700 font-bold px-3 py-1 rounded-lg text-sm">C√¢u ${index + 1} / ${totalQuestions}</span>
                    <span class="text-gray-400 text-sm font-semibold">QID: ${q.questionNumber}</span>
                </div>
                
                <h3 class="text-xl md:text-2xl font-bold text-gray-700 mb-6 leading-relaxed">
                    ${q.question}
                </h3>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6" id="options-${index}">
                    ${shuffledOptions.map((opt, optIndex) => `
                        <button onclick="checkAnswer(${index}, ${opt.isCorrect}, this)" 
                                class="option-btn w-full bg-white border-2 border-gray-300 rounded-xl py-4 px-6 text-lg font-bold text-gray-600 hover:bg-gray-50 text-left relative overflow-hidden">
                            <span class="mr-2">${String.fromCharCode(65 + optIndex)}.</span> ${opt.text}
                        </button>
                    `).join('')}
                </div>

                <!-- Explanation Section (Hidden by default) -->
                <div id="explanation-${index}" class="explanation-box rounded-xl text-gray-700">
                    <div class="flex items-center gap-2 mb-3">
                        <div class="w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-white font-bold text-xs">MA</div>
                        <h4 class="font-bold text-purple-700">Ms. Mai An gi·∫£i th√≠ch chi ti·∫øt:</h4>
                    </div>
                    <div class="space-y-2 text-sm md:text-base">
                        <p class="mb-2"><span class="font-bold">üîç G·ª£i √Ω:</span> ${q.hint}</p>
                        <hr class="border-purple-200 my-2">
                        <div class="space-y-3">
                            ${q.answerOptions.map(opt => `
                                <div class="${opt.isCorrect ? 'text-green-700 bg-green-50 p-2 rounded-lg border border-green-200' : 'text-gray-600'}">
                                    <span class="font-bold text-lg">${opt.text}</span>: 
                                    ${opt.rationale}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            container.appendChild(card);
        });

        // Check Answer Function
        function checkAnswer(qIndex, isCorrect, btnElement) {
            const optionsContainer = document.getElementById(`options-${qIndex}`);
            const buttons = optionsContainer.getElementsByTagName('button');
            const explanationBox = document.getElementById(`explanation-${qIndex}`);

            // Prevent re-answering
            if (optionsContainer.classList.contains('answered')) return;
            optionsContainer.classList.add('answered');

            // Disable all buttons
            for (let btn of buttons) {
                btn.classList.add('disabled');
            }

            if (isCorrect) {
                // Correct Logic
                btnElement.classList.add('correct');
                playSound('correct');
                currentScore++;
                document.getElementById('score-display').innerText = `Score: ${currentScore}`;
                
                // Safe Confetti
                if (typeof confetti === 'function') {
                    try {
                        const rect = btnElement.getBoundingClientRect();
                        const x = (rect.left + rect.width / 2) / window.innerWidth;
                        const y = (rect.top + rect.height / 2) / window.innerHeight;
                        confetti({
                            particleCount: 60,
                            spread: 70,
                            origin: { x: x, y: y },
                            colors: ['#00C9A7', '#8854C0', '#FFD700'],
                            disableForReducedMotion: true
                        });
                    } catch(e) { /* Ignore confetti error */ }
                }

            } else {
                // Incorrect Logic
                btnElement.classList.add('incorrect');
                playSound('incorrect');
            }

            answeredCount++;

            // Show Explanation with delay for visual effect
            setTimeout(() => {
                explanationBox.classList.add('show');
            }, 300);
        }

        // Finish Quiz Modal
        function finishQuiz() {
            const modal = document.getElementById('result-modal');
            const finalScoreEl = document.getElementById('final-score');
            const messageEl = document.getElementById('final-message');

            finalScoreEl.innerText = `${currentScore}/${totalQuestions}`;
            
            const percentage = (currentScore / totalQuestions) * 100;
            if (percentage === 100) {
                messageEl.innerText = "Xu·∫•t s·∫Øc! B·∫°n l√† thi√™n t√†i ng·ªØ ph√°p! üåü";
                if (typeof confetti === 'function') confetti({ particleCount: 200, spread: 100, origin: { y: 0.6 } });
            } else if (percentage >= 80) {
                messageEl.innerText = "Gi·ªèi l·∫Øm! Ch·ªâ sai m·ªôt ch√∫t x√≠u th√¥i. üí™";
            } else if (percentage >= 50) {
                messageEl.innerText = "Kh√° t·ªët! H√£y xem l·∫°i ph·∫ßn gi·∫£i th√≠ch ƒë·ªÉ hi·ªÉu r√µ h∆°n nh√©. üìö";
            } else {
                messageEl.innerText = "C·ªë l√™n! H√£y luy·ªán t·∫≠p th√™m c√πng Ms. Mai An nh√©. ‚ù§Ô∏è";
            }

            modal.classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('result-modal').classList.add('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Auto-init audio on first interaction to unlock it
        document.body.addEventListener('click', initAudio, { once: true });
        document.body.addEventListener('touchstart', initAudio, { once: true });

    </script>
</body>
</html>
