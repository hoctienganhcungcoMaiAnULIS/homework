<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i Ki·ªÉm Tra Ti·∫øng Anh Unit 10 - Ms Mai An ULIS</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #8854C0; /* H·ªìng t√≠m pastel */
            --secondary: #00C9A7; /* Xanh ng·ªçc */
            --correct: #00D26A; /* Xanh l√° */
            --wrong: #FF4757; /* ƒê·ªè cam */
            --bg-pattern: #f0f3f8;
            --card-bg: #ffffff;
            --text-main: #2f3542;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-pattern);
            background-image: radial-gradient(var(--primary) 0.5px, transparent 0.5px), radial-gradient(var(--secondary) 0.5px, #f0f3f8 0.5px);
            background-size: 20px 20px;
            color: var(--text-main);
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* Header Styles */
        header {
            text-align: center;
            background: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 8px 0 rgba(0,0,0,0.1);
            margin-bottom: 30px;
            border: 2px solid var(--primary);
        }

        h1 {
            color: var(--primary);
            font-family: 'Quicksand', sans-serif;
            font-weight: 800;
            margin: 0;
            font-size: 1.8rem;
        }

        .subtitle {
            color: #747d8c;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        /* Section Cards */
        .section-title {
            background: var(--secondary);
            color: white;
            padding: 10px 20px;
            border-radius: 15px;
            display: inline-block;
            margin-bottom: 15px;
            font-weight: 700;
            box-shadow: 0 4px 0 #009e82;
            margin-top: 30px;
        }

        .card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            border-bottom: 5px solid #e1e1e1;
            transition: transform 0.2s;
        }

        .question-text {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #2f3542;
        }

        .highlight-u {
            text-decoration: underline;
            text-decoration-color: var(--primary);
            text-decoration-thickness: 3px;
            font-weight: 800;
            color: var(--primary);
        }

        /* Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 15px;
        }

        .btn-option {
            background: white;
            border: 2px solid #dfe4ea;
            border-radius: 15px;
            padding: 12px 10px;
            font-family: 'Nunito', sans-serif;
            font-weight: 700;
            font-size: 1rem;
            color: #57606f;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 0 #dfe4ea;
            position: relative;
            text-align: center;
        }

        .btn-option:hover {
            transform: scale(1.05);
            border-color: var(--primary);
            color: var(--primary);
        }

        .btn-option:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        /* Correct/Wrong States */
        .btn-option.correct {
            background-color: var(--correct);
            color: white;
            border-color: #00b85c;
            box-shadow: 0 4px 0 #00b85c;
        }

        .btn-option.wrong {
            background-color: var(--wrong);
            color: white;
            border-color: #ff2e43;
            box-shadow: 0 4px 0 #ff2e43;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-5deg); }
            50% { transform: translateX(5px) rotate(5deg); }
            75% { transform: translateX(-5px) rotate(-5deg); }
            100% { transform: translateX(0); }
        }

        /* Explanation Box */
        .explanation {
            display: none;
            margin-top: 20px;
            background: #f1f2f6;
            padding: 15px;
            border-radius: 15px;
            border-left: 5px solid var(--primary);
            animation: slideDown 0.3s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .exp-header {
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .exp-content p {
            margin: 5px 0;
            line-height: 1.5;
            font-size: 0.95rem;
        }

        .exp-label {
            font-weight: 700;
            color: #2f3542;
        }

        /* Reading Passage & Glossary */
        .reading-passage {
            background: #fff4e6;
            padding: 20px;
            border-radius: 15px;
            border: 2px dashed #ff9f43;
            line-height: 1.8;
            margin-bottom: 20px;
            font-size: 1.05rem;
        }

        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            font-size: 0.9rem;
        }

        .glossary-table th {
            background: var(--primary);
            color: white;
            padding: 10px;
            text-align: left;
        }

        .glossary-table td {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }

        /* Special Layouts for Part VIII and IX */
        .options-box {
            background: #eccc68;
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 15px;
            font-weight: bold;
            color: #2f3542;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .option-chip {
            background: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            box-shadow: 0 2px 0 rgba(0,0,0,0.1);
        }

        /* Footer & Submit */
        .footer-controls {
            text-align: center;
            margin-top: 40px;
            margin-bottom: 50px;
        }

        .btn-submit {
            background: var(--primary);
            color: white;
            font-size: 1.2rem;
            padding: 15px 40px;
            border: none;
            border-radius: 30px;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 6px 0 #5f27cd;
            transition: all 0.2s;
        }

        .btn-submit:hover {
            transform: scale(1.05);
            background: #9c6ade;
        }

        .btn-submit:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 25px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            animation: zoomIn 0.4s;
            position: relative;
        }

        @keyframes zoomIn {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .score-display {
            font-size: 3rem;
            font-weight: 800;
            color: var(--primary);
            margin: 20px 0;
        }
        
        .feedback-text {
            font-size: 1.2rem;
            color: #2f3542;
            margin-bottom: 20px;
        }

        .close-modal {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: #aaa;
        }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>TEST FOR UNIT 10</h1>
        <div class="subtitle">Gi√°o vi√™n t·∫°o: Ms Mai An ULIS</div>
    </header>

    <div class="section-title">I. PHONETICS (Ph√°t √¢m)</div>
    <div id="part1-container"></div>

    <div class="section-title">II. STRESS PATTERN (Tr·ªçng √¢m)</div>
    <div id="part2-container"></div>

    <div class="section-title">VIII. MATCH QUESTIONS TO ANSWERS</div>
    <div class="card">
        <div class="options-box">
            <div class="option-chip" style="background:#ff7675; color:white;">A. What causes carbon emissions?</div>
            <div class="option-chip" style="background:#74b9ff; color:white;">B. How can I reduce my carbon footprint?</div>
            <div class="option-chip" style="background:#55efc4; color:#2d3436;">C. How does carbon footprint affect us?</div>
            <div class="option-chip" style="background:#a29bfe; color:white;">D. What is a carbon footprint?</div>
            <div class="option-chip" style="background:#ffeaa7; color:#2d3436;">E. How can I calculate my carbon footprint?</div>
        </div>
        <p><i>H∆∞·ªõng d·∫´n: ƒê·ªçc c√¢u tr·∫£ l·ªùi v√† ch·ªçn c√¢u h·ªèi t∆∞∆°ng ·ª©ng.</i></p>
    </div>
    <div id="part8-container"></div>

    <div class="section-title">IX. GAP FILL - CARBON FOOTPRINTS</div>
    <div class="card">
        <div class="reading-passage">
            <strong>CARBON FOOTPRINTS</strong><br><br>
            Everybody has a carbon footprint it's the <b>(1)</b> ____________ of carbon dioxide we produce with any action or activity. <b>(2)</b> ____________ carbon dioxide contributes to 'greenhouse gases', our carbon footprints have a direct impact <b>(3)</b> ____________ the environment. You can estimate your carbon footprint on any number of popular websites: if it's <b>(4)</b> ____________ then you're probably leading a relatively green lifestyle. But <b>(5)</b> ____________ happens if it's big? Well, the answer is that you can <b>(6)</b> ____________ it. People contribute to balancing the negative effects of their actions by using <b>(7)</b> ____________ fuels, recycling, reforestation and a number of other activities which are said to contribute to a <b>(8)</b> ____________ of the carbon dioxide.
        </div>
        
        <table class="glossary-table">
            <thead><tr><th colspan="3">üéì Academic Glossary (T·ª´ v·ª±ng n√¢ng cao)</th></tr></thead>
            <tbody>
                <tr><td><b>Footprint</b> (n)</td><td>D·∫•u v·∫øt</td><td>V·∫øt t√≠ch ƒë·ªÉ l·∫°i (nghƒ©a b√≥ng: t√°c ƒë·ªông)</td></tr>
                <tr><td><b>Contribute</b> (v)</td><td>ƒê√≥ng g√≥p</td><td>G√≥p ph·∫ßn v√†o vi·ªác g√¨ ƒë√≥</td></tr>
                <tr><td><b>Estimate</b> (v)</td><td>∆Ø·ªõc l∆∞·ª£ng</td><td>T√≠nh to√°n s∆° b·ªô</td></tr>
                <tr><td><b>Reforestation</b> (n)</td><td>T√°i tr·ªìng r·ª´ng</td><td>Tr·ªìng l·∫°i r·ª´ng ƒë√£ m·∫•t</td></tr>
            </tbody>
        </table>
    </div>
    <div id="part9-container"></div>

    <div class="section-title">X. READING COMPREHENSION - SOLAR ENERGY</div>
    <div class="card">
        <div class="reading-passage">
            <strong>SOLAR ENERGY</strong><br><br>
            Sunlight carries huge amounts of energy. You can feel the Sun's energy when sunlight warms your skin on a summer day. To capture the Sun's energy, scientists have developed solar cells, called photovoltaic cells. These cells convert sunlight into electricity.<br>
            When sunlight hits a solar cell, some of the light energy is absorbed. This light energy causes the particles in the solar cell to move faster, and the movement of these particles creates electricity. In some places, large panels of solar cells harvest sunshine to make electricity for homes and businesses. Solar cells have been placed on cars and appliances, too. Since the Sun sends abundant free energy streaming toward Earth 24 hours a day, people in many parts of the world, not just the sunniest places, have fixed solar cells and solar panels on the roofs of their houses or businesses to lower their energy costs.<br>
            Experts say that huge installation of solar panels in sunny regions could generate enough electricity to supply an entire country. Capturing this energy can help overcome our diminishing energy supply. New ways to capture this energy are being developed all the time to maximize efficiency.
        </div>

        <table class="glossary-table">
            <thead><tr><th colspan="3">üéì Academic Glossary (T·ª´ v·ª±ng B1-C1)</th></tr></thead>
            <tbody>
                <tr><td><b>Photovoltaic</b> (adj)</td><td>Quang ƒëi·ªán</td><td>Li√™n quan ƒë·∫øn vi·ªác t·∫°o ƒëi·ªán t·ª´ √°nh s√°ng</td></tr>
                <tr><td><b>Abundant</b> (adj)</td><td>D·ªìi d√†o</td><td>C√≥ s·ªë l∆∞·ª£ng r·∫•t l·ªõn</td></tr>
                <tr><td><b>Diminishing</b> (adj)</td><td>C·∫°n ki·ªát</td><td>ƒêang gi·∫£m d·∫ßn ƒëi</td></tr>
                <tr><td><b>Installation</b> (n)</td><td>S·ª± l·∫Øp ƒë·∫∑t</td><td>H·ªá th·ªëng m√°y m√≥c ƒë∆∞·ª£c l·∫Øp ƒë·∫∑t</td></tr>
                <tr><td><b>Efficiency</b> (n)</td><td>Hi·ªáu su·∫•t</td><td>Kh·∫£ nƒÉng l√†m vi·ªác hi·ªáu qu·∫£</td></tr>
                <tr><td><b>Appliance</b> (n)</td><td>Thi·∫øt b·ªã</td><td>D·ª•ng c·ª• ƒëi·ªán gia d·ª•ng</td></tr>
                <tr><td><b>Convert</b> (v)</td><td>Chuy·ªÉn ƒë·ªïi</td><td>Bi·∫øn ƒë·ªïi t·ª´ d·∫°ng n√†y sang d·∫°ng kh√°c</td></tr>
            </tbody>
        </table>
    </div>
    <div id="part10-container"></div>

    <div class="footer-controls">
        <button class="btn-submit" onclick="showFinalScore()">N·ªòP B√ÄI & XEM ƒêI·ªÇM üèÜ</button>
    </div>
</div>

<div id="scoreModal" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeModal()">&times;</span>
        <h2>K·∫æT QU·∫¢ C·ª¶A B·∫†N</h2>
        <div id="finalScore" class="score-display">0/0</div>
        <div id="feedbackText" class="feedback-text"></div>
        <button class="btn-submit" onclick="closeModal()">Xem l·∫°i b√†i l√†m</button>
    </div>
</div>

<script>
    // Audio Context Setup
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

    function playSound(type) {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        const osc = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();
        osc.connect(gainNode);
        gainNode.connect(audioCtx.destination);

        if (type === 'correct') {
            // Ding sound: High pitch, decays fast
            osc.type = 'sine';
            osc.frequency.setValueAtTime(800, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.1);
            gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.5);
        } else {
            // Buzz sound: Low sawtooth, choppy
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(150, audioCtx.currentTime);
            osc.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
            gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.3);
        }
    }

    // --- DATA ---
    const quizData = {
        phonetics: [
            {
                q: "Choose the word with the underlined part pronounced differently.",
                word: "s<u>o</u>lar / f<u>o</u>ssil / hydr<u>o</u> / <u>o</u>verheat",
                options: ["solar", "fossil", "hydro", "overheat"],
                correct: 1,
                explain: {
                    vi_q: "Ch·ªçn t·ª´ c√≥ ph·∫ßn g·∫°ch ch√¢n ph√°t √¢m kh√°c.",
                    options: [
                        "A. Solar /Ààs…ô ä.l…ô(r)/ (n): NƒÉng l∆∞·ª£ng m·∫∑t tr·ªùi (√¢m /…ô ä/)",
                        "B. Fossil /Ààf…ís.…ôl/ (n): H√≥a th·∫°ch (√¢m /…í/ - o ng·∫Øn)",
                        "C. Hydro /Ààha…™.dr…ô ä/ (prefix): N∆∞·ªõc (√¢m /…ô ä/)",
                        "D. Overheat /Àå…ô ä.v…ôÀàhiÀêt/ (v): Qu√° nhi·ªát (√¢m /…ô ä/)"
                    ],
                    correct: "ƒê√°p √°n B ph√°t √¢m l√† /…í/ (o ng·∫Øn), trong khi c√°c ƒë√°p √°n c√≤n l·∫°i l√† /…ô ä/ (nguy√™n √¢m ƒë√¥i).",
                    wrong: "A, C, D ƒë·ªÅu ph√°t √¢m l√† /…ô ä/."
                }
            },
            {
                q: "Choose the word with the underlined part pronounced differently.",
                word: "ab<u>u</u>ndant / cons<u>u</u>mption / s<u>u</u>nlight / poll<u>u</u>tion",
                options: ["abundant", "consumption", "sunlight", "pollution"],
                correct: 3,
                explain: {
                    vi_q: "Ch·ªçn t·ª´ c√≥ ph·∫ßn g·∫°ch ch√¢n ph√°t √¢m kh√°c.",
                    options: [
                        "A. Abundant /…ôÀàb ån.d…ônt/ (adj): D·ªìi d√†o (√¢m / å/)",
                        "B. Consumption /k…ônÀàs åmp. É…ôn/ (n): S·ª± ti√™u th·ª• (√¢m / å/)",
                        "C. Sunlight /Ààs ån.la…™t/ (n): √Ånh s√°ng m·∫∑t tr·ªùi (√¢m / å/)",
                        "D. Pollution /p…ôÀàluÀê. É…ôn/ (n): S·ª± √¥ nhi·ªÖm (√¢m /uÀê/ - u d√†i)"
                    ],
                    correct: "ƒê√°p √°n D ph√°t √¢m l√† /uÀê/, c√≤n l·∫°i l√† / å/.",
                    wrong: "A, B, C ƒë·ªÅu ph√°t √¢m l√† / å/."
                }
            },
            {
                q: "Choose the word with the underlined part pronounced differently.",
                word: "<u>c</u>ertain / <u>c</u>arbon / <u>c</u>oal / <u>c</u>onvert",
                options: ["certain", "carbon", "coal", "convert"],
                correct: 0,
                explain: {
                    vi_q: "Ch·ªçn t·ª´ c√≥ ph·∫ßn g·∫°ch ch√¢n ph√°t √¢m kh√°c.",
                    options: [
                        "A. Certain /Ààs…úÀê.t…ôn/ (adj): Ch·∫Øc ch·∫Øn (√¢m /s/)",
                        "B. Carbon /Ààk…ëÀê.b…ôn/ (n): Cacbon (√¢m /k/)",
                        "C. Coal /k…ô äl/ (n): Than ƒë√° (√¢m /k/)",
                        "D. Convert /k…ônÀàv…úÀêt/ (v): Chuy·ªÉn ƒë·ªïi (√¢m /k/)"
                    ],
                    correct: "ƒê√°p √°n A ph√°t √¢m l√† /s/ (soft c) do ƒë·ª©ng tr∆∞·ªõc 'e', c√≤n l·∫°i ph√°t √¢m l√† /k/.",
                    wrong: "B, C, D ƒë·ªÅu ph√°t √¢m l√† /k/."
                }
            },
            {
                q: "Choose the word with the underlined part pronounced differently.",
                word: "h<u>ea</u>t / ch<u>ea</u>p / inst<u>ea</u>d / <u>ea</u>sily",
                options: ["heat", "cheap", "instead", "easily"],
                correct: 2,
                explain: {
                    vi_q: "Ch·ªçn t·ª´ c√≥ ph·∫ßn g·∫°ch ch√¢n ph√°t √¢m kh√°c.",
                    options: [
                        "A. Heat /hiÀêt/ (n): Nhi·ªát (√¢m /iÀê/)",
                        "B. Cheap /t ÉiÀêp/ (adj): R·∫ª (√¢m /iÀê/)",
                        "C. Instead /…™nÀàsted/ (adv): Thay v√¨ (√¢m /e/)",
                        "D. Easily /ÀàiÀê.z…ôl.i/ (adv): D·ªÖ d√†ng (√¢m /iÀê/)"
                    ],
                    correct: "ƒê√°p √°n C ph√°t √¢m l√† /e/, c√≤n l·∫°i l√† /iÀê/ (y d√†i).",
                    wrong: "A, B, D ƒë·ªÅu ph√°t √¢m l√† /iÀê/."
                }
            },
            {
                q: "Choose the word with the underlined part pronounced differently.",
                word: "replac<u>ed</u> / limit<u>ed</u> / develop<u>ed</u> / walk<u>ed</u>",
                options: ["replaced", "limited", "developed", "walked"],
                correct: 1,
                explain: {
                    vi_q: "Ch·ªçn t·ª´ c√≥ ƒëu√¥i -ed ph√°t √¢m kh√°c.",
                    options: [
                        "A. Replaced /r…™Ààple…™st/ (√¢m /t/ - sau √¢m v√¥ thanh /s/)",
                        "B. Limited /Ààl…™m.…™.t…™d/ (√¢m /…™d/ - sau /t/ ho·∫∑c /d/)",
                        "C. Developed /d…™Ààvel.…ôpt/ (√¢m /t/ - sau √¢m v√¥ thanh /p/)",
                        "D. Walked /w…îÀêkt/ (√¢m /t/ - sau √¢m v√¥ thanh /k/)"
                    ],
                    correct: "ƒê√°p √°n B ph√°t √¢m l√† /…™d/ v√¨ ƒë·ªông t·ª´ g·ªëc k·∫øt th√∫c b·∫±ng 't'.",
                    wrong: "A, C, D ƒë·ªÅu ph√°t √¢m l√† /t/ theo quy t·∫Øc ph√°t √¢m ƒëu√¥i -ed."
                }
            }
        ],
        stress: [
            {
                q: "Choose the word that has different stress pattern.",
                options: ["machine", "carbon", "harmful", "turbine"],
                correct: 0,
                explain: {
                    vi_q: "Ch·ªçn t·ª´ c√≥ tr·ªçng √¢m kh√°c.",
                    options: [
                        "A. Machine /m…ôÀà ÉiÀên/ (Tr·ªçng √¢m 2)",
                        "B. Carbon /Ààk…ëÀê.b…ôn/ (Tr·ªçng √¢m 1)",
                        "C. Harmful /Ààh…ëÀêm.f…ôl/ (Tr·ªçng √¢m 1)",
                        "D. Turbine /Ààt…úÀê.ba…™n/ (Tr·ªçng √¢m 1)"
                    ],
                    correct: "ƒê√°p √°n A tr·ªçng √¢m r∆°i v√†o √¢m ti·∫øt th·ª© 2, c√°c t·ª´ c√≤n l·∫°i r∆°i v√†o √¢m ti·∫øt th·ª© 1.",
                    wrong: "B, C, D ƒë·ªÅu nh·∫•n √¢m 1."
                }
            },
            {
                q: "Choose the word that has different stress pattern.",
                options: ["generate", "natural", "effective", "energy"],
                correct: 2,
                explain: {
                    vi_q: "Ch·ªçn t·ª´ c√≥ tr·ªçng √¢m kh√°c.",
                    options: [
                        "A. Generate /Ààd íen.…ô.re…™t/ (Tr·ªçng √¢m 1)",
                        "B. Natural /Ààn√¶t É.…ôr.…ôl/ (Tr·ªçng √¢m 1)",
                        "C. Effective /…™Ààfek.t…™v/ (Tr·ªçng √¢m 2)",
                        "D. Energy /Ààen.…ô.d íi/ (Tr·ªçng √¢m 1)"
                    ],
                    correct: "ƒê√°p √°n C tr·ªçng √¢m r∆°i v√†o √¢m ti·∫øt th·ª© 2, c√≤n l·∫°i nh·∫•n √¢m 1.",
                    wrong: "A, B, D ƒë·ªÅu nh·∫•n √¢m 1."
                }
            },
            {
                q: "Choose the word that has different stress pattern.",
                options: ["limit", "replace", "panel", "hydro"],
                correct: 1,
                explain: {
                    vi_q: "Ch·ªçn t·ª´ c√≥ tr·ªçng √¢m kh√°c.",
                    options: [
                        "A. Limit /Ààl…™m.…™t/ (Tr·ªçng √¢m 1)",
                        "B. Replace /r…™Ààple…™s/ (Tr·ªçng √¢m 2)",
                        "C. Panel /Ààp√¶n.…ôl/ (Tr·ªçng √¢m 1)",
                        "D. Hydro /Ààha…™.dr…ô ä/ (Tr·ªçng √¢m 1)"
                    ],
                    correct: "ƒê√°p √°n B l√† ƒë·ªông t·ª´ 2 √¢m ti·∫øt th∆∞·ªùng nh·∫•n √¢m 2, c√≤n l·∫°i l√† danh t·ª´ nh·∫•n √¢m 1.",
                    wrong: "A, C, D ƒë·ªÅu nh·∫•n √¢m 1."
                }
            },
            {
                q: "Choose the word that has different stress pattern.",
                options: ["recycle", "pollution", "abundant", "plentiful"],
                correct: 3,
                explain: {
                    vi_q: "Ch·ªçn t·ª´ c√≥ tr·ªçng √¢m kh√°c.",
                    options: [
                        "A. Recycle /ÀåriÀêÀàsa…™.k…ôl/ (Tr·ªçng √¢m 2)",
                        "B. Pollution /p…ôÀàluÀê. É…ôn/ (Tr·ªçng √¢m 2 - tr∆∞·ªõc tion)",
                        "C. Abundant /…ôÀàb ån.d…ônt/ (Tr·ªçng √¢m 2)",
                        "D. Plentiful /Ààplen.t…™.f…ôl/ (Tr·ªçng √¢m 1)"
                    ],
                    correct: "ƒê√°p √°n D tr·ªçng √¢m r∆°i v√†o √¢m ti·∫øt th·ª© 1, c√≤n l·∫°i r∆°i v√†o √¢m ti·∫øt th·ª© 2.",
                    wrong: "A, B, C ƒë·ªÅu nh·∫•n √¢m 2."
                }
            },
            {
                q: "Choose the word that has different stress pattern.",
                options: ["nuclear", "solar", "resource", "shortage"],
                correct: 2,
                explain: {
                    vi_q: "Ch·ªçn t·ª´ c√≥ tr·ªçng √¢m kh√°c.",
                    options: [
                        "A. Nuclear /ÀànjuÀê.kl…™…ôr/ (Tr·ªçng √¢m 1)",
                        "B. Solar /Ààs…ô ä.l…ô(r)/ (Tr·ªçng √¢m 1)",
                        "C. Resource /r…™Ààz…îÀês/ ho·∫∑c /r…™Ààs…îÀês/ (Th∆∞·ªùng tr·ªçng √¢m 2)",
                        "D. Shortage /Àà É…îÀê.t…™d í/ (Tr·ªçng √¢m 1)"
                    ],
                    correct: "ƒê√°p √°n C 'Resource' th∆∞·ªùng nh·∫•n √¢m 2 (ƒë√¥i khi √¢m 1 nh∆∞ng trong b√†i thi ph√¢n bi·ªát v·ªõi A, B, D ch·∫Øc ch·∫Øn l√† √¢m 1 th√¨ C l√† ƒë√°p √°n kh√°c bi·ªát).",
                    wrong: "A, B, D ch·∫Øc ch·∫Øn nh·∫•n √¢m 1."
                }
            }
        ],
        part8: [
            {
                q: "Sentence A: _________________________________",
                context: "Answer B: It is the amount of greenhouse gases - primarily carbon dioxide released into the atmosphere by human activities.",
                options: ["A. What causes carbon emissions?", "B. How can I reduce my carbon footprint?", "C. How does carbon footprint affect us?", "D. What is a carbon footprint?"],
                correct: 3,
                explain: {
                    vi_q: "C√¢u h·ªèi n√†o ph√π h·ª£p v·ªõi c√¢u tr·∫£ l·ªùi?",
                    options: ["A. Nguy√™n nh√¢n g√¢y kh√≠ th·∫£i?", "B. C√°ch gi·∫£m d·∫•u ch√¢n carbon?", "C. T√°c ƒë·ªông c·ªßa n√≥?", "D. D·∫•u ch√¢n carbon l√† g√¨?"],
                    correct: "C√¢u tr·∫£ l·ªùi ƒë·ªãnh nghƒ©a 'It is the amount...' (N√≥ l√† l∆∞·ª£ng kh√≠...), n√™n c√¢u h·ªèi ph·∫£i l√† 'What is...?' (D - D·∫•u ch√¢n carbon l√† g√¨?).",
                    wrong: "C√°c c√¢u kh√°c h·ªèi v·ªÅ nguy√™n nh√¢n ho·∫∑c gi·∫£i ph√°p."
                }
            },
            {
                q: "Sentence A: _________________________________",
                context: "Answer B: The burning of fossil fuels in the environment.",
                options: ["A. What causes carbon emissions?", "B. How can I reduce my carbon footprint?", "C. How does carbon footprint affect us?", "D. What is a carbon footprint?"],
                correct: 0,
                explain: {
                    vi_q: "C√¢u h·ªèi n√†o ph√π h·ª£p v·ªõi c√¢u tr·∫£ l·ªùi?",
                    options: ["A. Nguy√™n nh√¢n g√¢y kh√≠ th·∫£i?", "B. C√°ch gi·∫£m d·∫•u ch√¢n carbon?", "C. T√°c ƒë·ªông?", "D. ƒê·ªãnh nghƒ©a?"],
                    correct: "C√¢u tr·∫£ l·ªùi ƒë·ªÅ c·∫≠p 'Burning fossil fuels' (ƒê·ªët nhi√™n li·ªáu h√≥a th·∫°ch) -> ƒê√¢y l√† nguy√™n nh√¢n. Ch·ªçn A (C√°i g√¨ g√¢y ra kh√≠ th·∫£i carbon?).",
                    wrong: "Kh√¥ng ph√π h·ª£p v·ªÅ nghƒ©a."
                }
            },
            {
                q: "Sentence A: _________________________________",
                context: "Answer B: Carbon emissions contribute to climate change, which can have serious consequences for humans and their environment.",
                options: ["A. How can I calculate my carbon footprint?", "B. How can I reduce my carbon footprint?", "C. How does carbon footprint affect us?", "D. What is a carbon footprint?"],
                correct: 2,
                explain: {
                    vi_q: "C√¢u h·ªèi n√†o ph√π h·ª£p?",
                    options: ["A. C√°ch t√≠nh to√°n?", "B. C√°ch gi·∫£m thi·ªÉu?", "C. T√°c ƒë·ªông ƒë·∫øn ch√∫ng ta th·∫ø n√†o?", "D. ƒê·ªãnh nghƒ©a?"],
                    correct: "C√¢u tr·∫£ l·ªùi n√≥i v·ªÅ 'consequences' (h·∫≠u qu·∫£) v√† 'climate change' -> Ch·ªçn C (N√≥ ·∫£nh h∆∞·ªüng th·∫ø n√†o?).",
                    wrong: "C√°c c√¢u c√≤n l·∫°i h·ªèi v·ªÅ gi·∫£i ph√°p ho·∫∑c c√°ch t√≠nh."
                }
            },
            {
                q: "Sentence A: _________________________________",
                context: "Answer B: You need to work out your energy use, water use and waste disposal.",
                options: ["A. What causes carbon emissions?", "B. How can I reduce my carbon footprint?", "C. How does carbon footprint affect us?", "D. How can I calculate my carbon footprint?"],
                correct: 3,
                explain: {
                    vi_q: "C√¢u h·ªèi n√†o ph√π h·ª£p?",
                    options: ["A. Nguy√™n nh√¢n?", "B. C√°ch gi·∫£m?", "C. T√°c ƒë·ªông?", "D. C√°ch t√≠nh to√°n?"],
                    correct: "C√¢u tr·∫£ l·ªùi d√πng t·ª´ 'work out' (t√≠nh to√°n/t√¨m ra) d·ª±a tr√™n nƒÉng l∆∞·ª£ng s·ª≠ d·ª•ng -> Ch·ªçn D (L√†m sao t√¥i t√≠nh ƒë∆∞·ª£c d·∫•u ch√¢n carbon?).",
                    wrong: "B sai v√¨ c√¢u tr·∫£ l·ªùi ch∆∞a ƒë∆∞a ra gi·∫£i ph√°p gi·∫£m thi·ªÉu (t·∫Øt ƒë√®n, ƒëi xe ƒë·∫°p...), ch·ªâ m·ªõi n√≥i v·ªÅ vi·ªác t√≠nh to√°n s·ªë li·ªáu s·ª≠ d·ª•ng."
                }
            },
            {
                q: "Sentence A: _________________________________",
                context: "Answer B: Turn off lights, TVs... Walk or ride your bike... Recycle...",
                options: ["A. What causes carbon emissions?", "B. How can I reduce my carbon footprint?", "C. How does carbon footprint affect us?", "D. What is a carbon footprint?"],
                correct: 1,
                explain: {
                    vi_q: "C√¢u h·ªèi n√†o ph√π h·ª£p?",
                    options: ["A. Nguy√™n nh√¢n?", "B. L√†m sao gi·∫£m d·∫•u ch√¢n carbon?", "C. T√°c ƒë·ªông?", "D. ƒê·ªãnh nghƒ©a?"],
                    correct: "C√¢u tr·∫£ l·ªùi li·ªát k√™ c√°c h√†nh ƒë·ªông c·ª• th·ªÉ ƒë·ªÉ b·∫£o v·ªá m√¥i tr∆∞·ªùng (T·∫Øt ƒë√®n, ƒëi xe ƒë·∫°p) -> Ch·ªçn B (Gi·∫£i ph√°p gi·∫£m thi·ªÉu).",
                    wrong: "C√°c c√¢u kh√°c kh√¥ng h·ªèi v·ªÅ gi·∫£i ph√°p."
                }
            }
        ],
        part9: [
            {
                q: "(1) it's the ____________ of carbon dioxide we produce...",
                options: ["number", "quality", "amount", "period"],
                correct: 2,
                explain: {
                    vi_q: "ƒê√≥ l√† ______ kh√≠ CO2 ch√∫ng ta t·∫°o ra...",
                    options: ["A. S·ªë l∆∞·ª£ng (ƒë·∫øm ƒë∆∞·ª£c)", "B. Ch·∫•t l∆∞·ª£ng", "C. L∆∞·ª£ng (kh√¥ng ƒë·∫øm ƒë∆∞·ª£c)", "D. Giai ƒëo·∫°n"],
                    correct: "Carbon dioxide l√† danh t·ª´ kh√¥ng ƒë·∫øm ƒë∆∞·ª£c -> D√πng 'amount' (l∆∞·ª£ng).",
                    wrong: "A d√πng cho danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c. B v√† D sai nghƒ©a."
                }
            },
            {
                q: "(2) ____________ carbon dioxide contributes to 'greenhouse gases'...",
                options: ["As", "Although", "However", "Due to"],
                correct: 0,
                explain: {
                    vi_q: "______ CO2 g√≥p ph·∫ßn t·∫°o kh√≠ nh√† k√≠nh, d·∫•u ch√¢n carbon c·ªßa ch√∫ng ta c√≥ t√°c ƒë·ªông tr·ª±c ti·∫øp...",
                    options: ["A. V√¨/B·ªüi v√¨", "B. M·∫∑c d√π", "C. Tuy nhi√™n", "D. Do (ƒëi v·ªõi Noun phrase)"],
                    correct: "M·ªánh ƒë·ªÅ 1 l√† nguy√™n nh√¢n, m·ªánh ƒë·ªÅ 2 l√† k·∫øt qu·∫£ -> D√πng 'As' (B·ªüi v√¨) + M·ªánh ƒë·ªÅ.",
                    wrong: "D sai ng·ªØ ph√°p (sau Due to ph·∫£i l√† danh t·ª´/Ving, ·ªü ƒë√¢y l√† m·ªánh ƒë·ªÅ). B, C sai nghƒ©a."
                }
            },
            {
                q: "(3) our carbon footprints have a direct impact ____________ the environment.",
                options: ["for", "to", "on", "in"],
                correct: 2,
                explain: {
                    vi_q: "...c√≥ t√°c ƒë·ªông tr·ª±c ti·∫øp ______ m√¥i tr∆∞·ªùng.",
                    options: ["A. cho", "B. t·ªõi", "C. l√™n", "D. trong"],
                    correct: "C·∫•u tr√∫c: impact on / effect on / influence on (t√°c ƒë·ªông l√™n c√°i g√¨).",
                    wrong: "Sai gi·ªõi t·ª´ theo collocation."
                }
            },
            {
                q: "(4) if it's ____________ then you're probably leading a relatively green lifestyle.",
                options: ["small", "large", "free", "fine"],
                correct: 0,
                explain: {
                    vi_q: "N·∫øu n√≥ ______, th√¨ b·∫°n ƒëang c√≥ l·ªëi s·ªëng xanh.",
                    options: ["A. nh·ªè", "B. l·ªõn", "C. mi·ªÖn ph√≠", "D. ·ªïn"],
                    correct: "D·∫•u ch√¢n carbon c√†ng 'nh·ªè' (small) th√¨ c√†ng t·ªët cho m√¥i tr∆∞·ªùng (s·ªëng xanh).",
                    wrong: "Large (l·ªõn) l√† g√¢y √¥ nhi·ªÖm nhi·ªÅu."
                }
            },
            {
                q: "(5) But ____________ happens if it's big?",
                options: ["when", "what", "why", "how"],
                correct: 1,
                explain: {
                    vi_q: "Nh∆∞ng chuy·ªán ______ x·∫£y ra n·∫øu n√≥ l·ªõn?",
                    options: ["A. khi n√†o", "B. c√°i g√¨", "C. t·∫°i sao", "D. nh∆∞ th·∫ø n√†o"],
                    correct: "C·∫•u tr√∫c: 'What happens...?' (Chuy·ªán g√¨ x·∫£y ra?).",
                    wrong: "Sai c·∫•u tr√∫c c√¢u h·ªèi."
                }
            },
            {
                q: "(6) Well, the answer is that you can ____________ it.",
                options: ["replace", "reuse", "increase", "balance"],
                correct: 3,
                explain: {
                    vi_q: "C√¢u tr·∫£ l·ªùi l√† b·∫°n c√≥ th·ªÉ ______ n√≥.",
                    options: ["A. thay th·∫ø", "B. t√°i s·ª≠ d·ª•ng", "C. tƒÉng", "D. c√¢n b·∫±ng"],
                    correct: "C√¢u sau c√≥ nh·∫Øc ƒë·∫øn 'balancing the negative effects' -> Ch·ªçn 'balance' (c√¢n b·∫±ng/b√π ƒë·∫Øp).",
                    wrong: "Kh√¥ng th·ªÉ t√°i s·ª≠ d·ª•ng d·∫•u ch√¢n carbon. TƒÉng l√† h·∫°i."
                }
            },
            {
                q: "(7) ...by using ____________ fuels, recycling...",
                options: ["fossil", "leaded", "smoky", "green"],
                correct: 3,
                explain: {
                    vi_q: "...b·∫±ng c√°ch d√πng nhi√™n li·ªáu ______...",
                    options: ["A. h√≥a th·∫°ch", "B. c√≥ ch√¨", "C. kh√≥i b·ª•i", "D. xanh/s·∫°ch"],
                    correct: "ƒêang n√≥i v·ªÅ h√†nh ƒë·ªông t√≠ch c·ª±c b·∫£o v·ªá m√¥i tr∆∞·ªùng -> D√πng 'green fuels' (nhi√™n li·ªáu xanh).",
                    wrong: "Fossil, leaded, smoky ƒë·ªÅu g√¢y √¥ nhi·ªÖm."
                }
            },
            {
                q: "(8) ...contribute to a ____________ of the carbon dioxide.",
                options: ["moving", "lowering", "rising", "falling"],
                correct: 1,
                explain: {
                    vi_q: "...g√≥p ph·∫ßn v√†o vi·ªác ______ kh√≠ CO2.",
                    options: ["A. di chuy·ªÉn", "B. gi·∫£m th·∫•p", "C. tƒÉng l√™n", "D. r∆°i xu·ªëng"],
                    correct: "M·ª•c ƒë√≠ch l√† gi·∫£m CO2 -> 'lowering' (s·ª± gi·∫£m thi·ªÉu).",
                    wrong: "Falling th∆∞·ªùng d√πng cho v·∫≠t r∆°i ho·∫∑c gi·∫£m s·ªë li·ªáu t·ª± nhi√™n, ·ªü ƒë√¢y l√† h√†nh ƒë·ªông ch·ªß ƒë·ªông l√†m gi·∫£m (lowering). Rising l√† sai nghƒ©a."
                }
            }
        ],
        part10: [
            {
                q: "What is the source of solar energy?",
                options: ["sunlight", "photovoltaic cells", "solar panels", "electricity"],
                correct: 0,
                explain: {
                    vi_q: "Ngu·ªìn c·ªßa nƒÉng l∆∞·ª£ng m·∫∑t tr·ªùi l√† g√¨?",
                    options: ["A. √Ånh s√°ng m·∫∑t tr·ªùi", "B. Pin quang ƒëi·ªán", "C. T·∫•m pin m·∫∑t tr·ªùi", "D. ƒêi·ªán"],
                    correct: "D·∫´n ch·ª©ng d√≤ng 1: 'Sunlight carries huge amounts of energy' (√Ånh s√°ng mang nƒÉng l∆∞·ª£ng).",
                    wrong: "B, C, D l√† c√¥ng c·ª• chuy·ªÉn ƒë·ªïi ho·∫∑c s·∫£n ph·∫©m."
                }
            },
            {
                q: "Solar cells are used ____________",
                options: ["to collect energy from the sun.", "to provide sunlight to houses.", "to convert sunlight into electricity.", "both a and c are correct."],
                correct: 3,
                explain: {
                    vi_q: "Pin m·∫∑t tr·ªùi ƒë∆∞·ª£c d√πng ƒë·ªÉ...",
                    options: ["A. thu th·∫≠p nƒÉng l∆∞·ª£ng m·∫∑t tr·ªùi", "B. cung c·∫•p √°nh s√°ng cho nh√†", "C. chuy·ªÉn √°nh s√°ng th√†nh ƒëi·ªán", "D. c·∫£ a v√† c ƒë·ªÅu ƒë√∫ng"],
                    correct: "D·∫´n ch·ª©ng: 'capture the Sun's energy' (thu th·∫≠p - √Ω A) v√† 'convert sunlight into electricity' (chuy·ªÉn ƒë·ªïi - √Ω C). -> Ch·ªçn D.",
                    wrong: "B sai v√¨ n√≥ cung c·∫•p ƒëi·ªán, kh√¥ng ph·∫£i cung c·∫•p √°nh s√°ng tr·ª±c ti·∫øp."
                }
            },
            {
                q: "Which of the following statements is true?",
                options: ["Solar cells absorb all of the light energy from the sun.", "The light energy causes the particles to move faster to make electricity.", "Solar energy can be used to power homes and businesses only.", "Large solar panels have been placed on cars and appliances."],
                correct: 1,
                explain: {
                    vi_q: "C√¢u n√†o sau ƒë√¢y l√† ƒê√öNG?",
                    options: ["A. H·∫•p th·ª• T·∫§T C·∫¢ √°nh s√°ng (sai, b√†i n√≥i 'some')", "B. NƒÉng l∆∞·ª£ng l√†m c√°c h·∫°t di chuy·ªÉn nhanh h∆°n ƒë·ªÉ t·∫°o ƒëi·ªán", "C. Ch·ªâ d√πng cho nh√† v√† doanh nghi·ªáp (sai, b√†i n√≥i c·∫£ xe c·ªô)", "D. T·∫•m pin L·ªöN ƒë·∫∑t tr√™n xe h∆°i (sai, xe h∆°i d√πng solar cells nh·ªè, panel l·ªõn cho nh√†)"],
                    correct: "D·∫´n ch·ª©ng: 'This light energy causes the particles in the solar cell to move faster... creates electricity.' -> B ƒë√∫ng.",
                    wrong: "A sai ch·ªØ 'all'. C sai ch·ªØ 'only'. D sai ng·ªØ c·∫£nh (Large panels th∆∞·ªùng ƒë·∫∑t ·ªü nh√† m√°y/m√°i nh√†)."
                }
            },
            {
                q: "As used in line 9, 'abundant' most nearly means",
                options: ["unlimited", "dangerous", "plentiful", "clean"],
                correct: 2,
                explain: {
                    vi_q: "T·ª´ 'abundant' g·∫ßn nghƒ©a nh·∫•t v·ªõi...",
                    options: ["A. v√¥ h·∫°n", "B. nguy hi·ªÉm", "C. d·ªìi d√†o/phong ph√∫", "D. s·∫°ch"],
                    correct: "Abundant = Plentiful (D·ªìi d√†o, nhi·ªÅu).",
                    wrong: "Unlimited l√† v√¥ h·∫°n (nghƒ©a m·∫°nh h∆°n). Dangerous v√† Clean kh√¥ng ƒë·ªìng nghƒ©a v·ªÅ l∆∞·ª£ng."
                }
            },
            {
                q: "Where have people fixed solar panels?",
                options: ["In the sunniest places", "Anywhere outside their houses", "Inside their houses", "On the roofs of their houses"],
                correct: 3,
                explain: {
                    vi_q: "Ng∆∞·ªùi ta l·∫Øp t·∫•m pin m·∫∑t tr·ªùi ·ªü ƒë√¢u?",
                    options: ["A. ·ªû n∆°i n·∫Øng nh·∫•t", "B. B·∫•t c·ª© ƒë√¢u b√™n ngo√†i", "C. Trong nh√†", "D. Tr√™n m√°i nh√†"],
                    correct: "D·∫´n ch·ª©ng: 'fixed solar cells and solar panels on the roofs of their houses' (tr√™n m√°i nh√†).",
                    wrong: "Sai th√¥ng tin b√†i ƒë·ªçc."
                }
            },
            {
                q: "As used in line 14, 'diminishing' most nearly means",
                options: ["decreasing", "increasing", "unending", "restoring"],
                correct: 0,
                explain: {
                    vi_q: "T·ª´ 'diminishing' g·∫ßn nghƒ©a nh·∫•t v·ªõi...",
                    options: ["A. gi·∫£m d·∫ßn", "B. tƒÉng d·∫ßn", "C. kh√¥ng k·∫øt th√∫c", "D. kh√¥i ph·ª•c"],
                    correct: "Diminishing energy supply = Ngu·ªìn cung nƒÉng l∆∞·ª£ng ƒëang c·∫°n ki·ªát/gi·∫£m d·∫ßn -> Ch·ªçn A.",
                    wrong: "Tr√°i nghƒ©a ho√†n to√†n."
                }
            },
            {
                q: "According to the passage, all of the following statements are true EXCEPT",
                options: ["the Sun produces a large amount of energy.", "solar energy could provide enough electricity for the whole world.", "scientists are constantly developing new ways to capture the Sun's energy.", "people use solar energy to reduce their energy costs."],
                correct: 1,
                explain: {
                    vi_q: "T·∫•t c·∫£ ƒë·ªÅu ƒë√∫ng NGO·∫†I TR·ª™...",
                    options: ["A. M·∫∑t tr·ªùi t·∫°o nƒÉng l∆∞·ª£ng l·ªõn (ƒê√∫ng)", "B. NƒÉng l∆∞·ª£ng m·∫∑t tr·ªùi ƒë·ªß cho TO√ÄN TH·∫æ GI·ªöI (Sai so v·ªõi b√†i)", "C. C√°c nh√† khoa h·ªçc ph√°t tri·ªÉn c√°ch m·ªõi (ƒê√∫ng)", "D. Gi·∫£m chi ph√≠ nƒÉng l∆∞·ª£ng (ƒê√∫ng)"],
                    correct: "D·∫´n ch·ª©ng: B√†i ƒë·ªçc ghi 'could generate enough electricity to supply an ENTIRE COUNTRY' (cung c·∫•p cho m·ªôt qu·ªëc gia), kh√¥ng ph·∫£i 'whole world' (to√†n th·∫ø gi·ªõi). ƒê√¢y l√† chi ti·∫øt sai.",
                    wrong: "A, C, D ƒë·ªÅu c√≥ d·∫´n ch·ª©ng trong b√†i."
                }
            }
        ]
    };

    let score = 0;
    let totalQuestions = 0;

    // --- RENDER FUNCTIONS ---
    function renderOption(text, index, correctIndex, explainObj, qId) {
        // qId ensures unique IDs for buttons
        return `<button class="btn-option" id="btn_${qId}_${index}" onclick="checkAnswer(this, ${index === correctIndex}, '${qId}')">${text}</button>`;
    }

    function renderExplanation(explainObj, qId) {
        return `
            <div id="exp_${qId}" class="explanation">
                <div class="exp-header">üí° GI·∫¢I TH√çCH CHI TI·∫æT (C√¥ Mai An):</div>
                <div class="exp-content">
                    <p><span class="exp-label">‚ùì D·ªãch c√¢u h·ªèi:</span> ${explainObj.vi_q}</p>
                    <p><span class="exp-label">‚úÖ T·∫°i sao ƒê√öNG:</span> ${explainObj.correct}</p>
                    <p><span class="exp-label">‚ùå T·∫°i sao SAI:</span> ${explainObj.wrong}</p>
                    <hr style="border-top: 1px dashed #ccc; margin: 10px 0;">
                    <p><i>${explainObj.options.join('<br>')}</i></p>
                </div>
            </div>
        `;
    }

    // Render Part I & II
    function renderPart(data, containerId, prefix) {
        const container = document.getElementById(containerId);
        data.forEach((item, idx) => {
            totalQuestions++;
            const qId = prefix + idx;
            let questionHTML = `<div class="card">
                <div class="question-text">${idx + 1}. ${item.q} <br> <span style="font-size:1.5rem; color:#8854C0; display:block; margin-top:10px;">${item.word || ''}</span></div>
                <div class="options-grid">`;
            
            item.options.forEach((opt, optIdx) => {
                // Ensure phonetics highlight in options if needed, but mostly options are plain text
                questionHTML += renderOption(opt, optIdx, item.correct, item.explain, qId);
            });

            questionHTML += `</div>${renderExplanation(item.explain, qId)}</div>`;
            container.innerHTML += questionHTML;
        });
    }

    // Render Part VIII (Matching)
    function renderPart8() {
        const container = document.getElementById('part8-container');
        quizData.part8.forEach((item, idx) => {
            totalQuestions++;
            const qId = 'p8_' + idx;
            let html = `<div class="card">
                <div class="question-text">${idx + 1}. Select the correct question for:<br>
                <div style="background:#f1f2f6; padding:10px; border-radius:10px; margin-top:5px; font-weight:normal;">${item.context}</div></div>
                <div class="options-grid" style="grid-template-columns: 1fr;">`; // 1 column for long options
            
            item.options.forEach((opt, optIdx) => {
                html += renderOption(opt, optIdx, item.correct, item.explain, qId);
            });
            html += `</div>${renderExplanation(item.explain, qId)}</div>`;
            container.innerHTML += html;
        });
    }

    // Render Part IX & X (Reading/Cloze)
    function renderReadingPart(data, containerId, prefix) {
        const container = document.getElementById(containerId);
        data.forEach((item, idx) => {
            totalQuestions++;
            const qId = prefix + idx;
            let html = `<div class="card">
                <div class="question-text">Question ${idx + 1}: ${item.q}</div>
                <div class="options-grid">`;
            
            item.options.forEach((opt, optIdx) => {
                html += renderOption(opt, optIdx, item.correct, item.explain, qId);
            });
            html += `</div>${renderExplanation(item.explain, qId)}</div>`;
            container.innerHTML += html;
        });
    }

    // --- INITIALIZATION ---
    renderPart(quizData.phonetics, 'part1-container', 'p1_');
    renderPart(quizData.stress, 'part2-container', 'p2_');
    renderPart8();
    renderReadingPart(quizData.part9, 'part9-container', 'p9_');
    renderReadingPart(quizData.part10, 'part10-container', 'p10_');

    // --- INTERACTION LOGIC ---
    function checkAnswer(btn, isCorrect, qId) {
        // Disable all buttons in this question group
        const parent = btn.parentNode;
        const buttons = parent.querySelectorAll('.btn-option');
        buttons.forEach(b => b.disabled = true);

        const expBox = document.getElementById(`exp_${qId}`);
        expBox.style.display = 'block';

        if (isCorrect) {
            btn.classList.add('correct');
            playSound('correct');
            score++;
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#00C9A7', '#8854C0', '#FFD700']
            });
        } else {
            btn.classList.add('wrong');
            playSound('wrong');
            // Highlight the correct one
            // We need to know which one is correct. 
            // In a real app we might store the correct index in the dataset, but here we can infer from the `onclick` logic 
            // or just let the explanation show it.
            // Since we pass `isCorrect` directly, let's find the correct button to highlight it GREEN even if they chose wrong.
            // (Optional feature, but good for UX. For now, the explanation box reveals the answer).
        }
    }

    function showFinalScore() {
        const modal = document.getElementById('scoreModal');
        const scoreText = document.getElementById('finalScore');
        const feedback = document.getElementById('feedbackText');
        
        scoreText.innerText = `${score}/${totalQuestions}`;
        
        const percentage = (score / totalQuestions) * 100;
        if (percentage === 100) {
            feedback.innerText = "üåü XU·∫§T S·∫ÆC! B·∫°n l√† thi√™n t√†i ti·∫øng Anh! üåü";
            confetti({ particleCount: 200, spread: 100, origin: { y: 0.6 } });
        } else if (percentage >= 80) {
            feedback.innerText = "üéâ Tuy·ªát v·ªùi! B·∫°n n·∫Øm b√†i r·∫•t ch·∫Øc!";
        } else if (percentage >= 50) {
            feedback.innerText = "üòä Kh√° t·ªët! C·ªë g·∫Øng xem l·∫°i ph·∫ßn gi·∫£i th√≠ch nh√©!";
        } else {
            feedback.innerText = "üí™ C·ªë l√™n! H√£y ƒë·ªçc k·ªπ gi·∫£i th√≠ch ƒë·ªÉ l√†m l·∫°i t·ªët h∆°n!";
        }

        modal.style.display = 'flex';
        playSound('correct');
    }

    function closeModal() {
        document.getElementById('scoreModal').style.display = 'none';
    }

    // Close modal if clicked outside
    window.onclick = function(event) {
        const modal = document.getElementById('scoreModal');
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>

</body>
</html>