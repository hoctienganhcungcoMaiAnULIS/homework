<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNIT 8: SPORTS AND GAMES - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8854C0; /* H·ªìng t√≠m pastel */
            --secondary: #00C9A7; /* Xanh ng·ªçc */
            --correct: #00D26A; /* Xanh l√° */
            --wrong: #FF4757; /* ƒê·ªè cam */
            --bg-pattern: #f0f2f5;
            --text-main: #2f3542;
            --card-bg: #ffffff;
        }

        * {
            box-sizing: border-box;
            user-select: none; /* Ch·ªëng copy tr·ªôm ƒë·ªÉ h·ªçc sinh t·∫≠p trung */
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-pattern);
            background-image: radial-gradient(#d1d8e0 1px, transparent 1px);
            background-size: 20px 20px;
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            padding-bottom: 80px; /* Ch·ª´a ch·ªó cho footer */
        }

        .header {
            text-align: center;
            background: linear-gradient(135deg, var(--primary), #a29bfe);
            color: white;
            padding: 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 0 rgba(0,0,0,0.1);
        }

        .header h1 {
            margin: 0;
            font-family: 'Quicksand', sans-serif;
            font-size: 2rem;
            text-transform: uppercase;
        }

        .header h3 {
            margin: 5px 0 0;
            font-weight: 400;
            opacity: 0.9;
            font-size: 1rem;
        }

        /* Container */
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* Section Title */
        .section-title {
            background: var(--secondary);
            color: white;
            padding: 10px 20px;
            border-radius: 15px;
            margin: 30px 0 15px;
            display: inline-block;
            font-weight: 800;
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
        }

        /* Reading Passage Box */
        .reading-passage {
            background: #fff3cd;
            border: 2px dashed #ffc107;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            font-family: 'Quicksand', sans-serif;
            line-height: 1.6;
        }

        /* Glossary Table */
        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .glossary-table th {
            background: var(--primary);
            color: white;
            padding: 8px;
            text-align: left;
        }

        .glossary-table td {
            border-bottom: 1px solid #eee;
            padding: 8px;
            font-size: 0.9rem;
        }

        /* Question Card */
        .question-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            border: 2px solid transparent;
            transition: transform 0.2s;
        }

        .question-text {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .question-text u {
            text-decoration: underline;
            text-decoration-color: var(--primary);
            text-decoration-thickness: 3px;
        }

        /* Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Option Button */
        .option-btn {
            background: white;
            border: 2px solid #e1e1e1;
            border-radius: 15px;
            padding: 12px 15px;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-size: 1rem;
            text-align: left;
            transition: all 0.2s;
            position: relative;
            box-shadow: 0 4px 0 #e1e1e1;
            top: 0;
        }

        .option-btn:hover {
            transform: scale(1.02);
            border-color: var(--primary);
        }

        .option-btn:active {
            top: 4px;
            box-shadow: 0 0 0 #e1e1e1;
        }

        /* States */
        .option-btn.correct {
            background: var(--correct);
            color: white;
            border-color: #00b85c;
            box-shadow: 0 4px 0 #00b85c;
        }

        .option-btn.wrong {
            background: var(--wrong);
            color: white;
            border-color: #e03b4b;
            box-shadow: 0 4px 0 #e03b4b;
            animation: shake 0.5s;
        }

        .option-btn.disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        /* Explanation Box */
        .explanation {
            display: none; /* Hidden by default */
            margin-top: 20px;
            background: #f8f9fa;
            border-left: 5px solid var(--primary);
            padding: 15px;
            border-radius: 0 10px 10px 0;
            animation: slideDown 0.3s ease-out;
        }

        .explanation.show {
            display: block;
        }

        .expl-header {
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .expl-content p {
            margin: 5px 0;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .expl-label {
            font-weight: 700;
            color: #57606f;
        }

        /* Sticky Footer */
        .footer-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            padding: 15px;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
        }

        .submit-btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: 800;
            border-radius: 30px;
            box-shadow: 0 6px 0 #00a388;
            cursor: pointer;
            transition: transform 0.1s;
        }

        .submit-btn:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 #00a388;
        }

        /* Animations */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Custom Visuals for Q29, Q30 */
        .visual-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        /* Danger Sign */
        .sign-danger {
            width: 120px;
            height: 105px;
            background: yellow;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
            display: flex;
            justify-content: center;
            align-items: flex-end;
            position: relative;
            border: 2px solid black; /* Fake border via pseudo handled below */
        }
        .sign-danger-wrapper {
            width: 130px;
            height: 150px;
            background: white;
            border: 1px solid #ccc;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .sign-triangle {
            width: 0; 
            height: 0; 
            border-left: 50px solid transparent;
            border-right: 50px solid transparent;
            border-bottom: 86px solid black; /* Outer triangle */
            position: relative;
            display: flex;
            justify-content: center;
        }
        .sign-triangle::after {
            content: '';
            position: absolute;
            top: 6px;
            left: -40px;
            width: 0;
            height: 0;
            border-left: 40px solid transparent;
            border-right: 40px solid transparent;
            border-bottom: 70px solid #ffeb3b;
        }
        .bolt {
            position: absolute;
            top: 25px;
            font-size: 40px;
            color: black;
            font-weight: bold;
            z-index: 2;
        }
        .sign-text {
            background: yellow;
            font-weight: bold;
            font-size: 12px;
            padding: 2px 5px;
            margin-top: 5px;
            text-align: center;
            border: 1px solid black;
            width: 100%;
        }

        /* No Phone Sign */
        .sign-nophone {
            width: 100px;
            height: 120px;
            border: 3px solid #c0392b;
            border-radius: 5px;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .sign-nophone-header {
            background: #c0392b;
            color: white;
            width: 100%;
            font-size: 9px;
            text-align: center;
            padding: 3px;
            font-weight: bold;
        }
        .circle-ban {
            width: 60px;
            height: 60px;
            border: 6px solid #c0392b;
            border-radius: 50%;
            margin-top: 5px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .circle-ban::after {
            content: '';
            position: absolute;
            width: 6px;
            height: 58px;
            background: #c0392b;
            transform: rotate(-45deg);
        }
        .phone-icon {
            font-size: 30px;
            color: black;
        }

        /* Gap Fill Layout (Q37-40) */
        .gap-fill-layout {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .options-box {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #2196f3;
        }
        .option-item {
            margin-bottom: 5px;
            font-weight: 600;
        }

        /* Popup */
        .overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .popup {
            background: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            animation: bounceIn 0.5s;
        }
        @keyframes bounceIn {
            0% { transform: scale(0.3); opacity: 0; }
            50% { transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); opacity: 1; }
        }
        .score-display {
            font-size: 3rem;
            font-weight: 800;
            color: var(--primary);
            margin: 10px 0;
        }
    </style>
</head>
<body>

    <div class="header">
        <h1>Gi√°o Vi√™n: Ms Mai An ULIS</h1>
        <h3>UNIT 8 ‚Äì SPORTS AND GAMES (TEST 02)</h3>
    </div>

    <div class="quiz-container" id="quiz-content">
        </div>

    <div class="footer-bar">
        <div id="progress-text" style="font-weight: bold; color: var(--primary);">0/40 Ho√†n th√†nh</div>
        <button class="submit-btn" onclick="submitQuiz()">N·ªòP B√ÄI</button>
    </div>

    <div class="overlay" id="result-overlay">
        <div class="popup">
            <h2>K·∫øt Qu·∫£ C·ªßa Con</h2>
            <div class="score-display" id="final-score">0/40</div>
            <p id="teacher-comment">C·ªë g·∫Øng l√™n nh√©!</p>
            <button class="submit-btn" onclick="closePopup()">Xem l·∫°i b√†i</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script>
        // DATA
        const quizData = [
            // PHONETICS
            {
                id: 1,
                type: 'phonetics',
                question: "Choose the word whose underlined part differs in pronunciation:",
                options: [
                    { id: 'A', text: "h<u>a</u>te" },
                    { id: 'B', text: "<u>ai</u>r" },
                    { id: 'C', text: "ch<u>ai</u>r" },
                    { id: 'D', text: "h<u>ai</u>r" }
                ],
                correct: 'A',
                explanation: {
                    vi: "Ch·ªçn t·ª´ c√≥ ph·∫ßn g·∫°ch ch√¢n ph√°t √¢m kh√°c c√°c t·ª´ c√≤n l·∫°i.",
                    options: "A. hate /he…™t/ (v): Gh√©t<br>B. air /e…ô(r)/ (n): Kh√¥ng kh√≠<br>C. chair /t Ée…ô(r)/ (n): C√°i gh·∫ø<br>D. hair /he…ô(r)/ (n): T√≥c",
                    whyCorrect: "ƒê√°p √°n A ph√°t √¢m l√† /ei/. C√°c ƒë√°p √°n c√≤n l·∫°i ph√°t √¢m l√† /e…ô/.",
                    whyWrong: "B, C, D ƒë·ªÅu c√≥ √¢m /e…ô/."
                }
            },
            {
                id: 2,
                type: 'phonetics',
                question: "Choose the word whose underlined part differs in pronunciation:",
                options: [
                    { id: 'A', text: "prep<u>a</u>re" },
                    { id: 'B', text: "c<u>a</u>rry" },
                    { id: 'C', text: "sh<u>a</u>re" },
                    { id: 'D', text: "f<u>ai</u>r" }
                ],
                correct: 'B',
                explanation: {
                    vi: "Ch·ªçn t·ª´ c√≥ ph·∫ßn g·∫°ch ch√¢n ph√°t √¢m kh√°c c√°c t·ª´ c√≤n l·∫°i.",
                    options: "A. prepare /pr…™Ààpe…ô(r)/ (v): Chu·∫©n b·ªã<br>B. carry /Ààk√¶ri/ (v): Mang, v√°c<br>C. share / Ée…ô(r)/ (v): Chia s·∫ª<br>D. fair /fe…ô(r)/ (adj): C√¥ng b·∫±ng",
                    whyCorrect: "ƒê√°p √°n B ph√°t √¢m l√† /√¶/ (b·∫πt). C√°c ƒë√°p √°n c√≤n l·∫°i ph√°t √¢m l√† /e…ô/.",
                    whyWrong: "A, C, D ƒë·ªÅu c√≥ √¢m /e…ô/."
                }
            },
            // STRESS
            {
                id: 3,
                type: 'stress',
                question: "Choose the word with different primary stress:",
                options: [
                    { id: 'A', text: "jealous" },
                    { id: 'B', text: "result" },
                    { id: 'C', text: "measure" },
                    { id: 'D', text: "pleasure" }
                ],
                correct: 'B',
                explanation: {
                    vi: "Ch·ªçn t·ª´ c√≥ tr·ªçng √¢m ch√≠nh kh√°c v·ªõi c√°c t·ª´ c√≤n l·∫°i.",
                    options: "A. jealous /Ààd íel…ôs/ (adj): Ghen t·ªã (tr·ªçng √¢m 1)<br>B. result /r…™Ààz ålt/ (n): K·∫øt qu·∫£ (tr·ªçng √¢m 2)<br>C. measure /Ààme í…ô(r)/ (v): ƒêo l∆∞·ªùng (tr·ªçng √¢m 1)<br>D. pleasure /Ààple í…ô(r)/ (n): Ni·ªÅm vui (tr·ªçng √¢m 1)",
                    whyCorrect: "ƒê√°p √°n B tr·ªçng √¢m r∆°i v√†o √¢m ti·∫øt th·ª© 2. C√°c t·ª´ c√≤n l·∫°i r∆°i v√†o √¢m ti·∫øt th·ª© 1.",
                    whyWrong: "A, C, D tr·ªçng √¢m 1."
                }
            },
            {
                id: 4,
                type: 'stress',
                question: "Choose the word with different primary stress:",
                options: [
                    { id: 'A', text: "football" },
                    { id: 'B', text: "fixture" },
                    { id: 'C', text: "defeat" },
                    { id: 'D', text: "racetrack" }
                ],
                correct: 'C',
                explanation: {
                    vi: "Ch·ªçn t·ª´ c√≥ tr·ªçng √¢m ch√≠nh kh√°c v·ªõi c√°c t·ª´ c√≤n l·∫°i.",
                    options: "A. football /Ààf ätb…îÀêl/ (n): B√≥ng ƒë√° (tr·ªçng √¢m 1)<br>B. fixture /Ààf…™kst É…ô(r)/ (n): Cu·ªôc thi ƒë·∫•u (tr·ªçng √¢m 1)<br>C. defeat /d…™ÀàfiÀêt/ (v/n): ƒê√°nh b·∫°i (tr·ªçng √¢m 2)<br>D. racetrack /Ààre…™str√¶k/ (n): ƒê∆∞·ªùng ƒëua (tr·ªçng √¢m 1)",
                    whyCorrect: "ƒê√°p √°n C tr·ªçng √¢m r∆°i v√†o √¢m ti·∫øt th·ª© 2. C√°c t·ª´ c√≤n l·∫°i r∆°i v√†o √¢m ti·∫øt th·ª© 1.",
                    whyWrong: "A, B, D tr·ªçng √¢m 1."
                }
            },
            // MULTIPLE CHOICE (GRAMMAR/VOCAB)
            {
                id: 5,
                type: 'grammar',
                question: "Kien is not very ______. He never plays games.",
                options: [
                    { id: 'A', text: "Sport" },
                    { id: 'B', text: "sporting" },
                    { id: 'C', text: "sporty" },
                    { id: 'D', text: "badly" }
                ],
                correct: 'C',
                explanation: {
                    vi: "Ki√™n kh√¥ng ______ l·∫Øm. C·∫≠u ·∫•y kh√¥ng bao gi·ªù ch∆°i tr√≤ ch∆°i.",
                    options: "A. Sport (n): Th·ªÉ thao<br>B. Sporting (adj): Thu·ªôc th·ªÉ thao/th∆∞·ª£ng v√µ<br>C. Sporty (adj): D√°ng th·ªÉ thao, ƒëam m√™ th·ªÉ thao<br>D. Badly (adv): M·ªôt c√°ch t·ªìi t·ªá",
                    whyCorrect: "C·∫ßn m·ªôt t√≠nh t·ª´ ch·ªâ t√≠nh c√°ch/con ng∆∞·ªùi. 'Sporty' d√πng ƒë·ªÉ m√¥ t·∫£ ng∆∞·ªùi th√≠ch th·ªÉ thao.",
                    whyWrong: "A l√† danh t·ª´. B th∆∞·ªùng d√πng trong c·ª•m 'sporting event'. D l√† tr·∫°ng t·ª´ kh√¥ng h·ª£p nghƒ©a."
                }
            },
            {
                id: 6,
                type: 'grammar',
                question: "Thanh likes ________ weather because he can go swimming in the river.",
                options: [
                    { id: 'A', text: "Hot" },
                    { id: 'B', text: "cold" },
                    { id: 'C', text: "rainy" },
                    { id: 'D', text: "raining" }
                ],
                correct: 'A',
                explanation: {
                    vi: "Th√†nh th√≠ch th·ªùi ti·∫øt ______ v√¨ c·∫≠u ·∫•y c√≥ th·ªÉ ƒëi b∆°i ·ªü s√¥ng.",
                    options: "A. Hot (adj): N√≥ng<br>B. Cold (adj): L·∫°nh<br>C. Rainy (adj): C√≥ m∆∞a<br>D. Raining (v): ƒêang m∆∞a",
                    whyCorrect: "Theo ng·ªØ c·∫£nh, ƒëi b∆°i (go swimming) th√¨ th·ªùi ti·∫øt ph·∫£i n√≥ng (Hot).",
                    whyWrong: "L·∫°nh ho·∫∑c m∆∞a th√¨ kh√¥ng ƒëi b∆°i s√¥ng ƒë∆∞·ª£c."
                }
            },
            {
                id: 7,
                type: 'grammar',
                question: "Vietnamese students play different sports and games _______ break time.",
                options: [
                    { id: 'A', text: "In" },
                    { id: 'B', text: "on" },
                    { id: 'C', text: "during" },
                    { id: 'D', text: "while" }
                ],
                correct: 'C',
                explanation: {
                    vi: "H·ªçc sinh Vi·ªát Nam ch∆°i nhi·ªÅu m√¥n th·ªÉ thao v√† tr√≤ ch∆°i ______ gi·ªù ra ch∆°i.",
                    options: "A. In: Trong (kh√¥ng gian/th√°ng/nƒÉm)<br>B. On: Tr√™n (ng√†y/b·ªÅ m·∫∑t)<br>C. During: Trong su·ªët (kho·∫£ng th·ªùi gian)<br>D. While: Trong khi (c·ªông m·ªánh ƒë·ªÅ)",
                    whyCorrect: "C·ª•m 'during break time' (trong gi·ªù ra ch∆°i). Ngo√†i ra 'at break time' c≈©ng ƒë√∫ng nh∆∞ng kh√¥ng c√≥ trong ƒë√°p √°n.",
                    whyWrong: "'While' c·∫ßn ƒëi v·ªõi m·ªánh ƒë·ªÅ (S + V). 'In/On' kh√¥ng ƒëi v·ªõi break time theo c√°ch d√πng n√†y."
                }
            },
            {
                id: 8,
                type: 'grammar',
                question: "Many girls and women _______ aerobics to keep fit.",
                options: [
                    { id: 'A', text: "Play" },
                    { id: 'B', text: "go" },
                    { id: 'C', text: "do" },
                    { id: 'D', text: "have" }
                ],
                correct: 'C',
                explanation: {
                    vi: "Nhi·ªÅu c√¥ g√°i v√† ph·ª• n·ªØ ______ th·ªÉ d·ª•c nh·ªãp ƒëi·ªáu ƒë·ªÉ gi·ªØ d√°ng.",
                    options: "A. Play: Ch∆°i (m√¥n ƒë·ªìng ƒë·ªôi/d√πng b√≥ng)<br>B. Go: ƒêi (m√¥n c√≥ -ing)<br>C. Do: L√†m/t·∫≠p (m√¥n c√° nh√¢n/t·∫°i ch·ªó)<br>D. Have: C√≥",
                    whyCorrect: "Collocation: 'Do aerobics' (T·∫≠p th·ªÉ d·ª•c nh·ªãp ƒëi·ªáu).",
                    whyWrong: "Play football, Go swimming... kh√¥ng d√πng v·ªõi aerobics."
                }
            },
            {
                id: 9,
                type: 'grammar',
                question: "Mathew _______ the answer to this question.",
                options: [
                    { id: 'A', text: "Didn‚Äôt knew" },
                    { id: 'B', text: "did knew" },
                    { id: 'C', text: "didn‚Äôt knowed" },
                    { id: 'D', text: "didn‚Äôt know" }
                ],
                correct: 'D',
                explanation: {
                    vi: "Mathew ______ c√¢u tr·∫£ l·ªùi cho c√¢u h·ªèi n√†y.",
                    options: "C√°c ƒë√°p √°n chia th√¨ Qu√° kh·ª© ƒë∆°n.",
                    whyCorrect: "C·∫•u tr√∫c ph·ªß ƒë·ªãnh Qu√° kh·ª© ƒë∆°n: S + didn't + V_nguy√™n_th·ªÉ. -> 'didn't know'.",
                    whyWrong: "A sai v√¨ 'knew' (V2). B sai ng·ªØ ph√°p. C sai v√¨ 'knowed' kh√¥ng t·ªìn t·∫°i (know l√† b·∫•t quy t·∫Øc)."
                }
            },
            {
                id: 10,
                type: 'grammar',
                question: "Yesterday, my mom ________ some eggs to make cakes.",
                options: [
                    { id: 'A', text: "Buyed" },
                    { id: 'B', text: "buy" },
                    { id: 'C', text: "buied" },
                    { id: 'D', text: "bought" }
                ],
                correct: 'D',
                explanation: {
                    vi: "H√¥m qua, m·∫π t√¥i ______ v√†i qu·∫£ tr·ª©ng ƒë·ªÉ l√†m b√°nh.",
                    options: "ƒê·ªông t·ª´ 'Buy' (mua).",
                    whyCorrect: "D·∫•u hi·ªáu 'Yesterday' -> Qu√° kh·ª© ƒë∆°n. 'Buy' l√† ƒë·ªông t·ª´ b·∫•t quy t·∫Øc -> V2 l√† 'bought'.",
                    whyWrong: "Buyed/Buied l√† chia sai quy t·∫Øc."
                }
            },
            {
                id: 11,
                type: 'grammar',
                question: "There _____ any onions in the packet when I _______ home.",
                options: [
                    { id: 'A', text: "Was/ come" },
                    { id: 'B', text: "were/ come" },
                    { id: 'C', text: "was/ came" },
                    { id: 'D', text: "weren‚Äôt/ came" }
                ],
                correct: 'D',
                explanation: {
                    vi: "Kh√¥ng c√≥ c·ªß h√†nh t√¢y n√†o trong g√≥i khi t√¥i v·ªÅ nh√†.",
                    options: "S·ª± h√≤a h·ª£p ch·ªß ng·ªØ - ƒë·ªông t·ª´ v√† Th√¨ qu√° kh·ª©.",
                    whyCorrect: "'Onions' l√† danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c s·ªë nhi·ªÅu -> d√πng 'Were/Weren't'. C√≥ 'any' th∆∞·ªùng d√πng trong c√¢u ph·ªß ƒë·ªãnh -> 'Weren't'. M·ªánh ƒë·ªÅ sau chia qu√° kh·ª© ƒë∆°n 'came'.",
                    whyWrong: "A, C d√πng Was (sai s·ªë √≠t/nhi·ªÅu). B sai th√¨ (come)."
                }
            },
            {
                id: 12,
                type: 'grammar',
                question: "______ up or you‚Äôll miss the show!",
                options: [
                    { id: 'A', text: "Step" },
                    { id: 'B', text: "Hurry" },
                    { id: 'C', text: "Jump" },
                    { id: 'D', text: "Listen" }
                ],
                correct: 'B',
                explanation: {
                    vi: "______ l√™n ho·∫∑c b·∫°n s·∫Ω l·ª° bu·ªïi bi·ªÉu di·ªÖn!",
                    options: "A. Step: B∆∞·ªõc<br>B. Hurry: Nhanh l√™n<br>C. Jump: Nh·∫£y<br>D. Listen: Nghe",
                    whyCorrect: "C·ª•m 'Hurry up' (Nhanh l√™n n√†o). Ng·ªØ c·∫£nh h·ªëi th√∫c ƒë·ªÉ kh√¥ng b·ªã tr·ªÖ.",
                    whyWrong: "Step up (b∆∞·ªõc l√™n), Jump up (nh·∫£y l√™n) kh√¥ng h·ª£p ng·ªØ c·∫£nh tr·ªÖ gi·ªù."
                }
            },
            // READING 1 (CLOZE)
            {
                id: 'passage1',
                type: 'reading-start',
                title: "NEW FITNESS PROGRAM",
                content: "Are you ready to achieve your dream body? We are thrilled to announce that our FIT & STRONG course (13) ______ officially launched at 7 AM next Monday. This program is designed for everyone (14) ____ wants to stay active (15) ______ improve their overall health. The benefits are truly (16) ______. Don't miss out‚Äîsign up today!",
                glossary: [
                    {word: "Achieve", type: "v", mean: "ƒê·∫°t ƒë∆∞·ª£c"},
                    {word: "Thrilled", type: "adj", mean: "H√†o h·ª©ng, vui s∆∞·ªõng"},
                    {word: "Announce", type: "v", mean: "Th√¥ng b√°o"},
                    {word: "Launch", type: "v", mean: "Ra m·∫Øt, khai tr∆∞∆°ng"},
                    {word: "Overall", type: "adj", mean: "To√†n di·ªán, t·ªïng th·ªÉ"}
                ]
            },
            {
                id: 13,
                type: 'reading-q',
                question: "Question 13:",
                options: [
                    { id: 'A', text: "is" },
                    { id: 'B', text: "are" },
                    { id: 'C', text: "am" },
                    { id: 'D', text: "be" }
                ],
                correct: 'A',
                explanation: {
                    vi: "...kh√≥a h·ªçc FIT & STRONG c·ªßa ch√∫ng t√¥i ƒê∆Ø·ª¢C ch√≠nh th·ª©c ra m·∫Øt...",
                    options: "A. is<br>B. are<br>C. am<br>D. be",
                    whyCorrect: "Ch·ªß ng·ªØ 'our FIT & STRONG course' l√† s·ªë √≠t -> d√πng 'is'. ƒê√¢y l√† c√¢u b·ªã ƒë·ªông (is launched).",
                    whyWrong: "'Are' d√πng cho s·ªë nhi·ªÅu. 'Am' d√πng cho I."
                }
            },
            {
                id: 14,
                type: 'reading-q',
                question: "Question 14:",
                options: [
                    { id: 'A', text: "which" },
                    { id: 'B', text: "what" },
                    { id: 'C', text: "who" },
                    { id: 'D', text: "what" }
                ],
                correct: 'C',
                explanation: {
                    vi: "...thi·∫øt k·∫ø cho m·ªçi ng∆∞·ªùi, NH·ªÆNG NG∆Ø·ªúI M√Ä mu·ªën duy tr√¨ s·ª± nƒÉng ƒë·ªông...",
                    options: "A. which (v·∫≠t)<br>B. what (c√°i g√¨)<br>C. who (ng∆∞·ªùi)<br>D. what",
                    whyCorrect: "ƒê·∫°i t·ª´ quan h·ªá thay th·∫ø cho 'everyone' (ng∆∞·ªùi) l√† 'who'.",
                    whyWrong: "Which d√πng cho v·∫≠t."
                }
            },
            {
                id: 15,
                type: 'reading-q',
                question: "Question 15:",
                options: [
                    { id: 'A', text: "so" },
                    { id: 'B', text: "but" },
                    { id: 'C', text: "and" },
                    { id: 'D', text: "or" }
                ],
                correct: 'C',
                explanation: {
                    vi: "...mu·ªën duy tr√¨ s·ª± nƒÉng ƒë·ªông V√Ä c·∫£i thi·ªán s·ª©c kh·ªèe...",
                    options: "A. so (v√¨ v·∫≠y)<br>B. but (nh∆∞ng)<br>C. and (v√†)<br>D. or (ho·∫∑c)",
                    whyCorrect: "N·ªëi hai m·ª•c ƒë√≠ch t∆∞∆°ng ƒë·ªìng (stay active AND improve health).",
                    whyWrong: "C√°c li√™n t·ª´ kh√°c kh√¥ng h·ª£p nghƒ©a."
                }
            },
            {
                id: 16,
                type: 'reading-q',
                question: "Question 16:",
                options: [
                    { id: 'A', text: "appealing" },
                    { id: 'B', text: "bored" },
                    { id: 'C', text: "tiring" },
                    { id: 'D', text: "disappointed" }
                ],
                correct: 'A',
                explanation: {
                    vi: "Nh·ªØng l·ª£i √≠ch th·ª±c s·ª± H·∫§P D·∫™N.",
                    options: "A. appealing (adj): H·∫•p d·∫´n, l√¥i cu·ªën<br>B. bored (adj): Ch√°n n·∫£n (c·∫£m x√∫c ng∆∞·ªùi)<br>C. tiring (adj): M·ªát m·ªèi<br>D. disappointed (adj): Th·∫•t v·ªçng",
                    whyCorrect: "Qu·∫£ng c√°o ch∆∞∆°ng tr√¨nh t·∫≠p gym th√¨ l·ª£i √≠ch ph·∫£i 'h·∫•p d·∫´n' (appealing).",
                    whyWrong: "B, D l√† t√≠nh t·ª´ ch·ªâ c·∫£m x√∫c ti√™u c·ª±c. C nghƒ©a ti√™u c·ª±c."
                }
            },
            // ORDERING
            {
                id: 17,
                type: 'ordering',
                question: "Arrange the sentences to make a meaningful paragraph:",
                subtext: "a. Regular exercise can also reduce the risk of chronic diseases.<br>b. Moreover, sports contribute to mental well-being.<br>c. Playing sports is beneficial for everyone.<br>d. Firstly, sports promote a healthy lifestyle by improving health, muscles and bones.",
                options: [
                    { id: 'A', text: "c-a-b-d" },
                    { id: 'B', text: "c-d-a-b" },
                    { id: 'C', text: "c-a-d-b" },
                    { id: 'D', text: "c-d-b-a" }
                ],
                correct: 'B',
                explanation: {
                    vi: "S·∫Øp x·∫øp ƒëo·∫°n vƒÉn logic.",
                    options: "Ph√¢n t√≠ch:<br>1. C√¢u (c) l√† c√¢u ch·ªß ƒë·ªÅ (Ch∆°i th·ªÉ thao c√≥ l·ª£i).<br>2. C√¢u (d) b·∫Øt ƒë·∫ßu b·∫±ng 'Firstly' (ƒê·∫ßu ti√™n...).<br>3. C√¢u (a) c√≥ 'also' (c≈©ng... -> b·ªï sung √Ω 1).<br>4. C√¢u (b) c√≥ 'Moreover' (H∆°n n·ªØa... -> √Ω cu·ªëi).",
                    whyCorrect: "Tr·∫≠t t·ª±: c -> d -> a -> b.",
                    whyWrong: "C√°c tr·∫≠t t·ª± kh√°c sai t·ª´ n·ªëi logic."
                }
            },
            {
                id: 18,
                type: 'logic',
                question: "Choose the sentence that can end the text (in Question 17) most suitably.",
                options: [
                    { id: 'A', text: "To sump up, everyone should play sports as much as possible." },
                    { id: 'B', text: "Therefore, people should spend at least 4 hour playing sports." },
                    { id: 'C', text: "Finally, healthy lifestyle is very important." },
                    { id: 'D', text: "Therefore, people should practise sports based on their health." }
                ],
                correct: 'D',
                explanation: {
                    vi: "Ch·ªçn c√¢u k·∫øt lu·∫≠n ph√π h·ª£p nh·∫•t.",
                    options: "A. T√≥m l·∫°i, m·ªçi ng∆∞·ªùi n√™n ch∆°i th·ªÉ thao c√†ng nhi·ªÅu c√†ng t·ªët (Sai: ch∆°i qu√° nhi·ªÅu c√≥ th·ªÉ h·∫°i).<br>B. N√™n ch∆°i √≠t nh·∫•t 4 ti·∫øng (Sai: qu√° c·ª• th·ªÉ v√† kh√¥ng th·ª±c t·∫ø).<br>C. Cu·ªëi c√πng, l·ªëi s·ªëng l√†nh m·∫°nh r·∫•t quan tr·ªçng (H∆°i chung chung).<br>D. Do ƒë√≥, m·ªçi ng∆∞·ªùi n√™n t·∫≠p th·ªÉ thao d·ª±a tr√™n s·ª©c kh·ªèe c·ªßa m√¨nh (H·ª£p l√Ω, khuy√™n rƒÉn).",
                    whyCorrect: "C√¢u D ƒë∆∞a ra l·ªùi khuy√™n th·ª±c t·∫ø v√† an to√†n nh·∫•t l√†m k·∫øt b√†i.",
                    whyWrong: "A v√† B ƒë∆∞a ra l·ªùi khuy√™n c·ª±c ƒëoan."
                }
            },
            // READING 2 (CLOZE - LETTER)
            {
                id: 'passage2',
                type: 'reading-start',
                title: "LETTER TO JOHN",
                content: "Dear John,<br>Come and see me (19) ____ next weekend. I‚Äôm staying in a house by the sea. Don‚Äôt (20) ____ to bring your swimming costume with you! It isn‚Äôt difficult to find a house. When you get to the crossroads in the town, (21) _____ right and drive to the end of the road. Be careful (22) ______ it is a dangerous road! Bring some warm clothes with you because it is (23) _____ in the evenings here. If I am not (24) ___ home when you arrive, don‚Äôt wait for me. The key of the house is under the big white stone in the garden.<br><br>Best wishes,<br>Vinh.",
                glossary: [
                    {word: "Crossroads", type: "n", mean: "Ng√£ t∆∞"},
                    {word: "Costume", type: "n", mean: "Trang ph·ª•c (Swimming costume: ƒê·ªì b∆°i)"},
                    {word: "Dangerous", type: "adj", mean: "Nguy hi·ªÉm"}
                ]
            },
            {
                id: 19,
                type: 'reading-q',
                question: "Question 19:",
                options: [
                    { id: 'A', text: "next" },
                    { id: 'B', text: "last" },
                    { id: 'C', text: "every" },
                    { id: 'D', text: "in" }
                ],
                correct: 'A',
                explanation: {
                    vi: "H√£y ƒë·∫øn thƒÉm m√¨nh v√†o cu·ªëi tu·∫ßn T·ªöI.",
                    options: "A. next (t·ªõi)<br>B. last (tr∆∞·ªõc)<br>C. every (m·ªói)<br>D. in (trong)",
                    whyCorrect: "L·ªùi m·ªùi cho t∆∞∆°ng lai -> 'next weekend'.",
                    whyWrong: "'Last' l√† qu√° kh·ª©. 'In' kh√¥ng ƒëi tr·ª±c ti·∫øp v·ªõi weekend m√† kh√¥ng c√≥ m·∫°o t·ª´ (in the weekend)."
                }
            },
            {
                id: 20,
                type: 'reading-q',
                question: "Question 20:",
                options: [
                    { id: 'A', text: "forget" },
                    { id: 'B', text: "forgot" },
                    { id: 'C', text: "forgets" },
                    { id: 'D', text: "forgeting" }
                ],
                correct: 'A',
                explanation: {
                    vi: "ƒê·ª´ng QU√äN mang ƒë·ªì b∆°i nh√©!",
                    options: "A. forget (V-inf)<br>B. forgot (V2)<br>C. forgets (Vs)<br>D. forgeting (V-ing sai ch√≠nh t·∫£)",
                    whyCorrect: "Sau tr·ª£ ƒë·ªông t·ª´ 'Don't' l√† ƒë·ªông t·ª´ nguy√™n th·ªÉ -> 'forget'.",
                    whyWrong: "B, C, D sai d·∫°ng ƒë·ªông t·ª´."
                }
            },
            {
                id: 21,
                type: 'reading-q',
                question: "Question 21:",
                options: [
                    { id: 'A', text: "turned" },
                    { id: 'B', text: "make" },
                    { id: 'C', text: "turn" },
                    { id: 'D', text: "turning" }
                ],
                correct: 'C',
                explanation: {
                    vi: "...h√£y R·∫º ph·∫£i...",
                    options: "A. turned<br>B. make<br>C. turn<br>D. turning",
                    whyCorrect: "C√¢u m·ªánh l·ªánh (Ch·ªâ ƒë∆∞·ªùng) d√πng ƒë·ªông t·ª´ nguy√™n th·ªÉ ƒë·ª©ng ƒë·∫ßu ho·∫∑c sau m·ªánh ƒë·ªÅ ch·ªâ th·ªùi gian -> 'turn right'.",
                    whyWrong: "Sai ng·ªØ ph√°p c√¢u m·ªánh l·ªánh."
                }
            },
            {
                id: 22,
                type: 'reading-q',
                question: "Question 22:",
                options: [
                    { id: 'A', text: "so" },
                    { id: 'B', text: "but" },
                    { id: 'C', text: "or" },
                    { id: 'D', text: "because" }
                ],
                correct: 'D',
                explanation: {
                    vi: "H√£y c·∫©n th·∫≠n V√å ƒë√≥ l√† con ƒë∆∞·ªùng nguy hi·ªÉm!",
                    options: "A. so (n√™n)<br>B. but (nh∆∞ng)<br>C. or (ho·∫∑c)<br>D. because (b·ªüi v√¨)",
                    whyCorrect: "M·ªánh ƒë·ªÅ sau gi·∫£i th√≠ch l√Ω do cho m·ªánh ƒë·ªÅ tr∆∞·ªõc -> d√πng 'because'.",
                    whyWrong: "C√°c t·ª´ n·ªëi kh√°c kh√¥ng h·ª£p nghƒ©a."
                }
            },
            {
                id: 23,
                type: 'reading-q',
                question: "Question 23:",
                options: [
                    { id: 'A', text: "cool" },
                    { id: 'B', text: "warm" },
                    { id: 'C', text: "cold" },
                    { id: 'D', text: "wet" }
                ],
                correct: 'A',
                explanation: {
                    vi: "Mang qu·∫ßn √°o ·∫•m v√¨ tr·ªùi M√ÅT/L·∫†NH v√†o bu·ªïi t·ªëi.",
                    options: "A. cool (m√°t m·∫ª/se l·∫°nh)<br>B. warm (·∫•m)<br>C. cold (l·∫°nh)<br>D. wet (·∫©m ∆∞·ªõt)",
                    whyCorrect: "Th·ª±c ra c·∫£ 'cool' v√† 'cold' ƒë·ªÅu h·ª£p l√Ω khi b·∫£o mang √°o ·∫•m. Tuy nhi√™n ·ªü v√πng bi·ªÉn bu·ªïi t·ªëi th∆∞·ªùng d√πng 'cool' (se l·∫°nh). N·∫øu ch·ªçn C (Cold) c≈©ng ch·∫•p nh·∫≠n ƒë∆∞·ª£c, nh∆∞ng ƒë·ªÅ th∆∞·ªùng h∆∞·ªõng v·ªÅ A trong ng·ªØ c·∫£nh du l·ªãch bi·ªÉn m√πa h√®.",
                    whyWrong: "Warm th√¨ kh√¥ng c·∫ßn mang 'warm clothes'. Wet kh√¥ng li√™n quan √°o ·∫•m."
                }
            },
            {
                id: 24,
                type: 'reading-q',
                question: "Question 24:",
                options: [
                    { id: 'A', text: "in" },
                    { id: 'B', text: "on" },
                    { id: 'C', text: "at" },
                    { id: 'D', text: "be" }
                ],
                correct: 'C',
                explanation: {
                    vi: "N·∫øu m√¨nh kh√¥ng C√ì ·ªû NH√Ä...",
                    options: "A. in<br>B. on<br>C. at<br>D. be",
                    whyCorrect: "C·ª•m t·ª´ c·ªë ƒë·ªãnh: 'at home' (·ªü nh√†).",
                    whyWrong: "In home/On home l√† sai."
                }
            },
            // CLOSEST MEANING
            {
                id: 25,
                type: 'rewrite',
                question: "My brother finds it interesting to play football with his friends.",
                options: [
                    { id: 'A', text: "My brother is interested in playing football with his friends." },
                    { id: 'B', text: "My brother is interested on playing football with his friends." },
                    { id: 'C', text: "My brother is interested at playing football with his friends." },
                    { id: 'D', text: "My brother is interested of playing football with his friends." }
                ],
                correct: 'A',
                explanation: {
                    vi: "Anh trai t√¥i th·∫•y ch∆°i b√≥ng ƒë√° v·ªõi b·∫°n th√∫ v·ªã.",
                    options: "C·∫•u tr√∫c: S + be + interested + IN + V-ing.",
                    whyCorrect: "Gi·ªõi t·ª´ ƒëi v·ªõi 'interested' l√† 'IN'.",
                    whyWrong: "B (on), C (at), D (of) sai gi·ªõi t·ª´."
                }
            },
            {
                id: 26,
                type: 'rewrite',
                question: "Lan runs more slowly than Minh does.",
                options: [
                    { id: 'A', text: "Lan doesn‚Äôt run more slowly than Minh does." },
                    { id: 'B', text: "Lan doesn‚Äôt run so fast as Minh does." },
                    { id: 'C', text: "Lan doesn‚Äôt run so fastly as Minh does." },
                    { id: 'D', text: "Lan doesn‚Äôt run more fast than Minh does." }
                ],
                correct: 'B',
                explanation: {
                    vi: "Lan ch·∫°y ch·∫≠m h∆°n Minh.",
                    options: "-> Minh ch·∫°y nhanh h∆°n Lan = Lan ch·∫°y KH√îNG NHANH B·∫∞NG Minh.",
                    whyCorrect: "C·∫•u tr√∫c so s√°nh b·∫±ng (ph·ªß ƒë·ªãnh): S + V + not + so/as + Adv + as + N. Tr·∫°ng t·ª´ c·ªßa 'run' l√† 'fast' (b·∫•t quy t·∫Øc, kh√¥ng c√≥ fastly).",
                    whyWrong: "C sai v√¨ 'fastly'. A sai nghƒ©a. D sai ng·ªØ ph√°p (more fast -> faster)."
                }
            },
            // SENTENCE BUILDING
            {
                id: 27,
                type: 'rewrite',
                question: "She/ do/ aerobics/ now.",
                options: [
                    { id: 'A', text: "She is do aerobics now." },
                    { id: 'B', text: "She is doing aerobics now." },
                    { id: 'C', text: "She does aerobics now." },
                    { id: 'D', text: "She do aerobics now." }
                ],
                correct: 'B',
                explanation: {
                    vi: "C√¥ ·∫•y ƒëang t·∫≠p aerobics.",
                    options: "D·∫•u hi·ªáu 'now' -> Hi·ªán t·∫°i ti·∫øp di·ªÖn.",
                    whyCorrect: "C·∫•u tr√∫c HTTD: S + am/is/are + V-ing. -> 'She is doing'.",
                    whyWrong: "A thi·∫øu -ing. C chia hi·ªán t·∫°i ƒë∆°n. D sai ng·ªØ ph√°p."
                }
            },
            {
                id: 28,
                type: 'rewrite',
                question: "Nga/ go to see/ dentist/ last week.",
                options: [
                    { id: 'A', text: "Nga goes to see the dentist last week." },
                    { id: 'B', text: "Nga went to see dentist last week." },
                    { id: 'C', text: "Nga go to see dentist last week." },
                    { id: 'D', text: "Nga is going to see dentist last week." }
                ],
                correct: 'B',
                explanation: {
                    vi: "Nga ƒë√£ ƒëi g·∫∑p nha sƒ© tu·∫ßn tr∆∞·ªõc.",
                    options: "D·∫•u hi·ªáu 'last week' -> Qu√° kh·ª© ƒë∆°n.",
                    whyCorrect: "Go -> Went. L∆∞u √Ω: 'see THE dentist' chu·∫©n h∆°n nh∆∞ng ƒë√°p √°n B ch·∫•p nh·∫≠n ƒë∆∞·ª£c trong ng·ªØ c·∫£nh n√†y (ƒë√¥i khi m·∫°o t·ª´ b·ªã l∆∞·ª£c trong ƒë·ªÅ thi d·∫°ng cues).",
                    whyWrong: "A (goes), C (go), D (is going) sai th√¨."
                }
            },
            // SIGNS (VISUALS)
            {
                id: 29,
                type: 'visual',
                question: "The sign means",
                visualClass: "sign-danger",
                visualContent: `
                    <div class="sign-danger-wrapper">
                         <div class="sign-triangle">
                             <div class="bolt">‚ö°</div>
                         </div>
                         <div class="sign-text">Danger<br>240 Volts</div>
                    </div>
                `,
                options: [
                    { id: 'A', text: "Dangerous" },
                    { id: 'B', text: "Safe" },
                    { id: 'C', text: "Careful" },
                    { id: 'D', text: "Careless" }
                ],
                correct: 'A',
                explanation: {
                    vi: "Bi·ªÉn b√°o n√†y c√≥ nghƒ©a l√† g√¨?",
                    options: "A. Nguy hi·ªÉm<br>B. An to√†n<br>C. C·∫©n th·∫≠n<br>D. B·∫•t c·∫©n",
                    whyCorrect: "Bi·ªÉn b√°o c√≥ ch·ªØ 'Danger' (Nguy hi·ªÉm) v√† h√¨nh tia s√©t (ƒëi·ªán cao th·∫ø).",
                    whyWrong: "Ng∆∞·ª£c nghƒ©a ho√†n to√†n."
                }
            },
            {
                id: 30,
                type: 'visual',
                question: "What does this sign mean?",
                visualClass: "sign-nophone",
                visualContent: `
                    <div class="sign-nophone">
                        <div class="sign-nophone-header">NO CELL PHONE USE</div>
                        <div class="circle-ban">
                            <span class="phone-icon">üì±</span>
                        </div>
                    </div>
                `,
                options: [
                    { id: 'A', text: "You can make noise here." },
                    { id: 'B', text: "You can‚Äôt use the phone here." },
                    { id: 'C', text: "This area is for calling." },
                    { id: 'D', text: "You can use a desk phone here." }
                ],
                correct: 'B',
                explanation: {
                    vi: "Bi·ªÉn b√°o n√†y c√≥ nghƒ©a l√† g√¨?",
                    options: "A. B·∫°n c√≥ th·ªÉ l√†m ·ªìn.<br>B. B·∫°n kh√¥ng th·ªÉ d√πng ƒëi·ªán tho·∫°i ·ªü ƒë√¢y.<br>C. Khu v·ª±c n√†y ƒë·ªÉ g·ªçi ƒëi·ªán.<br>D. B·∫°n c√≥ th·ªÉ d√πng ƒëi·ªán tho·∫°i b√†n.",
                    whyCorrect: "Bi·ªÉn b√°o c·∫•m (v√≤ng tr√≤n ƒë·ªè g·∫°ch ch√©o) c√≥ h√¨nh ƒëi·ªán tho·∫°i -> C·∫•m d√πng ƒëi·ªán tho·∫°i.",
                    whyWrong: "C√°c ƒë√°p √°n kh√°c sai √Ω nghƒ©a c·∫•m."
                }
            },
            // READING 3 (COMPREHENSION)
            {
                id: 'passage3',
                type: 'reading-start',
                title: "SPORTS AND GAMES",
                content: "Sports and games play an important role in our life. Doing sports regularly helps our bodies be strong and healthy. Chess is an example of an indoor game. There are a lot of outdoor sports such as football, baseball, volleyball, etc. Some people think playing sports is funnier than watching them on TV. Every year, there are some sports competitions all over the world. People play them to win medals for their countries. Last night, there was a small marathon race in New York.",
                glossary: [
                    {word: "Regularly", type: "adv", mean: "Th∆∞·ªùng xuy√™n"},
                    {word: "Competition", type: "n", mean: "Cu·ªôc thi ƒë·∫•u"},
                    {word: "Medal", type: "n", mean: "Huy ch∆∞∆°ng"},
                    {word: "Marathon", type: "n", mean: "Cu·ªôc ch·∫°y ƒëua ƒë∆∞·ªùng d√†i"}
                ]
            },
            {
                id: 31,
                type: 'reading-q',
                question: "Question 31: What is the main idea of the passage?",
                options: [
                    { id: 'A', text: "The benefits of watching sports on TV" },
                    { id: 'B', text: "The role of sports and games in life." },
                    { id: 'C', text: "The history of sports" },
                    { id: 'D', text: "How to play chess" }
                ],
                correct: 'B',
                explanation: {
                    vi: "√ù ch√≠nh c·ªßa ƒëo·∫°n vƒÉn l√† g√¨?",
                    options: "A. L·ª£i √≠ch xem TV<br>B. Vai tr√≤ c·ªßa th·ªÉ thao trong cu·ªôc s·ªëng<br>C. L·ªãch s·ª≠ th·ªÉ thao<br>D. C√°ch ch∆°i c·ªù",
                    whyCorrect: "C√¢u ƒë·∫ßu ti√™n: 'Sports and games play an important role in our life.' (Th·ªÉ thao ƒë√≥ng vai tr√≤ quan tr·ªçng...).",
                    whyWrong: "C√°c √Ω kh√°c qu√° h·∫πp ho·∫∑c kh√¥ng ƒë∆∞·ª£c nh·∫Øc ƒë·∫øn."
                }
            },
            {
                id: 32,
                type: 'reading-q',
                question: "Question 32: Which word has the CLOSEST meaning to ‚Äúcompetitions‚Äù?",
                options: [
                    { id: 'A', text: "Matches" },
                    { id: 'B', text: "Medals" },
                    { id: 'C', text: "Activities" },
                    { id: 'D', text: "Races" }
                ],
                correct: 'A',
                explanation: {
                    vi: "T·ª´ n√†o g·∫ßn nghƒ©a nh·∫•t v·ªõi 'competitions' (cu·ªôc thi ƒë·∫•u)?",
                    options: "A. Matches (Tr·∫≠n ƒë·∫•u)<br>B. Medals (Huy ch∆∞∆°ng)<br>C. Activities (Ho·∫°t ƒë·ªông)<br>D. Races (Cu·ªôc ƒëua)",
                    whyCorrect: "Trong ng·ªØ c·∫£nh th·ªÉ thao, Matches g·∫ßn nghƒ©a v·ªõi Competitions nh·∫•t (c√°c cu·ªôc tranh t√†i).",
                    whyWrong: "Medals l√† ph·∫ßn th∆∞·ªüng. Races ch·ªâ l√† m·ªôt lo·∫°i h√¨nh thi ƒë·∫•u."
                }
            },
            {
                id: 33,
                type: 'reading-q',
                question: "Question 33: Which word is the OPPOSITE of ‚Äústrong‚Äù?",
                options: [
                    { id: 'A', text: "Healthy" },
                    { id: 'B', text: "Fit" },
                    { id: 'C', text: "Weak" },
                    { id: 'D', text: "Active" }
                ],
                correct: 'C',
                explanation: {
                    vi: "T·ª´ n√†o tr√°i nghƒ©a v·ªõi 'strong' (m·∫°nh)?",
                    options: "A. Kh·ªèe<br>B. V·ª´a v·∫∑n/Kh·ªèe<br>C. Y·∫øu<br>D. NƒÉng ƒë·ªông",
                    whyCorrect: "Strong >< Weak.",
                    whyWrong: "Healthy, Fit, Active l√† t·ª´ ƒë·ªìng nghƒ©a ho·∫∑c t√≠ch c·ª±c."
                }
            },
            {
                id: 34,
                type: 'reading-q',
                question: "Question 34: Which idea is NOT TRUE according to the passage?",
                options: [
                    { id: 'A', text: "Playing sports makes our bodies strong." },
                    { id: 'B', text: "There are many sports competitions worldwide every year." },
                    { id: 'C', text: "There are only a few outdoor sports" },
                    { id: 'D', text: "A small marathon race took place in New York last night." }
                ],
                correct: 'C',
                explanation: {
                    vi: "√ù n√†o KH√îNG ƒê√öNG?",
                    options: "A. Ch∆°i th·ªÉ thao gi√∫p kh·ªèe m·∫°nh (ƒê√∫ng).<br>B. C√≥ nhi·ªÅu cu·ªôc thi h√†ng nƒÉm (ƒê√∫ng).<br>C. Ch·ªâ c√≥ 'm·ªôt v√†i' m√¥n ngo√†i tr·ªùi (SAI).<br>D. C√≥ cu·ªôc ch·∫°y marathon ·ªü NY t·ªëi qua (ƒê√∫ng).",
                    whyCorrect: "B√†i ƒë·ªçc n√≥i: 'There are a LOT of outdoor sports' (C√≥ R·∫§T NHI·ªÄU m√¥n ngo√†i tr·ªùi). ƒê√°p √°n C n√≥i 'only a few' (ch·ªâ m·ªôt v√†i) -> Sai.",
                    whyWrong: "Th√¥ng tin A, B, D ƒë·ªÅu c√≥ trong b√†i."
                }
            },
            {
                id: 35,
                type: 'reading-q',
                question: "Question 35: According to the passage, which indoor game is mentioned?",
                options: [
                    { id: 'A', text: "Chess" },
                    { id: 'B', text: "Football" },
                    { id: 'C', text: "Baseball" },
                    { id: 'D', text: "Volleyball" }
                ],
                correct: 'A',
                explanation: {
                    vi: "M√¥n ch∆°i trong nh√† n√†o ƒë∆∞·ª£c nh·∫Øc ƒë·∫øn?",
                    options: "A. C·ªù vua<br>B. B√≥ng ƒë√°<br>C. B√≥ng ch√†y<br>D. B√≥ng chuy·ªÅn",
                    whyCorrect: "D·∫´n ch·ª©ng: 'Chess is an example of an indoor game.'",
                    whyWrong: "B, C, D l√† outdoor sports (ƒë∆∞·ª£c li·ªát k√™ sau)."
                }
            },
            {
                id: 36,
                type: 'reading-q',
                question: "Question 36: What happened last night according to the passage?",
                options: [
                    { id: 'A', text: "There was a football match in New York." },
                    { id: 'B', text: "There was a baseball game in New York." },
                    { id: 'C', text: "There was a volleyball competition in New York." },
                    { id: 'D', text: "There was a small marathon race in New York." }
                ],
                correct: 'D',
                explanation: {
                    vi: "Chuy·ªán g√¨ x·∫£y ra t·ªëi qua?",
                    options: "A. Tr·∫≠n b√≥ng ƒë√°...<br>B. Tr·∫≠n b√≥ng ch√†y...<br>C. Tr·∫≠n b√≥ng chuy·ªÅn...<br>D. Cu·ªôc ƒëua marathon ·ªü New York.",
                    whyCorrect: "D·∫´n ch·ª©ng c√¢u cu·ªëi: 'Last night, there was a small marathon race in New York.'",
                    whyWrong: "Sai lo·∫°i h√¨nh th·ªÉ thao."
                }
            },
            // GAP FILL - SENTENCE INSERTION
            {
                id: 'passage4',
                type: 'gap-fill-layout',
                title: "SENTENCE INSERTION",
                optionsList: [
                    "A. Exercise is a crucial part of a healthy lifestyle",
                    "B. others find more satisfaction in participating themselves",
                    "C. often in a studio or at home",
                    "D. drawing a large crowd of spectators"
                ],
                content: "(37) _____. It keeps our bodies in top condition and helps us feel our best. Yoga is a great example of an activity that can be done indoors, (38) _____. Many other sports are enjoyed outdoors, such as cycling, tennis, and swimming. While some people enjoy the thrill of watching professional sports like basketball or soccer, (39) _____. Major sporting events like the Olympics bring athletes from all over the globe together to compete. Just last weekend, a local cycling race took place in my city park, (40) _____.",
                glossary: [
                    {word: "Crucial", type: "adj", mean: "Thi·∫øt y·∫øu, quan tr·ªçng"},
                    {word: "Spectators", type: "n", mean: "Kh√°n gi·∫£ (xem tr·ª±c ti·∫øp)"},
                    {word: "Participating", type: "v", mean: "Tham gia"}
                ]
            },
            {
                id: 37,
                type: 'reading-q-simple',
                question: "Question 37:",
                options: [{id:'A', text:'A'}, {id:'B', text:'B'}, {id:'C', text:'C'}, {id:'D', text:'D'}],
                correct: 'A',
                explanation: {
                    vi: "ƒêi·ªÅn c√¢u m·ªü ƒë·∫ßu ƒëo·∫°n vƒÉn.",
                    whyCorrect: "C√¢u sau gi·∫£i th√≠ch: 'N√≥ gi·ªØ c∆° th·ªÉ ·ªü tr·∫°ng th√°i t·ªët nh·∫•t...'. -> C·∫ßn m·ªôt c√¢u ch·ªß ƒë·ªÅ v·ªÅ t·∫≠p th·ªÉ d·ª•c. A: 'T·∫≠p th·ªÉ d·ª•c l√† ph·∫ßn thi·∫øt y·∫øu c·ªßa l·ªëi s·ªëng l√†nh m·∫°nh'.",
                    whyWrong: "C√°c c√¢u kh√°c kh√¥ng h·ª£p l√†m c√¢u m·ªü ƒëo·∫°n."
                }
            },
            {
                id: 38,
                type: 'reading-q-simple',
                question: "Question 38:",
                options: [{id:'A', text:'A'}, {id:'B', text:'B'}, {id:'C', text:'C'}, {id:'D', text:'D'}],
                correct: 'C',
                explanation: {
                    vi: "Yoga l√† v√≠ d·ª• ho·∫°t ƒë·ªông trong nh√†, ______.",
                    whyCorrect: "C·∫ßn b·ªï sung th√¥ng tin ƒë·ªãa ƒëi·ªÉm. C: 'th∆∞·ªùng l√† ·ªü studio ho·∫∑c t·∫°i nh√†'. Ph√π h·ª£p v·ªõi 'indoors'.",
                    whyWrong: "Sai ng·ªØ c·∫£nh."
                }
            },
            {
                id: 39,
                type: 'reading-q-simple',
                question: "Question 39:",
                options: [{id:'A', text:'A'}, {id:'B', text:'B'}, {id:'C', text:'C'}, {id:'D', text:'D'}],
                correct: 'B',
                explanation: {
                    vi: "Trong khi m·ªôt s·ªë ng∆∞·ªùi th√≠ch xem..., ______.",
                    whyCorrect: "C·∫•u tr√∫c t∆∞∆°ng ph·∫£n 'While...'. M·ªôt b√™n th√≠ch xem (watching), b√™n kia th√≠ch tham gia (participating). B: 'nh·ªØng ng∆∞·ªùi kh√°c t√¨m th·∫•y s·ª± th·ªèa m√£n khi t·ª± m√¨nh tham gia'.",
                    whyWrong: "Sai logic t∆∞∆°ng ph·∫£n."
                }
            },
            {
                id: 40,
                type: 'reading-q-simple',
                question: "Question 40:",
                options: [{id:'A', text:'A'}, {id:'B', text:'B'}, {id:'C', text:'C'}, {id:'D', text:'D'}],
                correct: 'D',
                explanation: {
                    vi: "Cu·ªôc ƒëua xe ƒë·∫°p di·ªÖn ra ·ªü c√¥ng vi√™n, ______.",
                    whyCorrect: "M·ªánh ƒë·ªÅ quan h·ªá r√∫t g·ªçn ho·∫∑c b·ªï ng·ªØ ch·ªâ k·∫øt qu·∫£. D: 'thu h√∫t m·ªôt l∆∞·ª£ng l·ªõn kh√°n gi·∫£'.",
                    whyWrong: "Kh√¥ng h·ª£p nghƒ©a k·∫øt th√∫c c√¢u chuy·ªán."
                }
            }
        ];

        // RENDER FUNCTION
        const quizContainer = document.getElementById('quiz-content');

        function renderQuiz() {
            quizData.forEach(item => {
                if (item.type === 'reading-start' || item.type === 'passage1' || item.type === 'passage2' || item.type === 'passage3') {
                    // Render Reading Passage
                    const div = document.createElement('div');
                    div.innerHTML = `
                        <div class="section-title">READING PASSAGE: ${item.title}</div>
                        <div class="reading-passage">
                            ${item.content}
                            ${renderGlossary(item.glossary)}
                        </div>
                    `;
                    quizContainer.appendChild(div);
                } else if (item.type === 'gap-fill-layout') {
                    // Render Special Gap Fill Layout
                    const div = document.createElement('div');
                    div.innerHTML = `
                        <div class="section-title">${item.title}</div>
                        <div class="gap-fill-layout">
                            <div class="options-box">
                                <div style="color:var(--primary); font-weight:800; margin-bottom:10px;">OPTIONS BOX:</div>
                                ${item.optionsList.map(opt => `<div class="option-item">${opt}</div>`).join('')}
                            </div>
                            <div class="reading-passage">
                                <div style="color:var(--primary); font-weight:800; margin-bottom:10px;">TEXT BOX:</div>
                                ${item.content}
                                ${renderGlossary(item.glossary)}
                            </div>
                        </div>
                    `;
                    quizContainer.appendChild(div);
                } else {
                    // Render Question Card
                    const card = document.createElement('div');
                    card.className = 'question-card';
                    card.id = `q-card-${item.id}`;

                    let visualHTML = '';
                    if (item.type === 'visual') {
                        visualHTML = `<div class="visual-container">${item.visualContent}</div>`;
                    }
                    
                    let subtextHTML = '';
                    if (item.subtext) {
                        subtextHTML = `<div style="background:#f1f2f6; padding:10px; border-radius:10px; margin-bottom:15px; font-style:italic;">${item.subtext}</div>`;
                    }

                    const optionsHTML = item.options.map(opt => `
                        <button class="option-btn" onclick="checkAnswer(${item.id}, '${opt.id}', '${item.correct}', this)">
                            <span style="font-weight:800; color:var(--primary)">${opt.id}.</span> ${opt.text}
                        </button>
                    `).join('');

                    card.innerHTML = `
                        <div class="question-text">${item.question}</div>
                        ${visualHTML}
                        ${subtextHTML}
                        <div class="options-grid" id="opts-${item.id}">
                            ${optionsHTML}
                        </div>
                        <div class="explanation" id="expl-${item.id}">
                            <div class="expl-header">üìù C√¥ Mai An gi·∫£i th√≠ch:</div>
                            <div class="expl-content">
                                <p><span class="expl-label">D·ªãch/Ph√¢n t√≠ch:</span> ${item.explanation.vi}</p>
                                ${item.explanation.options ? `<p><span class="expl-label">T·ª´ v·ª±ng/L·ª±a ch·ªçn:</span><br>${item.explanation.options}</p>` : ''}
                                <p><span style="color:var(--correct); font-weight:bold">‚úî T·∫°i sao ƒë√∫ng:</span> ${item.explanation.whyCorrect}</p>
                                <p><span style="color:var(--wrong); font-weight:bold">‚úñ T·∫°i sao sai:</span> ${item.explanation.whyWrong}</p>
                            </div>
                        </div>
                    `;
                    quizContainer.appendChild(card);
                }
            });
        }

        function renderGlossary(list) {
            if (!list) return '';
            const rows = list.map(w => `<tr><td><b>${w.word}</b></td><td><i>${w.type}</i></td><td>${w.mean}</td></tr>`).join('');
            return `
                <table class="glossary-table">
                    <thead><tr><th colspan="3">üìö VOCABULARY GLOSSARY</th></tr></thead>
                    <tbody>${rows}</tbody>
                </table>
            `;
        }

        // LOGIC
        let score = 0;
        let answeredCount = 0;
        const totalQuestions = 40;
        const userAnswers = {};

        function checkAnswer(qId, selectedId, correctId, btnElement) {
            if (userAnswers[qId]) return; // Prevent re-answering
            
            userAnswers[qId] = selectedId;
            answeredCount++;
            document.getElementById('progress-text').innerText = `${answeredCount}/${totalQuestions} Ho√†n th√†nh`;

            const optionsDiv = document.getElementById(`opts-${qId}`);
            const buttons = optionsDiv.getElementsByClassName('option-btn');
            
            // Disable all buttons
            for (let btn of buttons) {
                btn.classList.add('disabled');
                if (btn.innerText.startsWith(correctId + '.')) {
                    btn.classList.add('correct'); // Always highlight correct
                }
            }

            if (selectedId === correctId) {
                score++;
                triggerConfetti();
                // Play sound logic here if needed
            } else {
                btnElement.classList.add('wrong');
            }

            // Show explanation
            const explDiv = document.getElementById(`expl-${qId}`);
            explDiv.classList.add('show');
        }

        function triggerConfetti() {
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#8854C0', '#00C9A7', '#ffeb3b']
            });
        }

        function submitQuiz() {
            if (answeredCount < totalQuestions) {
                if (!confirm(`Con m·ªõi l√†m ${answeredCount}/${totalQuestions} c√¢u. Con c√≥ ch·∫Øc mu·ªën n·ªôp b√†i kh√¥ng?`)) {
                    return;
                }
            }
            
            // Show Popup
            document.getElementById('final-score').innerText = `${score}/${totalQuestions}`;
            const comment = document.getElementById('teacher-comment');
            if (score === totalQuestions) comment.innerText = "Tuy·ªát v·ªùi! Con l√† thi√™n t√†i! üèÜ";
            else if (score >= 30) comment.innerText = "Gi·ªèi l·∫Øm! C·ªë g·∫Øng th√™m ch√∫t n·ªØa l√† ho√†n h·∫£o! üåü";
            else if (score >= 20) comment.innerText = "Kh√° t·ªët! Con nh·ªõ xem k·ªπ l·∫°i ph·∫ßn gi·∫£i th√≠ch nh√©! üí™";
            else comment.innerText = "ƒê·ª´ng bu·ªìn nh√©! H√£y xem l·∫°i l·ªùi gi·∫£i th√≠ch ƒë·ªÉ ti·∫øn b·ªô h∆°n! ‚ù§";

            document.getElementById('result-overlay').style.display = 'flex';
            triggerConfetti();
        }

        function closePopup() {
            document.getElementById('result-overlay').style.display = 'none';
        }

        // Init
        renderQuiz();

    </script>
</body>
</html>