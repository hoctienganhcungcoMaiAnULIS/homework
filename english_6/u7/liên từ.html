<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Li√™n t·ª´ l·ªõp 6 - Unit 7 | Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --primary: #8854C0;
            --secondary: #00C9A7;
            --correct: #00D26A;
            --wrong: #FF4757;
            --bg: #fdf6ff;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg);
            background-image: radial-gradient(#8854c022 2px, transparent 2px);
            background-size: 30px 30px;
            margin: 0;
            color: #2d3436;
        }

        header {
            background: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .teacher-info h1 {
            font-size: 1.1rem;
            margin: 0;
            color: var(--primary);
            font-weight: 800;
        }

        .teacher-info p {
            font-size: 0.8rem;
            margin: 0;
            color: #636e72;
        }

        .score-board {
            background: var(--primary);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 800;
        }

        .container {
            max-width: 800px;
            margin: 30px auto;
            padding: 0 15px;
        }

        .progress-container {
            width: 100%;
            height: 12px;
            background: #eee;
            border-radius: 10px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        #progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            transition: width 0.3s;
        }

        .question-card {
            background: white;
            border-radius: 25px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(136, 84, 192, 0.15);
            margin-bottom: 25px;
            border: 4px solid white;
            position: relative;
        }

        .q-number {
            background: var(--secondary);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: 800;
            font-size: 0.9rem;
            display: inline-block;
            margin-bottom: 15px;
        }

        .q-text {
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 25px;
            line-height: 1.6;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid { grid-template-columns: 1fr; }
        }

        .option-btn {
            background: white;
            border: 3px solid #f0f0f0;
            padding: 15px 20px;
            border-radius: 20px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 6px 0 #f0f0f0;
            text-align: left;
            position: relative;
            top: 0;
        }

        .option-btn:hover {
            transform: scale(1.02);
            border-color: var(--primary);
            box-shadow: 0 8px 0 var(--primary);
        }

        .option-btn:active {
            top: 4px;
            box-shadow: 0 2px 0 var(--primary);
        }

        .option-btn.correct {
            background: var(--correct) !important;
            color: white !important;
            border-color: #00a352 !important;
            box-shadow: 0 4px 0 #00a352 !important;
        }

        .option-btn.wrong {
            background: var(--wrong) !important;
            color: white !important;
            border-color: #d63031 !important;
            box-shadow: 0 4px 0 #d63031 !important;
        }

        .explanation {
            margin-top: 20px;
            padding: 20px;
            background: #fdf6ff;
            border-radius: 15px;
            border-left: 6px solid var(--primary);
            display: none;
            animation: fadeIn 0.5s;
        }

        .explanation h4 {
            margin-top: 0;
            color: var(--primary);
            font-weight: 800;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .shake { animation: shake 0.4s; }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }

        #result-screen {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(136, 84, 192, 0.95);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            z-index: 2000;
            text-align: center;
        }

        .result-card {
            background: white;
            color: #2d3436;
            padding: 40px;
            border-radius: 30px;
            max-width: 400px;
            width: 90%;
        }

        .submit-btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 20px;
            font-size: 1.2rem;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 6px 0 #008a73;
            margin-top: 30px;
        }
    </style>
</head>
<body>

<header>
    <div class="teacher-info">
        <h1>B√ÄI T·∫¨P LI√äN T·ª™ (CONJUNCTIONS) - UNIT 7</h1>
        <p>Gi√°o vi√™n: Ms Mai An ULIS</p>
    </div>
    <div class="score-board">ƒêi·ªÉm: <span id="score">0</span></div>
</header>

<div class="container">
    <div class="progress-container">
        <div id="progress-bar"></div>
    </div>

    <div id="quiz-box"></div>

    <div style="text-align: center;">
        <button class="submit-btn" onclick="showFinalResult()">N·ªòP B√ÄI T·ªîNG K·∫æT</button>
    </div>
</div>

<div id="result-screen">
    <div class="result-card">
        <h2 style="color: var(--primary)">K·∫æT QU·∫¢</h2>
        <div style="font-size: 3rem; font-weight: 900; margin: 20px 0;" id="final-score">0/30</div>
        <p id="feedback-msg" style="font-weight: 700;"></p>
        <button class="submit-btn" onclick="location.reload()">L√ÄM L·∫†I</button>
    </div>
</div>

<audio id="snd-correct" src="https://assets.mixkit.co/active_storage/sfx/2013/2013-preview.mp3"></audio>
<audio id="snd-wrong" src="https://assets.mixkit.co/active_storage/sfx/255/255-preview.mp3"></audio>

<script>
    const quizData = [
        {
            q: "I like watching cartoons, ______ I don't like watching the news.",
            options: ["and", "but", "or", "so"],
            correct: 1,
            exp: "1. D·ªãch c√¢u: T·ªõ th√≠ch xem phim ho·∫°t h√¨nh, nh∆∞ng t·ªõ kh√¥ng th√≠ch xem tin t·ª©c.<br>2. Ph√¢n t√≠ch:<br>- A. and: v√† (th√™m th√¥ng tin)<br>- B. but: nh∆∞ng (ng∆∞·ª£c nhau)<br>- C. or: ho·∫∑c (l·ª±a ch·ªçn)<br>- D. so: v√¨ v·∫≠y (k·∫øt qu·∫£)<br>3. T·∫°i sao ƒë√∫ng: V·∫ø tr∆∞·ªõc l√† 'th√≠ch' (t√≠ch c·ª±c), v·∫ø sau l√† 'kh√¥ng th√≠ch' (ti√™u c·ª±c) -> d√πng 'but' ƒë·ªÉ ch·ªâ s·ª± t∆∞∆°ng ph·∫£n."
        },
        {
            q: "My sister likes K-pop, ______ she wants to go to Seoul.",
            options: ["so", "but", "because", "although"],
            correct: 0,
            exp: "1. D·ªãch c√¢u: Ch·ªã t·ªõ th√≠ch K-pop, v√¨ v·∫≠y ch·ªã ·∫•y mu·ªën ƒëi Seoul.<br>2. Ph√¢n t√≠ch:<br>- A. so: v√¨ v·∫≠y (k·∫øt qu·∫£)<br>- B. but: nh∆∞ng<br>- C. because: b·ªüi v√¨<br>- D. although: m·∫∑c d√π<br>3. T·∫°i sao ƒë√∫ng: Th√≠ch K-pop l√† nguy√™n nh√¢n d·∫´n ƒë·∫øn vi·ªác mu·ªën ƒëi Seoul. 'So' ƒë·ª©ng tr∆∞·ªõc v·∫ø k·∫øt qu·∫£."
        },
        {
            q: "You can watch The Pig Race, ______ you can watch The Jungle Teacher.",
            options: ["and", "but", "or", "so"],
            correct: 2,
            exp: "1. D·ªãch c√¢u: B·∫°n c√≥ th·ªÉ xem Cu·ªôc ƒëua l·ª£n, ho·∫∑c b·∫°n c√≥ th·ªÉ xem Th·∫ßy gi√°o r·ª´ng xanh.<br>2. Ph√¢n t√≠ch: 'Or' d√πng ƒë·ªÉ ƒë∆∞a ra s·ª± l·ª±a ch·ªçn gi·ªØa hai kh·∫£ nƒÉng.<br>3. T·∫°i sao ƒë√∫ng: ƒêang g·ª£i √Ω ch·ªçn m·ªôt trong hai ch∆∞∆°ng tr√¨nh TV."
        },
        {
            q: "______ I wanted to buy a new TV, I didn't have enough money.",
            options: ["Because", "Although", "So", "But"],
            correct: 1,
            exp: "1. D·ªãch: M·∫∑c d√π t·ªõ mu·ªën mua TV m·ªõi, t·ªõ l·∫°i kh√¥ng c√≥ ƒë·ªß ti·ªÅn.<br>2. Ph√¢n t√≠ch: 'Although' ƒë·ª©ng ƒë·∫ßu m·ªánh ƒë·ªÅ nh∆∞·ª£ng b·ªô.<br>3. T·∫°i sao ƒë√∫ng: Di·ªÖn ƒë·∫°t s·ª± tr√°i ng∆∞·ª£c gi·ªØa mong mu·ªën v√† th·ª±c t·∫ø."
        },
        {
            q: "The film was very boring, ______ we went home early.",
            options: ["because", "although", "so", "but"],
            correct: 2,
            exp: "1. D·ªãch: B·ªô phim r·∫•t ch√°n, v√¨ v·∫≠y ch√∫ng t√¥i ƒë√£ v·ªÅ s·ªõm.<br>2. T·∫°i sao ƒë√∫ng: V·∫ø sau l√† k·∫øt qu·∫£ t·∫•t y·∫øu c·ªßa vi·ªác phim ch√°n."
        },
        {
            q: "I have a lot of homework tonight, ______ I can't watch the football match.",
            options: ["so", "because", "but", "or"],
            correct: 0,
            exp: "1. D·ªãch: T·ªëi nay t·ªõ nhi·ªÅu b√†i qu√°, v√¨ v·∫≠y t·ªõ kh√¥ng xem b√≥ng ƒë√° ƒë∆∞·ª£c.<br>2. Gi·∫£i th√≠ch: 'So' ch·ªâ k·∫øt qu·∫£ c·ªßa vi·ªác b·∫≠n h·ªçc."
        },
        {
            q: "The documentary is interesting, ______ it is too long.",
            options: ["and", "but", "so", "because"],
            correct: 1,
            exp: "1. D·ªãch: Phim t√†i li·ªáu hay ƒë·∫•y, nh∆∞ng m√† n√≥ d√†i qu√°.<br>2. Gi·∫£i th√≠ch: 'Hay' l√† khen, 'd√†i qu√°' l√† ch√™ -> D√πng 'but' ƒë·ªÉ n·ªëi hai √Ω tr√°i ng∆∞·ª£c."
        },
        {
            q: "Do you like watching game shows ______ films?",
            options: ["and", "but", "so", "or"],
            correct: 3,
            exp: "1. D·ªãch: B·∫°n th√≠ch xem game show hay l√† xem phim?<br>2. Gi·∫£i th√≠ch: 'Or' d√πng trong c√¢u h·ªèi l·ª±a ch·ªçn A hay B."
        },
        {
            q: "BTV Ngoc Trinh is beautiful ______ intelligent.",
            options: ["and", "but", "so", "or"],
            correct: 0,
            exp: "1. D·ªãch: BTV Ng·ªçc Trinh v·ª´a xinh ƒë·∫πp v·ª´a th√¥ng minh.<br>2. Gi·∫£i th√≠ch: N·ªëi hai t√≠nh t·ª´ t√≠ch c·ª±c c√πng b·ªï sung cho m·ªôt ng∆∞·ªùi, d√πng 'and'."
        },
        {
            q: "Children love cartoons ______ they are colourful and funny.",
            options: ["because", "although", "but", "so"],
            correct: 0,
            exp: "1. D·ªãch: Tr·∫ª em th√≠ch ho·∫°t h√¨nh v√¨ ch√∫ng ƒë·∫ßy m√†u s·∫Øc v√† h√†i h∆∞·ªõc.<br>2. Gi·∫£i th√≠ch: V·∫ø sau l√† l√Ω do gi·∫£i th√≠ch cho v·∫ø tr∆∞·ªõc. D√πng 'because'."
        }
    ];

    // Th√™m c√°c c√¢u h·ªèi t·ª´ 11 ƒë·∫øn 30 (D·ª±a theo logic t·ªáp d·ªØ li·ªáu c·ªßa b·∫°n)
    const extraData = [
        ["We didn't win the game, ______ we played very well.", "although", ["although", "because", "so", "and"]],
        ["______ it was raining, they still played football.", "Although", ["So", "But", "Because", "Although"]],
        ["I am tired, ______ I will go to bed early.", "so", ["so", "because", "although", "but"]],
        ["She didn't go to school yesterday ______ she was sick.", "because", ["and", "but", "because", "so"]],
        ["Is your father a doctor ______ a teacher?", "or", ["and", "or", "but", "so"]],
        ["Tom acts very well, ______ I don't like him.", "but", ["but", "so", "and", "because"]],
        ["I wanted to watch the news, ______ I turned on the TV.", "so", ["so", "but", "because", "although"]],
        ["The remote control is broken, ______ I can't change the channel.", "so", ["although", "because", "so", "but"]],
        ["We like cartoons ______ they are funny.", "because", ["because", "but", "so", "and"]],
        ["You can play badminton, ______ you can go swimming.", "or", ["or", "and", "but", "so"]],
        ["My father watches the News every day, ______ he knows what is happening.", "so", ["but", "so", "because", "although"]],
        ["______ I have a lot of work, I will go to the cinema tonight.", "Although", ["Although", "Because", "So", "But"]],
        ["I turned on the fan ______ the room was very hot.", "because", ["so", "but", "because", "and"]],
        ["Jerry is a small mouse, ______ he is very smart.", "but", ["but", "or", "so", "because"]],
        ["We can eat out ______ cook at home.", "or", ["or", "and", "but", "so"]],
        ["The questions were difficult, ______ I answered them correctly.", "but", ["but", "so", "because", "and"]],
        ["He likes sports, ______ he plays football every afternoon.", "so", ["so", "but", "although", "or"]],
        ["I need to study ______ I have an exam tomorrow.", "because", ["so", "because", "but", "although"]],
        ["This TV is modern ______ expensive.", "and", ["and", "but", "so", "or"]],
        ["______ he is famous, he is very friendly.", "Although", ["Although", "Because", "But", "And"]]
    ];

    extraData.forEach((item, index) => {
        quizData.push({
            q: item[0],
            options: item[2],
            correct: item[2].indexOf(item[1]),
            exp: `C√¥ Mai An gi·∫£i th√≠ch: <br>- ƒê√°p √°n ƒë√∫ng l√† <b>${item[1]}</b>.<br>- D·ªãch: ${item[0].replace('______', '<b>'+item[1].toLowerCase()+'</b>')}<br>- Ph√¢n t√≠ch: S·ª≠ d·ª•ng li√™n t·ª´ ph√π h·ª£p v·ªõi ng·ªØ nghƒ©a v√† logic c·ªßa c√¢u.`
        });
    });

    let score = 0;
    let questionsAnswered = 0;

    function initQuiz() {
        const box = document.getElementById('quiz-box');
        quizData.forEach((item, idx) => {
            const card = document.createElement('div');
            card.className = 'question-card';
            card.id = `card-${idx}`;
            
            card.innerHTML = `
                <div class="q-number">C√¢u h·ªèi ${idx + 1} / 30</div>
                <div class="q-text">${item.q}</div>
                <div class="options-grid">
                    ${item.options.map((opt, oIdx) => `
                        <button class="option-btn" onclick="checkAnswer(${idx}, ${oIdx}, this)">
                            ${String.fromCharCode(65 + oIdx)}. ${opt}
                        </button>
                    `).join('')}
                </div>
                <div class="explanation" id="exp-${idx}">
                    <h4>C√¥ Mai An gi·∫£i th√≠ch:</h4>
                    <p>${item.exp}</p>
                </div>
            `;
            box.appendChild(card);
        });
    }

    function checkAnswer(qIdx, oIdx, btn) {
        const card = document.getElementById(`card-${qIdx}`);
        if(card.classList.contains('answered')) return;

        card.classList.add('answered');
        const correctIdx = quizData[qIdx].correct;
        const exp = document.getElementById(`exp-${qIdx}`);
        exp.style.display = 'block';

        if(oIdx === correctIdx) {
            btn.classList.add('correct');
            score++;
            document.getElementById('score').innerText = score;
            document.getElementById('snd-correct').play();
            confetti({ particleCount: 50, spread: 60, origin: { y: 0.8 } });
        } else {
            btn.classList.add('wrong');
            card.classList.add('shake');
            document.getElementById('snd-wrong').play();
            const btns = card.querySelectorAll('.option-btn');
            btns[correctIdx].classList.add('correct');
        }

        questionsAnswered++;
        document.getElementById('progress-bar').style.width = (questionsAnswered / 30 * 100) + '%';
    }

    function showFinalResult() {
        const screen = document.getElementById('result-screen');
        const scoreText = document.getElementById('final-score');
        const msg = document.getElementById('feedback-msg');
        
        screen.style.display = 'flex';
        scoreText.innerText = `${score}/30`;
        
        if(score === 30) msg.innerText = "Tuy·ªát v·ªùi! Con ƒë√∫ng l√† cao th·ªß Li√™n t·ª´ r·ªìi ƒë√≥! üåà";
        else if(score >= 20) msg.innerText = "R·∫•t t·ªët! Con n·∫Øm b√†i kh√° ch·∫Øc r·ªìi ƒë·∫•y! üí™";
        else msg.innerText = "C·ªë g·∫Øng l√™n nh√©, h√£y ƒë·ªçc k·ªπ gi·∫£i th√≠ch c·ªßa c√¥ nha! ‚ù§Ô∏è";
    }

    window.onload = initQuiz;
</script>

</body>
</html>
