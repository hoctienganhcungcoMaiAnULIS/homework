<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>25 Câu Trắc Nghiệm Word Form - Ms. Mai An ULIS</title>
    <!-- Google Fonts: Nunito & Quicksand -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --primary: #8854C0; /* Purple/Pink */
            --primary-dark: #6c429c;
            --secondary: #00C9A7; /* Turquoise */
            --secondary-dark: #009e82;
            --correct: #00D26A; /* Green */
            --correct-dark: #00a855;
            --wrong: #FF4757; /* Red/Orange */
            --wrong-dark: #d6303e;
            --bg-color: #f0f4f8;
            --card-bg: #ffffff;
            --text-main: #2f3542;
            --text-light: #57606f;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-color);
            background-image: 
                radial-gradient(var(--primary) 15%, transparent 16%),
                radial-gradient(var(--secondary) 15%, transparent 16%);
            background-size: 30px 30px;
            background-position: 0 0, 15px 15px;
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        /* Header Styles */
        header {
            text-align: center;
            background: linear-gradient(135deg, var(--primary), #a29bfe);
            color: white;
            padding: 30px 20px;
            border-radius: 25px;
            box-shadow: 0 10px 0 rgba(0,0,0,0.1);
            margin-bottom: 40px;
            border: 4px solid white;
            position: relative;
            overflow: hidden;
        }

        header h1 {
            font-family: 'Quicksand', sans-serif;
            margin: 0;
            font-size: 2.2rem;
            text-shadow: 2px 2px 0 rgba(0,0,0,0.2);
        }

        header p {
            margin: 10px 0 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .teacher-badge {
            background: white;
            color: var(--primary);
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 800;
            font-size: 0.9rem;
            display: inline-block;
            margin-bottom: 10px;
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
        }

        /* Quiz Card Styles */
        .quiz-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 8px 0 rgba(0,0,0,0.05);
            border: 2px solid #e1e1e1;
            transition: transform 0.3s ease;
            position: relative;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .q-number {
            background: var(--secondary);
            color: white;
            font-weight: 800;
            padding: 8px 15px;
            border-radius: 12px;
            font-size: 1.1rem;
            box-shadow: 0 4px 0 var(--secondary-dark);
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 700;
            line-height: 1.5;
            color: #2d3436;
            margin-bottom: 25px;
        }

        .question-text u {
            text-decoration: none;
            border-bottom: 3px solid var(--primary);
            padding-bottom: 2px;
        }

        /* Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        .option-btn {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 15px 20px;
            border-radius: 15px;
            font-family: 'Nunito', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
            position: relative;
            box-shadow: 0 5px 0 #d1d1d1;
            text-align: left;
            display: flex;
            align-items: center;
        }

        .option-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            border-color: var(--primary);
            color: var(--primary);
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(4px);
            box-shadow: none;
        }

        .option-letter {
            background: #f1f2f6;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            margin-right: 15px;
            font-weight: 800;
            color: #747d8c;
            flex-shrink: 0;
        }

        /* States */
        .option-btn.correct {
            background: var(--correct);
            color: white;
            border-color: var(--correct-dark);
            box-shadow: 0 5px 0 var(--correct-dark) !important;
            transform: translateY(0);
        }
        .option-btn.correct .option-letter {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        .option-btn.wrong {
            background: var(--wrong);
            color: white;
            border-color: var(--wrong-dark);
            box-shadow: 0 5px 0 var(--wrong-dark) !important;
            transform: translateY(0);
            animation: shake 0.5s;
        }
        .option-btn.wrong .option-letter {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        .option-btn:disabled {
            cursor: default;
            opacity: 0.7;
        }
        
        .option-btn:disabled:hover {
            transform: none;
        }

        /* Explanation Box */
        .explanation-box {
            margin-top: 25px;
            background: #f8f9fa;
            border: 2px dashed var(--primary);
            border-radius: 15px;
            padding: 20px;
            display: none; /* Hidden by default */
            animation: slideDown 0.4s ease-out;
        }

        .explanation-header {
            display: flex;
            align-items: center;
            color: var(--primary);
            font-weight: 800;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .explanation-header i {
            margin-right: 10px;
            font-size: 1.4rem;
        }

        .explanation-content {
            font-size: 1rem;
            line-height: 1.6;
            color: #2f3542;
        }

        .explanation-content strong {
            color: var(--primary);
        }

        .explanation-step {
            margin-bottom: 10px;
            padding-left: 15px;
            border-left: 3px solid #dfe4ea;
        }

        /* Footer & Results */
        .submit-section {
            text-align: center;
            margin-top: 40px;
            margin-bottom: 60px;
        }

        .submit-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 15px 50px;
            font-size: 1.5rem;
            font-weight: 800;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 0 var(--primary-dark);
            transition: all 0.2s;
            font-family: 'Quicksand', sans-serif;
        }

        .submit-btn:hover {
            transform: scale(1.05);
        }

        .submit-btn:active {
            transform: scale(1.05) translateY(5px);
            box-shadow: 0 3px 0 var(--primary-dark);
        }

        /* Score Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 0 rgba(0,0,0,0.1);
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .score-circle {
            width: 150px;
            height: 150px;
            background: var(--secondary);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 20px;
            font-size: 3rem;
            font-weight: 800;
            color: white;
            border: 5px solid white;
            box-shadow: 0 0 0 5px var(--secondary);
        }

        .feedback-text {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--primary);
        }

        /* Animations */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px) rotate(-2deg); }
            50% { transform: translateX(10px) rotate(2deg); }
            75% { transform: translateX(-10px) rotate(-2deg); }
            100% { transform: translateX(0); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes popIn {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }

    </style>
</head>
<body>

<div class="container">
    <header>
        <span class="teacher-badge">Giáo viên tạo: Ms Mai An ULIS</span>
        <h1>Word Form Challenge</h1>
        <p>Chủ đề: Phim ảnh & Cảm xúc</p>
    </header>

    <div id="quiz-container">
        <!-- Questions will be injected here by JS -->
    </div>

    <div class="submit-section">
        <button class="submit-btn" onclick="finishQuiz()">NỘP BÀI</button>
    </div>
</div>

<!-- Score Modal -->
<div class="modal-overlay" id="resultModal">
    <div class="modal-content">
        <div class="score-circle" id="finalScore">0/25</div>
        <div class="feedback-text" id="finalFeedback">Làm tốt lắm!</div>
        <p>Hãy xem lại các phần giải thích chi tiết bên dưới nhé!</p>
        <button class="submit-btn" style="padding: 10px 30px; font-size: 1.2rem;" onclick="closeModal()">Xem lại bài</button>
    </div>
</div>

<!-- Sounds -->
<!-- Using reliable CDN sounds for gamification effects -->
<audio id="sound-correct" src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3"></audio>
<audio id="sound-wrong" src="https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3"></audio>
<audio id="sound-win" src="https://assets.mixkit.co/active_storage/sfx/1435/1435-preview.mp3"></audio>

<script>
    // DATA SOURCE from word_form_quiz_comprehensive
    const quizData = [
    {
      "questionNumber": 1,
      "question": "It’s bad for young kids to see __________ on TV. (violent)",
      "answerOptions": [
        { "text": "violence", "isCorrect": true },
        { "text": "violent", "isCorrect": false },
        { "text": "violently", "isCorrect": false },
        { "text": "violate", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Thật không tốt khi trẻ nhỏ nhìn thấy sự bạo lực trên TV.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. violence (n): sự bạo lực<br>B. violent (adj): mang tính bạo lực<br>C. violently (adv): một cách dữ dội<br>D. violate (v): vi phạm<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Sau động từ 'see' (nhìn thấy) cần một danh từ đóng vai trò tân ngữ (nhìn thấy cái gì?). Đáp án A là danh từ.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B là tính từ, C là trạng từ, D là động từ, không phù hợp vị trí tân ngữ."
    },
    {
      "questionNumber": 2,
      "question": "This is a __________ story, you shouldn’t read it alone. (frighten)",
      "answerOptions": [
        { "text": "frightening", "isCorrect": true },
        { "text": "frightened", "isCorrect": false },
        { "text": "fright", "isCorrect": false },
        { "text": "frighten", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Đây là một câu chuyện đáng sợ, bạn không nên đọc nó một mình.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. frightening (adj): đáng sợ (gây ra nỗi sợ)<br>B. frightened (adj): bị hoảng sợ (cảm giác)<br>C. fright (n): sự hoảng sợ<br>D. frighten (v): làm hoảng sợ<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Cần một tính từ đứng trước danh từ 'story' để bổ nghĩa. Vì câu chuyện có tính chất 'gây sợ hãi' (chủ động), ta dùng tính từ đuôi -ing.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B là cảm xúc bị động (người bị sợ). C và D sai từ loại."
    },
    {
      "questionNumber": 3,
      "question": "Titanic is a __________ movie. It has a sad ending and everyone cries watching it. (move)",
      "answerOptions": [
        { "text": "moving", "isCorrect": true },
        { "text": "moved", "isCorrect": false },
        { "text": "movement", "isCorrect": false },
        { "text": "move", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Titanic là một bộ phim đầy cảm động. Nó có kết buồn và mọi người đều khóc khi xem.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. moving (adj): cảm động (gây xúc động)<br>B. moved (adj): bị cảm động<br>C. movement (n): sự chuyển động<br>D. move (v): di chuyển<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Cần tính từ bổ nghĩa cho 'movie'. Bộ phim có tính chất gây xúc động -> dùng V-ing.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B dùng cho người (I was moved). C và D sai từ loại."
    },
    {
      "questionNumber": 4,
      "question": "Paul Walker has won Oscar for the best __________. (act)",
      "answerOptions": [
        { "text": "actor", "isCorrect": true },
        { "text": "acting", "isCorrect": false },
        { "text": "actress", "isCorrect": false },
        { "text": "action", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Paul Walker đã giành giải Oscar cho nam diễn viên xuất sắc nhất.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. actor (n): nam diễn viên<br>B. acting (n): diễn xuất<br>C. actress (n): nữ diễn viên<br>D. action (n): hành động<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>'Paul Walker' là nam giới. Cụm từ cố định giải thưởng: 'Best Actor'.<br><br><b>Bước 4 - Tại sao SAI?</b><br>C dành cho nữ. B và D không phải là danh từ chỉ người nhận giải."
    },
    {
      "questionNumber": 5,
      "question": "This girl sings __________ although she is a __________. (bad/sing)",
      "answerOptions": [
        { "text": "badly / singer", "isCorrect": true },
        { "text": "bad / singer", "isCorrect": false },
        { "text": "badly / singing", "isCorrect": false },
        { "text": "bad / sing", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Cô gái này hát rất tệ mặc dù cô ấy là một ca sĩ.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. badly (adv) / singer (n)<br>B. bad (adj) / singer (n)<br>C. badly (adv) / singing (n)<br>D. bad (adj) / sing (v)<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Vị trí 1: Sau động từ thường 'sings' cần Trạng từ -> 'badly'.<br>Vị trí 2: Sau 'a' cần Danh từ chỉ người (she) -> 'singer'.<br><br><b>Bước 4 - Tại sao SAI?</b><br>Các đáp án còn lại sai trật tự từ loại."
    },
    {
      "questionNumber": 6,
      "question": "This film made a strong __________ on me. (impress)",
      "answerOptions": [
        { "text": "impression", "isCorrect": true },
        { "text": "impressive", "isCorrect": false },
        { "text": "impress", "isCorrect": false },
        { "text": "impressively", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Bộ phim này đã tạo một ấn tượng mạnh mẽ đối với tôi.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. impression (n): ấn tượng<br>B. impressive (adj): đầy ấn tượng<br>C. impress (v): gây ấn tượng<br>D. impressively (adv): một cách ấn tượng<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Sau 'a strong' (mạo từ + tính từ) cần một Danh từ. Cấu trúc: 'make an impression on sb'.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B, C, D sai từ loại."
    },
    {
      "questionNumber": 7,
      "question": "Have you ever seen this comedy? It’s really __________. (fun)",
      "answerOptions": [
        { "text": "funny", "isCorrect": true },
        { "text": "funnily", "isCorrect": false },
        { "text": "fun", "isCorrect": false },
        { "text": "funs", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Bạn đã xem phim hài này chưa? Nó thực sự rất hài hước.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. funny (adj): buồn cười, hài hước<br>B. funnily (adv): một cách buồn cười<br>C. fun (n/adj): vui vẻ<br>D. funs (sai chính tả)<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Phim hài (comedy) có đặc tính gây cười -> 'funny' là từ chính xác nhất sau 'really'.<br><br><b>Bước 4 - Tại sao SAI?</b><br>'Fun' là vui chung chung, không sát nghĩa 'hài hước' bằng 'funny'. B là trạng từ."
    },
    {
      "questionNumber": 8,
      "question": "The film was __________ though they spent millions of dollars making it. (succeed)",
      "answerOptions": [
        { "text": "unsuccessful", "isCorrect": true },
        { "text": "successful", "isCorrect": false },
        { "text": "success", "isCorrect": false },
        { "text": "succeed", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Bộ phim đã không thành công mặc dù họ đã chi hàng triệu đô la để làm nó.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. unsuccessful (adj): thất bại<br>B. successful (adj): thành công<br>C. success (n): sự thành công<br>D. succeed (v): thành công<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Từ 'though' (mặc dù) chỉ sự tương phản. Chi nhiều tiền (kỳ vọng tốt) nhưng kết quả ngược lại -> Thất bại (unsuccessful). Cần tính từ sau 'was'.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B sai ngữ cảnh (ngược nghĩa). C và D sai từ loại."
    },
    {
      "questionNumber": 9,
      "question": "I love action films. They're very __________. (excite)",
      "answerOptions": [
        { "text": "exciting", "isCorrect": true },
        { "text": "excited", "isCorrect": false },
        { "text": "excitement", "isCorrect": false },
        { "text": "excite", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Tôi thích phim hành động. Chúng rất gay cấn/thú vị.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. exciting (adj): thú vị (tính chất)<br>B. excited (adj): hào hứng (cảm xúc)<br>C. excitement (n): sự hào hứng<br>D. excite (v): kích thích<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Chủ ngữ 'They' (phim) là vật, mang tính chất gây hào hứng -> dùng V-ing.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B dùng cho người. C và D sai từ loại."
    },
    {
      "questionNumber": 10,
      "question": "Big Ben Down is about a group of __________ who take control of Big Ben. (terror)",
      "answerOptions": [
        { "text": "terrorists", "isCorrect": true },
        { "text": "terrorism", "isCorrect": false },
        { "text": "terror", "isCorrect": false },
        { "text": "terrorize", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Big Ben Down nói về một nhóm những kẻ khủng bố chiếm quyền kiểm soát tháp Big Ben.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. terrorists (n): những kẻ khủng bố<br>B. terrorism (n): chủ nghĩa khủng bố<br>C. terror (n): sự kinh hoàng<br>D. terrorize (v): khủng bố<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>'A group of...' (một nhóm) cần danh từ chỉ người số nhiều để thực hiện hành động.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B và C là danh từ trừu tượng. D là động từ."
    },
    {
      "questionNumber": 11,
      "question": "We were __________ with the service at the cinema. Everything was terrible. (satisfy)",
      "answerOptions": [
        { "text": "dissatisfied", "isCorrect": true },
        { "text": "satisfied", "isCorrect": false },
        { "text": "satisfying", "isCorrect": false },
        { "text": "satisfaction", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Chúng tôi không hài lòng với dịch vụ. Mọi thứ đều tồi tệ.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. dissatisfied (adj): không hài lòng<br>B. satisfied (adj): hài lòng<br>C. satisfying (adj): làm thỏa mãn<br>D. satisfaction (n): sự thỏa mãn<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>'Everything was terrible' -> Nghĩa tiêu cực. Cần tính từ chỉ cảm xúc (bị động) mang nghĩa phủ định -> dissatisfied.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B sai nghĩa. C dùng cho vật. D sai từ loại."
    },
    {
      "questionNumber": 12,
      "question": "There are always cowboys in a __________. (west)",
      "answerOptions": [
        { "text": "western", "isCorrect": true },
        { "text": "west", "isCorrect": false },
        { "text": "westerner", "isCorrect": false },
        { "text": "westerly", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Luôn có cao bồi trong một bộ phim miền Tây.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. western (n): phim miền Tây<br>B. west (n): hướng Tây<br>C. westerner (n): người phương Tây<br>D. westerly (adj): về hướng tây<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Trong ngữ cảnh phim ảnh, 'a western' là danh từ chỉ dòng phim cao bồi miền Tây.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B chỉ phương hướng. C chỉ người."
    },
    {
      "questionNumber": 13,
      "question": "The film is a big __________. It is boring from beginning to end. (disappoint)",
      "answerOptions": [
        { "text": "disappointment", "isCorrect": true },
        { "text": "disappointing", "isCorrect": false },
        { "text": "disappointed", "isCorrect": false },
        { "text": "disappoint", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Bộ phim là một sự thất vọng lớn. Nó nhàm chán từ đầu đến cuối.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. disappointment (n): sự thất vọng<br>B. disappointing (adj): gây thất vọng<br>C. disappointed (adj): bị thất vọng<br>D. disappoint (v): gây thất vọng<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Sau tính từ 'big' cần một danh từ. 'A big disappointment' là cụm từ chỉ một điều gây thất vọng lớn.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B và C là tính từ. D là động từ."
    },
    {
      "questionNumber": 14,
      "question": "A drama is a play in a theatre or on television or radio, or plays and __________ generally. (act)",
      "answerOptions": [
        { "text": "acting", "isCorrect": true },
        { "text": "actor", "isCorrect": false },
        { "text": "action", "isCorrect": false },
        { "text": "act", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Kịch là vở diễn... hoặc là các vở diễn và nghệ thuật diễn xuất nói chung.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. acting (n): nghệ thuật diễn xuất<br>B. actor (n): nam diễn viên<br>C. action (n): hành động<br>D. act (v): diễn<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Cần danh từ chỉ hoạt động nghệ thuật để song hành với 'plays'. Acting là sự diễn xuất.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B chỉ người. C chỉ hành động vận động. D là động từ."
    },
    {
      "questionNumber": 15,
      "question": "The film is about two hijackers who __________ to blow up the plane. (threat)",
      "answerOptions": [
        { "text": "threaten", "isCorrect": true },
        { "text": "threat", "isCorrect": false },
        { "text": "threatening", "isCorrect": false },
        { "text": "threatened", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Phim kể về hai kẻ không tặc, những kẻ đe dọa sẽ cho nổ tung máy bay.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. threaten (v): đe dọa<br>B. threat (n): sự đe dọa<br>C. threatening (adj): mang tính đe dọa<br>D. threatened (v-ed): đã đe dọa<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Sau chủ ngữ 'who' cần một động từ chính. Kể tóm tắt phim dùng thì hiện tại đơn -> threaten.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B là danh từ. C là tính từ. D sai thì."
    },
    {
      "questionNumber": 16,
      "question": "Horror films __________ my younger sister. (terrible)",
      "answerOptions": [
        { "text": "terrify", "isCorrect": true },
        { "text": "terrible", "isCorrect": false },
        { "text": "terribly", "isCorrect": false },
        { "text": "terror", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Phim kinh dị làm em gái tôi khiếp sợ.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. terrify (v): làm khiếp sợ<br>B. terrible (adj): khủng khiếp<br>C. terribly (adv): một cách khủng khiếp<br>D. terror (n): sự kinh hoàng<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Câu thiếu động từ chính. 'Terrify' là động từ của terrible.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B, C, D sai từ loại."
    },
    {
      "questionNumber": 17,
      "question": "I don’t think it is good for young kids to see __________ on TV. (violent)",
      "answerOptions": [
        { "text": "violence", "isCorrect": true },
        { "text": "violent", "isCorrect": false },
        { "text": "violently", "isCorrect": false },
        { "text": "violate", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Tôi không nghĩ là tốt khi trẻ nhỏ nhìn thấy sự bạo lực trên TV.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. violence (n): sự bạo lực<br>B. violent (adj): bạo lực<br>C. violently (adv): một cách bạo lực<br>D. violate (v): xâm phạm<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Sau 'see' (nhìn thấy cái gì) cần danh từ làm tân ngữ -> violence.<br><br><b>Bước 4 - Tại sao SAI?</b><br>Các đáp án khác sai từ loại."
    },
    {
      "questionNumber": 18,
      "question": "We are going to the cinema to see an __________ film. (amazed)",
      "answerOptions": [
        { "text": "amazing", "isCorrect": true },
        { "text": "amazed", "isCorrect": false },
        { "text": "amaze", "isCorrect": false },
        { "text": "amazement", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Chúng tôi sắp đi xem một bộ phim tuyệt vời.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. amazing (adj): kinh ngạc, tuyệt vời (tính chất)<br>B. amazed (adj): bị kinh ngạc (cảm xúc)<br>C. amaze (v): làm kinh ngạc<br>D. amazement (n): sự kinh ngạc<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Bổ nghĩa cho 'film' (vật) -> dùng tính từ đuôi -ing để chỉ tính chất.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B dùng cho người. C và D sai từ loại."
    },
    {
      "questionNumber": 19,
      "question": "Although Titanic is a __________ film, it has a sad ending. (romance)",
      "answerOptions": [
        { "text": "romantic", "isCorrect": true },
        { "text": "romance", "isCorrect": false },
        { "text": "romancing", "isCorrect": false },
        { "text": "romantically", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Mặc dù Titanic là phim lãng mạn, nó có kết buồn.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. romantic (adj): lãng mạn<br>B. romance (n): sự lãng mạn<br>C. romancing (v-ing): tán tỉnh<br>D. romantically (adv): một cách lãng mạn<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Trước danh từ 'film' cần tính từ bổ nghĩa -> romantic.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B là danh từ. C là động từ. D là trạng từ."
    },
    {
      "questionNumber": 20,
      "question": "He falls in love with a pretty girl. It’s a beautiful __________. (romantic)",
      "answerOptions": [
        { "text": "romance", "isCorrect": true },
        { "text": "romantic", "isCorrect": false },
        { "text": "romantics", "isCorrect": false },
        { "text": "romancing", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Anh ấy phải lòng một cô gái. Đó là một mối tình đẹp.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. romance (n): mối tình lãng mạn<br>B. romantic (adj): lãng mạn<br>C. romantics (n): những người lãng mạn<br>D. romancing (v): tán tỉnh<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Sau 'a beautiful' cần một danh từ số ít. Romance ở đây là danh từ đếm được (mối tình).<br><br><b>Bước 4 - Tại sao SAI?</b><br>B là tính từ. C là số nhiều. D sai từ loại."
    },
    {
      "questionNumber": 21,
      "question": "His recent film received a lot of __________ from the public. (critic)",
      "answerOptions": [
        { "text": "criticism", "isCorrect": true },
        { "text": "critic", "isCorrect": false },
        { "text": "critical", "isCorrect": false },
        { "text": "criticize", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Bộ phim gần đây nhận rất nhiều sự chỉ trích từ công chúng.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. criticism (n): sự chỉ trích<br>B. critic (n): nhà phê bình (người)<br>C. critical (adj): then chốt / phê bình<br>D. criticize (v): chỉ trích<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Sau 'a lot of' cần danh từ. Ngữ cảnh nhận ý kiến từ công chúng là 'sự chỉ trích' (trừu tượng).<br><br><b>Bước 4 - Tại sao SAI?</b><br>B chỉ người (số ít) không hợp ngữ pháp. C và D sai từ loại."
    },
    {
      "questionNumber": 22,
      "question": "My favourite __________ -fiction films have being from Mars. (scientist)",
      "answerOptions": [
        { "text": "science", "isCorrect": true },
        { "text": "scientist", "isCorrect": false },
        { "text": "scientific", "isCorrect": false },
        { "text": "scientifically", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Phim khoa học viễn tưởng yêu thích của tôi...<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. science (n): khoa học<br>B. scientist (n): nhà khoa học<br>C. scientific (adj): thuộc khoa học<br>D. scientifically (adv): về mặt khoa học<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Danh từ ghép cố định: 'Science-fiction' (Phim KHVT, viết tắt Sci-fi).<br><br><b>Bước 4 - Tại sao SAI?</b><br>Không dùng các dạng từ khác cho cụm từ cố định này."
    },
    {
      "questionNumber": 23,
      "question": "I don’t like horror films because they are too __________ for me. (fright)",
      "answerOptions": [
        { "text": "frightening", "isCorrect": true },
        { "text": "frightened", "isCorrect": false },
        { "text": "frightful", "isCorrect": false },
        { "text": "frighten", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Tôi không thích phim kinh dị vì chúng quá đáng sợ.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. frightening (adj): đáng sợ<br>B. frightened (adj): bị sợ hãi<br>C. frightful (adj): ghê sợ<br>D. frighten (v): làm sợ<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Chủ ngữ 'they' (phim) gây ra nỗi sợ -> dùng tính từ V-ing.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B dùng cho người. D là động từ."
    },
    {
      "questionNumber": 24,
      "question": "Dracula is the best __________ film I’ve ever seen. (impress)",
      "answerOptions": [
        { "text": "impressive", "isCorrect": true },
        { "text": "impression", "isCorrect": false },
        { "text": "impressed", "isCorrect": false },
        { "text": "impress", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Dracula là phim ấn tượng nhất tôi từng xem.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. impressive (adj): ấn tượng<br>B. impression (n): sự ấn tượng<br>C. impressed (adj): bị ấn tượng<br>D. impress (v): gây ấn tượng<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Cần tính từ bổ nghĩa cho 'film'. Phim có tính chất gây ấn tượng -> impressive.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B là danh từ. C dùng cho cảm xúc người. D là động từ."
    },
    {
      "questionNumber": 25,
      "question": "Do you know Daniel Day-Lewis? He has won three Oscars for best __________. (act)",
      "answerOptions": [
        { "text": "Actor", "isCorrect": true },
        { "text": "Actress", "isCorrect": false },
        { "text": "Acting", "isCorrect": false },
        { "text": "Action", "isCorrect": false }
      ],
      "rationale": "<b>Bước 1 - Dịch câu:</b> Anh ấy đã giành 3 giải Oscar cho nam diễn viên xuất sắc nhất.<br><br><b>Bước 2 - Phân tích đáp án:</b><br>A. Actor (n): Nam diễn viên<br>B. Actress (n): Nữ diễn viên<br>C. Acting (n): Diễn xuất<br>D. Action (n): Hành động<br><br><b>Bước 3 - Tại sao ĐÚNG?</b><br>Daniel Day-Lewis là nam. Giải thưởng là 'Best Actor'.<br><br><b>Bước 4 - Tại sao SAI?</b><br>B dành cho nữ. C và D không phải danh từ chỉ người nhận giải."
    }
    ];

    let currentScore = 0;
    const soundCorrect = document.getElementById('sound-correct');
    const soundWrong = document.getElementById('sound-wrong');
    const soundWin = document.getElementById('sound-win');

    function initQuiz() {
        const container = document.getElementById('quiz-container');
        
        quizData.forEach((item, index) => {
            // Create Card
            const card = document.createElement('div');
            card.className = 'quiz-card';
            
            // Header
            const header = document.createElement('div');
            header.className = 'question-header';
            header.innerHTML = `
                <span class="q-number">Question ${item.questionNumber}</span>
                <i class="fas fa-film" style="color: var(--primary); opacity: 0.5;"></i>
            `;
            
            // Question Text (Convert newlines to br if any, highlight blanks)
            const qText = document.createElement('div');
            qText.className = 'question-text';
            // Simple replace to make the blank prominent
            const formattedQuestion = item.question.replace('__________', '<u>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</u>');
            qText.innerHTML = formattedQuestion;

            // Options Grid
            const optionsDiv = document.createElement('div');
            optionsDiv.className = 'options-grid';
            
            item.answerOptions.forEach((opt, optIndex) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                const letters = ['A', 'B', 'C', 'D'];
                
                btn.innerHTML = `
                    <span class="option-letter">${letters[optIndex]}</span>
                    <span>${opt.text}</span>
                `;
                
                btn.onclick = (e) => checkAnswer(index, optIndex, btn, item);
                optionsDiv.appendChild(btn);
            });

            // Explanation Box
            const explainDiv = document.createElement('div');
            explainDiv.className = 'explanation-box';
            explainDiv.id = `explain-${index}`;
            explainDiv.innerHTML = `
                <div class="explanation-header">
                    <i class="fas fa-chalkboard-teacher"></i>
                    Ms. Mai An giải thích chi tiết:
                </div>
                <div class="explanation-content">
                    ${item.rationale}
                </div>
            `;

            card.appendChild(header);
            card.appendChild(qText);
            card.appendChild(optionsDiv);
            card.appendChild(explainDiv);
            container.appendChild(card);
        });
    }

    function checkAnswer(qIndex, optIndex, btn, questionData) {
        const card = btn.closest('.quiz-card');
        const allBtns = card.querySelectorAll('.option-btn');
        
        // Disable all buttons in this card
        allBtns.forEach(b => b.disabled = true);

        const isCorrect = questionData.answerOptions[optIndex].isCorrect;

        if (isCorrect) {
            btn.classList.add('correct');
            // Play Sound
            soundCorrect.currentTime = 0;
            soundCorrect.play().catch(e => console.log("Audio play failed interaction"));
            // Confetti
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#00D26A', '#8854C0', '#00C9A7']
            });
            currentScore++;
        } else {
            btn.classList.add('wrong');
            // Highlight the correct one
            questionData.answerOptions.forEach((opt, i) => {
                if(opt.isCorrect) {
                    allBtns[i].classList.add('correct');
                }
            });
            // Play Sound
            soundWrong.currentTime = 0;
            soundWrong.play().catch(e => console.log("Audio play failed interaction"));
        }

        // Show Explanation immediately
        const explainBox = document.getElementById(`explain-${qIndex}`);
        explainBox.style.display = 'block';
    }

    function finishQuiz() {
        const modal = document.getElementById('resultModal');
        const scoreDisplay = document.getElementById('finalScore');
        const feedback = document.getElementById('finalFeedback');
        
        scoreDisplay.textContent = `${currentScore}/${quizData.length}`;
        
        if (currentScore === quizData.length) {
            feedback.textContent = "Tuyệt đối! Bạn là siêu sao điện ảnh!";
            soundWin.play();
            confetti({ particleCount: 200, spread: 100 });
        } else if (currentScore >= quizData.length * 0.8) {
            feedback.textContent = "Giỏi lắm! Kiến thức rất vững!";
            soundWin.play();
        } else if (currentScore >= quizData.length * 0.5) {
            feedback.textContent = "Khá tốt! Cố gắng thêm chút nữa nhé!";
        } else {
            feedback.textContent = "Đừng buồn! Hãy xem lại giải thích để học thêm nhé!";
        }

        modal.style.display = 'flex';
    }

    function closeModal() {
        document.getElementById('resultModal').style.display = 'none';
        // Scroll to top
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Initialize on load
    window.onload = initQuiz;

</script>

</body>
</html>
