<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 8: Speaking & Writing Mastery - Ms. Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8854C0; /* T√≠m Pastel */
            --primary-dark: #6c429c;
            --secondary: #00C9A7; /* Xanh ng·ªçc */
            --secondary-dark: #009e82;
            --correct: #00D26A; /* Xanh l√° */
            --correct-dark: #00a855;
            --wrong: #FF4757; /* ƒê·ªè cam */
            --wrong-dark: #cc3946;
            --bg-pattern: #f0f3f9;
            --card-bg: #ffffff;
            --text-main: #2f3542;
            --text-light: #57606f;
        }

        * {
            box-sizing: border-box;
            user-select: none; /* NgƒÉn b√¥i ƒëen ƒë·ªÉ tr·∫£i nghi·ªám gi·ªëng App */
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-pattern);
            background-image: radial-gradient(#d1d8e0 2px, transparent 2px);
            background-size: 30px 30px;
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- HEADER --- */
        header {
            text-align: center;
            margin-bottom: 40px;
            animation: bounceIn 1s;
        }

        h1 {
            font-family: 'Quicksand', sans-serif;
            font-weight: 800;
            font-size: 2.5rem;
            color: var(--primary);
            text-shadow: 3px 3px 0px rgba(136, 84, 192, 0.2);
            margin: 0;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .teacher-tag {
            background: var(--text-main);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 700;
            display: inline-block;
            margin-top: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }

        /* --- GAME CONTAINER --- */
        .container {
            width: 100%;
            max-width: 800px;
            margin-bottom: 50px;
        }

        /* --- QUESTION CARD --- */
        .card {
            background: var(--card-bg);
            border-radius: 25px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 8px 0px rgba(0,0,0,0.05), 0 20px 30px rgba(0,0,0,0.1);
            border: 2px solid #f1f2f6;
            position: relative;
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .question-number {
            position: absolute;
            top: -20px;
            left: 20px;
            background: var(--secondary);
            color: white;
            padding: 10px 20px;
            border-radius: 15px;
            font-weight: 800;
            font-size: 1.1rem;
            box-shadow: 0 4px 0 var(--secondary-dark);
            text-transform: uppercase;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 700;
            margin-top: 15px;
            margin-bottom: 25px;
            line-height: 1.5;
            color: var(--text-main);
        }

        /* Underline logic for phonetics or emphasis if needed */
        u {
            text-decoration: none;
            border-bottom: 3px solid var(--primary);
            padding-bottom: 2px;
        }

        /* --- OPTIONS GRID --- */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        .option-btn {
            background: white;
            border: 2px solid #e1e1e1;
            border-radius: 15px;
            padding: 15px 20px;
            font-family: 'Nunito', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            box-shadow: 0 4px 0 #e1e1e1;
            text-align: left;
            display: flex;
            align-items: center;
        }

        .option-btn:hover:not(.disabled) {
            transform: translateY(-2px);
            border-color: var(--primary);
            color: var(--primary);
            box-shadow: 0 6px 0 #e1e1e1;
        }

        .option-btn:active:not(.disabled) {
            transform: translateY(4px);
            box-shadow: none;
        }

        /* --- FEEDBACK STATES --- */
        .option-btn.correct {
            background-color: var(--correct) !important;
            color: white !important;
            border-color: var(--correct-dark) !important;
            box-shadow: 0 4px 0 var(--correct-dark) !important;
        }

        .option-btn.wrong {
            background-color: var(--wrong) !important;
            color: white !important;
            border-color: var(--wrong-dark) !important;
            box-shadow: 0 4px 0 var(--wrong-dark) !important;
            animation: shake 0.5s;
        }

        .option-btn.disabled {
            cursor: default;
            opacity: 0.7;
            pointer-events: none;
        }

        /* --- EXPLANATION BOX (The "Ms. Mai An" Special) --- */
        .explanation-box {
            margin-top: 25px;
            background: #f8f0ff;
            border-left: 5px solid var(--primary);
            border-radius: 10px;
            padding: 20px;
            display: none; /* Hidden by default */
            animation: slideDown 0.4s ease-out;
        }

        .explanation-header {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            color: var(--primary);
            font-weight: 800;
            font-size: 1.1rem;
        }

        .explanation-header span {
            margin-right: 10px;
            font-size: 1.5rem;
        }

        .explanation-content {
            font-size: 1rem;
            line-height: 1.6;
            color: #444;
        }

        .explanation-content strong {
            color: var(--primary-dark);
        }

        .analysis-step {
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #dcdde1;
        }
        .analysis-step:last-child {
            border-bottom: none;
        }

        /* --- FOOTER / SUBMIT --- */
        .submit-section {
            text-align: center;
            margin-top: 20px;
            padding-bottom: 50px;
        }

        .submit-btn {
            background: var(--primary);
            color: white;
            font-size: 1.5rem;
            font-weight: 800;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 6px 0 var(--primary-dark);
            transition: transform 0.2s;
            font-family: 'Quicksand', sans-serif;
        }

        .submit-btn:hover {
            transform: scale(1.05);
            background: #9b6ad3;
        }

        .submit-btn:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 var(--primary-dark);
        }

        /* --- ANIMATIONS --- */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-5deg); }
            50% { transform: translateX(5px) rotate(5deg); }
            75% { transform: translateX(-5px) rotate(-5deg); }
            100% { transform: translateX(0); }
        }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.3); }
            50% { opacity: 1; transform: scale(1.05); }
            70% { transform: scale(0.9); }
            100% { transform: scale(1); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- POPUP RESULT --- */
        .popup-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .popup-content {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            width: 90%;
            max-width: 500px;
            animation: bounceIn 0.5s;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            border: 5px solid var(--secondary);
        }

        .score-display {
            font-size: 4rem;
            font-weight: 800;
            color: var(--primary);
            margin: 20px 0;
        }

        .feedback-msg {
            font-size: 1.5rem;
            color: var(--text-main);
            margin-bottom: 30px;
        }

        /* Canvas for confetti */
        #confetti-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 999;
        }

        /* Custom formatting for Rationale text */
        .rationale-header {
            display: block;
            font-weight: 800;
            color: var(--secondary-dark);
            margin-top: 8px;
            margin-bottom: 4px;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
        }
    </style>
</head>
<body>

    <header>
        <div class="teacher-tag">üë©‚Äçüè´ Teacher: Ms. Mai An (ULIS)</div>
        <h1>Unit 8: Speaking & Writing Mastery</h1>
        <p style="font-size: 1.1rem; color: #666;">B√†i t·∫≠p t∆∞∆°ng t√°c: Speaking Reflex & Grammar</p>
    </header>

    <div class="container" id="quiz-container">
        <!-- Questions will be injected here via JavaScript -->
    </div>

    <div class="submit-section">
        <button class="submit-btn" onclick="finishQuiz()">N·ªòP B√ÄI & XEM ƒêI·ªÇM</button>
    </div>

    <!-- Popup Result -->
    <div class="popup-overlay" id="result-popup">
        <div class="popup-content">
            <h2 style="color: var(--secondary);">K·∫æT QU·∫¢ C·ª¶A B·∫†N</h2>
            <div class="score-display" id="final-score">0/30</div>
            <p class="feedback-msg" id="final-feedback">B·∫°n l√†m t·ªët l·∫Øm!</p>
            <button class="submit-btn" onclick="closePopup()" style="font-size: 1.2rem; padding: 10px 30px;">Xem l·∫°i b√†i l√†m</button>
        </div>
    </div>

    <canvas id="confetti-canvas"></canvas>

    <script>
        // --- DATA SOURCE (From User Input) ---
        const quizData = {
          "questions": [
            {
              "questionNumber": 1,
              "question": "C.I.1: Match 'What is this market called?' with its answer.",
              "answerOptions": [
                { "text": "It‚Äôs an open-air market.", "rationale": "**D·ªãch nghƒ©a:** Ch·ª£ n√†y t√™n l√† g√¨/ƒë∆∞·ª£c g·ªçi l√† g√¨? -> N√≥ l√† m·ªôt khu ch·ª£ tr·ªùi.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C√¢u h·ªèi:** 'What is... called?' th∆∞·ªùng h·ªèi t√™n g·ªçi ho·∫∑c lo·∫°i h√¨nh c·ªßa s·ª± v·∫≠t.\n- **ƒê√°p √°n (e):** 'It's an open-air market.' (N√≥ l√† m·ªôt ch·ª£ tr·ªùi). ƒê√¢y l√† c√¢u tr·∫£ l·ªùi tr·ª±c ti·∫øp nh·∫•t v·ªÅ danh t√≠nh/lo·∫°i h√¨nh c·ªßa khu ch·ª£.\n- **T·∫°i sao ƒë√∫ng?** Kh·ªõp v·ªÅ ch·ªß ng·ªØ 'It' (thay cho 'this market') v√† n·ªôi dung ƒë·ªãnh danh.", "isCorrect": true },
                { "text": "In the north-west mountainous region.", "rationale": "ƒê√¢y l√† c√¢u tr·∫£ l·ªùi cho c√¢u h·ªèi 'Where' (·ªû ƒë√¢u).", "isCorrect": false },
                { "text": "Traditional costumes.", "rationale": "ƒê√¢y l√† c√¢u tr·∫£ l·ªùi cho c√¢u h·ªèi 'What do they sell/wear?' (B√°n g√¨/M·∫∑c g√¨).", "isCorrect": false },
                { "text": "Home-grown and home-made products.", "rationale": "Tr·∫£ l·ªùi cho c√¢u h·ªèi v·ªÅ s·∫£n ph·∫©m (What products...).", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 2,
              "question": "C.I.2: Match 'Where is it?' with its answer.",
              "answerOptions": [
                { "text": "In the north-west mountainous region.", "rationale": "**D·ªãch nghƒ©a:** N√≥ ·ªü ƒë√¢u? -> ·ªû v√πng n√∫i ph√≠a T√¢y B·∫Øc.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C√¢u h·ªèi:** 'Where' -> H·ªèi ƒë·ªãa ƒëi·ªÉm.\n- **ƒê√°p √°n (i):** 'In the north-west mountainous region.' -> Ch·ªâ v·ªã tr√≠ ƒë·ªãa l√Ω.\n- **T·∫°i sao ƒë√∫ng?** Tr·∫£ l·ªùi tr·ª±c ti·∫øp cho t·ª´ ƒë·ªÉ h·ªèi 'Where'.", "isCorrect": true },
                { "text": "It‚Äôs an open-air market.", "rationale": "Tr·∫£ l·ªùi cho c√¢u h·ªèi 'What'.", "isCorrect": false },
                { "text": "Certainly. It would be fun.", "rationale": "Tr·∫£ l·ªùi cho l·ªùi m·ªùi ho·∫∑c ƒë·ªÅ ngh·ªã.", "isCorrect": false },
                { "text": "Yes. The goods are very diverse.", "rationale": "Tr·∫£ l·ªùi cho c√¢u h·ªèi Yes/No.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 3,
              "question": "C.I.3: Match 'What are the people wearing?' with its answer.",
              "answerOptions": [
                { "text": "Traditional costumes.", "rationale": "**D·ªãch nghƒ©a:** M·ªçi ng∆∞·ªùi ƒëang m·∫∑c g√¨? -> Trang ph·ª•c truy·ªÅn th·ªëng.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C√¢u h·ªèi:** 'What... wearing?' -> H·ªèi v·ªÅ trang ph·ª•c.\n- **ƒê√°p √°n (f):** 'Traditional costumes.' -> Ch·ªâ lo·∫°i qu·∫ßn √°o.\n- **T·∫°i sao ƒë√∫ng?** Kh·ªõp ch·ªß ƒë·ªÅ 'wearing' v√† 'costumes'.", "isCorrect": true },
                { "text": "Of course. There are grilled meat and other specialities.", "rationale": "N√≥i v·ªÅ ƒë·ªì ƒÉn, kh√¥ng ph·∫£i qu·∫ßn √°o.", "isCorrect": false },
                { "text": "You can go around and enjoy looking.", "rationale": "N√≥i v·ªÅ ho·∫°t ƒë·ªông, kh√¥ng ph·∫£i trang ph·ª•c.", "isCorrect": false },
                { "text": "They don‚Äôt have fixed price so we can bargain.", "rationale": "N√≥i v·ªÅ gi√° c·∫£.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 4,
              "question": "C.I.4: Match 'What do they sell at this market?' with its answer.",
              "answerOptions": [
                { "text": "Home-grown and home-made products.", "rationale": "**D·ªãch nghƒ©a:** H·ªç b√°n g√¨ ·ªü ch·ª£ n√†y? -> C√°c s·∫£n ph·∫©m nh√† tr·ªìng v√† nh√† l√†m.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C√¢u h·ªèi:** 'What... sell?' -> H·ªèi v·ªÅ h√†ng h√≥a.\n- **ƒê√°p √°n (g):** 'Home-grown and home-made products.' -> Li·ªát k√™ lo·∫°i h√†ng h√≥a.\n- **T·∫°i sao ƒë√∫ng?** Tr·ª±c ti·∫øp tr·∫£ l·ªùi v·ªÅ s·∫£n ph·∫©m ƒë∆∞·ª£c b√°n.", "isCorrect": true },
                { "text": "No. There are only supermarkets and shopping centres.", "rationale": "C√¢u tr·∫£ l·ªùi Yes/No, kh√¥ng li·ªát k√™ s·∫£n ph·∫©m.", "isCorrect": false },
                { "text": "Certainly. It would be fun.", "rationale": "Sai ng·ªØ c·∫£nh.", "isCorrect": false },
                { "text": "Traditional costumes.", "rationale": "C√≥ th·ªÉ ƒë√∫ng nh∆∞ng ƒë√°p √°n (g) bao qu√°t h∆°n v·ªÅ 'products' (s·∫£n ph·∫©m) t·∫°i ch·ª£ phi√™n.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 5,
              "question": "C.I.5: Match 'Can I buy speciality products there?' with its answer.",
              "answerOptions": [
                { "text": "Yes. The goods are very diverse.", "rationale": "**D·ªãch nghƒ©a:** T√¥i c√≥ th·ªÉ mua ƒë·∫∑c s·∫£n ·ªü ƒë√≥ kh√¥ng? -> C√≥. H√†ng h√≥a r·∫•t ƒëa d·∫°ng.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C√¢u h·ªèi:** 'Can I...?' (C√¢u h·ªèi Yes/No).\n- **ƒê√°p √°n (h):** 'Yes. The goods are very diverse.' (C√≥. H√†ng h√≥a r·∫•t ƒëa d·∫°ng - h√†m √Ω c√≥ c·∫£ ƒë·∫∑c s·∫£n).\n- **T·∫°i sao ƒë√∫ng?** B·∫Øt ƒë·∫ßu b·∫±ng 'Yes' v√† gi·∫£i th√≠ch th√™m v·ªÅ s·ª± phong ph√∫ c·ªßa h√†ng h√≥a.", "isCorrect": true },
                { "text": "No. There are only supermarkets and shopping centres.", "rationale": "M√¢u thu·∫´n. N·∫øu h·ªèi v·ªÅ ch·ª£ phi√™n (there) m√† tr·∫£ l·ªùi l√† 'ch·ªâ c√≥ si√™u th·ªã' th√¨ kh√¥ng h·ª£p l√Ω.", "isCorrect": false },
                { "text": "Of course. There are grilled meat and other specialities.", "rationale": "C≈©ng c√≥ th·ªÉ ƒë√∫ng (Of course = Yes), nh∆∞ng ƒë√°p √°n (h) ph√π h·ª£p h∆°n v·ªõi c√¢u h·ªèi chung chung v·ªÅ 'products'. ƒê√°p √°n (j) c·ª• th·ªÉ v·ªÅ 'street food' h∆°n.", "isCorrect": false },
                { "text": "They don‚Äôt have fixed price so we can bargain.", "rationale": "Tr·∫£ l·ªùi v·ªÅ gi√° c·∫£, kh√¥ng ph·∫£i v·ªÅ kh·∫£ nƒÉng mua ƒë∆∞·ª£c h√†ng hay kh√¥ng.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 6,
              "question": "C.I.6: Match 'What should I do if I don‚Äôt want to buy anything?' with its answer.",
              "answerOptions": [
                { "text": "You can go around and enjoy looking.", "rationale": "**D·ªãch nghƒ©a:** T√¥i n√™n l√†m g√¨ n·∫øu t√¥i kh√¥ng mu·ªën mua g√¨ c·∫£? -> B·∫°n c√≥ th·ªÉ ƒëi d·∫°o quanh v√† ng·∫Øm ngh√≠a.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C√¢u h·ªèi:** H·ªèi l·ªùi khuy√™n (What should I do...?).\n- **ƒê√°p √°n (b):** 'You can go around...' (B·∫°n c√≥ th·ªÉ ƒëi d·∫°o...). ƒê∆∞a ra gi·∫£i ph√°p thay th·∫ø cho vi·ªác mua s·∫Øm.\n- **T·∫°i sao ƒë√∫ng?** H·ª£p l√Ω v·ªÅ ng·ªØ c·∫£nh ƒëi ch·ª£ ch∆°i (window shopping).", "isCorrect": true },
                { "text": "Certainly. It would be fun.", "rationale": "Sai ng·ªØ ph√°p (kh√¥ng tr·∫£ l·ªùi cho c√¢u h·ªèi What).", "isCorrect": false },
                { "text": "They don‚Äôt have fixed price so we can bargain.", "rationale": "Kh√¥ng li√™n quan ƒë·∫øn vi·ªác 'kh√¥ng mua'.", "isCorrect": false },
                { "text": "Traditional costumes.", "rationale": "Sai lo·∫°i t·ª´.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 7,
              "question": "C.I.7: Match 'Are there any street foods at the market?' with its answer.",
              "answerOptions": [
                { "text": "Of course. There are grilled meat and other specialities.", "rationale": "**D·ªãch nghƒ©a:** C√≥ m√≥n ƒÉn ƒë∆∞·ªùng ph·ªë n√†o ·ªü ch·ª£ kh√¥ng? -> T·∫•t nhi√™n r·ªìi. C√≥ th·ªãt n∆∞·ªõng v√† c√°c ƒë·∫∑c s·∫£n kh√°c.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C√¢u h·ªèi:** 'Are there...?' (C√≥... kh√¥ng?).\n- **ƒê√°p √°n (j):** 'Of course.' (T·∫•t nhi√™n) = Yes. Sau ƒë√≥ li·ªát k√™ 'grilled meat' (th·ªãt n∆∞·ªõng) l√† v√≠ d·ª• ƒëi·ªÉn h√¨nh c·ªßa street food.\n- **T·∫°i sao ƒë√∫ng?** Tr·∫£ l·ªùi tr·ª±c ti·∫øp v√† ƒë∆∞a v√≠ d·ª• c·ª• th·ªÉ v·ªÅ ƒë·ªì ƒÉn.", "isCorrect": true },
                { "text": "Yes. The goods are very diverse.", "rationale": "Chung chung qu√° so v·ªõi ƒë√°p √°n (j).", "isCorrect": false },
                { "text": "No. There are only supermarkets and shopping centres.", "rationale": "Sai ng·ªØ c·∫£nh.", "isCorrect": false },
                { "text": "It‚Äôs an open-air market.", "rationale": "Kh√¥ng tr·∫£ l·ªùi c√¢u h·ªèi Yes/No.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 8,
              "question": "C.I.8: Match 'What do you like about it?' with its answer.",
              "answerOptions": [
                { "text": "They don‚Äôt have fixed price so we can bargain.", "rationale": "**D·ªãch nghƒ©a:** B·∫°n th√≠ch ƒëi·ªÉm g√¨ ·ªü n√≥ (khu ch·ª£)? -> H·ªç kh√¥ng c√≥ gi√° c·ªë ƒë·ªãnh n√™n ch√∫ng ta c√≥ th·ªÉ m·∫∑c c·∫£.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C√¢u h·ªèi:** H·ªèi v·ªÅ s·ªü th√≠ch/ƒëi·ªÉm ∆∞u th√≠ch.\n- **ƒê√°p √°n (c):** N√™u ra m·ªôt ƒë·∫∑c ƒëi·ªÉm th√∫ v·ªã c·ªßa ch·ª£ tr·ªùi l√† 'bargain' (m·∫∑c c·∫£).\n- **T·∫°i sao ƒë√∫ng?** ƒê√¢y l√† m·ªôt l√Ω do ph·ªï bi·∫øn khi·∫øn m·ªçi ng∆∞·ªùi th√≠ch ƒëi ch·ª£ tr·ªùi.", "isCorrect": true },
                { "text": "You can go around and enjoy looking.", "rationale": "ƒê√¢y l√† l·ªùi khuy√™n (You can...), kh√¥ng ph·∫£i n√™u c·∫£m nh·∫≠n c√° nh√¢n (I like...).", "isCorrect": false },
                { "text": "It‚Äôs an open-air market.", "rationale": "ƒê√¢y l√† ƒë·ªãnh nghƒ©a, kh√¥ng ph·∫£i ƒëi·ªÉm y√™u th√≠ch.", "isCorrect": false },
                { "text": "Certainly. It would be fun.", "rationale": "Kh√¥ng kh·ªõp ng·ªØ ph√°p.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 9,
              "question": "C.I.9: Match 'Do you have similar markets in your home town?' with its answer.",
              "answerOptions": [
                { "text": "No. There are only supermarkets and shopping centres.", "rationale": "**D·ªãch nghƒ©a:** Qu√™ b·∫°n c√≥ khu ch·ª£ n√†o t∆∞∆°ng t·ª± kh√¥ng? -> Kh√¥ng. Ch·ªâ c√≥ si√™u th·ªã v√† trung t√¢m mua s·∫Øm th√¥i.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C√¢u h·ªèi:** 'Do you have...?' (Yes/No question).\n- **ƒê√°p √°n (d):** 'No.' + Gi·∫£i th√≠ch t√¨nh tr·∫°ng th·ª±c t·∫ø ·ªü qu√™ (ch·ªâ c√≥ supermarket).\n- **T·∫°i sao ƒë√∫ng?** C√¢u tr·∫£ l·ªùi ph·ªß ƒë·ªãnh h·ª£p l√Ω v√† ƒë·∫ßy ƒë·ªß th√¥ng tin ƒë·ªëi chi·∫øu.", "isCorrect": true },
                { "text": "Certainly. It would be fun.", "rationale": "Kh√¥ng li√™n quan.", "isCorrect": false },
                { "text": "Yes. The goods are very diverse.", "rationale": "Tr·∫£ l·ªùi 'Yes' nh∆∞ng v·∫ø sau kh√¥ng ƒÉn nh·∫≠p v·ªõi c√¢u h·ªèi v·ªÅ 'similar markets'.", "isCorrect": false },
                { "text": "Of course. There are grilled meat...", "rationale": "Tr·∫£ l·ªùi v·ªÅ ƒë·ªì ƒÉn, kh√¥ng ph·∫£i v·ªÅ s·ª± t·ªìn t·∫°i c·ªßa ch·ª£.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 10,
              "question": "C.I.10: Match 'Do you want to visit it again?' with its answer.",
              "answerOptions": [
                { "text": "Certainly. It would be fun.", "rationale": "**D·ªãch nghƒ©a:** B·∫°n c√≥ mu·ªën thƒÉm l·∫°i n∆°i n√†y kh√¥ng? -> Ch·∫Øc ch·∫Øn r·ªìi. S·∫Ω vui l·∫Øm ƒë·∫•y.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C√¢u h·ªèi:** 'Do you want...?' (M·ªùi m·ªçc/H·ªèi √Ω ƒë·ªãnh).\n- **ƒê√°p √°n (a):** 'Certainly.' (Ch·∫Øc ch·∫Øn r·ªìi) = Yes. 'It would be fun' gi·∫£i th√≠ch l√Ω do mu·ªën quay l·∫°i.\n- **T·∫°i sao ƒë√∫ng?** Th·ªÉ hi·ªán s·ª± ƒë·ªìng √Ω nhi·ªát t√¨nh.", "isCorrect": true },
                { "text": "Yes. The goods are very diverse.", "rationale": "H∆°i g∆∞·ª£ng √©p.", "isCorrect": false },
                { "text": "No. There are only supermarkets...", "rationale": "Sai ng·ªØ c·∫£nh.", "isCorrect": false },
                { "text": "You can go around and enjoy looking.", "rationale": "Sai ng·ªØ ph√°p.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 11,
              "question": "X.1. After tough ______, the tourist decided not to buy the scarf. (bargain)",
              "answerOptions": [
                { "text": "bargaining", "rationale": "**D·ªãch nghƒ©a:** Sau cu·ªôc m·∫∑c c·∫£ gay g·∫Øt, ng∆∞·ªùi du kh√°ch quy·∫øt ƒë·ªãnh kh√¥ng mua chi·∫øc khƒÉn.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **T·ª´ kh√≥a:** 'After' (gi·ªõi t·ª´) + tough (t√≠nh t·ª´) -> C·∫ßn Danh t·ª´.\n- **T·ª´ g·ªëc:** 'bargain' (v) - m·∫∑c c·∫£.\n- **Bi·∫øn ƒë·ªïi:** bargaining (n) - s·ª± m·∫∑c c·∫£, cu·ªôc th∆∞∆°ng l∆∞·ª£ng gi√° c·∫£.\n- **T·∫°i sao ƒë√∫ng?** 'Bargaining' l√† danh t·ª´ (gerund) ph√π h·ª£p ƒëi sau t√≠nh t·ª´ 'tough'.", "isCorrect": true },
                { "text": "bargain", "rationale": "ƒê·ªông t·ª´ nguy√™n th·ªÉ, kh√¥ng ƒë·ª©ng sau t√≠nh t·ª´.", "isCorrect": false },
                { "text": "bargained", "rationale": "Qu√° kh·ª© ph√¢n t·ª´, kh√¥ng ƒë√≥ng vai tr√≤ danh t·ª´ ·ªü ƒë√¢y.", "isCorrect": false },
                { "text": "bargainer", "rationale": "Ng∆∞·ªùi m·∫∑c c·∫£ (kh√¥ng h·ª£p nghƒ©a 'cu·ªôc m·∫∑c c·∫£ gay g·∫Øt').", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 12,
              "question": "X.2. Christian Dior has placed ______ for their new collection everywhere, both online and offline. (advertise)",
              "answerOptions": [
                { "text": "advertisements", "rationale": "**D·ªãch nghƒ©a:** Christian Dior ƒë√£ ƒë·∫∑t c√°c qu·∫£ng c√°o cho b·ªô s∆∞u t·∫≠p m·ªõi c·ªßa h·ªç ·ªü kh·∫Øp n∆°i...\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C·∫•u tr√∫c:** placed (v) + O (t√¢n ng·ªØ l√† danh t·ª´).\n- **T·ª´ g·ªëc:** 'advertise' (v).\n- **Bi·∫øn ƒë·ªïi:** 'advertisement' (n). V√¨ 'everywhere' (kh·∫Øp n∆°i) n√™n d√πng s·ªë nhi·ªÅu -> 'advertisements'.\n- **T·∫°i sao ƒë√∫ng?** C·∫ßn danh t·ª´ s·ªë nhi·ªÅu ch·ªâ v·∫≠t (c√°c m·∫©u qu·∫£ng c√°o).", "isCorrect": true },
                { "text": "advertising", "rationale": "Danh t·ª´ kh√¥ng ƒë·∫øm ƒë∆∞·ª£c (ng√†nh qu·∫£ng c√°o/vi·ªác qu·∫£ng c√°o), th∆∞·ªùng d√πng 'advertisements' (c√°c bi·ªÉn/m·∫©u qu·∫£ng c√°o) khi n√≥i v·ªÅ vi·ªác ƒë·∫∑t c·ª• th·ªÉ.", "isCorrect": false },
                { "text": "advertisers", "rationale": "Nh√† qu·∫£ng c√°o (ng∆∞·ªùi), sai nghƒ©a.", "isCorrect": false },
                { "text": "advertise", "rationale": "ƒê·ªông t·ª´.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 13,
              "question": "X.3. I feel more ______ when I know the market has price tags on all products. (relax)",
              "answerOptions": [
                { "text": "relaxed", "rationale": "**D·ªãch nghƒ©a:** T√¥i c·∫£m th·∫•y th∆∞ gi√£n h∆°n khi bi·∫øt ch·ª£ c√≥ m√°c gi√° tr√™n t·∫•t c·∫£ s·∫£n ph·∫©m.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C·∫•u tr√∫c:** S (ng∆∞·ªùi) + feel + Adj (t√≠nh t·ª´ ch·ªâ c·∫£m x√∫c).\n- **T·ª´ g·ªëc:** 'relax' (v).\n- **Bi·∫øn ƒë·ªïi:** T√≠nh t·ª´ ƒëu√¥i -ed (relaxed) d√πng cho c·∫£m x√∫c c·ªßa ng∆∞·ªùi. T√≠nh t·ª´ ƒëu√¥i -ing (relaxing) d√πng cho t√≠nh ch·∫•t c·ªßa v·∫≠t/s·ª± vi·ªác.\n- **T·∫°i sao ƒë√∫ng?** Ch·ªß ng·ªØ l√† 'I' (ng∆∞·ªùi) -> 'relaxed'.", "isCorrect": true },
                { "text": "relaxing", "rationale": "D√πng cho v·∫≠t (The music is relaxing).", "isCorrect": false },
                { "text": "relaxation", "rationale": "Danh t·ª´.", "isCorrect": false },
                { "text": "relax", "rationale": "ƒê·ªông t·ª´.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 14,
              "question": "X.4. The farmers pride themselves on ______ high-quality organic fruits. (product)",
              "answerOptions": [
                { "text": "producing", "rationale": "**D·ªãch nghƒ©a:** Nh·ªØng ng∆∞·ªùi n√¥ng d√¢n t·ª± h√†o v·ªÅ vi·ªác s·∫£n xu·∫•t ra tr√°i c√¢y h·ªØu c∆° ch·∫•t l∆∞·ª£ng cao.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C·∫•u tr√∫c:** Gi·ªõi t·ª´ 'on' + V-ing (danh ƒë·ªông t·ª´).\n- **T·ª´ g·ªëc:** 'product' (n) -> ƒê·ªông t·ª´ l√† 'produce'.\n- **Bi·∫øn ƒë·ªïi:** produce -> producing (V-ing).\n- **T·∫°i sao ƒë√∫ng?** C·∫ßn V-ing sau gi·ªõi t·ª´ ƒë·ªÉ ch·ªâ h√†nh ƒë·ªông 's·∫£n xu·∫•t'.", "isCorrect": true },
                { "text": "production", "rationale": "Danh t·ª´ (s·ª± s·∫£n xu·∫•t), nh∆∞ng sau ƒë√≥ c√≥ t√¢n ng·ªØ 'high-quality organic fruits' n√™n d√πng V-ing (producing) s·∫Ω t·ª± nhi√™n h∆°n v·ªÅ m·∫∑t ng·ªØ ph√°p ƒë·ªông t·ª´.", "isCorrect": false },
                { "text": "produce", "rationale": "ƒê·ªông t·ª´ nguy√™n th·ªÉ.", "isCorrect": false },
                { "text": "productive", "rationale": "T√≠nh t·ª´.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 15,
              "question": "X.5. Some shopping centres with impressive architecture also become tourist ______. (attract)",
              "answerOptions": [
                { "text": "attractions", "rationale": "**D·ªãch nghƒ©a:** M·ªôt s·ªë trung t√¢m mua s·∫Øm v·ªõi ki·∫øn tr√∫c ·∫•n t∆∞·ª£ng c≈©ng tr·ªü th√†nh c√°c ƒëi·ªÉm thu h√∫t kh√°ch du l·ªãch.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C·ª•m t·ª´:** 'tourist attraction' (ƒëi·ªÉm tham quan/thu h√∫t du l·ªãch).\n- **T·ª´ g·ªëc:** 'attract' (v).\n- **Bi·∫øn ƒë·ªïi:** attraction (n). D√πng s·ªë nhi·ªÅu 'attractions' v√¨ ch·ªß ng·ªØ 'Some shopping centres' l√† s·ªë nhi·ªÅu.\n- **T·∫°i sao ƒë√∫ng?** ƒê√∫ng c·ª•m danh t·ª´ gh√©p 'tourist attractions'.", "isCorrect": true },
                { "text": "attractive", "rationale": "T√≠nh t·ª´.", "isCorrect": false },
                { "text": "attractiveness", "rationale": "S·ª± h·∫•p d·∫´n (tr·ª´u t∆∞·ª£ng).", "isCorrect": false },
                { "text": "attracts", "rationale": "ƒê·ªông t·ª´ chia ng√¥i 3.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 16,
              "question": "X.6. Most people prefer to go to supermarkets as the products have ______ prices. (fix)",
              "answerOptions": [
                { "text": "fixed", "rationale": "**D·ªãch nghƒ©a:** H·∫ßu h·∫øt m·ªçi ng∆∞·ªùi th√≠ch ƒëi si√™u th·ªã v√¨ s·∫£n ph·∫©m c√≥ gi√° c·ªë ƒë·ªãnh (ni√™m y·∫øt).\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C·ª•m t·ª´:** 'fixed price' (gi√° c·ªë ƒë·ªãnh/ni√™m y·∫øt).\n- **T·ª´ g·ªëc:** 'fix' (v).\n- **Bi·∫øn ƒë·ªïi:** 'fixed' (adj/V-ed) b·ªï nghƒ©a cho 'prices'.\n- **T·∫°i sao ƒë√∫ng?** 'Fixed' mang nghƒ©a 'ƒë√£ ƒë∆∞·ª£c c·ªë ƒë·ªãnh'.", "isCorrect": true },
                { "text": "fixing", "rationale": "V-ing (ƒëang s·ª≠a ch·ªØa/c·ªë ƒë·ªãnh).", "isCorrect": false },
                { "text": "fixation", "rationale": "Danh t·ª´.", "isCorrect": false },
                { "text": "fixable", "rationale": "C√≥ th·ªÉ s·ª≠a ƒë∆∞·ª£c.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 17,
              "question": "X.7. That Korean restaurant is famous for serving ______ cheese chicken. (spice)",
              "answerOptions": [
                { "text": "spicy", "rationale": "**D·ªãch nghƒ©a:** Nh√† h√†ng H√†n Qu·ªëc ƒë√≥ n·ªïi ti·∫øng v√¨ ph·ª•c v·ª• m√≥n g√† ph√¥ mai cay.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **V·ªã tr√≠:** Tr∆∞·ªõc c·ª•m danh t·ª´ 'cheese chicken' c·∫ßn m·ªôt t√≠nh t·ª´ b·ªï nghƒ©a.\n- **T·ª´ g·ªëc:** 'spice' (n) - gia v·ªã.\n- **Bi·∫øn ƒë·ªïi:** 'spicy' (adj) - cay/nhi·ªÅu gia v·ªã.\n- **T·∫°i sao ƒë√∫ng?** C·∫ßn t√≠nh t·ª´ mi√™u t·∫£ m√≥n ƒÉn.", "isCorrect": true },
                { "text": "spiced", "rationale": "ƒê∆∞·ª£c t·∫©m gia v·ªã (c≈©ng l√† adj nh∆∞ng 'spicy' ph·ªï bi·∫øn h∆°n cho v·ªã cay).", "isCorrect": false },
                { "text": "spiciness", "rationale": "Danh t·ª´.", "isCorrect": false },
                { "text": "spices", "rationale": "Danh t·ª´ s·ªë nhi·ªÅu.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 18,
              "question": "X.8. Our hotel is ______ situated near a shopping centre and a metro station. (convenient)",
              "answerOptions": [
                { "text": "conveniently", "rationale": "**D·ªãch nghƒ©a:** Kh√°ch s·∫°n c·ªßa ch√∫ng t√¥i t·ªça l·∫°c m·ªôt c√°ch thu·∫≠n ti·ªán g·∫ßn trung t√¢m mua s·∫Øm v√† ga t√†u ƒëi·ªán ng·∫ßm.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **V·ªã tr√≠:** Tr∆∞·ªõc ƒë·ªông t·ª´ (ph√¢n t·ª´ 2) 'situated' c·∫ßn m·ªôt tr·∫°ng t·ª´ b·ªï nghƒ©a.\n- **T·ª´ g·ªëc:** 'convenient' (adj).\n- **Bi·∫øn ƒë·ªïi:** 'conveniently' (adv).\n- **T·∫°i sao ƒë√∫ng?** Tr·∫°ng t·ª´ b·ªï nghƒ©a cho ƒë·ªông t·ª´/t√≠nh t·ª´ (situated). 'Conveniently situated/located' l√† c·ª•m t·ª´ hay d√πng.", "isCorrect": true },
                { "text": "convenience", "rationale": "Danh t·ª´.", "isCorrect": false },
                { "text": "convenient", "rationale": "T√≠nh t·ª´.", "isCorrect": false },
                { "text": "inconvenient", "rationale": "Tr√°i nghƒ©a.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 19,
              "question": "X.9. Christmas markets are usually full of ______ at the beginning of December. (shop)",
              "answerOptions": [
                { "text": "shoppers", "rationale": "**D·ªãch nghƒ©a:** C√°c ch·ª£ Gi√°ng sinh th∆∞·ªùng ch·∫≠t k√≠n ng∆∞·ªùi mua s·∫Øm v√†o ƒë·∫ßu th√°ng 12.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **V·ªã tr√≠:** Sau 'full of' c·∫ßn danh t·ª´.\n- **Ng·ªØ c·∫£nh:** Ch·ª£ th√¨ ƒë·∫ßy 'ng∆∞·ªùi mua s·∫Øm'.\n- **T·ª´ g·ªëc:** 'shop' (v/n).\n- **Bi·∫øn ƒë·ªïi:** 'shoppers' (n) - ng∆∞·ªùi mua s·∫Øm (s·ªë nhi·ªÅu).\n- **T·∫°i sao ƒë√∫ng?** 'Shoppers' h·ª£p nghƒ©a h∆°n 'shopping' hay 'shops' trong ng·ªØ c·∫£nh 'full of'.", "isCorrect": true },
                { "text": "shopping", "rationale": "Vi·ªác mua s·∫Øm (kh√¥ng ƒë·∫øm ƒë∆∞·ª£c, d√πng 'full of shopping' nghe kh√¥ng t·ª± nhi√™n b·∫±ng 'shoppers').", "isCorrect": false },
                { "text": "shops", "rationale": "C·ª≠a h√†ng (Ch·ª£ th√¨ ƒë·∫ßy c·ª≠a h√†ng l√† hi·ªÉn nhi√™n, nh∆∞ng ng·ªØ c·∫£nh 'ƒë·∫ßu th√°ng 12' √°m ch·ªâ s·ª± ƒë√¥ng ƒë√∫c c·ªßa con ng∆∞·ªùi).", "isCorrect": false },
                { "text": "shopped", "rationale": "ƒê·ªông t·ª´ qu√° kh·ª©.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 20,
              "question": "X.10. Everyone found the fair really lively and ______. (entertain)",
              "answerOptions": [
                { "text": "entertaining", "rationale": "**D·ªãch nghƒ©a:** M·ªçi ng∆∞·ªùi ƒë·ªÅu th·∫•y h·ªôi ch·ª£ th·ª±c s·ª± s·ªëng ƒë·ªông v√† th√∫ v·ªã/mang t√≠nh gi·∫£i tr√≠.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C·∫•u tr√∫c:** find + O + adj (th·∫•y c√°i g√¨ nh∆∞ th·∫ø n√†o). Song song v·ªõi 'lively' (adj) ph·∫£i l√† m·ªôt t√≠nh t·ª´ kh√°c.\n- **T·ª´ g·ªëc:** 'entertain' (v).\n- **Bi·∫øn ƒë·ªïi:** 'entertaining' (adj) - th√∫ v·ªã, c√≥ t√≠nh gi·∫£i tr√≠ (d√πng cho s·ª± v·∫≠t/s·ª± vi·ªác). 'entertained' (adj) - c·∫£m th·∫•y ƒë∆∞·ª£c gi·∫£i tr√≠ (d√πng cho ng∆∞·ªùi).\n- **T·∫°i sao ƒë√∫ng?** Mi√™u t·∫£ t√≠nh ch·∫•t c·ªßa 'the fair' (h·ªôi ch·ª£) -> D√πng V-ing (entertaining).", "isCorrect": true },
                { "text": "entertained", "rationale": "D√πng cho c·∫£m x√∫c ng∆∞·ªùi (I felt entertained).", "isCorrect": false },
                { "text": "entertainment", "rationale": "Danh t·ª´.", "isCorrect": false },
                { "text": "entertainer", "rationale": "Ng∆∞·ªùi l√†m gi·∫£i tr√≠.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 21,
              "question": "XI.1. The promotion ends ______ July 15th.",
              "answerOptions": [
                { "text": "on", "rationale": "**D·ªãch nghƒ©a:** Ch∆∞∆°ng tr√¨nh khuy·∫øn m√£i k·∫øt th√∫c v√†o ng√†y 15 th√°ng 7.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **Quy t·∫Øc:** Gi·ªõi t·ª´ ch·ªâ th·ªùi gian.\n- **Ng√†y c·ª• th·ªÉ:** D√πng 'on' (on Monday, on July 15th).\n- **Th√°ng/NƒÉm:** D√πng 'in' (in July, in 2023).\n- **Gi·ªù:** D√πng 'at' (at 5pm).\n- **T·∫°i sao ƒë√∫ng?** 'July 15th' l√† ng√†y c·ª• th·ªÉ -> d√πng **on**.", "isCorrect": true },
                { "text": "in", "rationale": "D√πng cho th√°ng/nƒÉm.", "isCorrect": false },
                { "text": "at", "rationale": "D√πng cho gi·ªù.", "isCorrect": false },
                { "text": "from", "rationale": "D√πng cho kho·∫£ng th·ªùi gian (from... to...).", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 22,
              "question": "XI.2. You need to look at the price ______ the price tag before buying anything.",
              "answerOptions": [
                { "text": "on", "rationale": "**D·ªãch nghƒ©a:** B·∫°n c·∫ßn nh√¨n v√†o gi√° tr√™n m√°c gi√° tr∆∞·ªõc khi mua b·∫•t c·ª© th·ª© g√¨.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **Quy t·∫Øc:** V·ªã tr√≠ tr√™n b·ªÅ m·∫∑t.\n- **Ng·ªØ c·∫£nh:** Gi√° ƒë∆∞·ª£c in/vi·∫øt 'tr√™n' m√°c gi√°.\n- **T·∫°i sao ƒë√∫ng?** 'On the price tag' l√† c·ª•m c·ªë ƒë·ªãnh ch·ªâ v·ªã tr√≠ tr√™n b·ªÅ m·∫∑t.", "isCorrect": true },
                { "text": "in", "rationale": "Sai (trong).", "isCorrect": false },
                { "text": "at", "rationale": "Sai.", "isCorrect": false },
                { "text": "of", "rationale": "Sai.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 23,
              "question": "XI.3. I am really looking forward ______ the big sales on Black Friday.",
              "answerOptions": [
                { "text": "to", "rationale": "**D·ªãch nghƒ©a:** T√¥i th·ª±c s·ª± mong ch·ªù ƒë·ª£t gi·∫£m gi√° l·ªõn v√†o Black Friday.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C·ª•m ƒë·ªông t·ª´:** 'look forward TO something/V-ing' (mong ch·ªù ƒëi·ªÅu g√¨).\n- **T·∫°i sao ƒë√∫ng?** ƒê√¢y l√† gi·ªõi t·ª´ b·∫Øt bu·ªôc ƒëi theo c·ª•m 'look forward'.", "isCorrect": true },
                { "text": "for", "rationale": "Sai.", "isCorrect": false },
                { "text": "at", "rationale": "Sai.", "isCorrect": false },
                { "text": "with", "rationale": "Sai.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 24,
              "question": "XI.4. We need to stay up late as the online sale starts ______ midnight.",
              "answerOptions": [
                { "text": "at", "rationale": "**D·ªãch nghƒ©a:** Ch√∫ng ta c·∫ßn th·ª©c khuya v√¨ ƒë·ª£t gi·∫£m gi√° tr·ª±c tuy·∫øn b·∫Øt ƒë·∫ßu l√∫c n·ª≠a ƒë√™m.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **Quy t·∫Øc:** Gi·ªõi t·ª´ ch·ªâ th·ªùi ƒëi·ªÉm c·ª• th·ªÉ trong ng√†y.\n- **C·ª•m c·ªë ƒë·ªãnh:** 'at midnight' (l√∫c n·ª≠a ƒë√™m), 'at noon' (l√∫c tr∆∞a), 'at night'.\n- **T·∫°i sao ƒë√∫ng?** 'Midnight' ƒëi v·ªõi gi·ªõi t·ª´ **at**.", "isCorrect": true },
                { "text": "on", "rationale": "Sai.", "isCorrect": false },
                { "text": "in", "rationale": "Sai (in the morning/afternoon/evening, nh∆∞ng at midnight).", "isCorrect": false },
                { "text": "to", "rationale": "Sai.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 25,
              "question": "XI.5. Mega Market is famous ______ selling a wide range of products.",
              "answerOptions": [
                { "text": "for", "rationale": "**D·ªãch nghƒ©a:** Mega Market n·ªïi ti·∫øng v√¨ b√°n ƒëa d·∫°ng c√°c lo·∫°i s·∫£n ph·∫©m.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C·ª•m t√≠nh t·ª´:** 'famous FOR something/V-ing' (n·ªïi ti·∫øng v·ªÅ c√°i g√¨/v√¨ l√†m g√¨).\n- **T·∫°i sao ƒë√∫ng?** Gi·ªõi t·ª´ ƒëi theo 'famous' l√† **for**.", "isCorrect": true },
                { "text": "with", "rationale": "Sai.", "isCorrect": false },
                { "text": "about", "rationale": "Sai.", "isCorrect": false },
                { "text": "of", "rationale": "Sai.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 26,
              "question": "XI.6. The tourist believed that he paid too much ______ a small keychain.",
              "answerOptions": [
                { "text": "for", "rationale": "**D·ªãch nghƒ©a:** Ng∆∞·ªùi du kh√°ch tin r·∫±ng anh ta ƒë√£ tr·∫£ qu√° nhi·ªÅu ti·ªÅn cho m·ªôt chi·∫øc m√≥c kh√≥a nh·ªè.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C·∫•u tr√∫c:** 'pay (money) FOR something' (tr·∫£ ti·ªÅn cho c√°i g√¨).\n- **T·∫°i sao ƒë√∫ng?** Gi·ªõi t·ª´ ch·ªâ m·ª•c ƒë√≠ch trao ƒë·ªïi ti·ªÅn l·∫•y h√†ng l√† **for**.", "isCorrect": true },
                { "text": "to", "rationale": "Pay to someone (tr·∫£ cho ai), kh√¥ng d√πng pay to something.", "isCorrect": false },
                { "text": "on", "rationale": "Spend money ON something, nh∆∞ng Pay money FOR something.", "isCorrect": false },
                { "text": "at", "rationale": "Sai.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 27,
              "question": "XI.7. Many customers are making complaints ______ the newly released lotion.",
              "answerOptions": [
                { "text": "about", "rationale": "**D·ªãch nghƒ©a:** Nhi·ªÅu kh√°ch h√†ng ƒëang ph√†n n√†n v·ªÅ lo·∫°i kem d∆∞·ª°ng da m·ªõi ra m·∫Øt.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C·∫•u tr√∫c:** 'make a complaint ABOUT something' (ph√†n n√†n v·ªÅ ƒëi·ªÅu g√¨).\n- **T·∫°i sao ƒë√∫ng?** Gi·ªõi t·ª´ ch·ªâ ch·ªß ƒë·ªÅ c·ªßa l·ªùi ph√†n n√†n l√† **about**.", "isCorrect": true },
                { "text": "for", "rationale": "Sai.", "isCorrect": false },
                { "text": "on", "rationale": "√çt d√πng h∆°n about.", "isCorrect": false },
                { "text": "to", "rationale": "Complain TO someone (ph√†n n√†n v·ªõi ai).", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 28,
              "question": "XI.8. The tourists are spending the whole afternoon ______ Siam Center.",
              "answerOptions": [
                { "text": "at", "rationale": "**D·ªãch nghƒ©a:** C√°c du kh√°ch ƒëang d√†nh c·∫£ bu·ªïi chi·ªÅu ·ªü Siam Center.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **Quy t·∫Øc:** Ch·ªâ v·ªã tr√≠ t·∫°i m·ªôt ƒë·ªãa ƒëi·ªÉm c·ª• th·ªÉ (nh∆∞ t√≤a nh√†, trung t√¢m th∆∞∆°ng m·∫°i).\n- **T·∫°i sao ƒë√∫ng?** 'At' d√πng cho ƒë·ªãa ƒëi·ªÉm x√°c ƒë·ªãnh (at the mall, at Siam Center). 'In' c≈©ng c√≥ th·ªÉ d√πng (b√™n trong), nh∆∞ng 'at' ph·ªï bi·∫øn h∆°n khi n√≥i v·ªÅ ƒëi·ªÉm ƒë·∫øn chung.", "isCorrect": true },
                { "text": "on", "rationale": "Sai.", "isCorrect": false },
                { "text": "to", "rationale": "Sai (spend time to... l√† sai ng·ªØ ph√°p).", "isCorrect": false },
                { "text": "for", "rationale": "Sai.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 29,
              "question": "XI.9. I like the design of the phone, but I‚Äôm not happy ______ its colour.",
              "answerOptions": [
                { "text": "with", "rationale": "**D·ªãch nghƒ©a:** T√¥i th√≠ch thi·∫øt k·∫ø c·ªßa chi·∫øc ƒëi·ªán tho·∫°i, nh∆∞ng t√¥i kh√¥ng h√†i l√≤ng v·ªõi m√†u s·∫Øc c·ªßa n√≥.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C·∫•u tr√∫c:** 'happy WITH something' (h√†i l√≤ng/vui v·∫ª v·ªõi c√°i g√¨).\n- **T·∫°i sao ƒë√∫ng?** Gi·ªõi t·ª´ ƒëi theo t√≠nh t·ª´ 'happy' trong ng·ªØ c·∫£nh h√†i l√≤ng l√† **with** (ho·∫∑c about). Trong tr·∫Øc nghi·ªám n√†y ∆∞u ti√™n 'with'.", "isCorrect": true },
                { "text": "for", "rationale": "Happy for someone (m·ª´ng cho ai).", "isCorrect": false },
                { "text": "at", "rationale": "Sai.", "isCorrect": false },
                { "text": "of", "rationale": "Sai.", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 30,
              "question": "XI.10. Shopping centres are often full ______ people during holidays.",
              "answerOptions": [
                { "text": "of", "rationale": "**D·ªãch nghƒ©a:** C√°c trung t√¢m mua s·∫Øm th∆∞·ªùng ch·∫≠t k√≠n ng∆∞·ªùi v√†o nh·ªØng ng√†y l·ªÖ.\n\n**Ph√¢n t√≠ch chi ti·∫øt:**\n- **C·ª•m t√≠nh t·ª´:** 'full OF something' (ƒë·∫ßy c√°i g√¨).\n- **T·∫°i sao ƒë√∫ng?** Gi·ªõi t·ª´ c·ªë ƒë·ªãnh ƒëi v·ªõi 'full' l√† **of**.", "isCorrect": true },
                { "text": "with", "rationale": "D√πng cho 'crowded WITH' (ƒë√¥ng ƒë√∫c v·ªõi), c√≤n 'full' ph·∫£i ƒëi v·ªõi 'of'.", "isCorrect": false },
                { "text": "by", "rationale": "Sai.", "isCorrect": false },
                { "text": "in", "rationale": "Sai.", "isCorrect": false }
              ]
            }
          ]
        };

        // --- SOUNDS ---
        // Base64 short beeps for single file requirement
        const soundCorrect = new Audio("data:audio/wav;base64,UklGRl9vT1BXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YU..."); // Placeholder for shortness, we use visual feedback primarily if audio fails
        // Actually, let's use a very short synthesized beep context for reliability and size
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(type) {
            if (audioCtx.state === 'suspended') {
                audioCtx.resume();
            }
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            
            if (type === 'correct') {
                // High pitched Ding
                oscillator.type = 'sine';
                oscillator.frequency.setValueAtTime(523.25, audioCtx.currentTime); // C5
                oscillator.frequency.exponentialRampToValueAtTime(1046.5, audioCtx.currentTime + 0.1); // C6
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.5);
            } else {
                // Low pitched Buzz
                oscillator.type = 'sawtooth';
                oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
                oscillator.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                oscillator.start();
                oscillator.stop(audioCtx.currentTime + 0.3);
            }
        }

        // --- CONFETTI ENGINE ---
        const confettiCanvas = document.getElementById('confetti-canvas');
        const ctx = confettiCanvas.getContext('2d');
        let confetti = [];

        function resizeCanvas() {
            confettiCanvas.width = window.innerWidth;
            confettiCanvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        function createConfetti() {
            for (let i = 0; i < 100; i++) {
                confetti.push({
                    x: Math.random() * confettiCanvas.width,
                    y: Math.random() * confettiCanvas.height - confettiCanvas.height,
                    color: `hsl(${Math.random() * 360}, 100%, 50%)`,
                    size: Math.random() * 10 + 5,
                    speedY: Math.random() * 3 + 2,
                    speedX: Math.random() * 4 - 2
                });
            }
        }

        function drawConfetti() {
            ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
            confetti.forEach((p, index) => {
                ctx.fillStyle = p.color;
                ctx.fillRect(p.x, p.y, p.size, p.size);
                p.y += p.speedY;
                p.x += p.speedX;
                if (p.y > confettiCanvas.height) confetti.splice(index, 1);
            });
            if (confetti.length > 0) requestAnimationFrame(drawConfetti);
        }

        function triggerConfetti() {
            createConfetti();
            drawConfetti();
        }

        // --- QUIZ LOGIC ---
        let score = 0;
        let answeredCount = 0;
        const totalQuestions = quizData.questions.length;

        function formatRationale(rationaleText) {
            // Converts raw text to stylized HTML based on the prompt's formatting needs
            // Look for bold markers **Text** and replace with HTML
            let formatted = rationaleText.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            
            // Auto-format specific keywords to Headers if they exist
            formatted = formatted.replace(/(D·ªãch nghƒ©a:)/g, '<span class="rationale-header">üìñ $1</span>');
            formatted = formatted.replace(/(Ph√¢n t√≠ch chi ti·∫øt:)/g, '<br><span class="rationale-header">üßê $1</span>');
            formatted = formatted.replace(/(T·∫°i sao ƒë√∫ng\?)/g, '<br><span class="rationale-header">‚úÖ $1</span>');
            
            // Format bullet points
            formatted = formatted.replace(/- /g, '<br>üîπ ');
            
            return formatted;
        }

        function renderQuiz() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = '';

            quizData.questions.forEach((q, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.id = `q-${index}`;

                // Header number
                const qNum = document.createElement('div');
                qNum.className = 'question-number';
                qNum.textContent = `Question ${index + 1}`;
                card.appendChild(qNum);

                // Question Text
                const qText = document.createElement('div');
                qText.className = 'question-text';
                qText.innerHTML = q.question.replace(/\n/g, '<br>');
                card.appendChild(qText);

                // Options Container
                const optionsGrid = document.createElement('div');
                optionsGrid.className = 'options-grid';

                // We need to construct the explanation content based on ALL options
                let explanationHTML = `<div class="explanation-header"><span>üí°</span> Ms. Mai An gi·∫£i th√≠ch:</div>
                                       <div class="explanation-content">
                                       ${formatRationale(q.answerOptions.find(o => o.isCorrect).rationale)}
                                       <br><br><span class="rationale-header">‚ùå C√°c ƒë√°p √°n kh√°c:</span>`;
                
                // Add analysis for wrong answers
                q.answerOptions.forEach(opt => {
                    if(!opt.isCorrect) {
                         explanationHTML += `<br>üî∏ <strong>${opt.text}</strong>: ${opt.rationale}`;
                    }
                });
                explanationHTML += `</div>`;


                q.answerOptions.forEach((opt, optIndex) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.innerHTML = `<span>${String.fromCharCode(65 + optIndex)}. ${opt.text}</span>`;
                    
                    btn.onclick = () => checkAnswer(btn, opt.isCorrect, card, explanationHTML);
                    
                    optionsGrid.appendChild(btn);
                });

                card.appendChild(optionsGrid);

                // Explanation Div (Hidden initially)
                const expDiv = document.createElement('div');
                expDiv.className = 'explanation-box';
                expDiv.innerHTML = explanationHTML;
                card.appendChild(expDiv);

                container.appendChild(card);
            });
        }

        function checkAnswer(btn, isCorrect, card, explanationHTML) {
            // Disable all buttons in this card
            const buttons = card.querySelectorAll('.option-btn');
            if (btn.classList.contains('disabled')) return; // Already answered

            buttons.forEach(b => b.classList.add('disabled'));

            if (isCorrect) {
                btn.classList.add('correct');
                score++;
                playSound('correct');
                triggerConfetti();
            } else {
                btn.classList.add('wrong');
                playSound('wrong');
                // Highlight the correct one automatically
                // Find correct option index logic could be added here, 
                // but usually better to let student read explanation.
                // However, user requested "Instant feedback Green/Red".
            }

            answeredCount++;
            
            // Show Explanation
            const expBox = card.querySelector('.explanation-box');
            expBox.style.display = 'block';
        }

        function finishQuiz() {
            const popup = document.getElementById('result-popup');
            const scoreText = document.getElementById('final-score');
            const feedbackText = document.getElementById('final-feedback');

            scoreText.textContent = `${score}/${totalQuestions}`;

            const percentage = (score / totalQuestions) * 100;
            if (percentage === 100) {
                feedbackText.textContent = "Xu·∫•t s·∫Øc! B·∫°n l√† thi√™n t√†i ti·∫øng Anh! üåüüèÜ";
                triggerConfetti();
            } else if (percentage >= 80) {
                feedbackText.textContent = "Gi·ªèi l·∫Øm! C·ªë g·∫Øng th√™m ch√∫t n·ªØa l√† ho√†n h·∫£o! üéâ";
            } else if (percentage >= 50) {
                feedbackText.textContent = "Kh√° t·ªët! H√£y xem l·∫°i ph·∫ßn gi·∫£i th√≠ch ƒë·ªÉ hi·ªÉu r√µ h∆°n nh√©. üí™";
            } else {
                feedbackText.textContent = "ƒê·ª´ng n·∫£n l√≤ng! Ms. Mai An tin b·∫°n s·∫Ω l√†m t·ªët h∆°n l·∫ßn sau. ‚ù§Ô∏è";
            }

            popup.style.display = 'flex';
        }

        function closePopup() {
            document.getElementById('result-popup').style.display = 'none';
        }

        // Initialize
        renderQuiz();

    </script>
</body>
</html>
