<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Energy Sources: Vocabulary & Grammar Practice - Ms. Mai An</title>
    <!-- Import Google Fonts: Nunito -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <!-- Import Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --primary-purple: #8854C0;
            --primary-teal: #00C9A7;
            --correct-green: #00D26A;
            --wrong-red: #FF4757;
            --bg-color: #f0f3f8;
            --text-color: #2d3436;
            --card-shadow: 0 8px 0 rgba(0,0,0,0.1);
            --btn-shadow: 0 5px 0 rgba(0,0,0,0.15);
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: #E0EAFC; /* Fallback */
            background-image: radial-gradient(#8854C0 0.8px, transparent 0.8px), radial-gradient(#00C9A7 0.8px, #E0EAFC 0.8px);
            background-size: 30px 30px;
            background-position: 0 0, 15px 15px;
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding-bottom: 80px;
        }

        /* Header Styles */
        header {
            text-align: center;
            background: white;
            padding: 15px;
            border-radius: 20px;
            box-shadow: 0 10px 20px rgba(136, 84, 192, 0.2);
            margin-bottom: 30px;
            border-bottom: 5px solid var(--primary-purple);
        }

        h1 {
            color: var(--primary-purple);
            margin: 0;
            font-weight: 800;
            font-size: 1.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .sub-header {
            color: #636e72;
            font-weight: 600;
            margin-top: 5px;
            font-size: 1rem;
        }

        /* Question Card Styles */
        .question-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 0 rgba(0,0,0,0.05);
            border: 2px solid #f1f2f6;
            position: relative;
            transition: transform 0.3s ease;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .q-number {
            background: var(--primary-purple);
            color: white;
            padding: 5px 15px;
            border-radius: 12px;
            font-weight: 800;
            font-size: 0.9rem;
        }

        .question-text {
            font-size: 1.25rem;
            font-weight: 700;
            color: #2d3436;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        /* Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        .option-btn {
            background: white;
            border: 2px solid #dfe6e9;
            border-radius: 15px;
            padding: 15px 20px;
            font-family: 'Nunito', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: #636e72;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
            box-shadow: 0 4px 0 #dfe6e9;
            text-align: left;
            position: relative;
            overflow: hidden;
        }

        .option-btn:hover:not(:disabled) {
            transform: translateY(-3px) scale(1.02);
            border-color: var(--primary-purple);
            color: var(--primary-purple);
            box-shadow: 0 7px 0 #dcdde1;
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(2px);
            box-shadow: 0 0 0 #dfe6e9;
        }

        /* Correct/Wrong States */
        .option-btn.correct {
            background-color: var(--correct-green) !important;
            color: white !important;
            border-color: #00b85c !important;
            box-shadow: 0 4px 0 #00944a !important;
            transform: none !important;
        }

        .option-btn.wrong {
            background-color: var(--wrong-red) !important;
            color: white !important;
            border-color: #eb3b49 !important;
            box-shadow: 0 4px 0 #c0392b !important;
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }

        /* Explanation Box */
        .explanation-box {
            margin-top: 20px;
            background: #f0fff4; /* Light green bg */
            border: 2px dashed var(--primary-teal);
            border-radius: 15px;
            padding: 20px;
            display: none; /* Hidden by default */
            animation: slideDown 0.4s ease-out;
        }

        .explanation-header {
            font-weight: 800;
            color: var(--primary-teal);
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .explanation-content {
            font-size: 1rem;
            line-height: 1.6;
            color: #444;
            white-space: pre-wrap; /* Preserve line breaks */
        }
        
        .explanation-content strong {
            color: var(--primary-purple);
        }

        /* Floating Score */
        .score-board {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            font-weight: 800;
            color: var(--primary-purple);
            font-size: 1.2rem;
            z-index: 100;
            border: 3px solid var(--primary-purple);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Submit Button */
        .submit-section {
            text-align: center;
            margin-top: 40px;
        }

        .submit-btn {
            background: var(--primary-purple);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.5rem;
            border-radius: 50px;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 8px 0 #6c429c;
            transition: transform 0.2s;
            font-family: 'Nunito', sans-serif;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 0 #6c429c;
            background: #9b59b6;
        }
        
        .submit-btn:active {
            transform: translateY(4px);
            box-shadow: 0 0 0 #6c429c;
        }

        /* Animations */
        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            animation: slideDown 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 5px solid var(--primary-teal);
        }
        
        .modal-score {
            font-size: 3rem;
            color: var(--primary-purple);
            font-weight: 900;
            margin: 20px 0;
        }
        
        .modal-praise {
            font-size: 1.2rem;
            color: #555;
            margin-bottom: 30px;
        }

    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1>Energy Sources</h1>
            <div class="sub-header">Vocabulary & Grammar Practice ‚Ä¢ Ms. Mai An ULIS</div>
        </header>

        <div id="quiz-container">
            <!-- Questions will be injected here via JavaScript -->
        </div>

        <div class="submit-section">
            <button class="submit-btn" onclick="finishQuiz()">N·ªòP B√ÄI</button>
        </div>
    </div>

    <!-- Sticky Score -->
    <div class="score-board">
        <span>üèÜ</span>
        <span id="score-display">0</span> / <span id="total-display">30</span>
    </div>

    <!-- Result Modal -->
    <div class="modal-overlay" id="result-modal">
        <div class="modal-content">
            <h2>K·∫øt Qu·∫£ C·ªßa Con</h2>
            <div class="modal-score" id="final-score">0/30</div>
            <p class="modal-praise" id="final-praise">L√†m t·ªët l·∫Øm!</p>
            <button class="submit-btn" onclick="closeModal()" style="font-size: 1rem; padding: 10px 30px;">Xem l·∫°i b√†i</button>
        </div>
    </div>

    <script>
        // --- DATA SOURCE ---
        const quizData = [
            {
              "questionNumber": 1,
              "question": "We should rely much more on ______ sources of energy. (Ex 5)",
              "answerOptions": [
                { "text": "alternative", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- limited (adj): c√≥ h·∫°n.\n- expensive (adj): ƒë·∫Øt ƒë·ªè.\n- alternative (adj): thay th·∫ø (th∆∞·ªùng ch·ªâ nƒÉng l∆∞·ª£ng s·∫°ch thay cho nhi√™n li·ªáu h√≥a th·∫°ch).\n2. D·ªãch nghƒ©a: \"Ch√∫ng ta n√™n d·ª±a nhi·ªÅu h∆°n v√†o c√°c ngu·ªìn nƒÉng l∆∞·ª£ng thay th·∫ø.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- Ng·ªØ c·∫£nh khuy√™n b·∫£o \"should rely much more\" (n√™n d·ª±a v√†o nhi·ªÅu h∆°n) -> C·∫ßn m·ªôt t√≠nh t·ª´ mang nghƒ©a t√≠ch c·ª±c/gi·∫£i ph√°p." },
                { "text": "limited", "isCorrect": false, "rationale": "Kh√¥ng ai khuy√™n d·ª±a v√†o ngu·ªìn c√≥ h·∫°n." },
                { "text": "expensive", "isCorrect": false, "rationale": "Kh√¥ng ai khuy√™n d·ª±a v√†o ngu·ªìn ƒë·∫Øt ƒë·ªè." }
              ]
            },
            {
              "questionNumber": 2,
              "question": "The river provides a ______ supply of clean water to nearby villages - they don‚Äôt worry about water supply any more. (Ex 5)",
              "answerOptions": [
                { "text": "plentiful", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- limited (adj): h·∫°n ch·∫ø.\n- plentiful (adj): d·ªìi d√†o, phong ph√∫.\n- polluting (adj): g√¢y √¥ nhi·ªÖm.\n2. D·ªãch nghƒ©a: \"Con s√¥ng cung c·∫•p ngu·ªìn n∆∞·ªõc s·∫°ch d·ªìi d√†o cho c√°c ng√¥i l√†ng g·∫ßn ƒë√≥ - h·ªç kh√¥ng c√≤n lo l·∫Øng v·ªÅ ngu·ªìn c·∫•p n∆∞·ªõc n·ªØa.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- C·ª•m \"don't worry... any more\" (kh√¥ng c√≤n lo l·∫Øng n·ªØa) ch·ª©ng t·ªè ngu·ªìn n∆∞·ªõc ph·∫£i nhi·ªÅu/ƒë·ªß d√πng -> plentiful." },
                { "text": "limited", "isCorrect": false, "rationale": "N·∫øu h·∫°n ch·∫ø th√¨ ph·∫£i lo l·∫Øng." },
                { "text": "polluting", "isCorrect": false, "rationale": "N∆∞·ªõc s·∫°ch (clean water) kh√¥ng th·ªÉ g√¢y √¥ nhi·ªÖm." }
              ]
            },
            {
              "questionNumber": 3,
              "question": "The problem with fossil fuels is that they are not ______. (Ex 5)",
              "answerOptions": [
                { "text": "renewable", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- non-renewable (adj): kh√¥ng th·ªÉ t√°i t·∫°o.\n- renewable (adj): c√≥ th·ªÉ t√°i t·∫°o.\n- dangerous (adj): nguy hi·ªÉm.\n2. D·ªãch nghƒ©a: \"V·∫•n ƒë·ªÅ v·ªõi nhi√™n li·ªáu h√≥a th·∫°ch l√† ch√∫ng kh√¥ng th·ªÉ t√°i t·∫°o.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- Fossil fuels (nhi√™n li·ªáu h√≥a th·∫°ch) b·∫£n ch·∫•t l√† non-renewable. C√¢u vƒÉn c√≥ ch·ªØ \"not\" (kh√¥ng) -> They are NOT renewable (Ch√∫ng kh√¥ng t√°i t·∫°o ƒë∆∞·ª£c)." },
                { "text": "non-renewable", "isCorrect": false, "rationale": "Sai logic (They are not non-renewable = They are renewable -> Sai s·ª± th·∫≠t)." },
                { "text": "dangerous", "isCorrect": false, "rationale": "Sai logic (Nhi√™n li·ªáu h√≥a th·∫°ch th·ª±c t·∫ø c√≥ g√¢y nguy h·∫°i m√¥i tr∆∞·ªùng, n√™n n√≥i ch√∫ng 'kh√¥ng nguy hi·ªÉm' l√† sai)." }
              ]
            },
            {
              "questionNumber": 4,
              "question": "The public have more concerns about ______ energy because of waste and accidents. (Ex 5)",
              "answerOptions": [
                { "text": "nuclear", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- water (n): n∆∞·ªõc (th·ªßy ƒëi·ªán).\n- nuclear (n/adj): h·∫°t nh√¢n.\n- solar (n/adj): m·∫∑t tr·ªùi.\n2. D·ªãch nghƒ©a: \"C√¥ng ch√∫ng quan ng·∫°i nhi·ªÅu h∆°n v·ªÅ nƒÉng l∆∞·ª£ng h·∫°t nh√¢n do ch·∫•t th·∫£i v√† tai n·∫°n.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- T·ª´ kh√≥a \"waste\" (ch·∫•t th·∫£i ph√≥ng x·∫°) v√† \"accidents\" (tai n·∫°n nh√† m√°y) l√† ƒë·∫∑c tr∆∞ng r·ªßi ro c·ªßa nƒÉng l∆∞·ª£ng h·∫°t nh√¢n." },
                { "text": "water", "isCorrect": false, "rationale": "√çt khi lo v·ªÅ ch·∫•t th·∫£i." },
                { "text": "solar", "isCorrect": false, "rationale": "R·∫•t an to√†n, kh√¥ng c√≥ tai n·∫°n l·ªõn." }
              ]
            },
            {
              "questionNumber": 5,
              "question": "He seems not to ______, so he can work for hours without stopping. (Ex 5)",
              "answerOptions": [
                { "text": "run out of energy", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- run up (phrasal verb): k√©o c·ªù l√™n/t√≠ch l≈©y n·ª£.\n- run away (phrasal verb): ch·∫°y tr·ªën.\n- run out of (phrasal verb): c·∫°n ki·ªát/h·∫øt s·∫°ch.\n2. D·ªãch nghƒ©a: \"Anh ·∫•y d∆∞·ªùng nh∆∞ kh√¥ng bao gi·ªù h·∫øt nƒÉng l∆∞·ª£ng, v√¨ v·∫≠y anh ·∫•y c√≥ th·ªÉ l√†m vi·ªác h√†ng gi·ªù kh√¥ng ngh·ªâ.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- \"Work for hours without stopping\" -> Kh√¥ng b·ªã h·∫øt s·ª©c -> not run out of energy." },
                { "text": "run up", "isCorrect": false, "rationale": "Sai nghƒ©a." },
                { "text": "run away", "isCorrect": false, "rationale": "Sai nghƒ©a." }
              ]
            },
            {
              "questionNumber": 6,
              "question": "Strawberries are ______ and cheap in summer. (Ex 5)",
              "answerOptions": [
                { "text": "plentiful", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- plentiful (adj): nhi·ªÅu, d·ªìi d√†o.\n- limited (adj): h·∫°n ch·∫ø.\n- renewable (adj): t√°i t·∫°o ƒë∆∞·ª£c (th∆∞·ªùng n√≥i v·ªÅ nƒÉng l∆∞·ª£ng).\n2. D·ªãch nghƒ©a: \"D√¢u t√¢y th√¨ d·ªìi d√†o v√† r·∫ª v√†o m√πa h√®.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- Quy lu·∫≠t cung c·∫ßu: H√†ng nhi·ªÅu (plentiful) th√¨ gi√° r·∫ª (cheap)." },
                { "text": "limited", "isCorrect": false, "rationale": "N·∫øu hi·∫øm (limited) th√¨ ph·∫£i ƒë·∫Øt." },
                { "text": "renewable", "isCorrect": false, "rationale": "Kh√¥ng d√πng t·ª´ n√†y cho hoa qu·∫£ trong ng·ªØ c·∫£nh mua b√°n." }
              ]
            },
            {
              "questionNumber": 7,
              "question": "Our ______ natural resources will run out soon. (Ex 5)",
              "answerOptions": [
                { "text": "available", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- harmful (adj): c√≥ h·∫°i.\n- available (adj): c√≥ s·∫µn/hi·ªán c√≥.\n- nuclear (adj): h·∫°t nh√¢n.\n2. D·ªãch nghƒ©a: \"C√°c ngu·ªìn t√†i nguy√™n thi√™n nhi√™n s·∫µn c√≥ c·ªßa ch√∫ng ta s·∫Ω s·ªõm c·∫°n ki·ªát.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- N√≥i v·ªÅ tr·ªØ l∆∞·ª£ng t√†i nguy√™n ƒëang khai th√°c -> available natural resources." },
                { "text": "harmful", "isCorrect": false, "rationale": "Kh√¥ng h·ª£p l√Ω." },
                { "text": "nuclear", "isCorrect": false, "rationale": "Nuclear resources (uranium) l√† m·ªôt lo·∫°i c·ª• th·ªÉ, nh∆∞ng ng·ªØ c·∫£nh 'natural resources' chung chung th∆∞·ªùng ƒëi v·ªõi available." }
              ]
            },
            {
              "questionNumber": 8,
              "question": "Using green sources of energy can make the air ______. (Ex 5)",
              "answerOptions": [
                { "text": "clean", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- cheap (adj): r·∫ª.\n- unlimited (adj): v√¥ h·∫°n.\n- clean (adj): s·∫°ch.\n2. D·ªãch nghƒ©a: \"S·ª≠ d·ª•ng ngu·ªìn nƒÉng l∆∞·ª£ng xanh c√≥ th·ªÉ l√†m cho kh√¥ng kh√≠ trong s·∫°ch.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- Green energy (nƒÉng l∆∞·ª£ng xanh) -> gi·∫£m √¥ nhi·ªÖm -> air clean." },
                { "text": "cheap", "isCorrect": false, "rationale": "Kh√¥ng kh√≠ kh√¥ng mua b√°n n√™n kh√¥ng d√πng 'cheap'." },
                { "text": "unlimited", "isCorrect": false, "rationale": "Kh√¥ng kh√≠ v·ªën dƒ© nhi·ªÅu, v·∫•n ƒë·ªÅ l√† ch·∫•t l∆∞·ª£ng (s·∫°ch/b·∫©n)." }
              ]
            },
            {
              "questionNumber": 9,
              "question": "Solar energy seems to be ______ - we can rely on it for a very long time. (Ex 5)",
              "answerOptions": [
                { "text": "unlimited", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- limited (adj): c√≥ h·∫°n.\n- unlimited (adj): v√¥ h·∫°n.\n- harmful (adj): c√≥ h·∫°i.\n2. D·ªãch nghƒ©a: \"NƒÉng l∆∞·ª£ng m·∫∑t tr·ªùi d∆∞·ªùng nh∆∞ l√† v√¥ h·∫°n - ch√∫ng ta c√≥ th·ªÉ d·ª±a v√†o n√≥ trong m·ªôt th·ªùi gian r·∫•t d√†i.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- \"Rely on it for a very long time\" -> Ngu·ªìn cung kh√¥ng bao gi·ªù h·∫øt -> unlimited." },
                { "text": "limited", "isCorrect": false, "rationale": "Ng∆∞·ª£c nghƒ©a." },
                { "text": "harmful", "isCorrect": false, "rationale": "Sai ki·∫øn th·ª©c (nƒÉng l∆∞·ª£ng m·∫∑t tr·ªùi th√¢n thi·ªán m√¥i tr∆∞·ªùng)." }
              ]
            },
            {
              "questionNumber": 10,
              "question": "The air becomes worse because of ______ gases from that factory. (Ex 5)",
              "answerOptions": [
                { "text": "polluting", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- polluted (adj): b·ªã √¥ nhi·ªÖm (b·ªã ƒë·ªông).\n- polluting (adj): g√¢y √¥ nhi·ªÖm (ch·ªß ƒë·ªông).\n- pollution (noun): s·ª± √¥ nhi·ªÖm.\n2. D·ªãch nghƒ©a: \"Kh√¥ng kh√≠ tr·ªü n√™n t·ªìi t·ªá h∆°n v√¨ c√°c kh√≠ th·∫£i g√¢y √¥ nhi·ªÖm t·ª´ nh√† m√°y ƒë√≥.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- Kh√≠ th·∫£i l√† t√°c nh√¢n G√ÇY RA √¥ nhi·ªÖm cho kh√¥ng kh√≠ -> d√πng t√≠nh t·ª´ ch·ªß ƒë·ªông 'polluting'." },
                { "text": "polluted", "isCorrect": false, "rationale": "Polluted air (kh√¥ng kh√≠ b·ªã b·∫©n) th√¨ ƒë√∫ng, nh∆∞ng polluted gases (kh√≠ b·ªã b·∫©n) th√¨ sai nghƒ©a." },
                { "text": "pollution", "isCorrect": false, "rationale": "Pollution gases l√† danh t·ª´ gh√©p kh√¥ng chu·∫©n b·∫±ng t√≠nh t·ª´ polluting b·ªï nghƒ©a cho gases." }
              ]
            },
            {
              "questionNumber": 11,
              "question": "______ energy is the energy that comes from the sun. (Ex 6)",
              "answerOptions": [
                { "text": "Solar", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- Solar (adj): thu·ªôc m·∫∑t tr·ªùi.\n- Hydro (adj/prefix): thu·ªôc v·ªÅ n∆∞·ªõc.\n2. D·ªãch nghƒ©a: \"NƒÉng l∆∞·ª£ng m·∫∑t tr·ªùi l√† nƒÉng l∆∞·ª£ng ƒë·∫øn t·ª´ m·∫∑t tr·ªùi.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- Sun (m·∫∑t tr·ªùi) -> Solar." },
                { "text": "Hydro", "isCorrect": false, "rationale": "Sai ngu·ªìn g·ªëc." }
              ]
            },
            {
              "questionNumber": 12,
              "question": "Some types of energy are ______ and hard to find. (Ex 6)",
              "answerOptions": [
                { "text": "expensive", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- cheap (adj): r·∫ª.\n- expensive (adj): ƒë·∫Øt.\n2. D·ªãch nghƒ©a: \"M·ªôt s·ªë lo·∫°i nƒÉng l∆∞·ª£ng th√¨ ƒë·∫Øt ƒë·ªè v√† kh√≥ t√¨m.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- \"Hard to find\" (khan hi·∫øm) th∆∞·ªùng d·∫´n ƒë·∫øn gi√° th√†nh cao (expensive)." },
                { "text": "cheap", "isCorrect": false, "rationale": "Hi·∫øm th√¨ kh√¥ng th·ªÉ r·∫ª." }
              ]
            },
            {
              "questionNumber": 13,
              "question": "We are ______ a project on energy sources. (Ex 6)",
              "answerOptions": [
                { "text": "doing", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- doing (verb): l√†m/th·ª±c hi·ªán.\n- running (verb): ch·∫°y/v·∫≠n h√†nh.\n2. D·ªãch nghƒ©a: \"Ch√∫ng t√¥i ƒëang th·ª±c hi·ªán m·ªôt d·ª± √°n v·ªÅ c√°c ngu·ªìn nƒÉng l∆∞·ª£ng.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- Collocation (K·∫øt h·ª£p t·ª´): 'do a project' l√† c·ª•m t·ª´ ph·ªï bi·∫øn nh·∫•t trong m√¥i tr∆∞·ªùng h·ªçc ƒë∆∞·ªùng." },
                { "text": "running", "isCorrect": false, "rationale": "'Run a project' thi√™n v·ªÅ qu·∫£n l√Ω d·ª± √°n trong kinh doanh, nh∆∞ng 'doing' t·ª± nhi√™n h∆°n v·ªõi h·ªçc sinh." }
              ]
            },
            {
              "questionNumber": 14,
              "question": "Energy is the power that we use to provide us with light, heat, or ______. (Ex 6)",
              "answerOptions": [
                { "text": "electricity", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- food (n): th·ª©c ƒÉn.\n- electricity (n): ƒëi·ªán nƒÉng.\n2. D·ªãch nghƒ©a: \"NƒÉng l∆∞·ª£ng l√† s·ª©c m·∫°nh ch√∫ng ta d√πng ƒë·ªÉ cung c·∫•p √°nh s√°ng, nhi·ªát, ho·∫∑c ƒëi·ªán.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- Light, heat, electricity c√πng nh√≥m c√°c d·∫°ng nƒÉng l∆∞·ª£ng ƒë·∫ßu ra." },
                { "text": "food", "isCorrect": false, "rationale": "Food cung c·∫•p nƒÉng l∆∞·ª£ng cho c∆° th·ªÉ, nh∆∞ng ng·ªØ c·∫£nh 'light, heat' ƒëang n√≥i v·ªÅ nƒÉng l∆∞·ª£ng v·∫≠t l√Ω/c√¥ng nghi·ªáp." }
              ]
            },
            {
              "questionNumber": 15,
              "question": "______ energy sources come from the sun, wind, and water. (Ex 6)",
              "answerOptions": [
                { "text": "Renewable", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- Renewable (adj): T√°i t·∫°o ƒë∆∞·ª£c.\n- Non-renewable (adj): Kh√¥ng t√°i t·∫°o ƒë∆∞·ª£c.\n2. D·ªãch nghƒ©a: \"C√°c ngu·ªìn nƒÉng l∆∞·ª£ng t√°i t·∫°o ƒë·∫øn t·ª´ m·∫∑t tr·ªùi, gi√≥ v√† n∆∞·ªõc.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- Sun, wind, water l√† c√°c ngu·ªìn thi√™n nhi√™n v√¥ t·∫≠n -> Renewable." },
                { "text": "Non-renewable", "isCorrect": false, "rationale": "Ch·ªâ than ƒë√°, d·∫ßu m·ªè." }
              ]
            },
            {
              "questionNumber": 16,
              "question": "Oil, natural gas and ______ are called fossil fuels. (Ex 6)",
              "answerOptions": [
                { "text": "coal", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- coal (n): than ƒë√°.\n- water (n): n∆∞·ªõc.\n2. D·ªãch nghƒ©a: \"D·∫ßu m·ªè, kh√≠ ƒë·ªët t·ª± nhi√™n v√† than ƒë√° ƒë∆∞·ª£c g·ªçi l√† nhi√™n li·ªáu h√≥a th·∫°ch.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- B·ªô 3 nhi√™n li·ªáu h√≥a th·∫°ch ƒëi·ªÉn h√¨nh: Oil, Gas, Coal." },
                { "text": "water", "isCorrect": false, "rationale": "N∆∞·ªõc l√† nƒÉng l∆∞·ª£ng t√°i t·∫°o (th·ªßy ƒëi·ªán)." }
              ]
            },
            {
              "questionNumber": 17,
              "question": "France ______ a great deal of wine for export. (Ex 6)",
              "answerOptions": [
                { "text": "produces", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- produces (v): s·∫£n xu·∫•t.\n- protects (v): b·∫£o v·ªá.\n2. D·ªãch nghƒ©a: \"Ph√°p s·∫£n xu·∫•t m·ªôt l∆∞·ª£ng l·ªõn r∆∞·ª£u vang ƒë·ªÉ xu·∫•t kh·∫©u.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- Ng·ªØ c·∫£nh 'wine for export' (r∆∞·ª£u ƒë·ªÉ xu·∫•t kh·∫©u) -> ph·∫£i l√† h√†nh ƒë·ªông s·∫£n xu·∫•t." },
                { "text": "protects", "isCorrect": false, "rationale": "Sai nghƒ©a." }
              ]
            },
            {
              "questionNumber": 18,
              "question": "They won't invest in any company that ______ the environment. (Ex 6)",
              "answerOptions": [
                { "text": "pollutes", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- cleans (v): l√†m s·∫°ch.\n- pollutes (v): g√¢y √¥ nhi·ªÖm.\n2. D·ªãch nghƒ©a: \"H·ªç s·∫Ω kh√¥ng ƒë·∫ßu t∆∞ v√†o b·∫•t k·ª≥ c√¥ng ty n√†o g√¢y √¥ nhi·ªÖm m√¥i tr∆∞·ªùng.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- 'Won't invest' (kh√¥ng ƒë·∫ßu t∆∞) -> h√†nh ƒë·ªông t·∫©y chay c√¥ng ty x·∫•u." },
                { "text": "cleans", "isCorrect": false, "rationale": "N·∫øu c√¥ng ty l√†m s·∫°ch m√¥i tr∆∞·ªùng th√¨ n√™n ƒë·∫ßu t∆∞ ch·ª©." }
              ]
            },
            {
              "questionNumber": 19,
              "question": "The engine is hotter and hotter. I think it is ______. (Ex 6)",
              "answerOptions": [
                { "text": "overheating", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- overheating (v): qu√° nhi·ªát/n√≥ng m√°y.\n- overcooling (v): qu√° l·∫°nh.\n2. D·ªãch nghƒ©a: \"ƒê·ªông c∆° ng√†y c√†ng n√≥ng h∆°n. T√¥i nghƒ© n√≥ ƒëang b·ªã qu√° nhi·ªát.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- Hotter and hotter -> Overheating." },
                { "text": "overcooling", "isCorrect": false, "rationale": "Ng∆∞·ª£c nghƒ©a." }
              ]
            },
            {
              "questionNumber": 20,
              "question": "The ______ energy is produced when the nucleus of an atom is divided or joined to another nucleus. (Ex 6)",
              "answerOptions": [
                { "text": "nuclear", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- wind (n): gi√≥.\n- nuclear (n/adj): h·∫°t nh√¢n.\n- nucleus (n): h·∫°t nh√¢n nguy√™n t·ª≠.\n2. D·ªãch nghƒ©a: \"NƒÉng l∆∞·ª£ng h·∫°t nh√¢n ƒë∆∞·ª£c t·∫°o ra khi h·∫°t nh√¢n c·ªßa m·ªôt nguy√™n t·ª≠ b·ªã ph√¢n chia ho·∫∑c k·∫øt h·ª£p v·ªõi h·∫°t nh√¢n kh√°c.\"\n3. T·∫°i sao ch·ªçn ƒë√°p √°n n√†y?\n- ƒê·ªãnh nghƒ©a khoa h·ªçc c·ªßa nƒÉng l∆∞·ª£ng h·∫°t nh√¢n (ph·∫£n ·ª©ng ph√¢n h·∫°ch/nhi·ªát h·∫°ch)." },
                { "text": "wind", "isCorrect": false, "rationale": "Sai ƒë·ªãnh nghƒ©a." }
              ]
            },
            {
              "questionNumber": 21,
              "question": "_________ energy sources can be used to create energy, generate electricity, or drive big machinery but they are harmful to the environment. (Ex 7)",
              "answerOptions": [
                { "text": "Non- renewable", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- Solar (adj): M·∫∑t tr·ªùi.\n- Non-renewable (adj): Kh√¥ng t√°i t·∫°o (than, d·∫ßu...).\n- Wind (n): Gi√≥.\n- Renewable (adj): T√°i t·∫°o.\n2. D·ªãch nghƒ©a: \"C√°c ngu·ªìn nƒÉng l∆∞·ª£ng kh√¥ng t√°i t·∫°o c√≥ th·ªÉ d√πng ƒë·ªÉ t·∫°o nƒÉng l∆∞·ª£ng, ph√°t ƒëi·ªán, ch·∫°y m√°y m√≥c l·ªõn nh∆∞ng ch√∫ng c√≥ h·∫°i cho m√¥i tr∆∞·ªùng.\"\n3. T·∫°i sao ch·ªçn B?\n- M·∫•u ch·ªët l√† \"harmful to the environment\" (c√≥ h·∫°i m√¥i tr∆∞·ªùng) -> ƒê·∫∑c ƒëi·ªÉm c·ªßa nƒÉng l∆∞·ª£ng h√≥a th·∫°ch (Non-renewable)." },
                { "text": "Solar", "isCorrect": false, "rationale": "S·∫°ch, kh√¥ng h·∫°i." },
                { "text": "Wind", "isCorrect": false, "rationale": "S·∫°ch, kh√¥ng h·∫°i." },
                { "text": "Renewable", "isCorrect": false, "rationale": "S·∫°ch, kh√¥ng h·∫°i." }
              ]
            },
            {
              "questionNumber": 22,
              "question": "_________ energy is produced by collecting sunlight and converting it into electricity. (Ex 7)",
              "answerOptions": [
                { "text": "Solar", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- Solar: M·∫∑t tr·ªùi.\n- Wind: Gi√≥.\n- Hydro: N∆∞·ªõc.\n- Nuclear: H·∫°t nh√¢n.\n2. D·ªãch nghƒ©a: \"NƒÉng l∆∞·ª£ng m·∫∑t tr·ªùi ƒë∆∞·ª£c t·∫°o ra b·∫±ng c√°ch thu th·∫≠p √°nh s√°ng m·∫∑t tr·ªùi v√† chuy·ªÉn h√≥a th√†nh ƒëi·ªán nƒÉng.\"\n3. T·∫°i sao ch·ªçn A?\n- T·ª´ kh√≥a \"collecting sunlight\" (thu th·∫≠p √°nh n·∫Øng)." },
                { "text": "Wind", "isCorrect": false, "rationale": "Sai ngu·ªìn g·ªëc." },
                { "text": "Hydro", "isCorrect": false, "rationale": "Sai ngu·ªìn g·ªëc." },
                { "text": "Nuclear", "isCorrect": false, "rationale": "Sai ngu·ªìn g·ªëc." }
              ]
            },
            {
              "questionNumber": 23,
              "question": "When energy comes from _________, we call it hydro energy. (Ex 7)",
              "answerOptions": [
                { "text": "water", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- nuclear: h·∫°t nh√¢n.\n- wind: gi√≥.\n- sun: m·∫∑t tr·ªùi.\n- water: n∆∞·ªõc.\n2. D·ªãch nghƒ©a: \"Khi nƒÉng l∆∞·ª£ng ƒë·∫øn t·ª´ n∆∞·ªõc, ch√∫ng ta g·ªçi n√≥ l√† nƒÉng l∆∞·ª£ng th·ªßy ƒëi·ªán.\"\n3. T·∫°i sao ch·ªçn D?\n- Hydro (ti·ªÅn t·ªë Hy L·∫°p) nghƒ©a l√† n∆∞·ªõc (water)." },
                { "text": "nuclear", "isCorrect": false, "rationale": "Sai." },
                { "text": "wind", "isCorrect": false, "rationale": "Sai." },
                { "text": "sun", "isCorrect": false, "rationale": "Sai." }
              ]
            },
            {
              "questionNumber": 24,
              "question": "The energy from the _________ is renewable because we can‚Äôt use it all up. (Ex 7)",
              "answerOptions": [
                { "text": "Sun", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- Sun: M·∫∑t tr·ªùi.\n- Gas: Kh√≠ ƒë·ªët.\n- Oil: D·∫ßu.\n- Coal: Than.\n2. D·ªãch nghƒ©a: \"NƒÉng l∆∞·ª£ng t·ª´ M·∫∑t tr·ªùi l√† t√°i t·∫°o ƒë∆∞·ª£c v√¨ ch√∫ng ta kh√¥ng th·ªÉ d√πng h·∫øt s·∫°ch n√≥.\"\n3. T·∫°i sao ch·ªçn A?\n- Gas, Oil, Coal l√† nhi√™n li·ªáu h√≥a th·∫°ch (c√≥ h·∫°n). Sun l√† v√¥ h·∫°n (renewable)." },
                { "text": "Gas", "isCorrect": false, "rationale": "C√≥ h·∫°n." },
                { "text": "Oil", "isCorrect": false, "rationale": "C√≥ h·∫°n." },
                { "text": "Coal", "isCorrect": false, "rationale": "C√≥ h·∫°n." }
              ]
            },
            {
              "questionNumber": 25,
              "question": "The sun and the wind are other _________ sources of energy. (Ex 7)",
              "answerOptions": [
                { "text": "alternative", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- alternative (adj): thay th·∫ø.\n- limited (adj): h·∫°n ch·∫ø.\n- harmful (adj): c√≥ h·∫°i.\n- polluted (adj): b·ªã √¥ nhi·ªÖm.\n2. D·ªãch nghƒ©a: \"M·∫∑t tr·ªùi v√† gi√≥ l√† nh·ªØng ngu·ªìn nƒÉng l∆∞·ª£ng thay th·∫ø kh√°c.\"\n3. T·∫°i sao ch·ªçn A?\n- \"Alternative sources\" l√† thu·∫≠t ng·ªØ ch·ªâ nƒÉng l∆∞·ª£ng s·∫°ch d√πng thay cho nƒÉng l∆∞·ª£ng h√≥a th·∫°ch." },
                { "text": "limited", "isCorrect": false, "rationale": "Sai." },
                { "text": "harmful", "isCorrect": false, "rationale": "Sai." },
                { "text": "polluted", "isCorrect": false, "rationale": "Sai." }
              ]
            },
            {
              "questionNumber": 26,
              "question": "Fossil fuels are _________ energy sources. (Ex 7)",
              "answerOptions": [
                { "text": "non- renewable", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- solar: m·∫∑t tr·ªùi.\n- renewable: t√°i t·∫°o.\n- non-renewable: kh√¥ng t√°i t·∫°o.\n- wind: gi√≥.\n2. D·ªãch nghƒ©a: \"Nhi√™n li·ªáu h√≥a th·∫°ch l√† ngu·ªìn nƒÉng l∆∞·ª£ng kh√¥ng t√°i t·∫°o.\"\n3. T·∫°i sao ch·ªçn C?\n- ƒê√¢y l√† ƒë·ªãnh nghƒ©a c∆° b·∫£n: Fossil fuels (than, d·∫ßu...) m·∫•t tri·ªáu nƒÉm ƒë·ªÉ h√¨nh th√†nh -> kh√¥ng t√°i t·∫°o k·ªãp." },
                { "text": "solar", "isCorrect": false, "rationale": "Sai." },
                { "text": "renewable", "isCorrect": false, "rationale": "Sai." },
                { "text": "wind", "isCorrect": false, "rationale": "Sai." }
              ]
            },
            {
              "questionNumber": 27,
              "question": "A non- renewable source of energy can be used to power machinery, but it also _________ the environment. (Ex 7)",
              "answerOptions": [
                { "text": "pollutes", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- cleans (v): l√†m s·∫°ch.\n- pollutes (v): l√†m √¥ nhi·ªÖm.\n- helps (v): gi√∫p ƒë·ª°.\n- protects (v): b·∫£o v·ªá.\n2. D·ªãch nghƒ©a: \"M·ªôt ngu·ªìn nƒÉng l∆∞·ª£ng kh√¥ng t√°i t·∫°o c√≥ th·ªÉ d√πng ƒë·ªÉ ch·∫°y m√°y m√≥c, nh∆∞ng n√≥ c≈©ng l√†m √¥ nhi·ªÖm m√¥i tr∆∞·ªùng.\"\n3. T·∫°i sao ch·ªçn B?\n- Li√™n t·ª´ \"but\" (nh∆∞ng) b√°o hi·ªáu m·ªôt √Ω nghƒ©a ti√™u c·ª±c/tr√°i ng∆∞·ª£c v·ªõi l·ª£i √≠ch ch·∫°y m√°y m√≥c -> pollutes." },
                { "text": "cleans", "isCorrect": false, "rationale": "Sai nghƒ©a." },
                { "text": "helps", "isCorrect": false, "rationale": "Sai nghƒ©a (th∆∞·ªùng n√≥i harm environment)." },
                { "text": "protects", "isCorrect": false, "rationale": "Sai nghƒ©a." }
              ]
            },
            {
              "questionNumber": 28,
              "question": "We will use _________ energy sources like wind and solar energy to solve the problem of pollution. (Ex 7)",
              "answerOptions": [
                { "text": "renewable", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- non-renewable: kh√¥ng t√°i t·∫°o.\n- renewable: t√°i t·∫°o.\n- limited: h·∫°n ch·∫ø.\n- expensive: ƒë·∫Øt.\n2. D·ªãch nghƒ©a: \"Ch√∫ng ta s·∫Ω d√πng c√°c ngu·ªìn nƒÉng l∆∞·ª£ng t√°i t·∫°o nh∆∞ gi√≥ v√† m·∫∑t tr·ªùi ƒë·ªÉ gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ √¥ nhi·ªÖm.\"\n3. T·∫°i sao ch·ªçn B?\n- Wind v√† Solar thu·ªôc nh√≥m Renewable." },
                { "text": "non-renewable", "isCorrect": false, "rationale": "Sai." },
                { "text": "limited", "isCorrect": false, "rationale": "Sai." },
                { "text": "expensive", "isCorrect": false, "rationale": "Sai." }
              ]
            },
            {
              "questionNumber": 29,
              "question": "Hydro power is _________ because dams cannot be built in certain areas. (Ex 7)",
              "answerOptions": [
                { "text": "limited", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- limited (adj): c√≥ h·∫°n/b·ªã gi·ªõi h·∫°n.\n- unlimited (adj): v√¥ h·∫°n.\n- abundant (adj): d·ªìi d√†o.\n- dangerous (adj): nguy hi·ªÉm.\n2. D·ªãch nghƒ©a: \"Th·ªßy ƒëi·ªán b·ªã gi·ªõi h·∫°n v√¨ ƒë·∫≠p n∆∞·ªõc kh√¥ng th·ªÉ x√¢y d·ª±ng ·ªü m·ªôt s·ªë khu v·ª±c nh·∫•t ƒë·ªãnh.\"\n3. T·∫°i sao ch·ªçn A?\n- L√Ω do \"kh√¥ng th·ªÉ x√¢y ·ªü m·ªôt s·ªë n∆°i\" ch·ªâ ra s·ª± h·∫°n ch·∫ø (limitation) v·ªÅ ƒë·ªãa l√Ω." },
                { "text": "unlimited", "isCorrect": false, "rationale": "Sai." },
                { "text": "abundant", "isCorrect": false, "rationale": "Sai logic c√¢u." },
                { "text": "dangerous", "isCorrect": false, "rationale": "Sai logic c√¢u (c√¢u ƒëang n√≥i v·ªÅ kh·∫£ nƒÉng x√¢y d·ª±ng, kh√¥ng n√≥i v·ªÅ r·ªßi ro)." }
              ]
            },
            {
              "questionNumber": 30,
              "question": "Coal, natural gas and oil are called _________. (Ex 7)",
              "answerOptions": [
                { "text": "fossil fuels", "isCorrect": true, "rationale": "1. Ph√¢n t√≠ch t·ª´ v·ª±ng:\n- solar energy: nƒÉng l∆∞·ª£ng m·∫∑t tr·ªùi.\n- fossil fuels: nhi√™n li·ªáu h√≥a th·∫°ch.\n- biogas: kh√≠ sinh h·ªçc.\n- nuclear energy: nƒÉng l∆∞·ª£ng h·∫°t nh√¢n.\n2. D·ªãch nghƒ©a: \"Than ƒë√°, kh√≠ t·ª± nhi√™n v√† d·∫ßu m·ªè ƒë∆∞·ª£c g·ªçi l√† nhi√™n li·ªáu h√≥a th·∫°ch.\"\n3. T·∫°i sao ch·ªçn B?\n- ƒê√¢y l√† t√™n g·ªçi chung cho nh√≥m n√†y." },
                { "text": "solar energy", "isCorrect": false, "rationale": "Sai." },
                { "text": "biogas", "isCorrect": false, "rationale": "Sai." },
                { "text": "nuclear energy", "isCorrect": false, "rationale": "Sai." }
              ]
            }
        ];

        // --- STATE ---
        let currentScore = 0;
        let answeredQuestions = new Set();

        // --- SOUNDS ---
        const correctSound = new Audio('https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3'); // Ding
        const wrongSound = new Audio('https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3'); // Pop/Failureish
        
        // Preload sounds
        correctSound.volume = 0.5;
        wrongSound.volume = 0.4;

        // --- RENDER LOGIC ---
        function initQuiz() {
            const container = document.getElementById('quiz-container');
            const totalDisplay = document.getElementById('total-display');
            totalDisplay.textContent = quizData.length;

            quizData.forEach((q, index) => {
                // Ensure options are shuffled or not? The prompt doesn't specify shuffling options, keep original order for consistency with explanation
                // But generally shuffling is good. However, rationale sometimes refers to "A, B, C". 
                // Wait, logic in provided data has options in array. I will keep them as is.
                
                // Card
                const card = document.createElement('div');
                card.className = 'question-card';
                card.id = `card-${index}`;

                // Header
                const header = document.createElement('div');
                header.className = 'question-header';
                header.innerHTML = `<span class="q-number">C√¢u ${q.questionNumber}</span>`;
                
                // Question Text
                const qText = document.createElement('div');
                qText.className = 'question-text';
                qText.innerText = q.question;

                // Options
                const optionsGrid = document.createElement('div');
                optionsGrid.className = 'options-grid';

                // Find Correct Rationale text (combining all options logic)
                // The provided JSON has specific rationale for each option sometimes, or one big one?
                // The provided JSON structure has 'rationale' INSIDE 'answerOptions'.
                // Teacher Mai An's requirement: "Analyze ALL 4 options".
                // I need to find the correct option to get the MAIN explanation, 
                // but the JSON structure actually has rationales distributed.
                // Strategy: When showing explanation, I will combine the Correct Option's detailed rationale (which seems to contain the main analysis in this dataset) 
                // AND list the rationales of the other options if they exist.
                
                // Let's identify the Correct Option first to grab the main rationale block
                const correctOptionData = q.answerOptions.find(opt => opt.isCorrect);
                
                q.answerOptions.forEach((opt, optIndex) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.innerHTML = `${String.fromCharCode(65 + optIndex)}. ${opt.text}`;
                    btn.onclick = () => handleAnswer(index, optIndex, opt.isCorrect, btn);
                    optionsGrid.appendChild(btn);
                });

                // Explanation Box
                const explanation = document.createElement('div');
                explanation.className = 'explanation-box';
                explanation.id = `explanation-${index}`;
                
                // Constructing the full explanation content
                // Main rationale from the correct answer usually contains "1. Ph√¢n t√≠ch...", "2. D·ªãch nghƒ©a..." in this dataset.
                let explanationHTML = correctOptionData.rationale.replace(/\n/g, '<br>');
                
                // Add specific rationales for wrong answers if they add value and aren't covered
                q.answerOptions.forEach((opt, idx) => {
                    if (!opt.isCorrect && opt.rationale && opt.rationale !== "Sai." && opt.rationale !== "Sai nghƒ©a.") {
                        // Check if the main rationale already covers it. 
                        // For this specific dataset, the correct option usually has the full "Teacher explanation".
                        // The wrong options have short reasons like "Sai logic".
                        // Let's append them nicely.
                        explanationHTML += `<br><br><strong>‚û¢ T·∫°i sao ƒë√°p √°n ${String.fromCharCode(65 + idx)} sai:</strong> ${opt.rationale}`;
                    }
                });

                explanation.innerHTML = `
                    <div class="explanation-header">üéì C√¥ Mai An gi·∫£i th√≠ch chi ti·∫øt:</div>
                    <div class="explanation-content">${explanationHTML}</div>
                `;

                // Assemble
                card.appendChild(header);
                card.appendChild(qText);
                card.appendChild(optionsGrid);
                card.appendChild(explanation);
                container.appendChild(card);
            });
        }

        function handleAnswer(qIndex, optIndex, isCorrect, btnElement) {
            // Check if already answered
            if (answeredQuestions.has(qIndex)) return;
            answeredQuestions.add(qIndex);

            const card = document.getElementById(`card-${qIndex}`);
            const buttons = card.querySelectorAll('.option-btn');
            const explanation = document.getElementById(`explanation-${qIndex}`);

            // Visual Feedback
            if (isCorrect) {
                btnElement.classList.add('correct');
                correctSound.currentTime = 0;
                correctSound.play();
                triggerConfetti();
                currentScore++;
                updateScore();
            } else {
                btnElement.classList.add('wrong');
                wrongSound.currentTime = 0;
                wrongSound.play();
                
                // Highlight the correct answer automatically
                const correctBtnIndex = quizData[qIndex].answerOptions.findIndex(o => o.isCorrect);
                buttons[correctBtnIndex].classList.add('correct');
            }

            // Disable all buttons for this question
            buttons.forEach(b => b.disabled = true);

            // Show explanation
            explanation.style.display = 'block';
        }

        function updateScore() {
            const scoreDisplay = document.getElementById('score-display');
            scoreDisplay.textContent = currentScore;
            
            // Animation for score
            scoreDisplay.parentElement.style.transform = "scale(1.2)";
            setTimeout(() => {
                scoreDisplay.parentElement.style.transform = "scale(1)";
            }, 200);
        }

        function triggerConfetti() {
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
                colors: ['#8854C0', '#00C9A7', '#FF4757', '#F1C40F']
            });
        }

        function finishQuiz() {
            const modal = document.getElementById('result-modal');
            const finalScoreEl = document.getElementById('final-score');
            const praiseEl = document.getElementById('final-praise');
            
            finalScoreEl.textContent = `${currentScore}/${quizData.length}`;
            
            const percentage = (currentScore / quizData.length) * 100;
            if (percentage === 100) praiseEl.textContent = "Xu·∫•t s·∫Øc! Con l√† thi√™n t√†i ti·∫øng Anh! üåü";
            else if (percentage >= 80) praiseEl.textContent = "Gi·ªèi l·∫Øm! Con n·∫Øm b√†i r·∫•t ch·∫Øc! üéâ";
            else if (percentage >= 50) praiseEl.textContent = "Kh√° l·∫Øm! C·ªë g·∫Øng ƒë·ªçc k·ªπ gi·∫£i th√≠ch th√™m nh√©! üí™";
            else praiseEl.textContent = "C·ªë l√™n nh√©! H√£y xem k·ªπ ph·∫ßn gi·∫£i th√≠ch c·ªßa c√¥ Mai An! üìö";

            modal.style.display = 'flex';
            triggerConfetti();
        }

        function closeModal() {
            document.getElementById('result-modal').style.display = 'none';
        }

        // Initialize
        window.onload = initQuiz;

    </script>
</body>
</html>
