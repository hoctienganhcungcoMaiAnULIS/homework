<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocabulary Quiz: Nature, Environment & Lifestyle - Ms Mai An ULIS</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Confetti JS -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        body {
            font-family: 'Nunito', sans-serif;
            background-color: #f0f4f8;
            background-image: radial-gradient(#e2e8f0 1px, transparent 1px);
            background-size: 20px 20px;
        }

        /* 3D Button Effect */
        .btn-3d {
            transition: all 0.1s;
            transform: translateY(0);
            border-bottom: 6px solid;
        }
        .btn-3d:active {
            transform: translateY(4px);
            border-bottom-width: 2px;
        }
        
        /* Custom Colors based on Request */
        .theme-pink { color: #8854C0; }
        .bg-theme-pink { background-color: #8854C0; border-color: #6c429c; }
        .bg-theme-teal { background-color: #00C9A7; border-color: #009e82; }
        .bg-correct { background-color: #00D26A; border-color: #00a855; color: white; }
        .bg-wrong { background-color: #FF4757; border-color: #d6303f; color: white; }

        /* Animations */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-5deg); }
            50% { transform: translateX(5px) rotate(5deg); }
            75% { transform: translateX(-5px) rotate(-5deg); }
            100% { transform: translateX(0); }
        }
        .shake-animation {
            animation: shake 0.4s ease-in-out;
        }

        .option-card:hover:not(:disabled) {
            transform: scale(1.02) translateY(-2px);
            filter: brightness(1.05);
        }

        /* Explanation Box Styling */
        .explanation-box {
            border-left: 5px solid #8854C0;
            background-color: #fdf2ff;
        }
        
        /* Markdown-like rendering helper */
        .rationale-text strong {
            color: #8854C0;
            font-weight: 800;
        }
        .rationale-text ul {
            list-style-type: none;
            padding-left: 0;
        }
        .rationale-text li {
            margin-bottom: 4px;
        }
    </style>
</head>
<body class="min-h-screen pb-20">

    <!-- Header -->
    <header class="bg-white shadow-lg sticky top-0 z-50 border-b-4 border-gray-200">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="bg-theme-teal text-white p-2 rounded-xl font-bold text-xl shadow-sm">
                    Ms Mai An
                </div>
                <h1 class="text-gray-700 font-extrabold text-lg md:text-2xl hidden md:block">
                    Vocabulary Quiz: Nature & Lifestyle
                </h1>
            </div>
            <div class="flex items-center gap-4">
                <div class="bg-blue-100 text-blue-800 px-4 py-2 rounded-full font-bold">
                    Score: <span id="score-display">0</span>/25
                </div>
                <button onclick="resetQuiz()" class="text-gray-500 hover:text-gray-800 font-bold text-sm">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                    </svg> Restart
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8 max-w-4xl">
        
        <!-- Intro Banner -->
        <div id="intro-banner" class="bg-gradient-to-r from-purple-500 to-pink-500 rounded-3xl p-6 mb-8 text-white shadow-xl flex flex-col md:flex-row items-center justify-between">
            <div class="mb-4 md:mb-0">
                <h2 class="text-3xl font-extrabold mb-2">Are you ready? üöÄ</h2>
                <p class="opacity-90">ƒê√£ k√≠ch ho·∫°t ch·∫ø ƒë·ªô: <strong>X√°o tr·ªôn ƒë√°p √°n ng·∫´u nhi√™n</strong></p>
            </div>
            <div class="bg-white/20 p-3 rounded-2xl backdrop-blur-sm">
                <span class="text-2xl font-bold">Question: </span>
                <span id="progress-display" class="text-2xl font-bold">1</span>
                <span class="text-lg opacity-80">/ 25</span>
            </div>
        </div>

        <!-- Quiz Container -->
        <div id="quiz-container" class="space-y-8">
            <!-- Questions will be injected here via JavaScript -->
        </div>

        <!-- Submit Button -->
        <div class="mt-12 text-center">
            <button onclick="finishQuiz()" class="btn-3d bg-theme-teal text-white font-extrabold text-2xl py-4 px-12 rounded-2xl w-full md:w-auto shadow-lg hover:bg-teal-400">
                N·ªòP B√ÄI & XEM K·∫æT QU·∫¢ üèÜ
            </button>
        </div>
    </main>

    <!-- Result Modal -->
    <div id="result-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-3xl p-8 max-w-md w-full text-center shadow-2xl border-4 border-purple-200 transform scale-100 transition-transform">
            <div class="mb-6">
                <span class="text-6xl">üéâ</span>
            </div>
            <h2 class="text-3xl font-extrabold text-gray-800 mb-2">Ho√†n Th√†nh!</h2>
            <p class="text-gray-500 mb-6">B·∫°n ƒë√£ l√†m r·∫•t t·ªët!</p>
            
            <div class="bg-gray-100 rounded-2xl p-6 mb-6">
                <div class="text-sm text-gray-500 uppercase tracking-wide font-bold">T·ªïng ƒëi·ªÉm</div>
                <div class="text-5xl font-extrabold text-theme-pink my-2">
                    <span id="final-score">0</span><span class="text-2xl text-gray-400">/25</span>
                </div>
                <div id="final-message" class="text-green-600 font-bold mt-2">Tuy·ªát v·ªùi!</div>
            </div>

            <button onclick="closeModal()" class="btn-3d bg-gray-200 text-gray-700 font-bold py-3 px-8 rounded-xl w-full hover:bg-gray-300">
                Xem l·∫°i b√†i l√†m
            </button>
        </div>
    </div>

    <!-- Data & Script -->
    <script>
        // --- DATA SOURCE ---
        const rawData = {
          "questions": [
            {
              "questionNumber": 1,
              "question": "Living near the Grand Canyon has changed my family's _______ completely. We now spend more time outdoors.",
              "answerOptions": [
                { "text": "lifestyle", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. lifestyle (n): l·ªëi s·ªëng\n- B. memory (n): k√Ω ·ª©c\n- C. homework (n): b√†i t·∫≠p v·ªÅ nh√†\n- D. recipe (n): c√¥ng th·ª©c n·∫•u ƒÉn\n\n**D·ªãch c√¢u:** Vi·ªác s·ªëng g·∫ßn h·∫ªm n√∫i Grand Canyon ƒë√£ thay ƒë·ªïi ho√†n to√†n **l·ªëi s·ªëng** c·ªßa gia ƒë√¨nh t√¥i. B√¢y gi·ªù ch√∫ng t√¥i d√†nh nhi·ªÅu th·ªùi gian ·ªü ngo√†i tr·ªùi h∆°n.\n\n**Gi·∫£i th√≠ch:** C√¢u sau gi·∫£i th√≠ch vi·ªác 'd√†nh nhi·ªÅu th·ªùi gian ngo√†i tr·ªùi', ƒë√¢y l√† s·ª± thay ƒë·ªïi v·ªÅ th√≥i quen sinh ho·∫°t hay 'l·ªëi s·ªëng'.", "isCorrect": true },
                { "text": "memory", "isCorrect": false },
                { "text": "homework", "isCorrect": false },
                { "text": "recipe", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 2,
              "question": "The local people _______ tourism for their income from visitors to Halong Bay.",
              "answerOptions": [
                { "text": "depend on", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. forget about (phr.v): qu√™n ƒëi\n- B. depend on (phr.v): ph·ª• thu·ªôc v√†o/d·ª±a v√†o\n- C. run away (phr.v): ch·∫°y tr·ªën\n- D. stand up (phr.v): ƒë·ª©ng d·∫≠y\n\n**D·ªãch c√¢u:** Ng∆∞·ªùi d√¢n ƒë·ªãa ph∆∞∆°ng **ph·ª• thu·ªôc v√†o** du l·ªãch ƒë·ªÉ c√≥ thu nh·∫≠p t·ª´ du kh√°ch ƒë·∫øn V·ªãnh H·∫° Long.\n\n**Gi·∫£i th√≠ch:** C·ª•m t·ª´ 'depend on sth for sth' (d·ª±a v√†o c√°i g√¨ ƒë·ªÉ c√≥ c√°i g√¨). ·ªû ƒë√¢y l√† d·ª±a v√†o du l·ªãch ƒë·ªÉ c√≥ thu nh·∫≠p.", "isCorrect": true },
                { "text": "forget about", "isCorrect": false },
                { "text": "run away", "isCorrect": false },
                { "text": "stand up", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 3,
              "question": "Rangers use _______ to monitor wildlife in the Amazon rainforest from far away.",
              "answerOptions": [
                { "text": "electronic devices", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. wooden boxes (n.phr): h·ªôp g·ªó\n- B. paper maps (n.phr): b·∫£n ƒë·ªì gi·∫•y\n- C. electronic devices (n.phr): thi·∫øt b·ªã ƒëi·ªán t·ª≠\n- D. stone tools (n.phr): c√¥ng c·ª• b·∫±ng ƒë√°\n\n**D·ªãch c√¢u:** Ki·ªÉm l√¢m s·ª≠ d·ª•ng **c√°c thi·∫øt b·ªã ƒëi·ªán t·ª≠** ƒë·ªÉ gi√°m s√°t ƒë·ªông v·∫≠t hoang d√£ trong r·ª´ng nhi·ªát ƒë·ªõi Amazon t·ª´ xa.\n\n**Gi·∫£i th√≠ch:** ƒê·ªÉ gi√°m s√°t 'from far away' (t·ª´ xa) th√¨ c·∫ßn c√°c thi·∫øt b·ªã c√¥ng ngh·ªá (nh∆∞ camera, ƒë·ªãnh v·ªã...), b·∫£n ƒë·ªì gi·∫•y hay h·ªôp g·ªó kh√¥ng l√†m ƒë∆∞·ª£c vi·ªác n√†y.", "isCorrect": true },
                { "text": "wooden boxes", "isCorrect": false },
                { "text": "paper maps", "isCorrect": false },
                { "text": "stone tools", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 4,
              "question": "The government should _______ local communities who protect natural wonders.",
              "answerOptions": [
                { "text": "support", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. ignore (v): ph·ªõt l·ªù\n- B. support (v): h·ªó tr·ª£/·ªßng h·ªô\n- C. destroy (v): ph√° h·ªßy\n- D. remove (v): lo·∫°i b·ªè\n\n**D·ªãch c√¢u:** Ch√≠nh ph·ªß n√™n **h·ªó tr·ª£** c√°c c·ªông ƒë·ªìng ƒë·ªãa ph∆∞∆°ng, nh·ªØng ng∆∞·ªùi b·∫£o v·ªá c√°c k·ª≥ quan thi√™n nhi√™n.\n\n**Gi·∫£i th√≠ch:** H√†nh ƒë·ªông 'protect natural wonders' (b·∫£o v·ªá k·ª≥ quan) l√† t·ªët, n√™n ch√≠nh ph·ªß c·∫ßn 'support' (·ªßng h·ªô).", "isCorrect": true },
                { "text": "ignore", "isCorrect": false },
                { "text": "destroy", "isCorrect": false },
                { "text": "remove", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 5,
              "question": "The _______ around Mount Everest are extremely harsh and dangerous for climbers.",
              "answerOptions": [
                { "text": "weather conditions", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. weather conditions (n.phr): ƒëi·ªÅu ki·ªán th·ªùi ti·∫øt\n- B. dancing skills (n.phr): k·ªπ nƒÉng khi√™u v≈©\n- C. cooking recipes (n.phr): c√¥ng th·ª©c n·∫•u ƒÉn\n- D. shopping lists (n.phr): danh s√°ch mua s·∫Øm\n\n**D·ªãch c√¢u:** **ƒêi·ªÅu ki·ªán th·ªùi ti·∫øt** xung quanh ƒë·ªânh Everest c·ª±c k·ª≥ kh·∫Øc nghi·ªát v√† nguy hi·ªÉm cho nh·ªØng ng∆∞·ªùi leo n√∫i.\n\n**Gi·∫£i th√≠ch:** T√≠nh t·ª´ 'harsh and dangerous' (kh·∫Øc nghi·ªát v√† nguy hi·ªÉm) ·ªü v√πng n√∫i cao th∆∞·ªùng mi√™u t·∫£ v·ªÅ th·ªùi ti·∫øt/kh√≠ h·∫≠u.", "isCorrect": true },
                { "text": "dancing skills", "isCorrect": false },
                { "text": "cooking recipes", "isCorrect": false },
                { "text": "shopping lists", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 6,
              "question": "Traditional boats in Vietnam _______ bamboo.",
              "answerOptions": [
                { "text": "are made from", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. are broken by (v): b·ªã l√†m v·ª° b·ªüi\n- B. are painted with (v): ƒë∆∞·ª£c s∆°n v·ªõi\n- C. are lost in (v): b·ªã l·∫°c trong\n- D. are made from (v): ƒë∆∞·ª£c l√†m t·ª´\n\n**D·ªãch c√¢u:** Thuy·ªÅn truy·ªÅn th·ªëng ·ªü Vi·ªát Nam **ƒë∆∞·ª£c l√†m t·ª´** tre.\n\n**Gi·∫£i th√≠ch:** C·∫•u tr√∫c 'be made from/of' ch·ªâ nguy√™n li·ªáu l√†m ra v·∫≠t g√¨ ƒë√≥.", "isCorrect": true },
                { "text": "are broken by", "isCorrect": false },
                { "text": "are painted with", "isCorrect": false },
                { "text": "are lost in", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 7,
              "question": "Visiting natural wonders gives young people the _______ to learn about nature.",
              "answerOptions": [
                { "text": "opportunity", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. opportunity (n): c∆° h·ªôi\n- B. disease (n): b·ªánh t·∫≠t\n- C. accident (n): tai n·∫°n\n- D. mistake (n): sai l·∫ßm\n\n**D·ªãch c√¢u:** Tham quan c√°c k·ª≥ quan thi√™n nhi√™n mang l·∫°i cho ng∆∞·ªùi tr·∫ª **c∆° h·ªôi** ƒë·ªÉ t√¨m hi·ªÉu v·ªÅ thi√™n nhi√™n.\n\n**Gi·∫£i th√≠ch:** 'Give opportunity to do sth' (Trao c∆° h·ªôi l√†m g√¨). C√°c ƒë√°p √°n c√≤n l·∫°i ƒë·ªÅu mang nghƒ©a ti√™u c·ª±c.", "isCorrect": true },
                { "text": "disease", "isCorrect": false },
                { "text": "accident", "isCorrect": false },
                { "text": "mistake", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 8,
              "question": "Wild animals in national parks have the _______ to roam without human interference.",
              "answerOptions": [
                { "text": "freedom", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. prison (n): nh√† t√π\n- B. freedom (n): s·ª± t·ª± do\n- C. homework (n): b√†i t·∫≠p v·ªÅ nh√†\n- D. illness (n): b·ªánh t·∫≠t\n\n**D·ªãch c√¢u:** ƒê·ªông v·∫≠t hoang d√£ trong c√°c v∆∞·ªùn qu·ªëc gia c√≥ **s·ª± t·ª± do** ƒëi l·∫°i m√† kh√¥ng c√≥ s·ª± can thi·ªáp c·ªßa con ng∆∞·ªùi.\n\n**Gi·∫£i th√≠ch:** 'Roam without interference' (ƒëi l·∫°i kh√¥ng b·ªã can thi·ªáp) ƒë·ªìng nghƒ©a v·ªõi s·ª± t·ª± do (freedom).", "isCorrect": true },
                { "text": "prison", "isCorrect": false },
                { "text": "homework", "isCorrect": false },
                { "text": "illness", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 9,
              "question": "The younger _______ needs to learn how to protect natural wonders for the future.",
              "answerOptions": [
                { "text": "generation", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. generation (n): th·∫ø h·ªá\n- B. vacation (n): k·ª≥ ngh·ªâ\n- C. situation (n): t√¨nh hu·ªëng\n- D. invitation (n): l·ªùi m·ªùi\n\n**D·ªãch c√¢u:** **Th·∫ø h·ªá** tr·∫ª c·∫ßn h·ªçc c√°ch b·∫£o v·ªá c√°c k·ª≥ quan thi√™n nhi√™n cho t∆∞∆°ng lai.\n\n**Gi·∫£i th√≠ch:** 'The younger generation' l√† c·ª•m t·ª´ c·ªë ƒë·ªãnh ch·ªâ l·ªõp ng∆∞·ªùi tr·∫ª tu·ªïi.", "isCorrect": true },
                { "text": "vacation", "isCorrect": false },
                { "text": "situation", "isCorrect": false },
                { "text": "invitation", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 10,
              "question": "Many scientists _______ research on coral reefs in Australia.",
              "answerOptions": [
                { "text": "pursue", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. pursue (v): theo ƒëu·ªïi/th·ª±c hi·ªán\n- B. refuse (v): t·ª´ ch·ªëi\n- C. confuse (v): g√¢y b·ªëi r·ªëi\n- D. abuse (v): l·∫°m d·ª•ng\n\n**D·ªãch c√¢u:** Nhi·ªÅu nh√† khoa h·ªçc **th·ª±c hi·ªán/theo ƒëu·ªïi** nghi√™n c·ª©u v·ªÅ c√°c r·∫°n san h√¥ ·ªü √öc.\n\n**Gi·∫£i th√≠ch:** 'Pursue research' ho·∫∑c 'conduct research' mang nghƒ©a th·ª±c hi·ªán vi·ªác nghi√™n c·ª©u. C√°c t·ª´ c√≤n l·∫°i mang nghƒ©a ti√™u c·ª±c.", "isCorrect": true },
                { "text": "refuse", "isCorrect": false },
                { "text": "confuse", "isCorrect": false },
                { "text": "abuse", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 11,
              "question": "The _______ government tried to control tourism at natural sites, but now it's more open.",
              "answerOptions": [
                { "text": "previous", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. current (adj): hi·ªán t·∫°i\n- B. previous (adj): tr∆∞·ªõc ƒë√¢y/c≈©\n- C. invisible (adj): v√¥ h√¨nh\n- D. impossible (adj): kh√¥ng th·ªÉ\n\n**D·ªãch c√¢u:** Ch√≠nh ph·ªß **tr∆∞·ªõc ƒë√¢y** ƒë√£ c·ªë g·∫Øng ki·ªÉm so√°t du l·ªãch t·∫°i c√°c ƒëi·ªÉm thi√™n nhi√™n, nh∆∞ng b√¢y gi·ªù th√¨ m·ªü c·ª≠a h∆°n.\n\n**Gi·∫£i th√≠ch:** C√≥ s·ª± ƒë·ªëi l·∫≠p gi·ªØa 'tried' (qu√° kh·ª©) v√† 'now' (b√¢y gi·ªù). Do ƒë√≥, c·∫ßn m·ªôt t√≠nh t·ª´ ch·ªâ th·ªùi gian trong qu√° kh·ª© l√† 'previous'.", "isCorrect": true },
                { "text": "current", "isCorrect": false },
                { "text": "invisible", "isCorrect": false },
                { "text": "impossible", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 12,
              "question": "Tourists should _______ of the rules when visiting protected natural areas.",
              "answerOptions": [
                { "text": "take note", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. make fun (v.phr): ch·∫ø gi·ªÖu\n- B. take note (v.phr): ghi nh·ªõ/ch√∫ √Ω\n- C. lose track (v.phr): m·∫•t d·∫•u/qu√™n\n- D. get rid (v.phr): lo·∫°i b·ªè\n\n**D·ªãch c√¢u:** Du kh√°ch n√™n **ch√∫ √Ω/ghi nh·ªõ** c√°c quy ƒë·ªãnh khi tham quan c√°c khu v·ª±c thi√™n nhi√™n ƒë∆∞·ª£c b·∫£o v·ªá.\n\n**Gi·∫£i th√≠ch:** C·ª•m t·ª´ 'take note of' c√≥ nghƒ©a l√† ch√∫ √Ω ƒë·∫øn, ƒë·ªÉ t√¢m ƒë·∫øn.", "isCorrect": true },
                { "text": "make fun", "isCorrect": false },
                { "text": "lose track", "isCorrect": false },
                { "text": "get rid", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 13,
              "question": "Guides help visitors _______ important facts about the history of natural landmarks.",
              "answerOptions": [
                { "text": "memorise", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. memorise (v): ghi nh·ªõ/h·ªçc thu·ªôc\n- B. criticise (v): ph√™ b√¨nh/ch·ªâ tr√≠ch\n- C. advertise (v): qu·∫£ng c√°o\n- D. exercise (v): t·∫≠p th·ªÉ d·ª•c\n\n**D·ªãch c√¢u:** H∆∞·ªõng d·∫´n vi√™n gi√∫p du kh√°ch **ghi nh·ªõ** nh·ªØng s·ª± ki·ªán quan tr·ªçng v·ªÅ l·ªãch s·ª≠ c·ªßa c√°c danh th·∫Øng thi√™n nhi√™n.\n\n**Gi·∫£i th√≠ch:** H∆∞·ªõng d·∫´n vi√™n cung c·∫•p th√¥ng tin ƒë·ªÉ kh√°ch du l·ªãch bi·∫øt v√† nh·ªõ (memorise).", "isCorrect": true },
                { "text": "criticise", "isCorrect": false },
                { "text": "advertise", "isCorrect": false },
                { "text": "exercise", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 14,
              "question": "Cable cars might _______ traditional hiking paths to reach mountain peaks.",
              "answerOptions": [
                { "text": "replace", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. replace (v): thay th·∫ø\n- B. embrace (v): √¥m/ƒë√≥n nh·∫≠n\n- C. misplace (v): ƒë·ªÉ nh·∫ßm ch·ªó\n- D. surface (v): n·ªïi l√™n b·ªÅ m·∫∑t\n\n**D·ªãch c√¢u:** C√°p treo c√≥ th·ªÉ **thay th·∫ø** c√°c ƒë∆∞·ªùng leo n√∫i truy·ªÅn th·ªëng ƒë·ªÉ l√™n t·ªõi ƒë·ªânh n√∫i.\n\n**Gi·∫£i th√≠ch:** C√°p treo l√† ph∆∞∆°ng ti·ªán hi·ªán ƒë·∫°i, c√≥ th·ªÉ l√†m ng∆∞·ªùi ta kh√¥ng d√πng ƒë∆∞·ªùng ƒëi b·ªô c≈© n·ªØa (thay th·∫ø).", "isCorrect": true },
                { "text": "embrace", "isCorrect": false },
                { "text": "misplace", "isCorrect": false },
                { "text": "surface", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 15,
              "question": "Countries with _______ systems let citizens vote on environmental protection laws.",
              "answerOptions": [
                { "text": "democratic", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. automatic (adj): t·ª± ƒë·ªông\n- B. democratic (adj): d√¢n ch·ªß\n- C. athletic (adj): thu·ªôc v·ªÅ ƒëi·ªÅn kinh/th·ªÉ thao\n- D. dramatic (adj): k·ªãch t√≠nh\n\n**D·ªãch c√¢u:** C√°c qu·ªëc gia c√≥ h·ªá th·ªëng **d√¢n ch·ªß** cho ph√©p c√¥ng d√¢n b·ªè phi·∫øu v·ªÅ c√°c lu·∫≠t b·∫£o v·ªá m√¥i tr∆∞·ªùng.\n\n**Gi·∫£i th√≠ch:** 'Vote' (b·ªè phi·∫øu) l√† ƒë·∫∑c tr∆∞ng c·ªßa h·ªá th·ªëng d√¢n ch·ªß (democratic).", "isCorrect": true },
                { "text": "automatic", "isCorrect": false },
                { "text": "athletic", "isCorrect": false },
                { "text": "dramatic", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 16,
              "question": "National parks offer _______ activities like hiking, camping, and bird watching.",
              "answerOptions": [
                { "text": "various", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. various (adj): ƒëa d·∫°ng/nhi·ªÅu lo·∫°i kh√°c nhau\n- B. nervous (adj): lo l·∫Øng\n- C. jealous (adj): ghen t·ªã\n- D. precious (adj): qu√Ω gi√°\n\n**D·ªãch c√¢u:** C√°c v∆∞·ªùn qu·ªëc gia cung c·∫•p **ƒëa d·∫°ng** c√°c ho·∫°t ƒë·ªông nh∆∞ leo n√∫i, c·∫Øm tr·∫°i v√† ng·∫Øm chim.\n\n**Gi·∫£i th√≠ch:** C√¢u li·ªát k√™ nhi·ªÅu ho·∫°t ƒë·ªông kh√°c nhau (hiking, camping, bird watching) n√™n d√πng 'various'.", "isCorrect": true },
                { "text": "nervous", "isCorrect": false },
                { "text": "jealous", "isCorrect": false },
                { "text": "precious", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 17,
              "question": "_______ communities near natural wonders often work together to protect their heritage.",
              "answerOptions": [
                { "text": "Family-oriented", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. Selfish (adj): √≠ch k·ª∑\n- B. Isolated (adj): c√¥ l·∫≠p\n- C. Family-oriented (adj): h∆∞·ªõng v·ªÅ gia ƒë√¨nh/coi tr·ªçng gia ƒë√¨nh\n- D. Careless (adj): b·∫•t c·∫©n\n\n**D·ªãch c√¢u:** C√°c c·ªông ƒë·ªìng **coi tr·ªçng gia ƒë√¨nh** g·∫ßn c√°c k·ª≥ quan thi√™n nhi√™n th∆∞·ªùng l√†m vi·ªác c√πng nhau ƒë·ªÉ b·∫£o v·ªá di s·∫£n c·ªßa h·ªç.\n\n**Gi·∫£i th√≠ch:** Trong ng·ªØ c·∫£nh c√°c b√†i h·ªçc v·ªÅ x√£ h·ªôi (th∆∞·ªùng g·∫∑p trong SGK), c√°c c·ªông ƒë·ªìng g·∫Øn k·∫øt th∆∞·ªùng ƒë∆∞·ª£c m√¥ t·∫£ l√† 'family-oriented' ho·∫∑c 'community-oriented'. Vi·ªác 'work together' (l√†m vi·ªác c√πng nhau) th·ªÉ hi·ªán s·ª± ƒëo√†n k·∫øt t√≠ch c·ª±c. C√°c ƒë√°p √°n 'Selfish' v√† 'Careless' mang nghƒ©a ti√™u c·ª±c. 'Isolated' (c√¥ l·∫≠p) kh√¥ng gi·∫£i th√≠ch ƒë∆∞·ª£c l√Ω do h·ªç l√†m vi·ªác c√πng nhau.", "isCorrect": true },
                { "text": "Selfish", "isCorrect": false },
                { "text": "Isolated", "isCorrect": false },
                { "text": "Careless", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 18,
              "question": "Each visitor has their own _______ experience when seeing natural wonders.",
              "answerOptions": [
                { "text": "personal", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. national (adj): thu·ªôc v·ªÅ qu·ªëc gia\n- B. personal (adj): c√° nh√¢n\n- C. criminal (adj): ph·∫°m t·ªôi/thu·ªôc v·ªÅ t·ªôi ph·∫°m\n- D. fictional (adj): h∆∞ c·∫•u\n\n**D·ªãch c√¢u:** M·ªói du kh√°ch ƒë·ªÅu c√≥ tr·∫£i nghi·ªám **c√° nh√¢n** c·ªßa ri√™ng m√¨nh khi ng·∫Øm nh√¨n c√°c k·ª≥ quan thi√™n nhi√™n.\n\n**Gi·∫£i th√≠ch:** C·ª•m t·ª´ 'their own' (c·ªßa ri√™ng h·ªç) ch·ªâ s·ª± ri√™ng bi·ªát, t∆∞∆°ng ·ª©ng v·ªõi 'personal'.", "isCorrect": true },
                { "text": "national", "isCorrect": false },
                { "text": "criminal", "isCorrect": false },
                { "text": "fictional", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 19,
              "question": "In villages near waterfalls, _______ often live together and share tourism income.",
              "answerOptions": [
                { "text": "extended families", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. extended families (n.phr): gia ƒë√¨nh ƒëa th·∫ø h·ªá\n- B. broken windows (n.phr): c·ª≠a s·ªï v·ª°\n- C. empty bottles (n.phr): chai r·ªóng\n- D. lost keys (n.phr): ch√¨a kh√≥a b·ªã m·∫•t\n\n**D·ªãch c√¢u:** T·∫°i c√°c ng√¥i l√†ng g·∫ßn th√°c n∆∞·ªõc, **c√°c gia ƒë√¨nh ƒëa th·∫ø h·ªá** th∆∞·ªùng s·ªëng c√πng nhau v√† chia s·∫ª thu nh·∫≠p t·ª´ du l·ªãch.\n\n**Gi·∫£i th√≠ch:** 'Extended families' l√† t·ª´ v·ª±ng ch·ªâ gia ƒë√¨nh c√≥ nhi·ªÅu th·∫ø h·ªá (√¥ng b√†, cha m·∫π, con ch√°u) s·ªëng chung, ph√π h·ª£p v·ªõi vƒÉn h√≥a l√†ng x√£.", "isCorrect": true },
                { "text": "broken windows", "isCorrect": false },
                { "text": "empty bottles", "isCorrect": false },
                { "text": "lost keys", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 20,
              "question": "Backpackers prefer to travel _______ when exploring natural sites.",
              "answerOptions": [
                { "text": "independent", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. dependent (adj): ph·ª• thu·ªôc\n- B. redundant (adj): d∆∞ th·ª´a\n- C. independent (adj): ƒë·ªôc l·∫≠p\n- D. abundant (adj): d·ªìi d√†o\n\n**D·ªãch c√¢u:** D√¢n du l·ªãch b·ª•i th√≠ch ƒëi du l·ªãch **t·ª± t√∫c/ƒë·ªôc l·∫≠p** khi kh√°m ph√° c√°c ƒë·ªãa ƒëi·ªÉm thi√™n nhi√™n.\n\n**Gi·∫£i th√≠ch:** C·∫•u tr√∫c 'travel independent' (d√πng t√≠nh t·ª´ nh∆∞ m·ªôt b·ªï ng·ªØ cho ch·ªß ng·ªØ ho·∫∑c tr·∫°ng th√°i) mang nghƒ©a ƒëi du l·ªãch m·ªôt c√°ch t·ª± l·∫≠p, kh√¥ng theo tour. (L∆∞u √Ω: ƒë√∫ng ng·ªØ ph√°p tr·∫°ng t·ª´ l√† 'independently', nh∆∞ng trong b√†i tr·∫Øc nghi·ªám n√†y c√°c l·ª±a ch·ªçn ƒë·ªÅu l√† t√≠nh t·ª´, n√™n ch·ªçn t√≠nh t·ª´ mang nghƒ©a ph√π h·ª£p nh·∫•t).", "isCorrect": true },
                { "text": "dependent", "isCorrect": false },
                { "text": "redundant", "isCorrect": false },
                { "text": "abundant", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 21,
              "question": "We should never _______ our efforts to protect endangered natural areas.",
              "answerOptions": [
                { "text": "give up", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. give up (phr.v): t·ª´ b·ªè\n- B. wake up (phr.v): th·ª©c d·∫≠y\n- C. dress up (phr.v): ƒÉn di·ªán\n- D. make up (phr.v): trang ƒëi·ªÉm/b·ªãa chuy·ªán\n\n**D·ªãch c√¢u:** Ch√∫ng ta kh√¥ng bao gi·ªù n√™n **t·ª´ b·ªè** nh·ªØng n·ªó l·ª±c b·∫£o v·ªá c√°c khu v·ª±c thi√™n nhi√™n ƒëang b·ªã ƒëe d·ªça.\n\n**Gi·∫£i th√≠ch:** C·ª•m t·ª´ 'give up' (t·ª´ b·ªè) l√† h·ª£p l√Ω nh·∫•t trong ng·ªØ c·∫£nh n·ªó l·ª±c l√†m ƒëi·ªÅu t·ªët.", "isCorrect": true },
                { "text": "wake up", "isCorrect": false },
                { "text": "dress up", "isCorrect": false },
                { "text": "make up", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 22,
              "question": "Modern camps near natural wonders now have _______ for visitor comfort.",
              "answerOptions": [
                { "text": "hi-tech appliances", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. ancient ruins (n.phr): t√†n t√≠ch c·ªï ƒë·∫°i\n- B. hi-tech appliances (n.phr): thi·∫øt b·ªã c√¥ng ngh·ªá cao\n- C. broken stones (n.phr): ƒë√° v·ª°\n- D. dead trees (n.phr): c√¢y ch·∫øt\n\n**D·ªãch c√¢u:** C√°c khu c·∫Øm tr·∫°i hi·ªán ƒë·∫°i g·∫ßn c√°c k·ª≥ quan thi√™n nhi√™n nay ƒë√£ c√≥ **c√°c thi·∫øt b·ªã c√¥ng ngh·ªá cao** ƒë·ªÉ ph·ª•c v·ª• s·ª± tho·∫£i m√°i c·ªßa du kh√°ch.\n\n**Gi·∫£i th√≠ch:** T·ª´ kh√≥a 'Modern' (hi·ªán ƒë·∫°i) v√† 'comfort' (ti·ªán nghi) g·ª£i √Ω ƒë·∫øn 'hi-tech appliances'.", "isCorrect": true },
                { "text": "ancient ruins", "isCorrect": false },
                { "text": "broken stones", "isCorrect": false },
                { "text": "dead trees", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 23,
              "question": "Some natural reserves have _______ areas where only researchers can enter.",
              "answerOptions": [
                { "text": "private", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. private (adj): ri√™ng t∆∞/n·ªôi b·ªô (h·∫°n ch·∫ø ng∆∞·ªùi ngo√†i)\n- B. creative (adj): s√°ng t·∫°o\n- C. native (adj): b·∫£n ƒë·ªãa\n- D. active (adj): nƒÉng ƒë·ªông\n\n**D·ªãch c√¢u:** M·ªôt s·ªë khu b·∫£o t·ªìn thi√™n nhi√™n c√≥ c√°c khu v·ª±c **ri√™ng bi·ªát/h·∫°n ch·∫ø** n∆°i ch·ªâ c√≥ c√°c nh√† nghi√™n c·ª©u m·ªõi ƒë∆∞·ª£c v√†o.\n\n**Gi·∫£i th√≠ch:** 'Only researchers can enter' nghƒ©a l√† khu v·ª±c ƒë√≥ kh√¥ng c√¥ng khai, b·ªã h·∫°n ch·∫ø, hay l√† khu v·ª±c 'private'.", "isCorrect": true },
                { "text": "creative", "isCorrect": false },
                { "text": "native", "isCorrect": false },
                { "text": "active", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 24,
              "question": "Architects _______ eco-friendly visitor centers that blend with natural landscapes.",
              "answerOptions": [
                { "text": "design", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. design (v): thi·∫øt k·∫ø\n- B. resign (v): t·ª´ ch·ª©c\n- C. assign (v): ph√¢n c√¥ng\n- D. align (v): cƒÉn ch·ªânh\n\n**D·ªãch c√¢u:** C√°c ki·∫øn tr√∫c s∆∞ **thi·∫øt k·∫ø** c√°c trung t√¢m du kh√°ch th√¢n thi·ªán v·ªõi m√¥i tr∆∞·ªùng, h√≤a h·ª£p v·ªõi c·∫£nh quan thi√™n nhi√™n.\n\n**Gi·∫£i th√≠ch:** C√¥ng vi·ªác c·ªßa 'Architects' (ki·∫øn tr√∫c s∆∞) l√† 'design' (thi·∫øt k·∫ø) c√¥ng tr√¨nh.", "isCorrect": true },
                { "text": "resign", "isCorrect": false },
                { "text": "assign", "isCorrect": false },
                { "text": "align", "isCorrect": false }
              ]
            },
            {
              "questionNumber": 25,
              "question": "The park ranger made a _______ to keep the trails clean for future visitors.",
              "answerOptions": [
                { "text": "promise", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- A. promise (n): l·ªùi h·ª©a\n- B. premise (n): ti·ªÅn ƒë·ªÅ\n- C. practice (n): s·ª± th·ª±c h√†nh\n- D. prejudice (n): ƒë·ªãnh ki·∫øn\n\n**D·ªãch c√¢u:** Ng∆∞·ªùi ki·ªÉm l√¢m ƒë√£ ƒë∆∞a ra m·ªôt **l·ªùi h·ª©a** s·∫Ω gi·ªØ cho c√°c con ƒë∆∞·ªùng m√≤n s·∫°ch s·∫Ω cho du kh√°ch trong t∆∞∆°ng lai.\n\n**Gi·∫£i th√≠ch:** C·ª•m t·ª´ 'make a promise' (h·ª©a).", "isCorrect": true },
                { "text": "premise", "isCorrect": false },
                { "text": "practice", "isCorrect": false },
                { "text": "prejudice", "isCorrect": false }
              ]
            }
          ]
        };

        let currentQuestions = [];
        let score = 0;
        let answeredCount = 0;

        // Sound Effects (using simple beep URLs or generated tones)
        const soundCorrect = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3');
        const soundWrong = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3');
        const soundConfetti = new Audio('https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3');

        // Shuffle Function
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Initialize Quiz
        function initQuiz() {
            // Clone deep
            currentQuestions = JSON.parse(JSON.stringify(rawData.questions));
            
            // 1. Shuffle Order of Questions
            shuffleArray(currentQuestions);
            
            // 2. Shuffle Order of Options INSIDE each question
            currentQuestions.forEach(q => {
                shuffleArray(q.answerOptions);
            });
            
            // Reset States
            score = 0;
            answeredCount = 0;
            document.getElementById('score-display').innerText = score;
            document.getElementById('quiz-container').innerHTML = '';
            document.getElementById('result-modal').classList.add('hidden');
            
            // Render all questions
            currentQuestions.forEach((q, index) => renderQuestion(q, index + 1));
        }

        // Parse Text for Markdown-like bolding AND Remove Hardcoded A/B/C/D prefixes in explanation
        function formatText(text) {
            if(!text) return "";
            
            // Remove "- A.", "- B." patterns to avoid confusion since we shuffled options
            // Logic: Replace "- A. word" with "- <strong>word</strong>" or just bullet
            let cleanText = text
                // Replace "- A. word" with "‚Ä¢ word"
                .replace(/- [A-D]\.\s/g, '‚Ä¢ ') 
                // Bold formatting
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\n/g, '<br>');
                
            return cleanText;
        }

        // Render Single Question Card
        function renderQuestion(qData, displayIndex) {
            const container = document.getElementById('quiz-container');
            
            const qDiv = document.createElement('div');
            qDiv.className = "bg-white rounded-3xl p-6 shadow-xl border-b-8 border-gray-200 relative overflow-hidden";
            qDiv.id = `q-card-${qData.questionNumber}`;

            let optionsHtml = '';
            const labels = ['A', 'B', 'C', 'D'];
            
            // Use the ALREADY SHUFFLED qData.answerOptions
            qData.answerOptions.forEach((opt, idx) => {
                optionsHtml += `
                    <button onclick="handleAnswer(this, ${qData.questionNumber}, ${opt.isCorrect}, '${labels[idx]}')" 
                        class="option-btn group w-full text-left p-4 rounded-xl border-2 border-gray-100 mb-3 btn-3d bg-white hover:bg-gray-50 flex items-center gap-4 transition-colors"
                        data-qid="${qData.questionNumber}" data-is-correct="${opt.isCorrect}">
                        <div class="w-10 h-10 rounded-lg bg-gray-100 text-gray-500 font-bold flex items-center justify-center group-hover:bg-theme-pink group-hover:text-white transition-colors">
                            ${labels[idx]}
                        </div>
                        <span class="font-semibold text-lg text-gray-700">${opt.text}</span>
                    </button>
                `;
            });

            // Find explanation text from the correct option (before shuffle or after, doesn't matter as object ref is same)
            const correctOpt = qData.answerOptions.find(o => o.isCorrect);
            const explanationText = correctOpt.rationale || "Chi ti·∫øt ƒëang c·∫≠p nh·∫≠t.";

            qDiv.innerHTML = `
                <div class="mb-6">
                    <span class="inline-block bg-purple-100 text-purple-700 text-xs font-bold px-3 py-1 rounded-full mb-2">Question ${displayIndex}</span>
                    <h3 class="text-xl md:text-2xl font-bold text-gray-800 leading-snug">
                        ${qData.question}
                    </h3>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    ${optionsHtml}
                </div>

                <!-- Explanation Box (Hidden initially) -->
                <div id="explain-${qData.questionNumber}" class="explanation-box hidden rounded-xl p-5 mt-6 animate-fade-in">
                    <h4 class="font-bold text-theme-pink flex items-center gap-2 mb-3">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        Ms Mai An Gi·∫£i Th√≠ch Chi Ti·∫øt:
                    </h4>
                    <div class="text-gray-700 text-sm md:text-base leading-relaxed rationale-text">
                        ${formatText(explanationText)}
                    </div>
                </div>
            `;
            
            container.appendChild(qDiv);
        }

        // Handle Answer Click
        function handleAnswer(btn, qId, isCorrect, label) {
            const parentCard = document.getElementById(`q-card-${qId}`);
            const allBtns = parentCard.querySelectorAll('.option-btn');
            
            // Prevent multiple clicks
            if (btn.classList.contains('disabled')) return;
            
            // Disable all buttons in this card
            allBtns.forEach(b => {
                b.classList.add('disabled', 'cursor-not-allowed', 'opacity-80');
                b.onclick = null;
            });

            answeredCount++;
            updateProgress();

            if (isCorrect) {
                // Correct styling
                btn.classList.remove('bg-white', 'hover:bg-gray-50');
                btn.classList.add('bg-correct', 'border-green-600');
                btn.querySelector('div').classList.add('bg-green-700', 'text-white');
                
                // Sound & Confetti
                soundCorrect.currentTime = 0;
                soundCorrect.play();
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#00D26A', '#8854C0', '#00C9A7']
                });
                
                score++;
                animateScore();
            } else {
                // Wrong styling
                btn.classList.remove('bg-white', 'hover:bg-gray-50');
                btn.classList.add('bg-wrong', 'border-red-600');
                btn.querySelector('div').classList.add('bg-red-700', 'text-white');
                
                // Add Shake Animation to the card
                parentCard.classList.add('shake-animation');
                
                // Sound
                soundWrong.currentTime = 0;
                soundWrong.play();

                // AUTOMATICALLY Highlight the correct answer so user knows
                allBtns.forEach(b => {
                    if(b.getAttribute('data-is-correct') === 'true') {
                        b.classList.remove('bg-white');
                        b.classList.add('bg-green-100', 'border-green-600', 'text-green-800');
                        b.querySelector('div').classList.add('bg-green-600', 'text-white');
                        // Optional: Add icon check?
                    }
                });
            }
            
            // SHOW EXPLANATION
            const explainDiv = document.getElementById(`explain-${qId}`);
            explainDiv.classList.remove('hidden');
            explainDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        function updateProgress() {
            document.getElementById('progress-display').innerText = Math.min(answeredCount + 1, 25);
        }

        function animateScore() {
            const scoreEl = document.getElementById('score-display');
            scoreEl.innerText = score;
            scoreEl.classList.add('scale-150', 'text-green-600');
            setTimeout(() => scoreEl.classList.remove('scale-150', 'text-green-600'), 200);
        }

        // Finish Quiz
        function finishQuiz() {
            const modal = document.getElementById('result-modal');
            const finalScoreEl = document.getElementById('final-score');
            const msgEl = document.getElementById('final-message');
            
            finalScoreEl.innerText = score;
            
            if(score === 25) {
                msgEl.innerText = "Tuy·ªát ƒë·ªânh! B·∫°n l√† thi√™n t√†i! üåü";
                soundConfetti.play();
            } else if (score >= 20) {
                msgEl.innerText = "R·∫•t t·ªët! C·ªë ch√∫t n·ªØa l√† ho√†n h·∫£o! üî•";
            } else if (score >= 15) {
                msgEl.innerText = "Kh√° l·∫Øm! H√£y √¥n l·∫°i c√°c t·ª´ v·ª±ng nh√©! üìö";
            } else {
                msgEl.innerText = "C·ªë g·∫Øng l√™n! ƒê·ª´ng n·∫£n ch√≠ nh√©! üí™";
            }
            
            modal.classList.remove('hidden');
            confetti({ particleCount: 200, spread: 100, origin: { y: 0.6 } });
        }

        function closeModal() {
            document.getElementById('result-modal').classList.add('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function resetQuiz() {
            if(confirm("B·∫°n c√≥ mu·ªën l√†m l·∫°i t·ª´ ƒë·∫ßu kh√¥ng?")) {
                initQuiz();
            }
        }

        // Auto Init
        window.onload = initQuiz;

    </script>
</body>
</html>
