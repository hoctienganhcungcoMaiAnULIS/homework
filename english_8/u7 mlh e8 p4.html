<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Environmental Protection Test - Ms. Mai An ULIS</title>
    <style>
        :root {
            --primary: #0056b3; /* Xanh ƒë·∫≠m ch·ªß ƒë·∫°o */
            --accent: #e83e8c; /* H·ªìng ƒëi·ªÉm nh·∫•n */
            --light-pink: #ffeef5;
            --bg-body: #f4f7f6;
            --success: #28a745;
            --error: #dc3545;
            --warning: #ffc107;
            --text: #333;
            --card-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-body);
            color: var(--text);
            line-height: 1.6;
            margin: 0;
            padding-bottom: 100px;
        }

        /* HEADER */
        header {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 25px 15px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            position: relative;
        }

        header h1 { margin: 0; font-size: 1.8rem; }
        header h2 { margin: 5px 0 0; font-size: 1rem; opacity: 0.9; font-weight: 400; }
        header .badge {
            background: white; color: var(--accent);
            padding: 3px 10px; border-radius: 15px; font-size: 0.8rem; font-weight: bold;
            display: inline-block; margin-top: 10px;
        }

        .container {
            max-width: 900px;
            margin: 30px auto;
            padding: 0 15px;
        }

        /* CARDS */
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: var(--card-shadow);
            margin-bottom: 30px;
            overflow: hidden;
            border-top: 5px solid var(--accent);
        }

        .card-header {
            background-color: #fff;
            padding: 15px 25px;
            border-bottom: 1px solid #eee;
            font-weight: bold;
            color: var(--primary);
            font-size: 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .card-body { padding: 25px; }

        /* DATA BOX (Reading Text) */
        .data-box {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-left: 4px solid var(--primary);
            padding: 20px;
            border-radius: 6px;
            margin-bottom: 25px;
            font-size: 1.05rem;
            text-align: justify;
            line-height: 1.8;
        }

        .data-box h3 {
            text-align: center; color: var(--text); margin-top: 0;
            text-transform: uppercase; font-size: 1.1rem;
        }

        .word-bank {
            background: var(--light-pink);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 20px;
            border: 1px dashed var(--accent);
            color: var(--primary);
            font-weight: 600;
        }

        .word-bank span {
            display: inline-block;
            margin: 5px 10px;
            background: white;
            padding: 2px 8px;
            border-radius: 4px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }

        /* QUESTIONS */
        .question-item {
            margin-bottom: 25px;
            border-bottom: 1px dashed #eee;
            padding-bottom: 15px;
        }
        .question-item:last-child { border-bottom: none; }

        .q-text { font-weight: 600; margin-bottom: 10px; display: block; }

        /* INPUTS */
        .gap-input {
            width: 120px;
            padding: 5px;
            border: none;
            border-bottom: 2px solid #ccc;
            text-align: center;
            font-weight: bold;
            color: var(--primary);
            background: #fdfdfd;
            transition: 0.3s;
        }
        .gap-input:focus { outline: none; border-bottom-color: var(--accent); background: #fff; }

        .full-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 6px;
            margin-top: 5px;
            font-family: inherit;
        }

        select {
            padding: 8px; border-radius: 4px; border: 1px solid #ccc;
            background: white; min-width: 150px;
        }

        /* BUTTONS */
        .btn-check-sm {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 6px 15px;
            border-radius: 4px;
            font-size: 0.85rem;
            cursor: pointer;
            margin-top: 8px;
            display: inline-flex;
            align-items: center;
            transition: 0.2s;
        }
        .btn-check-sm:hover { background-color: #004494; }
        .btn-check-sm::before { content: "‚úì "; margin-right: 4px; }

        .btn-submit-all {
            background: linear-gradient(45deg, #11998e, #38ef7d);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(40, 167, 69, 0.4);
            transition: transform 0.2s;
        }
        .btn-submit-all:hover { transform: scale(1.05); }

        /* EXPLANATION */
        .explanation {
            display: none;
            margin-top: 15px;
            background: #eef7ff;
            border-left: 4px solid var(--accent);
            padding: 15px;
            border-radius: 0 5px 5px 0;
            font-size: 0.95rem;
        }
        .explanation.show { display: block; animation: slideIn 0.3s; }
        @keyframes slideIn { from {opacity:0; transform: translateY(-5px);} to {opacity:1; transform: translateY(0);} }

        .expl-label { font-weight: bold; color: var(--accent); text-transform: uppercase; font-size: 0.8rem; margin-bottom: 5px; display: block; }
        .trans { font-style: italic; color: #555; display: block; margin-bottom: 5px; }
        .reason { color: #222; }

        /* FEEDBACK COLORS */
        .correct-bg { background-color: #d4edda !important; border-color: #28a745 !important; }
        .wrong-bg { background-color: #f8d7da !important; border-color: #dc3545 !important; }
        .missed-bg { background-color: #fff3cd !important; border-color: #ffc107 !important; }

        /* GLOSSARY TABLE */
        .glossary { width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 0.9rem; }
        .glossary th { background: var(--primary); color: white; padding: 8px; text-align: left; }
        .glossary td { border: 1px solid #ddd; padding: 8px; }

        /* FOOTER */
        .sticky-footer {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: white; padding: 15px; text-align: center;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1); z-index: 1000;
        }

        /* RESPONSIVE */
        @media (max-width: 600px) {
            .gap-input { width: 80px; }
            .card-header { font-size: 1rem; padding: 10px 15px; }
        }

    </style>
</head>
<body>

<header>
    <h1>ENGLISH PRACTICE TEST</h1>
    <h2>Environmental Protection | Ms. Mai An ULIS</h2>
    <span class="badge">Interactive Mode</span>
</header>

<div class="container">

    <div class="card">
        <div class="card-header">D. READING - GAP FILL</div>
        <div class="card-body">
            <p><b>I. Complete the passage with the words from the box.</b></p>
            
            <div class="word-bank">
                <span>wildlife</span> <span>habitat</span> <span>naturalist</span> <span>residents</span>
                <span>breathtaking</span> <span>home</span> <span>encloses</span> <span>established</span>
            </div>

            <div class="data-box">
                <h3>Jim Corbett National Park</h3>
                <p>
                    Jim Corbett National Park can be befittingly called the paradise of tigers for the fact that it holds a large population of tigers in its (1) <input type="text" class="gap-input" id="gf1" data-ans="breathtaking"> landscapes that consists of different varieties of flora and fauna. Named after the legendary tiger hunter turned (2) <input type="text" class="gap-input" id="gf2" data-ans="naturalist"> Jim Corbett (1875-1955), the proud destination 'Jim Corbett National Park' was the first national park of India, which was (3) <input type="text" class="gap-input" id="gf3" data-ans="established"> in 1936 in the hill state of Uttarakhand in Northern India. It is one of the most famous (4) <input type="text" class="gap-input" id="gf4" data-ans="wildlife"> destinations in India, visited by several wildlife enthusiasts who want to catch the glorious sights of the Indian tigers.
                </p>
                <p>
                    The Corbett National Park is (5) <input type="text" class="gap-input" id="gf5" data-ans="home"> to approximately 110 tree species, 50 mammals' species, 580 bird species, and 25 reptile species that are found both in the lower and higher regions of the park. The geographical location of this place that (6) <input type="text" class="gap-input" id="gf6" data-ans="encloses"> streams, rivers, and ridges crisscrossing the terrain, makes Jim Corbett National Park a perfect (7) <input type="text" class="gap-input" id="gf7" data-ans="habitat"> for numerous plant and animal species. The most famous of Corbett's wild (8) <input type="text" class="gap-input" id="gf8" data-ans="residents"> are the Bengal tiger, Asiatic elephant, leopards, wild boar, sloth bear, jackal, mongoose, and crocodile.
                </p>
            </div>

            <button class="btn-check-sm" onclick="checkGroup('gap-fill-expl', ['gf1','gf2','gf3','gf4','gf5','gf6','gf7','gf8'])">Check Gap Fill Answers</button>

            <div id="gap-fill-expl" class="explanation">
                <span class="expl-label">GI·∫¢I TH√çCH CHI TI·∫æT:</span>
                <ul>
                    <li><b>(1) breathtaking:</b> C·∫ßn t√≠nh t·ª´ b·ªï nghƒ©a cho "landscapes". <i>Breathtaking landscapes</i> = Phong c·∫£nh ngo·∫°n m·ª•c.</li>
                    <li><b>(2) naturalist:</b> C·∫ßn danh t·ª´ ch·ªâ ng∆∞·ªùi sau "hunter turned...". <i>Naturalist</i> = Nh√† t·ª± nhi√™n h·ªçc.</li>
                    <li><b>(3) established:</b> C√¢u b·ªã ƒë·ªông: was + V_ed. <i>Established</i> = ƒê∆∞·ª£c th√†nh l·∫≠p.</li>
                    <li><b>(4) wildlife:</b> C·ª•m danh t·ª´: <i>Wildlife destinations</i> = ƒêi·ªÉm ƒë·∫øn du l·ªãch hoang d√£.</li>
                    <li><b>(5) home:</b> C·∫•u tr√∫c: <i>Be home to...</i> = L√† ng√¥i nh√† c·ªßa/n∆°i c∆∞ tr√∫ c·ªßa...</li>
                    <li><b>(6) encloses:</b> ƒê·ªông t·ª´ s·ªë √≠t (ch·ªß ng·ªØ "location"). <i>Encloses</i> = Bao quanh, ch·ª©a ƒë·ª±ng (s√¥ng su·ªëi).</li>
                    <li><b>(7) habitat:</b> C·∫ßn danh t·ª´. <i>Perfect habitat</i> = M√¥i tr∆∞·ªùng s·ªëng ho√†n h·∫£o.</li>
                    <li><b>(8) residents:</b> Danh t·ª´ s·ªë nhi·ªÅu ch·ªâ ƒë·ªëi t∆∞·ª£ng s·ªëng ·ªü ƒë√≥. <i>Wild residents</i> = C∆∞ d√¢n hoang d√£ (ch·ªâ ƒë·ªông v·∫≠t).</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header">II. READING - PLASTIC POLLUTION</div>
        <div class="card-body">
            <div class="data-box">
                <h3>Plastic Pollution</h3>
                <p>According to Greenpeace, more than 100,000 sea creatures and a million sea birds die every year after eating plastic or getting trapped in plastic rubbish. Sometimes, when baby turtles get trapped in plastic the shape of their shell changes when they grow. Some sea creatures make their homes in plastic rubbish, such as the hermit crabs that live on polluted Pacific beaches.</p>
                <p>Every year, the world produces more than 300 million tonnes of plastic! In a minute, people around the globe use more than a million plastic bags and they throw away more than a million plastic bottles. Where will all this plastic end up? About 10% of it will be recycled, and some will go to landfill, but a lot of it will end up polluting the oceans. Experts estimate that there are already 200 million tonnes of plastic in the world's oceans, and this will increase by about 7 million tonnes every year.</p>
                <p>Because plastic isn't biodegradable it won't decompose naturally, so all the plastic that we have now in the world will exist forever. That means we'll need to clean up the oceans if we want to protect our sea creatures. Better still, if we don't use so much plastic, it won't end up in the ocean! Experts are warning that if we don't take urgent action, there might be more plastic than fish in the sea by 2050.</p>
            </div>

            <div style="margin-bottom: 20px;">
                <span class="expl-label">üìö T·ª™ V·ª∞NG QUAN TR·ªåNG (GLOSSARY)</span>
                <table class="glossary">
                    <tr><th>Word</th><th>Type</th><th>Meaning</th></tr>
                    <tr><td>Biodegradable</td><td>adj</td><td>C√≥ th·ªÉ ph√¢n h·ªßy sinh h·ªçc</td></tr>
                    <tr><td>Decompose</td><td>v</td><td>Ph√¢n h·ªßy</td></tr>
                    <tr><td>Landfill</td><td>n</td><td>B√£i ch√¥n l·∫•p r√°c</td></tr>
                    <tr><td>Hermit crab</td><td>n</td><td>·ªêc m∆∞·ª£n h·ªìn</td></tr>
                </table>
            </div>

            <div class="question-item">
                <p><b>A. Match the words to their definitions.</b></p>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                    <div>1. getting trapped - <select id="mat1" data-ans="d"><option value="">...</option><option value="a">a</option><option value="b">b</option><option value="c">c</option><option value="d">d</option><option value="e">e</option><option value="f">f</option></select></div>
                    <div>2. shell - <select id="mat2" data-ans="e"><option value="">...</option><option value="a">a</option><option value="b">b</option><option value="c">c</option><option value="d">d</option><option value="e">e</option><option value="f">f</option></select></div>
                    <div>3. end up - <select id="mat3" data-ans="a"><option value="">...</option><option value="a">a</option><option value="b">b</option><option value="c">c</option><option value="d">d</option><option value="e">e</option><option value="f">f</option></select></div>
                    <div>4. landfill - <select id="mat4" data-ans="f"><option value="">...</option><option value="a">a</option><option value="b">b</option><option value="c">c</option><option value="d">d</option><option value="e">e</option><option value="f">f</option></select></div>
                    <div>5. clean up - <select id="mat5" data-ans="b"><option value="">...</option><option value="a">a</option><option value="b">b</option><option value="c">c</option><option value="d">d</option><option value="e">e</option><option value="f">f</option></select></div>
                    <div>6. biodegradable - <select id="mat6" data-ans="c"><option value="">...</option><option value="a">a</option><option value="b">b</option><option value="c">c</option><option value="d">d</option><option value="e">e</option><option value="f">f</option></select></div>
                </div>
                <div style="margin-top: 10px; font-size: 0.85rem; color: #555;">
                    a. finish, arrive | b. make free from pollutants | c. able to decay naturally | d. unable to escape | e. hard part on turtle's back | f. place to put rubbish
                </div>
                <button class="btn-check-sm" onclick="checkGroup('match-expl', ['mat1','mat2','mat3','mat4','mat5','mat6'])">Check Matching</button>
                <div id="match-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> 1-d, 2-e, 3-a, 4-f, 5-b, 6-c. <br>
                    <i>L∆∞u √Ω: "End up" trong b√†i c√≥ nghƒ©a l√† k·∫øt th√∫c ·ªü ƒë√¢u ƒë√≥ (arrive/finish).</i>
                </div>
            </div>

            <p><b>B. Decide whether statements are True (T) or False (F).</b></p>
            
            <div class="question-item">
                <span class="q-text">1. Plastic rubbish kills a million sea birds every year.</span>
                <label><input type="radio" name="tf1" value="T"> True</label>
                <label><input type="radio" name="tf1" value="F"> False</label>
                <button class="btn-check-sm" onclick="checkTF('tf1', 'T', 'tf1-expl')">Check</button>
                <div id="tf1-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN: TRUE</span>
                    <span class="reason">D·∫´n ch·ª©ng: "According to Greenpeace... a million sea birds die every year..." (Theo Greenpeace... 1 tri·ªáu chim bi·ªÉn ch·∫øt m·ªói nƒÉm).</span>
                </div>
            </div>

            <div class="question-item">
                <span class="q-text">2. The hermit crabs living on Pacific beaches die because of plastic pollution.</span>
                <label><input type="radio" name="tf2" value="T"> True</label>
                <label><input type="radio" name="tf2" value="F"> False</label>
                <button class="btn-check-sm" onclick="checkTF('tf2', 'F', 'tf2-expl')">Check</button>
                <div id="tf2-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN: FALSE</span>
                    <span class="reason">D·∫´n ch·ª©ng: "Some sea creatures make their homes in plastic rubbish..." (M·ªôt s·ªë lo√†i l√†m nh√† trong r√°c nh·ª±a). B√†i ƒë·ªçc n√≥i ch√∫ng th√≠ch nghi (l√†m nh√†), kh√¥ng n√≥i ch√∫ng ch·∫øt trong ng·ªØ c·∫£nh c√¢u n√†y.</span>
                </div>
            </div>

            <div class="question-item">
                <span class="q-text">3. Around the world, people use more plastic bottles than bags.</span>
                <label><input type="radio" name="tf3" value="T"> True</label>
                <label><input type="radio" name="tf3" value="F"> False</label>
                <button class="btn-check-sm" onclick="checkTF('tf3', 'F', 'tf3-expl')">Check</button>
                <div id="tf3-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN: FALSE</span>
                    <span class="reason">D·∫´n ch·ª©ng: "...use more than a million plastic bags... throw away more than a million plastic bottles." C·∫£ hai ƒë·ªÅu l√† "h∆°n 1 tri·ªáu", kh√¥ng c√≥ so s√°nh c√°i n√†o nhi·ªÅu h∆°n.</span>
                </div>
            </div>

            <div class="question-item">
                <span class="q-text">4. Less than half of plastic bottles and bags end up getting recycled.</span>
                <label><input type="radio" name="tf4" value="T"> True</label>
                <label><input type="radio" name="tf4" value="F"> False</label>
                <button class="btn-check-sm" onclick="checkTF('tf4', 'T', 'tf4-expl')">Check</button>
                <div id="tf4-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN: TRUE</span>
                    <span class="reason">D·∫´n ch·ª©ng: "About 10% of it will be recycled..." (Kho·∫£ng 10% ƒë∆∞·ª£c t√°i ch·∫ø). 10% ch·∫Øc ch·∫Øn nh·ªè h∆°n m·ªôt n·ª≠a (50%).</span>
                </div>
            </div>
            
            <div class="question-item">
                 <span class="q-text">5. Plastic rubbish will disappear naturally over time.</span>
                <label><input type="radio" name="tf5" value="T"> True</label>
                <label><input type="radio" name="tf5" value="F"> False</label>
                <button class="btn-check-sm" onclick="checkTF('tf5', 'F', 'tf5-expl')">Check</button>
                <div id="tf5-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN: FALSE</span>
                    <span class="reason">D·∫´n ch·ª©ng: "...plastic isn't biodegradable it won't decompose naturally..." (N√≥ kh√¥ng ph√¢n h·ªßy t·ª± nhi√™n).</span>
                </div>
            </div>

            <div class="question-item">
                <span class="q-text">6. It is predicted that there will be more plastic than fish in the oceans by 2050.</span>
               <label><input type="radio" name="tf6" value="T"> True</label>
               <label><input type="radio" name="tf6" value="F"> False</label>
               <button class="btn-check-sm" onclick="checkTF('tf6', 'T', 'tf6-expl')">Check</button>
               <div id="tf6-expl" class="explanation">
                   <span class="expl-label">ƒê√ÅP √ÅN: TRUE</span>
                   <span class="reason">D·∫´n ch·ª©ng: "...there might be more plastic than fish in the sea by 2050."</span>
               </div>
           </div>

           <p><b>C. Answer the questions.</b></p>
           <div class="question-item">
               <span class="q-text">1. What never decomposes?</span>
               <input type="text" class="full-input" id="sa1" placeholder="Answer here...">
               <button class="btn-check-sm" onclick="checkSA('sa1', 'Plastic', 'sa1-expl')">Check</button>
               <div id="sa1-expl" class="explanation">
                   <span class="expl-label">G·ª¢I √ù:</span> Plastic / Plastic rubbish.
                   <span class="reason">D·∫´n ch·ª©ng: "Because plastic isn't biodegradable it won't decompose naturally..."</span>
               </div>
           </div>
           
           <div class="question-item">
                <span class="q-text">2. How many tonnes of plastic are dumped into the oceans every year?</span>
                <input type="text" class="full-input" id="sa2" placeholder="Answer here...">
                <button class="btn-check-sm" onclick="checkSA('sa2', '7 million', 'sa2-expl')">Check</button>
                <div id="sa2-expl" class="explanation">
                    <span class="expl-label">G·ª¢I √ù:</span> About 7 million tonnes.
                    <span class="reason">D·∫´n ch·ª©ng: "...increase by about 7 million tonnes every year."</span>
                </div>
            </div>
            
            <div class="question-item">
                <span class="q-text">3. Why do we need to clean up the oceans?</span>
                <input type="text" class="full-input" id="sa3" placeholder="Answer here...">
                <button class="btn-check-sm" onclick="checkSA('sa3', 'protect', 'sa3-expl')">Check</button>
                <div id="sa3-expl" class="explanation">
                    <span class="expl-label">G·ª¢I √ù:</span> To protect our sea creatures.
                    <span class="reason">D·∫´n ch·ª©ng: "...clean up the oceans if we want to protect our sea creatures."</span>
                </div>
            </div>
            
            <div class="question-item">
                <span class="q-text">4. What can we personally do to help resolve this problem?</span>
                <input type="text" class="full-input" id="sa4" placeholder="Answer here...">
                <button class="btn-check-sm" onclick="checkSA('sa4', 'use less', 'sa4-expl')">Check</button>
                <div id="sa4-expl" class="explanation">
                    <span class="expl-label">G·ª¢I √ù:</span> Don't use so much plastic / Use less plastic.
                    <span class="reason">D·∫´n ch·ª©ng: "Better still, if we don't use so much plastic..."</span>
                </div>
            </div>
        </div>
    </div>

    <div class="card">
        <div class="card-header">E. WRITING</div>
        <div class="card-body">
            
            <p><b>I. Reorder the words to make sentences.</b></p>

            <div class="question-item">
                <span class="q-text">1. national parks/ The number/ the world/ rising/ over/ all/ the time/ of/ all/ is</span>
                <input type="text" class="full-input" id="wr1" data-ans="The number of national parks all over the world is rising all the time">
                <button class="btn-check-sm" onclick="checkWriting('wr1', 'wr1-expl')">Check Sentence 1</button>
                <div id="wr1-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> The number of national parks all over the world is rising all the time.
                    <span class="trans">D·ªãch: S·ªë l∆∞·ª£ng c√°c v∆∞·ªùn qu·ªëc gia tr√™n to√†n th·∫ø gi·ªõi ƒëang tƒÉng l√™n m·ªçi l√∫c.</span>
                </div>
            </div>

            <div class="question-item">
                <span class="q-text">2. trees/ so much/ don't/ We/ if/ we/ waste/ will/ thousands of/ paper/ save</span>
                <input type="text" class="full-input" id="wr2" data-ans="We will save thousands of trees if we don't waste so much paper">
                <button class="btn-check-sm" onclick="checkWriting('wr2', 'wr2-expl')">Check Sentence 2</button>
                <div id="wr2-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> We will save thousands of trees if we don't waste so much paper.
                    <span class="trans">D·ªãch: Ch√∫ng ta s·∫Ω c·ª©u ƒë∆∞·ª£c h√†ng ng√†n c√°i c√¢y n·∫øu ch√∫ng ta kh√¥ng l√£ng ph√≠ qu√° nhi·ªÅu gi·∫•y. (C√¢u ƒëi·ªÅu ki·ªán lo·∫°i 1).</span>
                </div>
            </div>

            <div class="question-item">
                <span class="q-text">3. while/ campsite/ me/ Will/ cleaning/ wait/ I/ our/ you/ am/ for/ up?</span>
                <input type="text" class="full-input" id="wr3" data-ans="Will you wait for me while I am cleaning up our campsite?">
                <button class="btn-check-sm" onclick="checkWriting('wr3', 'wr3-expl')">Check Sentence 3</button>
                <div id="wr3-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> Will you wait for me while I am cleaning up our campsite?
                    <span class="trans">D·ªãch: B·∫°n s·∫Ω ƒë·ª£i t√¥i trong khi t√¥i ƒëang d·ªçn d·∫πp khu c·∫Øm tr·∫°i ch·ª©?</span>
                </div>
            </div>

            <div class="question-item">
                <span class="q-text">4. the death/ Polluted water/ of/ fish and crabs/ such as/ aquatic animals/ causes</span>
                <input type="text" class="full-input" id="wr4" data-ans="Polluted water causes the death of aquatic animals such as fish and crabs">
                <button class="btn-check-sm" onclick="checkWriting('wr4', 'wr4-expl')">Check Sentence 4</button>
                <div id="wr4-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> Polluted water causes the death of aquatic animals such as fish and crabs.
                    <span class="trans">D·ªãch: N∆∞·ªõc √¥ nhi·ªÖm g√¢y ra c√°i ch·∫øt cho c√°c ƒë·ªông v·∫≠t th·ªßy sinh nh∆∞ c√° v√† cua.</span>
                </div>
            </div>

            <div class="question-item">
                <span class="q-text">5. 190 countries/ Earth Day/ planet/ than/ protect/ More/ the/ celebrate/ to</span>
                <input type="text" class="full-input" id="wr5" data-ans="More than 190 countries celebrate Earth Day to protect the planet">
                <button class="btn-check-sm" onclick="checkWriting('wr5', 'wr5-expl')">Check Sentence 5</button>
                <div id="wr5-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> More than 190 countries celebrate Earth Day to protect the planet.
                    <span class="trans">D·ªãch: H∆°n 190 qu·ªëc gia k·ª∑ ni·ªám Ng√†y Tr√°i ƒê·∫•t ƒë·ªÉ b·∫£o v·ªá h√†nh tinh.</span>
                </div>
            </div>

            <div class="question-item">
                <span class="q-text">6. Water pollution/ marine life/ destroying/ the/ ecosystem/ the Pacific Ocean/ in/ is/ for/ rich</span>
                <input type="text" class="full-input" id="wr6" data-ans="Water pollution in the Pacific Ocean is destroying the ecosystem rich for marine life">
                <button class="btn-check-sm" onclick="checkWriting('wr6', 'wr6-expl')">Check Sentence 6</button>
                <div id="wr6-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> Water pollution in the Pacific Ocean is destroying the ecosystem rich for marine life.
                    <span class="trans">D·ªãch: √î nhi·ªÖm n∆∞·ªõc ·ªü Th√°i B√¨nh D∆∞∆°ng ƒëang ph√° h·ªßy h·ªá sinh th√°i phong ph√∫ cho sinh v·∫≠t bi·ªÉn.</span>
                </div>
            </div>

            <div class="question-item">
                <span class="q-text">7. cutting down/ the authority/ action/ takes/ Illegal loggers/ keep/ until/ serious/ trees/ will</span>
                <input type="text" class="full-input" id="wr7" data-ans="Illegal loggers will keep cutting down trees until the authority takes serious action">
                <button class="btn-check-sm" onclick="checkWriting('wr7', 'wr7-expl')">Check Sentence 7</button>
                <div id="wr7-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> Illegal loggers will keep cutting down trees until the authority takes serious action.
                    <span class="trans">D·ªãch: L√¢m t·∫∑c s·∫Ω ti·∫øp t·ª•c ch·∫∑t c√¢y cho ƒë·∫øn khi ch√≠nh quy·ªÅn th·ª±c hi·ªán h√†nh ƒë·ªông nghi√™m t√∫c.</span>
                </div>
            </div>

            <div class="question-item">
                <span class="q-text">8. be/ more/ The neighbourhood/ this/ cleaner/ people/ will/ environment programme/ join/ if</span>
                <input type="text" class="full-input" id="wr8" data-ans="The neighbourhood will be cleaner if more people join this environment programme">
                <button class="btn-check-sm" onclick="checkWriting('wr8', 'wr8-expl')">Check Sentence 8</button>
                <div id="wr8-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> The neighbourhood will be cleaner if more people join this environment programme.
                    <span class="trans">D·ªãch: Khu ph·ªë s·∫Ω s·∫°ch h∆°n n·∫øu nhi·ªÅu ng∆∞·ªùi tham gia ch∆∞∆°ng tr√¨nh m√¥i tr∆∞·ªùng n√†y.</span>
                </div>
            </div>

            <hr>

            <p><b>II. Complete the second sentence so that it has the same meaning to the first one.</b></p>

            <div class="question-item">
                <div class="q-text">1. It's unsafe for humans and animals to drink polluted water.</div>
                <p>Polluted water <input type="text" class="full-input" id="rw1" data-ans="is unsafe for humans and animals to drink"></p>
                <button class="btn-check-sm" onclick="checkWriting('rw1', 'rw1-expl')">Check Sentence 1</button>
                <div id="rw1-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> ...is unsafe for humans and animals to drink.
                    <span class="reason">Chuy·ªÉn t·ª´ ch·ªß ng·ªØ gi·∫£ "It's + adj" sang ch·ªß ng·ªØ th·∫≠t "Polluted water is + adj".</span>
                </div>
            </div>

            <div class="question-item">
                <div class="q-text">2. Con Dao National Park contains 16 small islands.</div>
                <p>There <input type="text" class="full-input" id="rw2" data-ans="are 16 small islands in Con Dao National Park"></p>
                <button class="btn-check-sm" onclick="checkWriting('rw2', 'rw2-expl')">Check Sentence 2</button>
                <div id="rw2-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> ...are 16 small islands in Con Dao National Park.
                    <span class="reason">C·∫•u tr√∫c t∆∞∆°ng ƒë∆∞∆°ng: S + contains/has... = There is/are... in S.</span>
                </div>
            </div>

            <div class="question-item">
                <div class="q-text">3. Because she was absent from the meeting, she didn't know the resolution.</div>
                <p>Because of <input type="text" class="full-input" id="rw3" data-ans="her absence from the meeting, she didn't know the resolution"></p>
                <button class="btn-check-sm" onclick="checkWriting('rw3', 'rw3-expl')">Check Sentence 3</button>
                <div id="rw3-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> ...her absence from the meeting, she didn't know the resolution.
                    <span class="reason">Because + Clause (S+V) ‚Üí Because of + Noun Phrase (her absence).</span>
                </div>
            </div>

            <div class="question-item">
                <div class="q-text">4. Many endangered marine species live in the ocean.</div>
                <p>The ocean is home <input type="text" class="full-input" id="rw4" data-ans="to many endangered marine species"></p>
                <button class="btn-check-sm" onclick="checkWriting('rw4', 'rw4-expl')">Check Sentence 4</button>
                <div id="rw4-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> ...to many endangered marine species.
                    <span class="reason">Collocation: To be home to... (L√† n∆°i sinh s·ªëng c·ªßa...).</span>
                </div>
            </div>

            <div class="question-item">
                <div class="q-text">5. We need to reduce our plastic waste, otherwise we'll threaten our own existence.</div>
                <p>If we <input type="text" class="full-input" id="rw5" data-ans="don't reduce our plastic waste, we'll threaten our own existence"></p>
                <button class="btn-check-sm" onclick="checkWriting('rw5', 'rw5-expl')">Check Sentence 5</button>
                <div id="rw5-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> ...don't reduce our plastic waste, we'll threaten our own existence.
                    <span class="reason">Otherwise (n·∫øu kh√¥ng th√¨) = If... not... (C√¢u ƒëi·ªÅu ki·ªán lo·∫°i 1).</span>
                </div>
            </div>

            <div class="question-item">
                <div class="q-text">6. Countries celebrate Earth Hour to raise awareness of saving energy.</div>
                <p>Because countries want <input type="text" class="full-input" id="rw6" data-ans="to raise awareness of saving energy, they celebrate Earth Hour"></p>
                <button class="btn-check-sm" onclick="checkWriting('rw6', 'rw6-expl')">Check Sentence 6</button>
                <div id="rw6-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> ...to raise awareness of saving energy, they celebrate Earth Hour.
                    <span class="reason">Di·ªÖn t·∫£ m·ª•c ƒë√≠ch (to V) b·∫±ng m·ªánh ƒë·ªÅ nguy√™n nh√¢n (Because... want to).</span>
                </div>
            </div>

            <div class="question-item">
                <div class="q-text">7. The campers will pick up all the rubbish before they leave the campsite.</div>
                <p>After the campers <input type="text" class="full-input" id="rw7" data-ans="pick up all the rubbish, they will leave the campsite"></p>
                <button class="btn-check-sm" onclick="checkWriting('rw7', 'rw7-expl')">Check Sentence 7</button>
                <div id="rw7-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> ...pick up all the rubbish, they will leave the campsite.
                    <span class="reason">K·∫øt h·ª£p c√¢u d√πng After. M·ªánh ƒë·ªÅ sau After d√πng Hi·ªán t·∫°i ƒë∆°n, m·ªánh ƒë·ªÅ ch√≠nh d√πng T∆∞∆°ng lai ƒë∆°n.</span>
                </div>
            </div>

            <div class="question-item">
                <div class="q-text">8. Air pollution deaths will double by 2050 if nations don't act.</div>
                <p>Unless <input type="text" class="full-input" id="rw8" data-ans="nations act, air pollution deaths will double by 2050"></p>
                <button class="btn-check-sm" onclick="checkWriting('rw8', 'rw8-expl')">Check Sentence 8</button>
                <div id="rw8-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> ...nations act, air pollution deaths will double by 2050.
                    <span class="reason">Unless = If... not. (B·ªè 'don't', ƒë·ªông t·ª´ 'act' chia theo ch·ªß ng·ªØ).</span>
                </div>
            </div>

            <div class="question-item">
                <div class="q-text">9. Because the world's temperatures rise, the Arctic keeps losing its ice.</div>
                <p>The world's <input type="text" class="full-input" id="rw9" data-ans="temperatures rise, so the Arctic keeps losing its ice"></p>
                <button class="btn-check-sm" onclick="checkWriting('rw9', 'rw9-expl')">Check Sentence 9</button>
                <div id="rw9-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> ...temperatures rise, so the Arctic keeps losing its ice.
                    <span class="reason">Chuy·ªÉn t·ª´ m·ªánh ƒë·ªÅ nguy√™n nh√¢n (Because) sang m·ªánh ƒë·ªÅ k·∫øt qu·∫£ (So).</span>
                </div>
            </div>

            <div class="question-item">
                <div class="q-text">10. Unless we reduce our carbon footprint, global warming will destroy the ecosystem.</div>
                <p>If <input type="text" class="full-input" id="rw10" data-ans="we don't reduce our carbon footprint, global warming will destroy the ecosystem"></p>
                <button class="btn-check-sm" onclick="checkWriting('rw10', 'rw10-expl')">Check Sentence 10</button>
                <div id="rw10-expl" class="explanation">
                    <span class="expl-label">ƒê√ÅP √ÅN:</span> ...we don't reduce our carbon footprint, global warming will destroy the ecosystem.
                    <span class="reason">Unless -> If... not.</span>
                </div>
            </div>

        </div>
    </div>

</div>

<div class="sticky-footer">
    <button class="btn-submit-all" onclick="calculateTotal()">N·ªòP B√ÄI (SUBMIT ALL)</button>
</div>

<script>
    // H√†m chu·∫©n h√≥a text (x√≥a kho·∫£ng tr·∫Øng th·ª´a, vi·∫øt th∆∞·ªùng, b·ªè d·∫•u c√¢u cu·ªëi)
    function clean(text) {
        if (!text) return "";
        return text.trim().toLowerCase().replace(/\s+/g, ' ').replace(/[.,?!]+$/, '');
    }

    // 1. Check Group inputs (cho Gap Fill v√† Matching)
    function checkGroup(explId, inputIds) {
        let allCorrect = true;
        inputIds.forEach(id => {
            const el = document.getElementById(id);
            const userAns = clean(el.value);
            const correctAns = clean(el.getAttribute('data-ans'));
            
            el.classList.remove('correct-bg', 'wrong-bg', 'missed-bg');
            
            if (userAns === "") {
                el.classList.add('missed-bg');
                allCorrect = false;
            } else if (userAns === correctAns) {
                el.classList.add('correct-bg');
            } else {
                el.classList.add('wrong-bg');
                allCorrect = false;
            }
        });
        document.getElementById(explId).classList.add('show');
    }

    // 2. Check True/False
    function checkTF(groupName, correctVal, explId) {
        const radios = document.getElementsByName(groupName);
        let userVal = null;
        let parentDiv = radios[0].closest('.question-item');
        
        radios.forEach(r => {
            if (r.checked) userVal = r.value;
        });

        // Reset styles
        parentDiv.classList.remove('correct-bg', 'wrong-bg');

        if (!userVal) {
            alert("Vui l√≤ng ch·ªçn True ho·∫∑c False tr∆∞·ªõc khi ki·ªÉm tra!");
            return;
        }

        if (userVal === correctVal) {
            parentDiv.classList.add('correct-bg'); // Highlight c·∫£ v√πng c√¢u h·ªèi xanh
        } else {
            parentDiv.classList.add('wrong-bg'); // Highlight ƒë·ªè
        }
        document.getElementById(explId).classList.add('show');
    }

    // 3. Check Short Answer (Keyword check)
    function checkSA(inputId, keywords, explId) {
        const el = document.getElementById(inputId);
        const userAns = el.value.toLowerCase();
        const keys = keywords.toLowerCase().split('/');
        
        el.classList.remove('correct-bg', 'wrong-bg');

        // Logic check t∆∞∆°ng ƒë·ªëi (ch·ª©a t·ª´ kh√≥a)
        let isCorrect = keys.some(k => userAns.includes(k.trim()));

        if (userAns.trim() === "") {
             el.classList.add('missed-bg');
        } else if (isCorrect) {
            el.classList.add('correct-bg');
        } else {
            el.classList.add('wrong-bg');
        }
        document.getElementById(explId).classList.add('show');
    }

    // 4. Check Writing (Strict check)
    function checkWriting(inputId, explId) {
        const el = document.getElementById(inputId);
        const userAns = clean(el.value);
        const correctAns = clean(el.getAttribute('data-ans'));

        el.classList.remove('correct-bg', 'wrong-bg', 'missed-bg');

        if (userAns === "") {
            el.classList.add('missed-bg');
        } else if (userAns === correctAns) {
            el.classList.add('correct-bg');
        } else {
            el.classList.add('wrong-bg');
        }
        document.getElementById(explId).classList.add('show');
    }

    // 5. Calculate Total
    function calculateTotal() {
        let score = 0;
        let total = 0;

        // Count Inputs/Selects with data-ans
        const inputs = document.querySelectorAll('input[data-ans], select[data-ans]');
        inputs.forEach(el => {
            total++;
            // Trigger check visual
            const user = clean(el.value);
            const ans = clean(el.getAttribute('data-ans'));
            if(user === ans && user !== "") score++;
            
            // Auto show expl
            if (el.closest('.question-item')) {
                 const expl = el.closest('.question-item').querySelector('.explanation');
                 if(expl) expl.classList.add('show');
            }
        });

        // Count TF
        const tfGroups = ['tf1', 'tf2', 'tf3', 'tf4', 'tf5', 'tf6'];
        const tfAns = {'tf1':'T', 'tf2':'F', 'tf3':'F', 'tf4':'T', 'tf5':'F', 'tf6':'T'};
        
        tfGroups.forEach(g => {
            total++;
            const radios = document.getElementsByName(g);
            let checked = null;
            radios.forEach(r => { if(r.checked) checked = r.value; });
            if(checked === tfAns[g]) score++;
            document.getElementById(g+'-expl').classList.add('show');
        });

        // Short Answer (approximate)
        // Just count 4 manual points for completion in this logic demo, or strict check
        // Let's rely on the user checking SA manually, or count if not empty?
        // To be accurate, let's just count the automated parts (Total 34 pts approx)
        
        alert(`B·∫†N ƒê√É HO√ÄN TH√ÄNH!\n\nƒêi·ªÉm tr·∫Øc nghi·ªám (GapFill + Match + T/F + Writing): ${score}/${total}\n\n(L∆∞u √Ω: Ph·∫ßn tr·∫£ l·ªùi ng·∫Øn C·∫ßn t·ª± ƒë·ªëi chi·∫øu t·ª´ kh√≥a).`);
        
        // Show all explanations
        document.querySelectorAll('.explanation').forEach(e => e.classList.add('show'));
    }
</script>

</body>
</html>


