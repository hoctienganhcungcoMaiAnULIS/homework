<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i Ki·ªÉm Tra Ti·∫øng Anh - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8854C0;
            --secondary: #FDCB6E;
            --accent: #00C9A7;
            --correct: #00D26A;
            --wrong: #FF4757;
            --text-dark: #2d3436;
            --white: #ffffff;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Quicksand', sans-serif;
        }

        body {
            /* Animated Gradient Background */
            background: linear-gradient(-45deg, #8854C0, #FDCB6E, #00C9A7, #ff9a9e);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            color: var(--text-dark);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Floating SVG Pattern */
        .bg-pattern {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg width="200" height="200" xmlns="http://www.w3.org/2000/svg"><text x="20" y="40" font-size="24">‚≠ê</text><text x="120" y="80" font-size="24">üå∏</text><text x="40" y="150" font-size="24">üê±</text><text x="160" y="180" font-size="24">‚òÅÔ∏è</text><text x="90" y="30" font-size="24">üçì</text></svg>');
            background-size: 250px 250px;
            opacity: 0.25;
            z-index: 0;
            pointer-events: none;
            animation: floatPattern 40s linear infinite;
        }

        @keyframes floatPattern {
            from { background-position: 0 0; }
            to { background-position: 500px 500px; }
        }

        .container {
            max-width: 900px;
            margin: 40px auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 10px 0 rgba(0,0,0,0.1);
            margin-bottom: 30px;
            border: 4px solid var(--white);
        }

        .header h1 {
            color: var(--primary);
            font-weight: 900;
            font-size: 2.5rem;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.1);
        }

        .header h3 {
            color: var(--accent);
            margin-top: 10px;
            font-weight: 700;
        }

        .section-title {
            background: var(--white);
            display: inline-block;
            padding: 10px 25px;
            border-radius: 15px;
            font-weight: 900;
            color: var(--primary);
            box-shadow: 0 5px 0 rgba(0,0,0,0.1);
            margin: 30px 0 15px 0;
            font-size: 1.5rem;
            border: 3px solid var(--primary);
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 25px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 12px 0 rgba(0,0,0,0.15);
            border: 3px solid rgba(255,255,255,0.8);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid { grid-template-columns: 1fr; }
        }

        /* 3D Buttons */
        .btn-option {
            background: var(--white);
            border: 3px solid #e0e0e0;
            padding: 15px 20px;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 20px;
            cursor: pointer;
            box-shadow: 0 8px 0 #d1d1d1;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            text-align: left;
            position: relative;
        }

        .btn-option:hover:not(:disabled) {
            transform: scale(1.05) translateY(-5px);
            box-shadow: 0 13px 0 #d1d1d1;
            border-color: var(--secondary);
        }

        .btn-option:active:not(:disabled) {
            transform: translateY(4px);
            box-shadow: 0 4px 0 #d1d1d1;
        }

        .btn-option.correct {
            background: var(--correct);
            border-color: #00a855;
            color: white;
            box-shadow: 0 8px 0 #00a855;
        }

        .btn-option.wrong {
            background: var(--wrong);
            border-color: #d63031;
            color: white;
            box-shadow: 0 8px 0 #d63031;
        }

        /* Sort Drag/Click styling for Ex 2 */
        .sort-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
            padding: 15px;
            background: #f0f4f8;
            border-radius: 15px;
            border: 2px dashed var(--primary);
        }

        .word-badge {
            background: var(--secondary);
            color: #333;
            padding: 10px 15px;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 0 #e6b150;
            transition: transform 0.2s;
        }
        .word-badge:hover { transform: scale(1.1); }
        .word-badge.placed { opacity: 0.5; cursor: not-allowed; transform: scale(0.9); box-shadow: none;}

        .drop-zones {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }

        .drop-zone {
            background: #fff;
            border: 3px solid var(--accent);
            border-radius: 20px;
            min-height: 150px;
            padding: 15px;
            box-shadow: 0 8px 0 var(--accent);
            text-align: center;
        }
        .drop-zone h4 {
            font-size: 1.5rem;
            color: var(--accent);
            margin-bottom: 10px;
            border-bottom: 2px dashed var(--accent);
            padding-bottom: 5px;
        }
        .placed-word {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: 5px 10px;
            border-radius: 8px;
            margin: 5px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        /* Sorting Popup */
        #sort-popup {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); z-index: 1000; align-items: center; justify-content: center;
        }
        .sort-popup-content {
            background: white; padding: 30px; border-radius: 25px; text-align: center;
            box-shadow: 0 15px 0 rgba(0,0,0,0.2);
            border: 5px solid var(--primary);
        }
        .sort-btn {
            margin: 10px; padding: 15px 30px; font-size: 1.5rem; border-radius: 15px;
            border: none; background: var(--accent); color: white; cursor: pointer; font-weight: bold;
            box-shadow: 0 8px 0 #009980; transition: transform 0.1s;
        }
        .sort-btn:active { transform: translateY(5px); box-shadow: 0 3px 0 #009980; }

        /* Explanation Box */
        .explanation {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: #f8f9fa;
            border-left: 6px solid var(--accent);
            border-radius: 15px;
            font-size: 1.1rem;
            line-height: 1.6;
            animation: fadeIn 0.5s ease;
        }

        .explanation.show { display: block; }
        .explanation h4 { color: var(--primary); margin-bottom: 10px; font-size: 1.2rem; }
        .explanation b { color: var(--text-dark); }
        .step { margin-bottom: 10px; }
        .step-title { display: inline-block; background: var(--secondary); padding: 3px 8px; border-radius: 8px; font-size: 0.9rem; margin-right: 5px; box-shadow: 0 2px 0 rgba(0,0,0,0.1); }

        /* Animations */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        
        .shake { animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both; }
        @keyframes shake {
            10%, 90% { transform: translate3d(-5px, 0, 0); }
            20%, 80% { transform: translate3d(5px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-10px, 0, 0); }
            40%, 60% { transform: translate3d(10px, 0, 0); }
        }

        /* Confetti Canvas */
        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            z-index: 9999;
            pointer-events: none;
            animation: fall 2.5s linear forwards;
        }
        @keyframes fall {
            0% { transform: translateY(-10vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
        }

        .submit-btn {
            display: block; width: 100%; max-width: 400px; margin: 40px auto;
            padding: 20px; font-size: 1.5rem; font-weight: 900;
            background: var(--correct); color: white; border: none;
            border-radius: 20px; box-shadow: 0 10px 0 #00a855; cursor: pointer;
            text-transform: uppercase; transition: all 0.2s;
        }
        .submit-btn:hover { transform: scale(1.05); }
        .submit-btn:active { transform: translateY(5px); box-shadow: 0 5px 0 #00a855; }

        /* Underline logic for Ex 1 */
        u { text-decoration-color: var(--wrong); text-decoration-thickness: 3px; }
    </style>
</head>
<body>

    <div class="bg-pattern"></div>

    <div class="container">
        <div class="header">
            <h1>Fun English Challenge üöÄ</h1>
            <h3>Gi√°o vi√™n t·∫°o: Ms Mai An ULIS</h3>
            <p style="margin-top:10px; font-weight:600;">L√†m b√†i tr·ª±c ti·∫øp, xem gi·∫£i th√≠ch si√™u chi ti·∫øt ngay sau khi ch·ªçn!</p>
        </div>

        <div id="quiz-container"></div>
        
        <button class="submit-btn" onclick="submitQuiz()">üèÜ N·ªôp b√†i & Xem ƒëi·ªÉm</button>
    </div>

    <div id="sort-popup">
        <div class="sort-popup-content">
            <h3 style="margin-bottom: 15px; font-size: 1.5rem; color: var(--primary);">T·ª´ <span id="current-sort-word" style="color:var(--wrong);"></span> c√≥ √¢m ƒëu√¥i l√† g√¨?</h3>
            <button class="sort-btn" onclick="checkSort('t')">/t/</button>
            <button class="sort-btn" onclick="checkSort('d')">/d/</button>
            <button class="sort-btn" onclick="checkSort('id')">/id/</button>
            <br>
            <button style="margin-top:15px; padding:8px 15px; border-radius:10px; border:none; background:#ccc; cursor:pointer;" onclick="document.getElementById('sort-popup').style.display='none'">H·ªßy</button>
        </div>
    </div>

<script>
// ==================== D·ªÆ LI·ªÜU ƒê·ªÄ B√ÄI & GI·∫¢I TH√çCH CHI TI·∫æT ====================
const quizData = [
    // --- EX 1 ---
    {
        type: "mcq",
        section: "Ex 1. Find the word which has a different sound in the underlined part in each line.",
        q: "1.",
        options: [
            { text: "br<u>ai</u>nstorm", correct: false, reason: "Ph√°t √¢m l√† /e…™/" },
            { text: "s<u>ai</u>ling", correct: false, reason: "Ph√°t √¢m l√† /e…™/" },
            { text: "r<u>ai</u>lway", correct: false, reason: "Ph√°t √¢m l√† /e…™/" },
            { text: "c<u>a</u>ptain", correct: true, reason: "Ph√°t √¢m l√† /…™/ ho·∫∑c /…ô/" }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch c√¢u h·ªèi:</b> T√¨m t·ª´ c√≥ ph·∫ßn g·∫°ch ch√¢n ph√°t √¢m kh√°c v·ªõi c√°c t·ª´ c√≤n l·∫°i.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch t·ª´ v·ª±ng:</b><br>
               - A. brainstorm (v/n): ƒë·ªông n√£o - Ph√°t √¢m l√† /e…™/<br>
               - B. sailing (n): vi·ªác ch√®o thuy·ªÅn - Ph√°t √¢m l√† /e…™/<br>
               - C. railway (n): ƒë∆∞·ªùng s·∫Øt - Ph√°t √¢m l√† /e…™/<br>
               - D. captain (n): ƒë·ªôi tr∆∞·ªüng, thuy·ªÅn tr∆∞·ªüng - Ph·∫ßn g·∫°ch ch√¢n (ai) ph√°t √¢m l√† /…™/ (ho·∫∑c /…ô/).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn D?</b> V√¨ ph·∫ßn ƒë∆∞·ª£c ph√°t √¢m c·ªßa t·ª´ 'captain' l√† /…™/, t·∫°o ra √¢m kh√°c ho√†n to√†n.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao c√≤n l·∫°i sai?</b> V√¨ A, B, C ƒë·ªÅu c√≥ nguy√™n √¢m ƒë√¥i l√† /e…™/.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "2.",
        options: [
            { text: "pl<u>a</u>ne", correct: false },
            { text: "s<u>a</u>fety", correct: false },
            { text: "tr<u>a</u>ffic", correct: true },
            { text: "st<u>a</u>tion", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch c√¢u h·ªèi:</b> T√¨m t·ª´ c√≥ ph·∫ßn g·∫°ch ch√¢n 'a' ph√°t √¢m kh√°c.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch t·ª´ v·ª±ng:</b><br>
               - A. plane (n): m√°y bay (/e…™/)<br>- B. safety (n): s·ª± an to√†n (/e…™/)<br>- C. traffic (n): giao th√¥ng (/√¶/)<br>- D. station (n): tr·∫°m, nh√† ga (/e…™/)</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn C?</b> 'traffic' c√≥ √¢m /√¶/ (a b·∫πt).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> 3 ƒë√°p √°n kia ƒë·ªÅu ph√°t √¢m l√† nguy√™n √¢m ƒë√¥i /e…™/.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "3.",
        options: [
            { text: "v<u>e</u>hicle", correct: true },
            { text: "m<u>e</u>ntion", correct: false },
            { text: "<u>e</u>nter", correct: false },
            { text: "h<u>e</u>licopter", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch c√¢u h·ªèi:</b> T√¨m t·ª´ c√≥ ph·∫ßn g·∫°ch ch√¢n 'e' ph√°t √¢m kh√°c.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch t·ª´ v·ª±ng:</b><br>
               - A. vehicle (n): ph∆∞∆°ng ti·ªán (/iÀê/)<br>- B. mention (v): ƒë·ªÅ c·∫≠p (/e/)<br>- C. enter (v): ƒëi v√†o (/e/)<br>- D. helicopter (n): tr·ª±c thƒÉng (/e/)</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn A?</b> 'vehicle' c√≥ ch·ªØ 'e' ƒë·ªçc l√† /iÀê/ (√¢m i d√†i).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> 3 t·ª´ c√≤n l·∫°i ƒë·ªÅu c√≥ 'e' ƒë·ªçc l√† /e/ (√¢m e ng·∫Øn).</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "4.",
        options: [
            { text: "h<u>ey</u>", correct: false },
            { text: "hon<u>ey</u>", correct: true },
            { text: "ob<u>ey</u>", correct: false },
            { text: "gr<u>ey</u>", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch c√¢u h·ªèi:</b> T√¨m t·ª´ c√≥ ƒëu√¥i 'ey' ph√°t √¢m kh√°c.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch t·ª´ v·ª±ng:</b><br>
               - A. hey (excl): n√†y (/e…™/)<br>- B. honey (n): m·∫≠t ong, c∆∞ng (/i/)<br>- C. obey (v): v√¢ng l·ªùi (/e…™/)<br>- D. grey (adj): m√†u x√°m (/e…™/)</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn B?</b> 'honey' c√≥ ƒëu√¥i -ey ƒë·ªçc l√† /i/ (√¢m i ng·∫Øn).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> C√°c t·ª´ kia ƒë·ªÅu ƒë·ªçc l√† /e…™/.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "5.",
        options: [
            { text: "h<u>ea</u>lthy", correct: false },
            { text: "br<u>ea</u>d", correct: false },
            { text: "s<u>ea</u>tbelt", correct: true },
            { text: "ah<u>ea</u>d", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch c√¢u h·ªèi:</b> T√¨m t·ª´ c√≥ ph·∫ßn 'ea' ph√°t √¢m kh√°c.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch t·ª´ v·ª±ng:</b><br>
               - A. healthy (adj): kh·ªèe m·∫°nh (/e/)<br>- B. bread (n): b√°nh m√¨ (/e/)<br>- C. seatbelt (n): d√¢y an to√†n (/iÀê/)<br>- D. ahead (adv): ph√≠a tr∆∞·ªõc (/e/)</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn C?</b> 'seatbelt' c√≥ 'ea' ƒë·ªçc l√† /iÀê/.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> C√°c t·ª´ c√≤n l·∫°i ƒë·ªçc l√† /e/.</div>`
    },

    // --- EX 3 ---
    {
        type: "mcq",
        section: "Ex 3. Choose the word which has a different stress pattern from the others. Say them aloud.",
        q: "1. Tr·ªçng √¢m kh√°c bi·ªát:",
        options: [
            { text: "silent", correct: false },
            { text: "noisy", correct: false },
            { text: "pretty", correct: false },
            { text: "polite", correct: true }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch c√¢u h·ªèi:</b> T√¨m t·ª´ c√≥ tr·ªçng √¢m ch√≠nh r∆°i v√†o √¢m ti·∫øt kh√°c.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. SIlent (√¢m 1): y√™n tƒ©nh<br>- B. NOIsy (√¢m 1): ·ªìn √†o<br>- C. PREtty (√¢m 1): xinh ƒë·∫πp<br>- D. poLITE (√¢m 2): l·ªãch s·ª±</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn D?</b> 'polite' l√† t√≠nh t·ª´ 2 √¢m ti·∫øt nh∆∞ng √¢m th·ª© 2 l√† nguy√™n √¢m ƒë√¥i /a…™/ n√™n nh·∫≠n tr·ªçng √¢m.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> C√°c t·ª´ c√≤n l·∫°i tr·ªçng √¢m r∆°i v√†o √¢m th·ª© 1.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "2. Tr·ªçng √¢m kh√°c bi·ªát:",
        options: [
            { text: "station", correct: false },
            { text: "season", correct: false },
            { text: "police", correct: true },
            { text: "sandal", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch c√¢u h·ªèi:</b> T√¨m t·ª´ c√≥ tr·ªçng √¢m ch√≠nh r∆°i v√†o √¢m ti·∫øt kh√°c.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. STAtion (√¢m 1): nh√† ga<br>- B. SEAson (√¢m 1): m√πa<br>- C. poLICE (√¢m 2): c·∫£nh s√°t<br>- D. SANdal (√¢m 1): d√©p</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn C?</b> 'police' c√≥ tr·ªçng √¢m 2.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> Danh t·ª´ 2 √¢m ti·∫øt th√¥ng th∆∞·ªùng (A, B, D) nh·∫≠n tr·ªçng √¢m √¢m 1.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "3. Tr·ªçng √¢m kh√°c bi·ªát:",
        options: [
            { text: "agree", correct: true },
            { text: "hungry", correct: false },
            { text: "enter", correct: false },
            { text: "visit", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch c√¢u h·ªèi:</b> T√¨m t·ª´ c√≥ tr·ªçng √¢m ch√≠nh r∆°i v√†o √¢m ti·∫øt kh√°c.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. aGREE (√¢m 2): ƒë·ªìng √Ω<br>- B. HUNgry (√¢m 1): ƒë√≥i<br>- C. ENter (√¢m 1): ƒëi v√†o<br>- D. VIsit (√¢m 1): thƒÉm</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn A?</b> 'agree' l√† ƒë·ªông t·ª´ 2 √¢m ti·∫øt, tr·ªçng √¢m r∆°i v√†o √¢m 2.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> 'enter' v√† 'visit' l√† ngo·∫°i l·ªá ƒë·ªông t·ª´ 2 √¢m ti·∫øt c√≥ tr·ªçng √¢m 1. 'hungry' l√† t√≠nh t·ª´ tr·ªçng √¢m 1.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "4. Tr·ªçng √¢m kh√°c bi·ªát:",
        options: [
            { text: "fasten", correct: false },
            { text: "describe", correct: true },
            { text: "listen", correct: false },
            { text: "hover", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch c√¢u h·ªèi:</b> T√¨m t·ª´ c√≥ tr·ªçng √¢m kh√°c.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. FASten (√¢m 1): th·∫Øt ch·∫∑t<br>- B. deSCRIBE (√¢m 2): mi√™u t·∫£<br>- C. LISten (√¢m 1): nghe<br>- D. HOver (√¢m 1): bay l∆∞·ª£n</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn B?</b> ƒê·ªông t·ª´ 'describe' tr·ªçng √¢m 2.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> Fasten, listen, hover l√† c√°c ƒë·ªông t·ª´ k·∫øt th√∫c b·∫±ng -en, -er (√¢m ti·∫øt y·∫øu /…ô/ ho·∫∑c /…ôn/) n√™n tr·ªçng √¢m r∆°i v√†o √¢m 1.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "5. Tr·ªçng √¢m kh√°c bi·ªát:",
        options: [
            { text: "degree", correct: true },
            { text: "student", correct: false },
            { text: "funny", correct: false },
            { text: "widen", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch c√¢u h·ªèi:</b> T√¨m t·ª´ c√≥ tr·ªçng √¢m kh√°c.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. deGREE (√¢m 2): b·∫±ng c·∫•p<br>- B. STUdent (√¢m 1): h·ªçc sinh<br>- C. FUNny (√¢m 1): bu·ªìn c∆∞·ªùi<br>- D. WIden (√¢m 1): m·ªü r·ªông</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn A?</b> 'degree' t·∫≠n c√πng b·∫±ng 'ee' nh·∫≠n tr·ªçng √¢m ch√≠nh n√≥ (√¢m 2).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> C√°c t·ª´ c√≤n l·∫°i c√≥ tr·ªçng √¢m 1.</div>`
    },

    // --- EX 5 ---
    {
        type: "mcq",
        section: "Ex 5. Choose the best answer",
        q: "1. ______ does it take to go from Ha Noi to Ho Chi Minh City by plane?",
        options: [
            { text: "How far", correct: false },
            { text: "How much", correct: false },
            { text: "How long", correct: true },
            { text: "How many", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> ƒêi t·ª´ H√† N·ªôi ƒë·∫øn TP.HCM b·∫±ng m√°y bay m·∫•t bao l√¢u?</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch 4 ƒë√°p √°n:</b><br>
               - A. How far: Bao xa (h·ªèi kho·∫£ng c√°ch).<br>- B. How much: Bao nhi√™u (h·ªèi gi√°/l∆∞·ª£ng).<br>- C. How long: Bao l√¢u (h·ªèi th·ªùi gian).<br>- D. How many: Bao nhi√™u (h·ªèi s·ªë l∆∞·ª£ng ƒë·∫øm ƒë∆∞·ª£c).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn C?</b> C·∫•u tr√∫c "How long does it take..." d√πng ƒë·ªÉ h·ªèi m·∫•t bao l√¢u ƒë·ªÉ l√†m g√¨.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> C√°c t·ª´ h·ªèi kh√°c kh√¥ng ƒëi v·ªõi "does it take" trong ng·ªØ c·∫£nh h·ªèi v·ªÅ kho·∫£ng th·ªùi gian di chuy·ªÉn.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "2. There ______ a bus station in the city centre, but it has been moved to the suburbs.",
        options: [
            { text: "used to be", correct: true },
            { text: "used to had", correct: false },
            { text: "use to have", correct: false },
            { text: "were", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> ƒê√£ t·ª´ng c√≥ m·ªôt tr·∫°m xe bu√Ωt ·ªü trung t√¢m th√†nh ph·ªë, nh∆∞ng n√≥ ƒë√£ ƒë∆∞·ª£c chuy·ªÉn ra ngo·∫°i √¥.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. used to be: ƒê√£ t·ª´ng c√≥ (t·ªìn t·∫°i).<br>- B. used to had: Sai ng·ªØ ph√°p sau 'to' ph·∫£i l√† V-nguy√™n th·ªÉ.<br>- C. use to have: Sai v√¨ thi·∫øu 'd' ·ªü used (c√¢u kh·∫≥ng ƒë·ªãnh).<br>- D. were: Qu√° kh·ª© ƒë∆°n s·ªë nhi·ªÅu, sai v√¨ 'a bus station' s·ªë √≠t.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn A?</b> "There used to be + N" nghƒ©a l√† "ƒë√£ t·ª´ng c√≥ c√°i g√¨ ƒë√≥ trong qu√° kh·ª©".</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> B sai ng·ªØ ph√°p c∆° b·∫£n, C thi·∫øu 'd', D sai th√¨ v√† sai s·ª± h√≤a h·ª£p ch·ªß v·ªã.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "3. I ______ marbles when I was young, but now I didn‚Äôt.",
        options: [
            { text: "play", correct: false },
            { text: "used to play", correct: true },
            { text: "have played", correct: false },
            { text: "didn‚Äôt use to play", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> T√¥i ƒë√£ t·ª´ng ch∆°i b·∫Øn bi khi t√¥i c√≤n nh·ªè, nh∆∞ng b√¢y gi·ªù t√¥i kh√¥ng ch∆°i n·ªØa. (L∆∞u √Ω: ƒê·ªÅ g·ªëc vi·∫øt 'now I didn't' c√≥ th·ªÉ l√† l·ªói type c·ªßa t√°c gi·∫£ ƒë·ªÅ, chu·∫©n ph·∫£i l√† 'now I don't', nh∆∞ng ta t√¥n tr·ªçng 100% ƒë·ªÅ g·ªëc).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. play: hi·ªán t·∫°i ƒë∆°n.<br>- B. used to play: ƒë√£ t·ª´ng ch∆°i (th√≥i quen qu√° kh·ª©).<br>- C. have played: hi·ªán t·∫°i ho√†n th√†nh.<br>- D. didn't use to play: ƒë√£ t·ª´ng KH√îNG ch∆°i.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn B?</b> M·ªánh ƒë·ªÅ "when I was young" k·∫øt h·ª£p v·∫ø sau "but now..." th·ªÉ hi·ªán s·ª± ƒë·ªëi l·∫≠p gi·ªØa th√≥i quen qu√° kh·ª© v√† hi·ªán t·∫°i -> d√πng "used to + V".</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> A v√† C sai th√¨. D sai nghƒ©a v√¨ v·∫ø sau l√† "now I didn't/don't", t·ª©c l√† tr∆∞·ªõc kia ph·∫£i C√ì ch∆°i.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "4. We should wait for the traffic lights ______ before we cross the street.",
        options: [
            { text: "turn green", correct: false },
            { text: "to turn green", correct: true },
            { text: "turn yellow", correct: false },
            { text: "to turn yellow", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> Ch√∫ng ta n√™n ƒë·ª£i ƒë√®n giao th√¥ng chuy·ªÉn sang m√†u xanh tr∆∞·ªõc khi ch√∫ng ta sang ƒë∆∞·ªùng.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - C·∫•u tr√∫c "wait for SO/STH to do STH": ƒë·ª£i ai/c√°i g√¨ l√†m g√¨.<br>- Nghƒ©a: turn green (chuy·ªÉn xanh), turn yellow (chuy·ªÉn v√†ng).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn B?</b> V·ªÅ ng·ªØ ph√°p, c·∫ßn "to V" (to turn). V·ªÅ ng·ªØ c·∫£nh, ph·∫£i ƒë·ª£i ƒë√®n xanh m·ªõi ƒë∆∞·ª£c sang ƒë∆∞·ªùng.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> A v√† C thi·∫øu "to". D sai logic th·ª±c t·∫ø (sang ƒë∆∞·ªùng l√∫c ƒë√®n v√†ng l√† nguy hi·ªÉm/sai lu·∫≠t).</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "5. All of us have to obey ______ strictly.",
        options: [
            { text: "traffic rules", correct: true },
            { text: "traffic", correct: false },
            { text: "traffic jam", correct: false },
            { text: "regular", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> T·∫•t c·∫£ ch√∫ng ta ph·∫£i tu√¢n th·ªß lu·∫≠t l·ªá giao th√¥ng m·ªôt c√°ch nghi√™m ng·∫∑t.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch t·ª´ v·ª±ng:</b><br>
               - A. traffic rules (n): lu·∫≠t giao th√¥ng.<br>- B. traffic (n): giao th√¥ng.<br>- C. traffic jam (n): t·∫Øc ƒë∆∞·ªùng.<br>- D. regular (adj): ƒë·ªÅu ƒë·∫∑n, th√¥ng th∆∞·ªùng.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn A?</b> ƒê·ªông t·ª´ "obey" (tu√¢n th·ªß) ƒëi v·ªõi "rules/laws" t·∫°o th√†nh collocation chu·∫©n.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> Kh√¥ng ai "tu√¢n th·ªß t·∫Øc ƒë∆∞·ªùng" (C), hay tu√¢n th·ªß "giao th√¥ng" n√≥i chung (B). D l√† t√≠nh t·ª´, sai t·ª´ lo·∫°i.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "6. Cyclists and motorists have to wear a ______ when they ride a motorbike.",
        options: [
            { text: "hard hat", correct: false },
            { text: "cap", correct: false },
            { text: "mask", correct: false },
            { text: "helmet", correct: true }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> Ng∆∞·ªùi ƒëi xe ƒë·∫°p v√† xe m√°y ph·∫£i ƒë·ªôi m≈© b·∫£o hi·ªÉm khi h·ªç l√°i xe m√°y.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. hard hat (n): m≈© b·∫£o h·ªô lao ƒë·ªông (·ªü c√¥ng tr∆∞·ªùng).<br>- B. cap (n): m≈© l∆∞·ª°i trai.<br>- C. mask (n): kh·∫©u trang.<br>- D. helmet (n): m≈© b·∫£o hi·ªÉm.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn D?</b> "wear a helmet" l√† c·ª•m t·ª´ c·ªë ƒë·ªãnh khi n√≥i v·ªÅ vi·ªác ƒëi xe m√°y/xe ƒë·∫°p an to√†n.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> A, B, C kh√¥ng ƒë√∫ng lu·∫≠t giao th√¥ng khi ƒëi xe m√°y.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "7. He forgot to give a ______ before he turned left and got a ticket.",
        options: [
            { text: "signal", correct: true },
            { text: "sign", correct: false },
            { text: "light", correct: false },
            { text: "hand", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> Anh ·∫•y qu√™n b·∫≠t xi nhan (ra t√≠n hi·ªáu) tr∆∞·ªõc khi r·∫Ω tr√°i v√† ƒë√£ b·ªã ph·∫°t.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. signal (n): t√≠n hi·ªáu (c·ª•m 'give a signal': ra t√≠n hi·ªáu xi nhan).<br>- B. sign (n): bi·ªÉn b√°o.<br>- C. light (n): √°nh s√°ng.<br>- D. hand (n): b√†n tay.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn A?</b> "Give a signal" l√† c·ª•m t·ª´ ch·ªâ h√†nh ƒë·ªông xi nhan khi chuy·ªÉn h∆∞·ªõng. "Got a ticket" nghƒ©a l√† b·ªã ghi v√© ph·∫°t.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> C√°c t·ª´ c√≤n l·∫°i gh√©p v√†o kh√¥ng t·∫°o th√†nh c·ª•m t·ª´ c√≥ nghƒ©a h·ª£p ng·ªØ c·∫£nh giao th√¥ng.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "8. A lot of cultural and ______ activities are held as part of the Flower Festival in Da Lat.",
        options: [
            { text: "arts", correct: false },
            { text: "artist", correct: false },
            { text: "artistic", correct: true },
            { text: "art", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> R·∫•t nhi·ªÅu ho·∫°t ƒë·ªông vƒÉn h√≥a v√† ngh·ªá thu·∫≠t ƒë∆∞·ª£c t·ªï ch·ª©c nh∆∞ m·ªôt ph·∫ßn c·ªßa L·ªÖ h·ªôi Hoa ·ªü ƒê√† L·∫°t.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. arts (n): ngh·ªá thu·∫≠t s·ªë nhi·ªÅu.<br>- B. artist (n): ngh·ªá sƒ©.<br>- C. artistic (adj): mang t√≠nh ngh·ªá thu·∫≠t.<br>- D. art (n): ngh·ªá thu·∫≠t.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn C?</b> Li√™n t·ª´ "and" n·ªëi 2 t·ª´ c√πng lo·∫°i. "cultural" l√† t√≠nh t·ª´ (cultural activities), n√™n t·ª´ c√≤n thi·∫øu c≈©ng PH·∫¢I L√Ä t√≠nh t·ª´ -> artistic.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> A, B, D ƒë·ªÅu l√† danh t·ª´, sai c·∫•u tr√∫c song song (Parallelism).</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "9. Diwali, the Hindu Festival of Light, is the ______ holiday of the year in India.",
        options: [
            { text: "more important", correct: false },
            { text: "most important", correct: true },
            { text: "importance", correct: false },
            { text: "most importance", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> Diwali, L·ªÖ h·ªôi √Ånh s√°ng c·ªßa ƒë·∫°o Hindu, l√† ng√†y l·ªÖ quan tr·ªçng nh·∫•t trong nƒÉm ·ªü ·∫§n ƒê·ªô.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b> C·∫ßn ƒëi·ªÅn m·ªôt d·∫°ng so s√°nh ƒëi v·ªõi m·∫°o t·ª´ "the".<br>
               - A. more important (so s√°nh h∆°n).<br>- B. most important (so s√°nh nh·∫•t c·ªßa t√≠nh t·ª´).<br>- C/D. importance (danh t·ª´, sai t·ª´ lo·∫°i).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn B?</b> C·∫•u tr√∫c so s√°nh nh·∫•t v·ªõi t√≠nh t·ª´ d√†i: "the most + adj d√†i". "of the year" (trong nƒÉm) l√† d·∫•u hi·ªáu c·ªßa so s√°nh nh·∫•t.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> A d√πng cho so s√°nh h∆°n 2 ƒë·ªëi t∆∞·ª£ng. C, D l√† danh t·ª´ ƒë·ª©ng tr∆∞·ªõc "holiday" (c≈©ng l√† danh t·ª´) l√† sai ng·ªØ ph√°p.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "10. It is ______ to see elephants racing in the Elephant Race Festival in Dak Lak.",
        options: [
            { text: "amaze", correct: false },
            { text: "amazing", correct: true },
            { text: "amazed", correct: false },
            { text: "amazement", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> Th·∫≠t l√† ƒë√°ng kinh ng·∫°c khi xem voi ƒëua trong L·ªÖ h·ªôi ƒëua voi ·ªü ƒê·∫Øk L·∫Øk.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b> C·∫•u tr√∫c "It is + adj + to V".<br>
               - A. amaze (v): l√†m ng·∫°c nhi√™n.<br>- B. amazing (adj-Ving): mang t√≠nh ch·∫•t ƒë√°ng ng·∫°c nhi√™n (ch·ªß ƒë·ªông).<br>- C. amazed (adj-Ved): b·ªã l√†m cho ng·∫°c nhi√™n (b·ªã ƒë·ªông/c·∫£m x√∫c ng∆∞·ªùi).<br>- D. amazement (n): s·ª± ng·∫°c nhi√™n.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn B?</b> "It" ·ªü ƒë√¢y l√† ch·ªß ng·ªØ gi·∫£ thay th·∫ø cho vi·ªác "see elephants racing". Vi·ªác n√†y mang T√çNH CH·∫§T ƒë√°ng ng·∫°c nhi√™n n√™n d√πng t√≠nh t·ª´ ƒëu√¥i -ing.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> C d√πng m√¥ t·∫£ c·∫£m x√∫c c·ªßa con ng∆∞·ªùi (I am amazed). A v√† D sai t·ª´ lo·∫°i.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "11. People put pumpkin ______ outside the homes during Halloween.",
        options: [
            { text: "lanterns", correct: true },
            { text: "lights", correct: false },
            { text: "neon signs", correct: false },
            { text: "bulbs", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> M·ªçi ng∆∞·ªùi ƒë·∫∑t ƒë√®n l·ªìng b√≠ ng√¥ b√™n ngo√†i nh√† trong l·ªÖ Halloween.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. lanterns: l·ªìng ƒë√®n (pumpkin lanterns: l·ªìng ƒë√®n b√≠ ng√¥).<br>- B. lights: √°nh ƒë√®n.<br>- C. neon signs: bi·ªÉn ƒë√®n neon.<br>- D. bulbs: b√≥ng ƒë√®n tr√≤n.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn A?</b> VƒÉn h√≥a Halloween l√† kh·∫Øc b√≠ ng√¥ l√†m l·ªìng ƒë√®n, g·ªçi l√† "pumpkin lanterns" (ho·∫∑c Jack-o'-lanterns).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> C√°c ƒë√°p √°n c√≤n l·∫°i sai ki·∫øn th·ª©c vƒÉn h√≥a th·ª±c t·∫ø v·ªÅ l·ªÖ h·ªôi n√†y.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "12. The Samba Parade in Rio Carnival has thousands of samba ______ from various samba schools.",
        options: [
            { text: "perform", correct: false },
            { text: "performance", correct: false },
            { text: "performer", correct: false },
            { text: "performers", correct: true }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> L·ªÖ di·ªÖu h√†nh Samba ·ªü l·ªÖ h·ªôi Rio c√≥ h√†ng ng√†n ng∆∞·ªùi bi·ªÉu di·ªÖn samba ƒë·∫øn t·ª´ nhi·ªÅu tr∆∞·ªùng d·∫°y samba kh√°c nhau.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b> Sau "thousands of" c·∫ßn danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c s·ªë nhi·ªÅu.<br>
               - A. perform (v): bi·ªÉu di·ªÖn.<br>- B. performance (n): ti·∫øt m·ª•c, m√†n tr√¨nh di·ªÖn.<br>- C. performer (n): ng∆∞·ªùi bi·ªÉu di·ªÖn (s·ªë √≠t).<br>- D. performers (n): nh·ªØng ng∆∞·ªùi bi·ªÉu di·ªÖn (s·ªë nhi·ªÅu).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn D?</b> "thousands of" + Danh t·ª´ s·ªë nhi·ªÅu ch·ªâ ng∆∞·ªùi -> h√†ng ng√†n NGH·ªÜ Sƒ® BI·ªÇU DI·ªÑN.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> A sai t·ª´ lo·∫°i. B kh√¥ng ph√π h·ª£p logic (h√†ng ng√†n ti·∫øt m·ª•c t·ª´ c√°c tr∆∞·ªùng th√¨ c≈©ng ƒë√∫ng, nh∆∞ng "samba performers" l√† collocation chu·∫©n ch·ªâ ƒëo√†n v≈© c√¥ng). C l√† s·ªë √≠t.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "13. People in Cannes take the Cannes Film Festival ___ a very serious way.",
        options: [
            { text: "in", correct: true },
            { text: "at", correct: false },
            { text: "on", correct: false },
            { text: "with", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> Ng∆∞·ªùi d√¢n ·ªü Cannes xem tr·ªçng L·ªÖ h·ªôi phim Cannes (ti·∫øp nh·∫≠n n√≥ theo m·ªôt c√°ch r·∫•t nghi√™m t√∫c).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch c·ª•m t·ª´:</b> Gi·ªõi t·ª´ ƒëi v·ªõi "a ... way".</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn A?</b> C·ª•m t·ª´ c·ªë ƒë·ªãnh (Collocation): "in a ... way" nghƒ©a l√† "theo m·ªôt c√°ch...". V√≠ d·ª•: in a good way, in a serious way.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> Trong ti·∫øng Anh kh√¥ng d√πng "at a way", "on a way" (d·ªÖ nh·∫ßm v·ªõi 'on the way'), "with a way" trong ng·ªØ c·∫£nh n√†y.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "14. The festival ___ every year at the end of August.",
        options: [
            { text: "takes", correct: false },
            { text: "takes place", correct: true },
            { text: "occur", correct: false },
            { text: "held", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> L·ªÖ h·ªôi di·ªÖn ra h√†ng nƒÉm v√†o cu·ªëi th√°ng 8.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. takes: l·∫•y (kh√¥ng ƒë·ªß nghƒ©a).<br>- B. takes place: di·ªÖn ra, ƒë∆∞·ª£c t·ªï ch·ª©c (ch·ªß ƒë·ªông).<br>- C. occur: x·∫£y ra (nh∆∞ng ƒë·ªông t·ª´ ƒëang chia s·ªë nhi·ªÅu, sai v√¨ 'festival' s·ªë √≠t).<br>- D. held: sai c·∫•u tr√∫c (ph·∫£i l√† is held).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn B?</b> C·ª•m "take place" c√≥ nghƒ©a l√† ƒë∆∞·ª£c l√™n k·∫ø ho·∫°ch v√† di·ªÖn ra (h·ª£p v·ªõi festival). ·ªû ƒë√¢y l√† hi·ªán t·∫°i ƒë∆°n, chia "takes place".</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> C sai ng·ªØ ph√°p v√¨ thi·∫øu 's'. D sai v√¨ thi·∫øu to be (ph·∫£i l√† is held).</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "15. La Tomatina ______ on the last Wednesday of August every year.",
        options: [
            { text: "hold", correct: false },
            { text: "held", correct: false },
            { text: "is held", correct: true },
            { text: "be held", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> L·ªÖ h·ªôi n√©m c√† chua La Tomatina ƒê∆Ø·ª¢C T·ªî CH·ª®C v√†o th·ª© T∆∞ cu·ªëi c√πng c·ªßa th√°ng 8 h√†ng nƒÉm.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b> "every year" -> Hi·ªán t·∫°i ƒë∆°n. "La Tomatina" l√† v·∫≠t -> Th·ªÉ b·ªã ƒë·ªông (Passive voice).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn C?</b> C·∫•u tr√∫c b·ªã ƒë·ªông hi·ªán t·∫°i ƒë∆°n: S + am/is/are + P2. Ch·ªß ng·ªØ s·ªë √≠t -> "is held".</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> A v√† B l√† d·∫°ng ch·ªß ƒë·ªông/qu√° kh·ª©, sai nghƒ©a. D thi·∫øu ƒë·ªông t·ª´ to be chia theo ch·ªß ng·ªØ.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "16. A lot of dancers go to Rio de Janeiro to ______ the Rio Carnival.",
        options: [
            { text: "play", correct: false },
            { text: "take", correct: false },
            { text: "attend", correct: true },
            { text: "follow", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> R·∫•t nhi·ªÅu v≈© c√¥ng ƒë·∫øn Rio de Janeiro ƒë·ªÉ tham d·ª± L·ªÖ h·ªôi Carnival Rio.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. play: ch∆°i.<br>- B. take: l·∫•y/c·∫ßm (n·∫øu l√† take part in th√¨ ƒë√∫ng, nh∆∞ng ch·ªâ c√≥ take l√† sai).<br>- C. attend: tham gia, tham d·ª±.<br>- D. follow: ƒëi theo.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn C?</b> "attend a festival/event" l√† c·ª•m ƒë·ªông t·ª´ t·ª± nhi√™n mang nghƒ©a tham d·ª± l·ªÖ h·ªôi.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> C√°c t·ª´ c√≤n l·∫°i kh√¥ng ƒëi tr·ª±c ti·∫øp v·ªõi "the Carnival" mang nghƒ©a tham gia bi·ªÉu di·ªÖn/chung vui.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "17. In La Tomatina, people get to throw tomatoes at ______.",
        options: [
            { text: "themselves", correct: false },
            { text: "once", correct: false },
            { text: "together", correct: false },
            { text: "each other", correct: true }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> Trong l·ªÖ h·ªôi La Tomatina, m·ªçi ng∆∞·ªùi ƒë∆∞·ª£c n√©m c√† chua v√†o nhau.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. themselves: ch√≠nh h·ªç (t·ª± n√©m v√†o m√¨nh).<br>- B. once: m·ªôt l·∫ßn.<br>- C. together: c√πng nhau (ƒë·ª©ng sau ƒë·ªông t·ª´, kh√¥ng ƒë·ª©ng sau gi·ªõi t·ª´ 'at').<br>- D. each other: l·∫´n nhau.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn D?</b> L·ªÖ h·ªôi n√†y l√† ng∆∞·ªùi n√†y n√©m v√†o ng∆∞·ªùi kia -> t∆∞∆°ng t√°c qua l·∫°i n√™n d√πng ƒë·∫°i t·ª´ t∆∞∆°ng h·ªó "each other".</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> Kh√¥ng ai t·ª± l·∫•y c√† chua ƒë·∫≠p v√†o ƒë·∫ßu m√¨nh (themselves). Sau gi·ªõi t·ª´ 'at' c·∫ßn m·ªôt ƒë·∫°i t·ª´ t√¢n ng·ªØ (each other).</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "18. Which do you think are ______ festivals?",
        options: [
            { text: "season", correct: false },
            { text: "harvester", correct: false },
            { text: "artistic", correct: false },
            { text: "music", correct: true }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> B·∫°n nghƒ© ƒë√¢u l√† c√°c l·ªÖ h·ªôi √¢m nh·∫°c?</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch Collocation (C·ª•m t·ª´):</b><br>
               - A. season (m√πa).<br>- B. harvester (m√°y g·∫∑t/ng∆∞·ªùi g·∫∑t).<br>- C. artistic (ngh·ªá thu·∫≠t).<br>- D. music (√¢m nh·∫°c).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn D?</b> Trong Ti·∫øng Anh, "music festivals" (l·ªÖ h·ªôi √¢m nh·∫°c) l√† m·ªôt danh t·ª´ gh√©p (Compound noun) c·ª±c k·ª≥ ph·ªï bi·∫øn. (VD: Coachella, Tomorrowland).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> ƒê·ªÉ n√≥i v·ªÅ m√πa m√†ng ta d√πng "harvest festivals" ch·ª© kh√¥ng d√πng harvester. "season festivals" kh√¥ng ph·∫£i c·ª•m chu·∫©n (seasonal festivals m·ªõi ƒë√∫ng).</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "19. A ______ is a film that shows real life events or stories.",
        options: [
            { text: "action", correct: false },
            { text: "documentary", correct: true },
            { text: "thriller", correct: false },
            { text: "comedy", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> Phim t√†i li·ªáu l√† th·ªÉ lo·∫°i phim chi·∫øu l·∫°i c√°c s·ª± ki·ªán ho·∫∑c c√¢u chuy·ªán c√≥ th·∫≠t trong ƒë·ªùi s·ªëng.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch th·ªÉ lo·∫°i phim:</b><br>
               - A. action: phim h√†nh ƒë·ªông.<br>- B. documentary: phim t√†i li·ªáu.<br>- C. thriller: phim gi·∫≠t g√¢n.<br>- D. comedy: phim h√†i.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn B?</b> D·ª±a v√†o t·ª´ kh√≥a "real life events" (s·ª± ki·ªán ƒë·ªùi th·ª±c) -> ƒê·ªãnh nghƒ©a c·ªßa phim t√†i li·ªáu.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> Phim h√†nh ƒë·ªông, gi·∫≠t g√¢n, h√†i h∆∞·ªõc ph·∫ßn l·ªõn l√† h∆∞ c·∫•u (fiction), kh√¥ng ph·∫£i ƒë·ªãnh nghƒ©a v·ªÅ real life events. Th√™m n·ªØa, m·∫°o t·ª´ "A" kh√¥ng ƒëi v·ªõi "action" (ph·∫£i l√† An action film).</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "20. I found the book so ______ that I couldn‚Äôt put it down.",
        options: [
            { text: "gripping", correct: true },
            { text: "boring", correct: false },
            { text: "tiring", correct: false },
            { text: "shocking", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> T√¥i th·∫•y cu·ªën s√°ch qu√° h·∫•p d·∫´n/cu·ªën h√∫t ƒë·∫øn m·ª©c t√¥i kh√¥ng th·ªÉ ƒë·∫∑t n√≥ xu·ªëng.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. gripping (adj): h·∫•p d·∫´n, cu·ªën h√∫t, gi·ªØ ch·∫∑t s·ª± ch√∫ √Ω.<br>- B. boring (adj): nh√†m ch√°n.<br>- C. tiring (adj): g√¢y m·ªát m·ªèi.<br>- D. shocking (adj): g√¢y s·ªëc.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn A?</b> Th√†nh ng·ªØ "couldn't put it down" chuy√™n d√πng ƒë·ªÉ khen m·ªôt cu·ªën s√°ch c·ª±c hay, ƒë·ªçc kh√¥ng d·ª©t ra ƒë∆∞·ª£c. -> Ch·ªçn gripping.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> Boring v√† tiring mang nghƒ©a ti√™u c·ª±c, m√¢u thu·∫´n v·ªõi vi·ªác "kh√¥ng th·ªÉ ƒë·∫∑t xu·ªëng". Shocking kh√¥ng t·ª± nhi√™n b·∫±ng gripping trong vƒÉn c·∫£nh khen s√°ch.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "21. A ______ is a film that tries to make audiences laugh.",
        options: [
            { text: "horror", correct: false },
            { text: "sci-fi", correct: false },
            { text: "comedy", correct: true },
            { text: "documentary", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> Phim h√†i l√† lo·∫°i phim c·ªë g·∫Øng l√†m cho kh√°n gi·∫£ c∆∞·ªùi.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. horror: kinh d·ªã.<br>- B. sci-fi: khoa h·ªçc vi·ªÖn t∆∞·ªüng.<br>- C. comedy: phim h√†i.<br>- D. documentary: phim t√†i li·ªáu.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn C?</b> T·ª´ kh√≥a "make audiences laugh" (l√†m kh√°n gi·∫£ c∆∞·ªùi) ch√≠nh l√† m·ª•c ƒë√≠ch c·ªët l√µi c·ªßa phim h√†i.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> Phim kinh d·ªã l√†m ng∆∞·ªùi ta s·ª£ h√£i, kh√¥ng ph·∫£i ƒë·ªÉ c∆∞·ªùi.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "22. The end of the film was so ______ that many people cried.",
        options: [
            { text: "shocking", correct: false },
            { text: "moving", correct: true },
            { text: "exciting", correct: false },
            { text: "boring", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> K·∫øt th√∫c c·ªßa b·ªô phim qu√° c·∫£m ƒë·ªông ƒë·∫øn n·ªói nhi·ªÅu ng∆∞·ªùi ƒë√£ kh√≥c.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. shocking: g√¢y s·ªëc.<br>- B. moving: c·∫£m ƒë·ªông.<br>- C. exciting: th√∫ v·ªã, h√†o h·ª©ng.<br>- D. boring: nh√†m ch√°n.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn B?</b> K·∫øt qu·∫£ l√† "many people cried" (nhi·ªÅu ng∆∞·ªùi kh√≥c) th·ªÉ hi·ªán c·∫£m x√∫c x√∫c ƒë·ªông s√¢u s·∫Øc -> "moving".</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> C√°c t√≠nh t·ª´ kia kh√¥ng tr·ª±c ti·∫øp t·∫°o ra ph·∫£n ·ª©ng kh√≥c v√¨ x√∫c ƒë·ªông.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "23. Mr. Bean‚Äôs Holiday is a ______ film ‚Äì I was laughing from beginning to end.",
        options: [
            { text: "hilarious", correct: true },
            { text: "violent", correct: false },
            { text: "scary", correct: false },
            { text: "moving", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> K·ª≥ ngh·ªâ c·ªßa ng√†i Bean l√† m·ªôt b·ªô phim si√™u h√†i h∆∞·ªõc - t√¥i ƒë√£ c∆∞·ªùi t·ª´ ƒë·∫ßu ƒë·∫øn cu·ªëi.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b><br>
               - A. hilarious (adj): c·ª±c k√¨ h√†i h∆∞·ªõc, c∆∞·ªùi b·ªÉ b·ª•ng.<br>- B. violent (adj): b·∫°o l·ª±c.<br>- C. scary (adj): ƒë√°ng s·ª£.<br>- D. moving (adj): c·∫£m ƒë·ªông.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn A?</b> D·ª±a v√†o d·ªØ ki·ªán "laughing from beginning to end" (c∆∞·ªùi t·ª´ ƒë·∫ßu ƒë·∫øn cu·ªëi) -> Phim r·∫•t h√†i.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> B·∫°o l·ª±c, ƒë√°ng s·ª£ hay c·∫£m ƒë·ªông ƒë·ªÅu kh√¥ng g√¢y ra ph·∫£n ·ª©ng c∆∞·ªùi li√™n t·ª•c.</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "24. ______ they spent a lot of money on the film, it wasn‚Äôt a big success.",
        options: [
            { text: "However", correct: false },
            { text: "Nevertheless", correct: false },
            { text: "When", correct: false },
            { text: "Although", correct: true }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> M·∫∑c d√π h·ªç ƒë√£ ti√™u r·∫•t nhi·ªÅu ti·ªÅn cho b·ªô phim, n√≥ kh√¥ng ph·∫£i l√† m·ªôt th√†nh c√¥ng l·ªõn.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch li√™n t·ª´:</b><br>
               - A. However / B. Nevertheless: Tuy nhi√™n (ƒê·ª©ng ƒë·∫ßu c√¢u ƒë·ªôc l·∫≠p, ph·∫£i c√≥ d·∫•u ph·∫©y ƒëi sau: However, S + V).<br>- C. When: Khi.<br>- D. Although + S + V: M·∫∑c d√π (N·ªëi 2 m·ªánh ƒë·ªÅ tr√°i ng∆∞·ª£c trong c√πng 1 c√¢u).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn D?</b> Hai m·ªánh ƒë·ªÅ c√≥ √Ω nghƒ©a t∆∞∆°ng ph·∫£n (chi nhi·ªÅu ti·ªÅn >< kh√¥ng th√†nh c√¥ng) v√† ƒë∆∞·ª£c n·ªëi li·ªÅn b·∫±ng d·∫•u ph·∫©y, t·∫°o th√†nh c√¢u ph·ª©c -> d√πng Although.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> N·∫øu d√πng However ph·∫£i vi·∫øt th√†nh: "They spent a lot... However, it wasn't..." (t√°ch th√†nh 2 c√¢u).</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "25. Last night, I didn‚Äôt go to bed early ______ being very tired.",
        options: [
            { text: "despite of", correct: false },
            { text: "in spite of", correct: true },
            { text: "although", correct: false },
            { text: "because of", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> T·ªëi qua, t√¥i ƒë√£ kh√¥ng ƒëi ng·ªß s·ªõm m·∫∑c d√π ƒëang r·∫•t m·ªát.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch:</b> Sau √¥ tr·ªëng l√† "being very tired" (V-ing), mang nghƒ©a nh∆∞·ª£ng b·ªô (t∆∞∆°ng ph·∫£n).<br>
               - A. despite of -> Sai c·∫•u tr√∫c. (Ch·ªâ c√≥ Despite, kh√¥ng c√≥ 'of').<br>- B. in spite of + N/V-ing: M·∫∑c d√π.<br>- C. although + M·ªánh ƒë·ªÅ (S + V).<br>- D. because of + N/V-ing: B·ªüi v√¨ (ch·ªâ nguy√™n nh√¢n).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn B?</b> "in spite of" c·ªông v·ªõi V-ing (being) t·∫°o nghƒ©a t∆∞∆°ng ph·∫£n h·ª£p l√Ω.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> D√πng "because of" s·∫Ω th√†nh "v√¨ t√¥i m·ªát n√™n t√¥i th·ª©c khuya" -> sai logic. "although" kh√¥ng ƒëi v·ªõi V-ing tr·ª´ d·∫°ng r√∫t g·ªçn ch·ªß ng·ªØ (nh∆∞ng hi·∫øm d√πng being).</div>`
    },
    {
        type: "mcq",
        section: "",
        q: "26. Not many people went to see the film; ______, it received good reviews from critics.",
        options: [
            { text: "however", correct: true },
            { text: "despite", correct: false },
            { text: "but", correct: false },
            { text: "although", correct: false }
        ],
        expl: `<div class="step"><span class="step-title">B∆∞·ªõc 1</span> <b>D·ªãch:</b> Kh√¥ng nhi·ªÅu ng∆∞·ªùi ƒëi xem b·ªô phim; tuy nhi√™n, n√≥ nh·∫≠n ƒë∆∞·ª£c ƒë√°nh gi√° t·ªët t·ª´ gi·ªõi ph√™ b√¨nh.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 2</span> <b>Ph√¢n t√≠ch ng·ªØ ph√°p d·∫•u c√¢u:</b> V·ªã tr√≠ √¥ tr·ªëng ƒë·ª©ng sau d·∫•u ch·∫•m ph·∫©y (;) v√† tr∆∞·ªõc d·∫•u ph·∫©y (,).<br>
               - A. however: tuy nhi√™n (ph√π h·ª£p ƒë·ª©ng gi·ªØa ; v√† ,).<br>- B. despite + N/Ving: m·∫∑c d√π (kh√¥ng ƒë·ª©ng v·ªã tr√≠ n√†y).<br>- C. but: nh∆∞ng (th∆∞·ªùng ƒë·ª©ng sau d·∫•u ph·∫©y, kh√¥ng d√πng ; but ,).<br>- D. although: m·∫∑c d√π (t∆∞∆°ng t·ª± B).</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 3</span> <b>T·∫°i sao ch·ªçn A?</b> "However" l√† tr·∫°ng t·ª´ li√™n k·∫øt tuy·ªát v·ªùi nh·∫•t ƒë·ªÉ ƒë·ª©ng gi·ªØa d·∫•u ch·∫•m ph·∫©y v√† d·∫•u ph·∫©y ƒë·ªÉ n·ªëi 2 v·∫ø t∆∞∆°ng ph·∫£n.</div>
               <div class="step"><span class="step-title">B∆∞·ªõc 4</span> <b>T·∫°i sao sai?</b> C√°c t·ª´ n·ªëi B, C, D ƒë·ªÅu vi ph·∫°m quy t·∫Øc ch·∫•m c√¢u trong Ti·∫øng Anh ·ªü v·ªã tr√≠ n√†y.</div>`
    }
];

// --- EX 2 (Sorting Data) ---
const wordsEx2 = [
    { word: "washed", ans: "t" }, { word: "looked", ans: "t" }, { word: "stopped", ans: "t" },
    { word: "needed", ans: "id" }, { word: "wanted", ans: "id" }, { word: "decided", ans: "id" },
    { word: "volunteered", ans: "d" }, { word: "played", ans: "d" }, { word: "watched", ans: "t" },
    { word: "raised", ans: "d" }, { word: "appeared", ans: "d" }, { word: "laughed", ans: "t" },
    { word: "moved", ans: "d" }, { word: "fascinated", ans: "id" }, { word: "starred", ans: "d" },
    { word: "convinced", ans: "t" }, { word: "shocked", ans: "t" }, { word: "interested", ans: "id" },
    { word: "picked", ans: "t" }, { word: "clicked", ans: "t" }, { word: "promised", ans: "t" },
    { word: "delivered", ans: "d" }, { word: "developed", ans: "t" }, { word: "included", ans: "id" },
    { word: "liked", ans: "t" }, { word: "loved", ans: "d" }, { word: "jumped", ans: "t" },
    { word: "received", ans: "d" }, { word: "annoyed", ans: "d" }, { word: "embarrassed", ans: "t" },
    { word: "crowded", ans: "id" }, { word: "excited", ans: "id" }, { word: "divided", ans: "id" },
    { word: "stayed", ans: "d" }
];

// ==================== LOGIC ·ª®NG D·ª§NG ====================

// 1. Audio System (Web Audio API) - √Çm thanh t·ª± sinh kh√¥ng c·∫ßn link!
const AudioContext = window.AudioContext || window.webkitAudioContext;
const audioCtx = new AudioContext();

function playSound(type) {
    if(audioCtx.state === 'suspended') audioCtx.resume();
    const osc = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();
    osc.connect(gainNode);
    gainNode.connect(audioCtx.destination);

    if (type === 'correct') {
        osc.type = 'sine';
        osc.frequency.setValueAtTime(523.25, audioCtx.currentTime); // N·ªët C5
        osc.frequency.exponentialRampToValueAtTime(1046.50, audioCtx.currentTime + 0.1); // Vu·ªët l√™n C6
        gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
        osc.start(); osc.stop(audioCtx.currentTime + 0.5);
    } else if (type === 'wrong') {
        osc.type = 'sawtooth';
        osc.frequency.setValueAtTime(150, audioCtx.currentTime); // √Çm tr·∫ßm buzz
        osc.frequency.exponentialRampToValueAtTime(80, audioCtx.currentTime + 0.3); // Vu·ªët xu·ªëng
        gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
        osc.start(); osc.stop(audioCtx.currentTime + 0.3);
    }
}

// 2. Confetti System (Ph√°o gi·∫•y)
function shootConfetti() {
    const colors = ['#00D26A', '#FDCB6E', '#FF4757', '#8854C0', '#00C9A7'];
    for(let i=0; i<40; i++) {
        let conf = document.createElement('div');
        conf.className = 'confetti';
        conf.style.left = Math.random() * 100 + 'vw';
        conf.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        conf.style.animationDuration = (Math.random() * 2 + 2) + 's';
        document.body.appendChild(conf);
        setTimeout(() => conf.remove(), 4000);
    }
}

// 3. Shuffle Array (Thu·∫≠t to√°n x√°o tr·ªôn Fisher-Yates)
function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

// 4. Render UI
let totalScore = 0;
let totalQuestions = quizData.length + wordsEx2.length;
let answeredMCQ = 0;

function renderQuiz() {
    const container = document.getElementById('quiz-container');
    let currentSection = "";

    // A. Render MCQ (Ex 1, 3, 5)
    quizData.forEach((qData, index) => {
        if (qData.section && qData.section !== currentSection) {
            currentSection = qData.section;
            let sectionHTML = `<div class="section-title">${currentSection}</div>`;
            container.insertAdjacentHTML('beforeend', sectionHTML);
            
            // Ch√®n B√†i Sorting Ex 2 v√†o gi·ªØa Ex 1 v√† Ex 3 (Theo ƒë·ªÅ b√†i g·ªëc)
            if(currentSection.includes("Ex 3")) {
                renderSortingEx2(container);
            }
        }

        const card = document.createElement('div');
        card.className = 'card';
        card.id = `mcq-${index}`;

        const question = document.createElement('div');
        question.className = 'question-text';
        question.innerHTML = qData.q;
        card.appendChild(question);

        const optionsGrid = document.createElement('div');
        optionsGrid.className = 'options-grid';
        
        // Shuffle options clone to not mutate original
        let shuffledOptions = shuffleArray([...qData.options]);
        let letters = ['A', 'B', 'C', 'D'];

        shuffledOptions.forEach((opt, oIdx) => {
            const btn = document.createElement('button');
            btn.className = 'btn-option';
            btn.innerHTML = `<b>${letters[oIdx]}.</b> ${opt.text}`;
            btn.onclick = () => handleMCQ(btn, opt.correct, index, optionsGrid);
            optionsGrid.appendChild(btn);
        });
        card.appendChild(optionsGrid);

        const explBox = document.createElement('div');
        explBox.className = 'explanation';
        explBox.id = `expl-${index}`;
        explBox.innerHTML = `<h4>üí° L·ªùi gi·∫£i chi ti·∫øt t·ª´ C√¥ Mai An ULIS:</h4>${qData.expl}`;
        card.appendChild(explBox);

        container.appendChild(card);
    });
}

// B. Render Sorting Ex 2
function renderSortingEx2(container) {
    let sectionHTML = `<div class="section-title">Ex 2. Ph√¢n lo·∫°i √¢m ƒëu√¥i -ed (B·∫•m v√†o t·ª´ ƒë·ªÉ x·∫øp)</div>`;
    container.insertAdjacentHTML('beforeend', sectionHTML);

    const card = document.createElement('div');
    card.className = 'card';
    card.id = `sorting-card`;
    
    // Khay ch·ª©a t·ª´
    const wordBank = document.createElement('div');
    wordBank.className = 'sort-container';
    wordBank.id = 'word-bank';
    
    // X√°o tr·ªôn m·∫£ng t·ª´
    let shuffledWords = shuffleArray([...wordsEx2]);
    shuffledWords.forEach((item, idx) => {
        let badge = document.createElement('span');
        badge.className = 'word-badge';
        badge.innerText = item.word;
        badge.id = `wb-${idx}`;
        badge.onclick = () => openSortPopup(item.word, item.ans, badge.id);
        wordBank.appendChild(badge);
    });
    card.appendChild(wordBank);

    // Khu v·ª±c Drop
    const dropZones = document.createElement('div');
    dropZones.className = 'drop-zones';
    dropZones.innerHTML = `
        <div class="drop-zone" id="dz-t"><h4>/t/</h4></div>
        <div class="drop-zone" id="dz-d"><h4>/d/</h4></div>
        <div class="drop-zone" id="dz-id"><h4>/id/</h4></div>
    `;
    card.appendChild(dropZones);

    const explBox = document.createElement('div');
    explBox.className = 'explanation';
    explBox.id = `expl-ex2`;
    explBox.innerHTML = `<h4>üí° Quy t·∫Øc ph√°t √¢m ƒëu√¥i -ed (C√¥ Mai An ULIS):</h4>
    <div class="step"><b>1. ƒê·ªçc l√† /id/:</b> Khi ƒë·ªông t·ª´ t·∫≠n c√πng b·∫±ng √¢m /t/ ho·∫∑c /d/ (M·∫πo: Ti·ªÅn ƒê√¥). VD: needed, wanted...</div>
    <div class="step"><b>2. ƒê·ªçc l√† /t/:</b> Khi ƒë·ªông t·ª´ t·∫≠n c√πng b·∫±ng √¢m v√¥ thanh /p/, /k/, /f/, /s/, / É/, /t É/ (M·∫πo: Th√¥i phanh k√≠t s·ª£ s·∫≠p s√†n). VD: washed, looked, laughed...</div>
    <div class="step"><b>3. ƒê·ªçc l√† /d/:</b> C√°c √¢m h·ªØu thanh v√† nguy√™n √¢m c√≤n l·∫°i. VD: played, moved, delivered...</div>`;
    card.appendChild(explBox);

    container.appendChild(card);
}

// 5. Logic X·ª≠ l√Ω Tr·∫Øc nghi·ªám
function handleMCQ(btn, isCorrect, qIndex, grid) {
    // NgƒÉn ch·ªçn l·∫°i
    const buttons = grid.querySelectorAll('.btn-option');
    buttons.forEach(b => b.disabled = true);

    if (isCorrect) {
        btn.classList.add('correct');
        playSound('correct');
        shootConfetti();
        totalScore++;
    } else {
        btn.classList.add('wrong');
        btn.classList.add('shake');
        playSound('wrong');
        // T√¨m ƒë√°p √°n ƒë√∫ng ƒë·ªÉ hi·ªán xanh
        buttons.forEach(b => {
            let originalData = quizData[qIndex].options.find(o => b.innerHTML.includes(o.text));
            if(originalData && originalData.correct) b.classList.add('correct');
        });
    }

    // HI·ªÜN GI·∫¢I TH√çCH NGAY L·∫¨P T·ª®C
    document.getElementById(`expl-${qIndex}`).classList.add('show');
    answeredMCQ++;
}

// 6. Logic X·ª≠ l√Ω Sorting (Ex 2)
let currentSortData = { word: '', ans: '', badgeId: '' };

function openSortPopup(word, ans, badgeId) {
    if(document.getElementById(badgeId).classList.contains('placed')) return;
    currentSortData = { word, ans, badgeId };
    document.getElementById('current-sort-word').innerText = word;
    document.getElementById('sort-popup').style.display = 'flex';
}

function checkSort(selectedAns) {
    document.getElementById('sort-popup').style.display = 'none';
    const badge = document.getElementById(currentSortData.badgeId);
    
    if (selectedAns === currentSortData.ans) {
        playSound('correct');
        shootConfetti();
        badge.classList.add('placed');
        
        // Di chuy·ªÉn v√†o Drop Zone
        let placedEl = document.createElement('span');
        placedEl.className = 'placed-word';
        placedEl.innerText = currentSortData.word;
        document.getElementById(`dz-${selectedAns}`).appendChild(placedEl);
        totalScore++;
        
        // Hi·ªán gi·∫£i th√≠ch Ex2 n·∫øu v·ª´a l√†m ƒë√∫ng 1 c√¢u ƒë·∫ßu ti√™n
        document.getElementById('expl-ex2').classList.add('show');
    } else {
        playSound('wrong');
        const popupContent = document.querySelector('.sort-popup-content');
        popupContent.classList.remove('shake');
        void popupContent.offsetWidth; // trigger reflow
        popupContent.classList.add('shake');
        alert(`R·∫•t ti·∫øc! T·ª´ '${currentSortData.word}' KH√îNG c√≥ ƒëu√¥i ph√°t √¢m l√† /${selectedAns}/. H√£y th·ª≠ l·∫°i theo quy t·∫Øc nh√©!`);
    }
}

// 7. N·ªôp b√†i
function submitQuiz() {
    // ƒê·∫øm s·ªë c√¢u h·ªèi th·ª±c t·∫ø (Tr·∫Øc nghi·ªám + s·ªë t·ª´ sorting)
    let percentage = Math.round((totalScore / totalQuestions) * 100);
    let message = "";
    if (percentage === 100) message = "Tuy·ªát ƒë·ªânh! Con l√† thi√™n t√†i Ti·∫øng Anh th·ª±c s·ª±! üèÜ";
    else if (percentage >= 80) message = "Qu√° xu·∫•t s·∫Øc! C√¥ Mai An r·∫•t t·ª± h√†o v·ªÅ con! üåü";
    else if (percentage >= 50) message = "C·ªë g·∫Øng r·∫•t t·ªët! Nh·ªõ ƒë·ªçc k·ªπ ph·∫ßn gi·∫£i th√≠ch si√™u chi ti·∫øt c·ªßa c√¥ nh√©! üëç";
    else message = "Kh√¥ng sao ƒë√¢u, sai ·ªü ƒë√¢u m√¨nh h·ªçc ·ªü ƒë√≥. ƒê·ªçc k·ªπ ph·∫ßn gi·∫£i th√≠ch b√™n d∆∞·ªõi ƒë·ªÉ r√∫t kinh nghi·ªám nh√©! üí™";

    alert(`B√ÅO C√ÅO K·∫æT QU·∫¢:\n\n- ƒêi·ªÉm s·ªë c·ªßa b·∫°n: ${totalScore} / ${totalQuestions} (${percentage}%)\n- L·ªùi khen: ${message}\n\nH√£y k√©o l√™n xem l·∫°i c√°c c√¢u sai c√πng ph·∫ßn Gi·∫£i Th√≠ch Chi Ti·∫øt nh√©!`);
}

// Kh·ªüi t·∫°o
window.onload = () => {
    renderQuiz();
};

</script>
</body>
</html>