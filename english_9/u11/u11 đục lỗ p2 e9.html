<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i T·∫≠p Ti·∫øng Anh - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8854C0; /* H·ªìng t√≠m nh·∫°t */
            --secondary: #00C9A7; /* Xanh ng·ªçc */
            --correct: #00D26A; /* Xanh l√° */
            --wrong: #FF4757; /* ƒê·ªè cam */
            --bg-color: #f0f3ff;
            --card-bg: #ffffff;
            --text-color: #2f3542;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#8854c0 0.5px, transparent 0.5px), radial-gradient(#8854c0 0.5px, #f0f3ff 0.5px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            color: var(--text-color);
            padding-bottom: 50px;
        }

        /* HEADER */
        header {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            position: relative;
            z-index: 10;
        }

        header h1 {
            font-family: 'Quicksand', sans-serif;
            font-weight: 800;
            font-size: 1.8rem;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.1);
        }

        header p {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 5px;
        }

        .container {
            max-width: 800px;
            margin: 30px auto;
            padding: 0 15px;
        }

        /* SECTION STYLES */
        .section-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 40px;
            box-shadow: 0 8px 0 rgba(0,0,0,0.05), 0 15px 20px rgba(0,0,0,0.05);
            border: 2px solid #e1e1e1;
        }

        .section-title {
            font-size: 1.2rem;
            color: var(--primary);
            font-weight: 800;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title span {
            background: var(--secondary);
            color: white;
            padding: 5px 10px;
            border-radius: 10px;
            font-size: 0.9rem;
        }

        .reading-text {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 15px;
            line-height: 1.8;
            font-size: 1.05rem;
            border-left: 5px solid var(--secondary);
            margin-bottom: 20px;
            white-space: pre-wrap; /* Gi·ªØ nguy√™n ƒë·ªãnh d·∫°ng ƒëo·∫°n vƒÉn */
        }

        .gap-number {
            font-weight: 800;
            color: var(--primary);
            background: #ede4f5;
            padding: 2px 6px;
            border-radius: 5px;
            font-size: 0.9em;
        }

        /* GLOSSARY TABLE */
        .glossary-container {
            margin-top: 20px;
            margin-bottom: 30px;
            overflow-x: auto;
        }

        .glossary-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .glossary-table th {
            background-color: var(--primary);
            color: white;
            padding: 10px;
            text-align: left;
        }

        .glossary-table td {
            background-color: #fff;
            padding: 10px;
            border-bottom: 1px solid #eee;
        }

        .glossary-table tr:last-child td {
            border-bottom: none;
        }

        .type-tag {
            font-size: 0.75rem;
            padding: 2px 5px;
            border-radius: 4px;
            background: #eee;
            color: #555;
            font-weight: bold;
        }

        /* QUESTIONS */
        .question-block {
            margin-bottom: 25px;
            border-bottom: 2px dashed #eee;
            padding-bottom: 20px;
        }
        .question-block:last-child {
            border-bottom: none;
        }

        .q-label {
            font-weight: 700;
            margin-bottom: 10px;
            display: block;
            color: #57606f;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .option-btn {
            background: white;
            border: 2px solid #e1e1e1;
            padding: 15px;
            border-radius: 15px;
            cursor: pointer;
            font-family: 'Nunito', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            color: #57606f;
            transition: all 0.2s ease;
            box-shadow: 0 4px 0 #e1e1e1;
            text-align: left;
            position: relative;
        }

        .option-btn:hover:not(:disabled) {
            transform: scale(1.02);
            border-color: var(--secondary);
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(4px);
            box-shadow: none;
        }

        /* STATES */
        .option-btn.correct {
            background-color: var(--correct);
            color: white;
            border-color: #00b85c;
            box-shadow: 0 4px 0 #00b85c;
        }

        .option-btn.wrong {
            background-color: var(--wrong);
            color: white;
            border-color: #e63b49;
            box-shadow: 0 4px 0 #e63b49;
            animation: shake 0.5s;
        }

        /* EXPLANATION BOX */
        .explanation-box {
            margin-top: 15px;
            background: #fff8e1;
            border: 2px solid #ffeaa7;
            padding: 15px;
            border-radius: 12px;
            display: none; /* Hidden by default */
            animation: slideDown 0.3s ease-out;
        }

        .teacher-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            vertical-align: middle;
            margin-right: 8px;
            background: var(--primary);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }

        .exp-header {
            font-weight: 800;
            color: #e58e26;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }

        .exp-content p {
            margin-bottom: 8px;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        .exp-detail strong {
            color: var(--primary);
        }

        .correct-tag {
            background: var(--correct);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-right: 5px;
        }

        .wrong-tag {
            background: var(--wrong);
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: bold;
            margin-right: 5px;
        }

        /* FOOTER */
        .footer-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            padding: 15px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.05);
            text-align: center;
            z-index: 100;
        }

        .submit-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 40px;
            font-size: 1.2rem;
            font-weight: 800;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 5px 0 #6c429c;
            transition: transform 0.2s;
        }

        .submit-btn:active {
            transform: translateY(5px);
            box-shadow: none;
        }

        /* ANIMATIONS */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }

        /* RESPONSIVE */
        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
            .section-card {
                padding: 15px;
            }
        }
    </style>
</head>
<body>

    <header>
        <h1>ENGLISH EXAM</h1>
        <p>Gi√°o vi√™n: Ms Mai An ULIS</p>
    </header>

    <div class="container">

        <div class="section-card" id="passage1">
            <div class="section-title"><span>Part 1</span> Smart Refrigerator</div>
            
            <div class="reading-text">
SMART REFRIGERATOR
A smart refrigerator <span class="gap-number">(1)</span> ______ advanced technologies and internet connectivity to the basic functions of a fridge. It does more than just keep your food fresh. It also includes many innovative features to make home and kitchen life easier and more efficient.

One key functionality that smart refrigerators have is monitoring your food supply. Imagine <span class="gap-number">(2)</span> ______ in the morning and receiving a notification that you‚Äôre running low on milk. Then, you open the smart fridge app and add milk to your shopping list or have it delivered later that day.

Smart refrigerators can also learn your preferences and habits over time. By analyzing the data it collects ‚Äî such as the types of food you <span class="gap-number">(3)</span> ______ store and consume ‚Äî your smart refrigerator can assemble custom-made shopping recommendations or even suggest recipes based <span class="gap-number">(4)</span> ______ the ingredients you have on hand.

You can leave digital notes for your family members, display your calendar, or even stream music <span class="gap-number">(5)</span> ______ you're in the kitchen using its touchscreen display. Your fridge becomes a central communication and organization point so everyone can stay connected and on top of daily tasks.
            </div>

            <div class="glossary-container">
                <table class="glossary-table">
                    <thead>
                        <tr><th colspan="3">üìö Academic Vocabulary (T·ª´ v·ª±ng n√¢ng cao)</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Connectivity</td><td><span class="type-tag">n</span></td><td>Kh·∫£ nƒÉng k·∫øt n·ªëi</td></tr>
                        <tr><td>Innovative</td><td><span class="type-tag">adj</span></td><td>C√≥ t√≠nh ƒë·ªïi m·ªõi, s√°ng t·∫°o</td></tr>
                        <tr><td>Efficient</td><td><span class="type-tag">adj</span></td><td>Hi·ªáu qu·∫£, nƒÉng su·∫•t cao</td></tr>
                        <tr><td>Monitor</td><td><span class="type-tag">v</span></td><td>Gi√°m s√°t, theo d√µi</td></tr>
                        <tr><td>Functionality</td><td><span class="type-tag">n</span></td><td>Ch·ª©c nƒÉng, t√≠nh nƒÉng</td></tr>
                        <tr><td>Assemble</td><td><span class="type-tag">v</span></td><td>T·∫≠p h·ª£p, thu th·∫≠p, l·∫Øp r√°p</td></tr>
                        <tr><td>Ingredient</td><td><span class="type-tag">n</span></td><td>Th√†nh ph·∫ßn, nguy√™n li·ªáu</td></tr>
                        <tr><td>Consume</td><td><span class="type-tag">v</span></td><td>Ti√™u th·ª•, d√πng</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="question-container" id="q-container-1"></div>
        </div>

        <div class="section-card" id="passage2">
            <div class="section-title"><span>Part 2</span> Modern Classrooms</div>
            
            <div class="reading-text">
Using electronic devices in modern classrooms has many <span class="gap-number">(1)</span> ______. First, they help students find information quickly. They can <span class="gap-number">(2)</span> ______ things they need to learn and understand better. Second, electronic devices make learning interactive. Students can use apps and websites to take quizzes, have discussions, and work <span class="gap-number">(3)</span> ______ on projects. This helps them think <span class="gap-number">(4)</span> ______ and solve problems. Third, electronic devices let students learn with multimedia. They can watch videos, see pictures, and listen to recordings to make learning more fun. Also, electronic devices help students become good with technology. They learn <span class="gap-number">(5)</span> ______ the internet, judge if information is good or not, and communicate online. Lastly, electronic devices let students learn at their own pace. They can use materials that suit them best. Overall, using electronic devices in class helps students learn more and get ready for the digital world.
            </div>

             <div class="glossary-container">
                <table class="glossary-table">
                    <thead>
                        <tr><th colspan="3">üìö Academic Vocabulary (T·ª´ v·ª±ng n√¢ng cao)</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Interactive</td><td><span class="type-tag">adj</span></td><td>C√≥ t√≠nh t∆∞∆°ng t√°c</td></tr>
                        <tr><td>Multimedia</td><td><span class="type-tag">n</span></td><td>ƒêa ph∆∞∆°ng ti·ªán</td></tr>
                        <tr><td>Pace</td><td><span class="type-tag">n</span></td><td>T·ªëc ƒë·ªô, nh·ªãp ƒë·ªô</td></tr>
                        <tr><td>Judge</td><td><span class="type-tag">v</span></td><td>ƒê√°nh gi√°, ph√°n ƒëo√°n</td></tr>
                        <tr><td>Communicate</td><td><span class="type-tag">v</span></td><td>Giao ti·∫øp</td></tr>
                        <tr><td>Suit</td><td><span class="type-tag">v</span></td><td>Ph√π h·ª£p v·ªõi</td></tr>
                        <tr><td>Digital world</td><td><span class="type-tag">n.phr</span></td><td>Th·∫ø gi·ªõi k·ªπ thu·∫≠t s·ªë</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="question-container" id="q-container-2"></div>
        </div>

        <div class="section-card" id="passage3">
            <div class="section-title"><span>Part 3</span> TabPro X - Product Review</div>
            
            <div class="reading-text">
It‚Äôs our pleasure to introduce the all-new TabPro X - an innovation at your fingertips. It has a sleek and durable case made of 100% recycled aluminum, which ensures both style and protection for your device. The super <span class="gap-number">(1)</span> ______ provides vivid colours and smooth navigation, promising you an exceptional experience.

TabPro X comes with a <span class="gap-number">(2)</span> ______ which allows you to sketch, write, and take notes with perfect accuracy. It goes beyond expectations with a variety of <span class="gap-number">(3)</span> ______ functions, including a powerful processor for smooth multitasking, a high-resolution camera for capturing life‚Äôs moments in stunning detail, and a <span class="gap-number">(4)</span> ______ battery for uninterrupted productivity.

Whether you‚Äôre a student, professional, or creative enthusiast, TabPro X is here to advance your digital lifestyle. Tech Magazine <span class="gap-number">(5)</span> ______ that modern users possess a TabPro X. Why haven‚Äôt you? Embrace the future of technology - experience the TabPro X today!
            </div>

            <div class="glossary-container">
                <table class="glossary-table">
                    <thead>
                        <tr><th colspan="3">üìö Academic Vocabulary (T·ª´ v·ª±ng n√¢ng cao)</th></tr>
                    </thead>
                    <tbody>
                        <tr><td>Innovation</td><td><span class="type-tag">n</span></td><td>S·ª± ƒë·ªïi m·ªõi, c√°ch t√¢n</td></tr>
                        <tr><td>Sleek</td><td><span class="type-tag">adj</span></td><td>Ki·ªÉu d√°ng ƒë·∫πp, b√≥ng b·∫©y</td></tr>
                        <tr><td>Durable</td><td><span class="type-tag">adj</span></td><td>B·ªÅn b·ªâ</td></tr>
                        <tr><td>Exceptional</td><td><span class="type-tag">adj</span></td><td>ƒê·∫∑c bi·ªát, xu·∫•t ch√∫ng</td></tr>
                        <tr><td>Accuracy</td><td><span class="type-tag">n</span></td><td>ƒê·ªô ch√≠nh x√°c</td></tr>
                        <tr><td>Multitasking</td><td><span class="type-tag">n</span></td><td>ƒêa nhi·ªám</td></tr>
                        <tr><td>Productivity</td><td><span class="type-tag">n</span></td><td>NƒÉng su·∫•t</td></tr>
                        <tr><td>Enthusiast</td><td><span class="type-tag">n</span></td><td>Ng∆∞·ªùi ƒëam m√™</td></tr>
                    </tbody>
                </table>
            </div>

            <div class="question-container" id="q-container-3"></div>
        </div>

    </div>

    <div class="footer-bar">
        <button class="submit-btn" onclick="submitExam()">N·ªòP B√ÄI & XEM ƒêI·ªÇM</button>
    </div>

    <canvas id="confetti-canvas"></canvas>

    <script>
        // SOUND EFFECTS USING WEB AUDIO API (No external files needed)
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            if (type === 'correct') {
                // High pitch Ding
                osc.type = 'sine';
                osc.frequency.setValueAtTime(600, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1000, audioCtx.currentTime + 0.1);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.5);
            } else {
                // Low pitch fail
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(150, audioCtx.currentTime);
                osc.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.3);
            }
        }

        // CONFETTI LOGIC
        const canvas = document.getElementById('confetti-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        let pieces = [];
        
        function confettiEffect() {
            pieces = [];
            for(let i=0; i<100; i++) {
                pieces.push({
                    x: Math.random() * canvas.width,
                    y: -20,
                    w: Math.random() * 10 + 5,
                    h: Math.random() * 10 + 5,
                    c: `hsl(${Math.random() * 360}, 70%, 50%)`,
                    v: Math.random() * 5 + 2,
                    r: Math.random() * 0.2 - 0.1
                });
            }
            animateConfetti();
        }

        function animateConfetti() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            let active = false;
            pieces.forEach(p => {
                p.y += p.v;
                p.x += Math.sin(p.y * 0.05);
                p.v += 0.1;
                ctx.fillStyle = p.c;
                ctx.fillRect(p.x, p.y, p.w, p.h);
                if (p.y < canvas.height) active = true;
            });
            if (active) requestAnimationFrame(animateConfetti);
        }

        // DATA & RENDERING
        const quizData = {
            1: [
                {
                    id: "1-1", num: 1,
                    options: {A: "replaces", B: "collaborates", C: "combines", D: "prolongs"},
                    correct: "C",
                    transQ: "M·ªôt chi·∫øc t·ªß l·∫°nh th√¥ng minh ______ c√°c c√¥ng ngh·ªá ti√™n ti·∫øn v·ªõi c√°c ch·ª©c nƒÉng c∆° b·∫£n...",
                    transOpt: "A. Thay th·∫ø | B. H·ª£p t√°c | C. K·∫øt h·ª£p | D. K√©o d√†i",
                    whyRight: "C·∫•u tr√∫c 'Combine A with B' (K·∫øt h·ª£p A v·ªõi B). B√†i vi·∫øt n√≥i t·ªß l·∫°nh k·∫øt h·ª£p c√¥ng ngh·ªá internet v√†o ch·ª©c nƒÉng c∆° b·∫£n.",
                    whyWrong: "Kh√¥ng d√πng 'thay th·∫ø' (v√¨ ch·ª©c nƒÉng c∆° b·∫£n v·∫´n c√≤n), kh√¥ng d√πng 'h·ª£p t√°c' (d√†nh cho ng∆∞·ªùi), kh√¥ng d√πng 'k√©o d√†i'."
                },
                {
                    id: "1-2", num: 2,
                    options: {A: "blocking out", B: "logging out", C: "waking up", D: "picking up"},
                    correct: "C",
                    transQ: "H√£y t∆∞·ªüng t∆∞·ª£ng ______ v√†o bu·ªïi s√°ng v√† nh·∫≠n th√¥ng b√°o...",
                    transOpt: "A. Ch·∫∑n/Che khu·∫•t | B. ƒêƒÉng xu·∫•t | C. Th·ª©c d·∫≠y | D. Nh·∫∑t l√™n/ƒê√≥n",
                    whyRight: "D·ª±a v√†o ng·ªØ c·∫£nh 'in the morning' (bu·ªïi s√°ng) th√¨ h√†nh ƒë·ªông h·ª£p l√Ω nh·∫•t l√† 'th·ª©c d·∫≠y'.",
                    whyWrong: "C√°c h√†nh ƒë·ªông c√≤n l·∫°i kh√¥ng ph√π h·ª£p ng·ªØ c·∫£nh b·∫Øt ƒë·∫ßu ng√†y m·ªõi."
                },
                {
                    id: "1-3", num: 3,
                    options: {A: "frequently", B: "effectively", C: "privately", D: "directly"},
                    correct: "A",
                    transQ: "...c√°c lo·∫°i th·ª±c ph·∫©m b·∫°n ______ l∆∞u tr·ªØ v√† ti√™u th·ª•...",
                    transOpt: "A. Th∆∞·ªùng xuy√™n | B. Hi·ªáu qu·∫£ | C. Ri√™ng t∆∞ | D. Tr·ª±c ti·∫øp",
                    whyRight: "ƒê·ªÉ t·ªß l·∫°nh 'h·ªçc' ƒë∆∞·ª£c th√≥i quen th√¨ n√≥ ph·∫£i ph√¢n t√≠ch nh·ªØng g√¨ b·∫°n l√†m 'th∆∞·ªùng xuy√™n' (habit).",
                    whyWrong: "C√°c tr·∫°ng t·ª´ kh√°c kh√¥ng b·ªï nghƒ©a h·ª£p l√Ω cho h√†nh ƒë·ªông l∆∞u tr·ªØ ƒë·ªÉ t·∫°o th√†nh th√≥i quen."
                },
                {
                    id: "1-4", num: 4,
                    options: {A: "with", B: "on", C: "in", D: "at"},
                    correct: "B",
                    transQ: "...g·ª£i √Ω c√°c c√¥ng th·ª©c n·∫•u ƒÉn d·ª±a ______ c√°c nguy√™n li·ªáu b·∫°n c√≥ s·∫µn.",
                    transOpt: "Gi·ªõi t·ª´ ƒëi k√®m",
                    whyRight: "C·ª•m c·ªë ƒë·ªãnh (Collocation): 'Based on' = D·ª±a tr√™n, d·ª±a v√†o.",
                    whyWrong: "Kh√¥ng d√πng based with/in/at trong ng·ªØ c·∫£nh n√†y."
                },
                {
                    id: "1-5", num: 5,
                    options: {A: "because", B: "although", C: "unless", D: "while"},
                    correct: "D",
                    transQ: "...th·∫≠m ch√≠ ph√°t nh·∫°c ______ b·∫°n ƒëang ·ªü trong b·∫øp...",
                    transOpt: "A. B·ªüi v√¨ | B. M·∫∑c d√π | C. Tr·ª´ khi | D. Trong khi",
                    whyRight: "Di·ªÖn t·∫£ hai h√†nh ƒë·ªông song song ho·∫∑c m·ªëc th·ªùi gian: nghe nh·∫°c 'trong khi' ƒëang ·ªü b·∫øp.",
                    whyWrong: "Because (nguy√™n nh√¢n), Although (ƒë·ªëi l·∫≠p), Unless (ƒëi·ªÅu ki·ªán) kh√¥ng h·ª£p nghƒ©a."
                }
            ],
            2: [
                {
                    id: "2-1", num: 1,
                    options: {A: "factors", B: "things", C: "benefits", D: "problems"},
                    correct: "C",
                    transQ: "S·ª≠ d·ª•ng thi·∫øt b·ªã ƒëi·ªán t·ª≠ trong l·ªõp h·ªçc hi·ªán ƒë·∫°i c√≥ nhi·ªÅu ______.",
                    transOpt: "A. Y·∫øu t·ªë | B. Th·ª©/ƒë·ªì v·∫≠t | C. L·ª£i √≠ch | D. V·∫•n ƒë·ªÅ",
                    whyRight: "ƒêo·∫°n vƒÉn sau ƒë√≥ li·ªát k√™ to√†n ƒëi·ªÉm t·ªët (help students, interactive, fun...) n√™n ph·∫£i l√† 'L·ª£i √≠ch'.",
                    whyWrong: "Kh√¥ng ph·∫£i v·∫•n ƒë·ªÅ hay y·∫øu t·ªë trung l·∫≠p."
                },
                {
                    id: "2-2", num: 2,
                    options: {A: "search for", B: "look after", C: "read aloud", D: "turn off"},
                    correct: "A",
                    transQ: "H·ªç c√≥ th·ªÉ ______ nh·ªØng th·ª© h·ªç c·∫ßn h·ªçc...",
                    transOpt: "A. T√¨m ki·∫øm | B. ChƒÉm s√≥c | C. ƒê·ªçc to | D. T·∫Øt",
                    whyRight: "Li√™n quan ƒë·∫øn 'information' (th√¥ng tin) ·ªü c√¢u tr∆∞·ªõc, n√™n h√†nh ƒë·ªông l√† 't√¨m ki·∫øm'.",
                    whyWrong: "Look after (chƒÉm s√≥c), Turn off (t·∫Øt) kh√¥ng h·ª£p l√Ω trong b·ªëi c·∫£nh h·ªçc t·∫≠p t√≠ch c·ª±c."
                },
                {
                    id: "2-3", num: 3,
                    options: {A: "one another", B: "another", C: "each other", D: "together"},
                    correct: "D",
                    transQ: "...th·∫£o lu·∫≠n v√† l√†m vi·ªác ______ trong c√°c d·ª± √°n.",
                    transOpt: "A. L·∫´n nhau | B. C√°i kh√°c | C. L·∫´n nhau | D. C√πng nhau",
                    whyRight: "C·ª•m t·ª´ 'Work together' (l√†m vi·ªác c√πng nhau) l√† collocation ph·ªï bi·∫øn nh·∫•t. 'Work each other' sai ng·ªØ ph√°p (ph·∫£i l√† work with each other).",
                    whyWrong: "A v√† C thi·∫øu gi·ªõi t·ª´ 'with'."
                },
                {
                    id: "2-4", num: 4,
                    options: {A: "critic", B: "critical", C: "critically", D: "criticism"},
                    correct: "C",
                    transQ: "ƒêi·ªÅu n√†y gi√∫p h·ªçc sinh t∆∞ duy ______ v√† gi·∫£i quy·∫øt v·∫•n ƒë·ªÅ.",
                    transOpt: "A. Nh√† ph√™ b√¨nh (n) | B. Ch·ªâ tr√≠ch (adj) | C. M·ªôt c√°ch ph·∫£n bi·ªán (adv) | D. S·ª± ch·ªâ tr√≠ch (n)",
                    whyRight: "C·∫ßn m·ªôt Tr·∫°ng t·ª´ (Adverb) ƒë·ªÉ b·ªï nghƒ©a cho ƒë·ªông t·ª´ 'think'. Think critically = T∆∞ duy ph·∫£n bi·ªán.",
                    whyWrong: "A, D l√† danh t·ª´. B l√† t√≠nh t·ª´."
                },
                {
                    id: "2-5", num: 5,
                    options: {A: "to use", B: "using", C: "used", D: "use"},
                    correct: "A",
                    transQ: "H·ªç h·ªçc ______ internet...",
                    transOpt: "C·∫•u tr√∫c V + to V",
                    whyRight: "C·∫•u tr√∫c: Learn + to V (H·ªçc c√°ch l√†m g√¨ ƒë√≥). -> Learn to use.",
                    whyWrong: "Learn doing (kh√¥ng ph·ªï bi·∫øn b·∫±ng learn to do trong ng·ªØ c·∫£nh ch·ªâ k·ªπ nƒÉng m·ªõi)."
                }
            ],
            3: [
                {
                    id: "3-1", num: 1,
                    options: {A: "back case", B: "touchscreen", C: "charge", D: "camera"},
                    correct: "B",
                    transQ: "C√°i ______ si√™u x·ªãn cung c·∫•p m√†u s·∫Øc s·ªëng ƒë·ªông v√† ƒëi·ªÅu h∆∞·ªõng m∆∞·ª£t m√†...",
                    transOpt: "A. ·ªêp l∆∞ng | B. M√†n h√¨nh c·∫£m ·ª©ng | C. S·∫°c | D. Camera",
                    whyRight: "T·ª´ kh√≥a 'vivid colours' (m√†u s·ªëng ƒë·ªông) v√† 'smooth navigation' (l∆∞·ªõt m∆∞·ª£t) ch·ªâ c√≥ th·ªÉ l√† m√†n h√¨nh.",
                    whyWrong: "Camera ch·ª•p ·∫£nh ch·ª© kh√¥ng d√πng ƒë·ªÉ 'navigate' (ƒëi·ªÅu h∆∞·ªõng giao di·ªán)."
                },
                {
                    id: "3-2", num: 2,
                    options: {A: "pencil", B: "reader", C: "message", D: "voice"},
                    correct: "A",
                    transQ: "TabPro X ƒëi k√®m v·ªõi m·ªôt ______ cho ph√©p b·∫°n ph√°c th·∫£o, vi·∫øt v√† ghi ch√∫...",
                    transOpt: "A. B√∫t ch√¨ (th√¥ng minh) | B. ƒê·∫ßu ƒë·ªçc | C. Tin nh·∫Øn | D. Gi·ªçng n√≥i",
                    whyRight: "H√†nh ƒë·ªông: sketch (v·∫Ω ph√°c), write (vi·∫øt) c·∫ßn c√¥ng c·ª• l√† 'pencil'.",
                    whyWrong: "Kh√¥ng th·ªÉ v·∫Ω b·∫±ng tin nh·∫Øn hay ƒë·∫ßu ƒë·ªçc."
                },
                {
                    id: "3-3", num: 3,
                    options: {A: "inside", B: "introvert", C: "built-in", D: "building"},
                    correct: "C",
                    transQ: "...v·ªõi nhi·ªÅu ch·ª©c nƒÉng ______...",
                    transOpt: "A. B√™n trong | B. H∆∞·ªõng n·ªôi | C. T√≠ch h·ª£p s·∫µn | D. X√¢y d·ª±ng",
                    whyRight: "Trong c√¥ng ngh·ªá, 'built-in functions' nghƒ©a l√† c√°c ch·ª©c nƒÉng ƒë∆∞·ª£c t√≠ch h·ª£p s·∫µn trong m√°y.",
                    whyWrong: "Inside l√† gi·ªõi t·ª´/danh t·ª´ ch·ªâ v·ªã tr√≠, kh√¥ng d√πng nh∆∞ t√≠nh t·ª´ k·ªπ thu·∫≠t gh√©p trong tr∆∞·ªùng h·ª£p n√†y hay b·∫±ng 'built-in'."
                },
                {
                    id: "3-4", num: 4,
                    options: {A: "lifelong", B: "long-lasting", C: "life-time", D: "longevity"},
                    correct: "B",
                    transQ: "...v√† m·ªôt vi√™n pin ______ cho nƒÉng su·∫•t kh√¥ng gi√°n ƒëo·∫°n.",
                    transOpt: "A. Su·ªët ƒë·ªùi | B. L√¢u d√†i/B·ªÅn b·ªâ | C. C·∫£ ƒë·ªùi | D. Tu·ªïi th·ªç",
                    whyRight: "M√¥ t·∫£ pin d√πng ƒë∆∞·ª£c l√¢u: 'Long-lasting battery'.",
                    whyWrong: "Lifelong d√πng cho con ng∆∞·ªùi (b·∫°n b√® su·ªët ƒë·ªùi). Longevity l√† danh t·ª´."
                },
                {
                    id: "3-5", num: 5,
                    options: {A: "says", B: "warns", C: "persuades", D: "recommends"},
                    correct: "D",
                    transQ: "T·∫°p ch√≠ C√¥ng ngh·ªá ______ r·∫±ng ng∆∞·ªùi d√πng hi·ªán ƒë·∫°i n√™n s·ªü h·ªØu TabPro X.",
                    transOpt: "A. N√≥i | B. C·∫£nh b√°o | C. Thuy·∫øt ph·ª•c | D. Khuy√™n/ƒê·ªÅ xu·∫•t",
                    whyRight: "D·ª±a v√†o c√¢u sau 'Why haven't you?' (Sao b·∫°n ch∆∞a mua?), ƒë√¢y l√† l·ªùi khuy√™n mua h√†ng -> Recommends.",
                    whyWrong: "Warns mang nghƒ©a ti√™u c·ª±c. Persuades th∆∞·ªùng c·∫ßn t√∫c t·ª´ tr·ª±c ti·∫øp (Persuade somebody)."
                }
            ]
        };

        let userScore = 0;
        let totalQuestions = 15;
        let answeredCount = 0;

        function renderQuestions(containerId, sectionData) {
            const container = document.getElementById(containerId);
            sectionData.forEach(q => {
                const html = `
                <div class="question-block">
                    <label class="q-label">Question ${q.num}:</label>
                    <div class="options-grid">
                        <button class="option-btn" onclick="checkAnswer(this, '${q.id}', 'A', '${q.correct}')">A. ${q.options.A}</button>
                        <button class="option-btn" onclick="checkAnswer(this, '${q.id}', 'B', '${q.correct}')">B. ${q.options.B}</button>
                        <button class="option-btn" onclick="checkAnswer(this, '${q.id}', 'C', '${q.correct}')">C. ${q.options.C}</button>
                        <button class="option-btn" onclick="checkAnswer(this, '${q.id}', 'D', '${q.correct}')">D. ${q.options.D}</button>
                    </div>
                    <div class="explanation-box" id="exp-${q.id}">
                        <div class="exp-header">
                            <span class="teacher-avatar">Ms</span> C√¥ Mai An gi·∫£i th√≠ch:
                        </div>
                        <div class="exp-content">
                            <p><strong>üìñ D·ªãch c√¢u h·ªèi:</strong> "${q.transQ}"</p>
                            <p><strong>üîç ƒê√°p √°n:</strong> ${q.transOpt}</p>
                            <p class="exp-detail"><span class="correct-tag">T·∫†I SAO ƒê√öNG?</span> ${q.whyRight}</p>
                            <p class="exp-detail"><span class="wrong-tag">T·∫†I SAO SAI?</span> ${q.whyWrong}</p>
                        </div>
                    </div>
                </div>
                `;
                container.innerHTML += html;
            });
        }

        function init() {
            renderQuestions('q-container-1', quizData[1]);
            renderQuestions('q-container-2', quizData[2]);
            renderQuestions('q-container-3', quizData[3]);
        }

        function checkAnswer(btn, qId, selected, correct) {
            // Prevent multiple clicks for same question group (simple logic: disable siblings)
            const parent = btn.parentElement;
            const buttons = parent.getElementsByClassName('option-btn');
            
            // N·∫øu ƒë√£ ch·ªçn r·ªìi th√¨ kh√¥ng cho ch·ªçn l·∫°i ƒë·ªÉ tr√°nh spam ƒëi·ªÉm
            if(btn.disabled) return;

            // Disable all buttons in this group
            for(let b of buttons) {
                b.disabled = true;
                if(b.innerText.startsWith(correct)) {
                    b.classList.add('correct'); // Lu√¥n hi·ªán ƒë√°p √°n ƒë√∫ng
                }
            }

            const expBox = document.getElementById(`exp-${qId}`);
            expBox.style.display = 'block';

            if(selected === correct) {
                // Correct
                userScore++;
                playSound('correct');
                confettiEffect();
            } else {
                // Wrong
                btn.classList.add('wrong');
                playSound('wrong');
            }
            
            answeredCount++;
        }

        function submitExam() {
            let message = "";
            let percentage = (userScore / totalQuestions) * 100;
            
            if (percentage === 100) message = "üéâ Xu·∫•t s·∫Øc! Con l√† thi√™n t√†i ti·∫øng Anh! (Excellent!)";
            else if (percentage >= 80) message = "üåü Gi·ªèi l·∫Øm! Ch·ªâ sai m·ªôt ch√∫t x√≠u th√¥i! (Very Good!)";
            else if (percentage >= 50) message = "üëç C·ªë g·∫Øng l√™n! Con ƒëang ti·∫øn b·ªô ƒë·∫•y! (Good effort!)";
            else message = "üí™ ƒê·ª´ng bu·ªìn nh√©! H√£y xem k·ªπ l·∫°i ph·∫ßn gi·∫£i th√≠ch c·ªßa c√¥ Mai An n√†o! (Keep trying!)";

            alert(`K·∫æT QU·∫¢ C·ª¶A CON\n\nS·ªë c√¢u ƒë√∫ng: ${userScore} / ${totalQuestions}\n\n${message}`);
        }

        // Run initialization
        init();

    </script>
</body>
</html>


