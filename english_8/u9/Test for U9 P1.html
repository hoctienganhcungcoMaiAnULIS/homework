<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 9: Natural Disasters - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --primary-color: #8854C0; /* Hồng tím pastel */
            --secondary-color: #00C9A7; /* Xanh ngọc */
            --correct-color: #00D26A; /* Xanh lá */
            --wrong-color: #FF4757; /* Đỏ cam */
            --bg-color: #F0F3F9;
            --card-bg: #FFFFFF;
            --text-color: #2F3542;
            --shadow-color: rgba(0, 0, 0, 0.15);
            --btn-shadow: rgba(0, 0, 0, 0.2);
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(var(--primary-color) 0.5px, transparent 0.5px), radial-gradient(var(--secondary-color) 0.5px, var(--bg-color) 0.5px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .header-container {
            text-align: center;
            margin-bottom: 30px;
            background: white;
            padding: 20px 40px;
            border-radius: 20px;
            box-shadow: 0 8px 0 rgba(136, 84, 192, 0.2);
            border: 3px solid var(--primary-color);
            position: relative;
            z-index: 10;
        }

        .header-title {
            font-family: 'Quicksand', sans-serif;
            color: var(--primary-color);
            font-size: 2rem;
            font-weight: 800;
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .header-subtitle {
            font-size: 1.1rem;
            color: #57606f;
            margin-top: 5px;
            font-weight: 700;
        }

        .quiz-container {
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            gap: 25px;
            padding-bottom: 100px;
        }

        .question-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 25px var(--shadow-color);
            border-bottom: 6px solid #dfe4ea;
            position: relative;
            transition: transform 0.3s ease;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .question-badge {
            background: var(--primary-color);
            color: white;
            padding: 5px 15px;
            border-radius: 15px;
            font-weight: 800;
            font-size: 0.9rem;
            box-shadow: 0 3px 0 rgba(0,0,0,0.2);
        }

        .question-text {
            font-size: 1.25rem;
            font-weight: 700;
            line-height: 1.5;
            margin-bottom: 25px;
            color: #2f3542;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        .option-btn {
            background: white;
            border: 3px solid #e1e1e1;
            border-radius: 15px;
            padding: 15px 20px;
            font-family: 'Nunito', sans-serif;
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
            position: relative;
            box-shadow: 0 5px 0 #d1d1d1;
            text-align: left;
            display: flex;
            align-items: center;
        }

        .option-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            border-color: var(--secondary-color);
            box-shadow: 0 7px 0 #d1d1d1;
        }

        .option-btn:active:not(:disabled) {
            transform: translateY(2px);
            box-shadow: 0 0 0 #d1d1d1;
        }

        /* Correct State */
        .option-btn.correct {
            background-color: var(--correct-color);
            border-color: #00b85c;
            color: white;
            box-shadow: 0 5px 0 #00944a;
        }

        /* Incorrect State */
        .option-btn.incorrect {
            background-color: var(--wrong-color);
            border-color: #ff2e40;
            color: white;
            box-shadow: 0 5px 0 #d63031;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-2deg); }
            50% { transform: translateX(5px) rotate(2deg); }
            75% { transform: translateX(-5px) rotate(-2deg); }
            100% { transform: translateX(0); }
        }

        .explanation-box {
            margin-top: 20px;
            padding: 20px;
            background: #f1f2f6;
            border-left: 5px solid var(--primary-color);
            border-radius: 10px;
            display: none; /* Hidden by default */
            animation: slideDown 0.4s ease-out;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .explanation-title {
            font-weight: 800;
            color: var(--primary-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .explanation-content {
            font-size: 1rem;
            line-height: 1.6;
        }
        
        .explanation-content ul {
            padding-left: 20px;
            margin: 5px 0;
        }

        .explanation-content strong {
            color: #2f3542;
        }

        .sticky-footer {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            padding: 15px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
        }

        .submit-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: 800;
            border-radius: 30px;
            cursor: pointer;
            box-shadow: 0 5px 0 #6c429c;
            transition: all 0.2s;
        }

        .submit-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 7px 0 #6c429c;
        }

        .submit-btn:active {
            transform: scale(0.95);
            box-shadow: 0 0 0 #6c429c;
        }

        /* Result Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            border: 5px solid var(--secondary-color);
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .score-circle {
            width: 150px;
            height: 150px;
            background: var(--secondary-color);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 3rem;
            font-weight: 800;
            box-shadow: 0 10px 0 #009e83;
        }

        .message-text {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 20px;
            font-weight: 700;
        }

        .close-btn {
            background: #ff4757;
            color: white;
            border: none;
            padding: 10px 30px;
            border-radius: 20px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 5px 0 #c23616;
        }

        /* Formatting helper classes */
        .u-bold { font-weight: 800; }
        .u-highlight { color: var(--primary-color); }
    </style>
</head>
<body>

    <div class="header-container">
        <h1 class="header-title">UNIT 9: NATURAL DISASTERS</h1>
        <div class="header-subtitle">Giáo viên: Ms Mai An ULIS</div>
    </div>

    <div class="quiz-container" id="quiz-container">
        <!-- Questions will be injected here by JS -->
    </div>

    <div class="sticky-footer">
        <button class="submit-btn" onclick="finishQuiz()">NỘP BÀI & XEM ĐIỂM</button>
    </div>

    <!-- Result Modal -->
    <div class="modal-overlay" id="resultModal">
        <div class="modal-content">
            <div class="score-circle" id="scoreDisplay">0/0</div>
            <h2 class="message-text" id="resultMessage">Làm tốt lắm!</h2>
            <p id="resultFeedback">Bạn đã hoàn thành bài kiểm tra.</p>
            <button class="close-btn" onclick="closeModal()">Đóng / Làm lại</button>
        </div>
    </div>

<script>
    // DATA TỪ INPUT CỦA NGƯỜI DÙNG
    const quizData = [
    {
      "questionNumber": 1,
      "question": "I. Choose the word whose underlined part is pronounced differently: a. shake | b. affect | c. donate | d. save",
      "answerOptions": [
        { "text": "shake", "isCorrect": false },
        { "text": "affect", "isCorrect": true },
        { "text": "donate", "isCorrect": false },
        { "text": "save", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- shake (verb): rung, lắc -> Phiên âm: /ʃeɪk/\n- affect (verb): ảnh hưởng -> Phiên âm: /əˈfekt/\n- donate (verb): quyên góp -> Phiên âm: /dəʊˈneɪt/ hoặc /ˈdəʊneɪt/\n- save (verb): cứu -> Phiên âm: /seɪv/\n\n**2. Dịch nghĩa:** Chọn từ có phần gạch chân (âm 'a') phát âm khác các từ còn lại.\n\n**3. Giải thích chi tiết:**\n- Các đáp án A, C, D có âm 'a' được phát âm là **/eɪ/**.\n- Đáp án B có âm 'a' được phát âm là **/ə/** (âm schwa/âm ơ ngắn).\n-> Chọn B."
    },
    {
      "questionNumber": 2,
      "question": "I. Choose the word whose underlined part is pronounced differently: a. trapped | b. damaged | c. destroyed | d. moved",
      "answerOptions": [
        { "text": "trapped", "isCorrect": true },
        { "text": "damaged", "isCorrect": false },
        { "text": "destroyed", "isCorrect": false },
        { "text": "moved", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- trapped (adj/v-ed): bị mắc kẹt -> /træpt/\n- damaged (adj/v-ed): bị hư hại -> /ˈdæmɪdʒd/\n- destroyed (adj/v-ed): bị phá hủy -> /dɪˈstrɔɪd/\n- moved (v-ed): di chuyển -> /muːvd/\n\n**2. Dịch nghĩa:** Chọn từ có phần đuôi -ed phát âm khác.\n\n**3. Giải thích chi tiết:**\n- Quy tắc phát âm đuôi -ed:\n  + /t/: khi từ kết thúc bằng âm vô thanh /p/, /k/, /f/, /s/, /ʃ/, /tʃ/. (trap kết thúc bằng /p/ -> trapped đọc là **/t/**).\n  + /id/: khi từ kết thúc bằng /t/, /d/.\n  + /d/: các trường hợp còn lại (âm hữu thanh). (damaged, destroyed, moved đều thuộc nhóm này -> đọc là **/d/**).\n-> Chọn A."
    },
    {
      "questionNumber": 3,
      "question": "I. Choose the word whose underlined part is pronounced differently: a. violent | b. minor | c. disaster | d. climate",
      "answerOptions": [
        { "text": "violent", "isCorrect": false },
        { "text": "minor", "isCorrect": false },
        { "text": "disaster", "isCorrect": true },
        { "text": "climate", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- violent (adj): bạo lực, dữ dội -> /ˈvaɪələnt/\n- minor (adj): nhỏ, không quan trọng -> /ˈmaɪnər/\n- disaster (noun): thảm họa -> /dɪˈzɑːstər/ hoặc /dɪˈzæstər/\n- climate (noun): khí hậu -> /ˈklaɪmət/\n\n**2. Dịch nghĩa:** Chọn từ có phần gạch chân (âm 'i') phát âm khác.\n\n**3. Giải thích chi tiết:**\n- Các đáp án A, B, D có âm 'i' được phát âm là **/aɪ/**.\n- Đáp án C có âm 'i' được phát âm là **/ɪ/**.\n-> Chọn C."
    },
    {
      "questionNumber": 4,
      "question": "I. Choose the word whose underlined part is pronounced differently: a. typhoon | b. flood | c. food | d. school",
      "answerOptions": [
        { "text": "typhoon", "isCorrect": false },
        { "text": "flood", "isCorrect": true },
        { "text": "food", "isCorrect": false },
        { "text": "school", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- typhoon (noun): bão nhiệt đới -> /taɪˈfuːn/\n- flood (noun): lũ lụt -> /flʌd/\n- food (noun): thức ăn -> /fuːd/\n- school (noun): trường học -> /skuːl/\n\n**2. Dịch nghĩa:** Chọn từ có phần gạch chân (âm 'oo') phát âm khác.\n\n**3. Giải thích chi tiết:**\n- Các đáp án A, C, D có âm 'oo' phát âm là **/uː/** (u dài).\n- Đáp án B có âm 'oo' phát âm là **/ʌ/** (âm á).\n-> Chọn B."
    },
    {
      "questionNumber": 5,
      "question": "I. Choose the word whose underlined part is pronounced differently: a. earthquake | b. weather | c. without | d. though",
      "answerOptions": [
        { "text": "earthquake", "isCorrect": true },
        { "text": "weather", "isCorrect": false },
        { "text": "without", "isCorrect": false },
        { "text": "though", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- earthquake (noun): động đất -> /ˈɜːθkweɪk/\n- weather (noun): thời tiết -> /ˈweðər/\n- without (prep): không có -> /wɪˈðaʊt/\n- though (conj): mặc dù -> /ðəʊ/\n\n**2. Dịch nghĩa:** Chọn từ có phần gạch chân (âm 'th') phát âm khác.\n\n**3. Giải thích chi tiết:**\n- Đáp án A 'th' được phát âm là **/θ/** (âm vô thanh - đặt lưỡi giữa răng và thổi hơi).\n- Các đáp án B, C, D 'th' được phát âm là **/ð/** (âm hữu thanh - rung dây thanh quản).\n-> Chọn A."
    },
    {
      "questionNumber": 6,
      "question": "I. Choose the word whose underlined part is pronounced differently: a. funnel | b. eruption | c. rubbish | d. tsunami",
      "answerOptions": [
        { "text": "funnel", "isCorrect": false },
        { "text": "eruption", "isCorrect": false },
        { "text": "rubbish", "isCorrect": false },
        { "text": "tsunami", "isCorrect": true }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- funnel (noun): cái phễu -> /ˈfʌnl/\n- eruption (noun): sự phun trào -> /ɪˈrʌpʃn/\n- rubbish (noun): rác thải -> /ˈrʌbɪʃ/\n- tsunami (noun): sóng thần -> /tsuːˈnɑːmi/\n\n**2. Dịch nghĩa:** Chọn từ có phần gạch chân (âm 'u') phát âm khác.\n\n**3. Giải thích chi tiết:**\n- Các đáp án A, B, C âm 'u' phát âm là **/ʌ/**.\n- Đáp án D âm 'u' phát âm là **/uː/** (hoặc /ʊ/ tùy giọng, nhưng khác hẳn /ʌ/).\n-> Chọn D."
    },
    {
      "questionNumber": 7,
      "question": "II. Choose the word that has different stress pattern: a. dangerous | b. mountainous | c. disastrous | d. poisonous",
      "answerOptions": [
        { "text": "dangerous", "isCorrect": false },
        { "text": "mountainous", "isCorrect": false },
        { "text": "disastrous", "isCorrect": true },
        { "text": "poisonous", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- dangerous (adj): nguy hiểm -> Trọng âm 1 ('dan-ge-rous)\n- mountainous (adj): thuộc vùng núi -> Trọng âm 1 ('moun-tai-nous)\n- disastrous (adj): tai hại, thảm khốc -> Trọng âm 2 (di-'sas-trous)\n- poisonous (adj): có độc -> Trọng âm 1 ('poi-so-nous)\n\n**2. Dịch nghĩa:** Chọn từ có trọng âm khác.\n\n**3. Giải thích chi tiết:**\n- Các đáp án A, B, D có trọng âm rơi vào âm tiết thứ **1**.\n- Đáp án C có trọng âm rơi vào âm tiết thứ **2**.\n-> Chọn C."
    },
    {
      "questionNumber": 8,
      "question": "II. Choose the word that has different stress pattern: a. collapse | b. destroy | c. provide | d. scatter",
      "answerOptions": [
        { "text": "collapse", "isCorrect": false },
        { "text": "destroy", "isCorrect": false },
        { "text": "provide", "isCorrect": false },
        { "text": "scatter", "isCorrect": true }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- collapse (verb): sụp đổ -> Trọng âm 2 (col-'lapse)\n- destroy (verb): phá hủy -> Trọng âm 2 (de-'stroy)\n- provide (verb): cung cấp -> Trọng âm 2 (pro-'vide)\n- scatter (verb): phân tán, rải rác -> Trọng âm 1 ('scat-ter)\n\n**2. Dịch nghĩa:** Chọn từ có trọng âm khác.\n\n**3. Giải thích chi tiết:**\n- Các đáp án A, B, C là động từ 2 âm tiết thường nhấn âm **2**.\n- Đáp án D 'scatter' là động từ 2 âm tiết nhưng nhấn âm **1** (ngoại lệ, hoặc do âm cuối là âm nhẹ /ə/).\n-> Chọn D."
    },
    {
      "questionNumber": 9,
      "question": "II. Choose the word that has different stress pattern: a. tsunami | b. tornado | c. property | d. eruption",
      "answerOptions": [
        { "text": "tsunami", "isCorrect": false },
        { "text": "tornado", "isCorrect": false },
        { "text": "property", "isCorrect": true },
        { "text": "eruption", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- tsunami (noun): sóng thần -> Trọng âm 2 (tsu-'na-mi)\n- tornado (noun): lốc xoáy -> Trọng âm 2 (tor-'na-do)\n- property (noun): tài sản -> Trọng âm 1 ('pro-per-ty)\n- eruption (noun): sự phun trào -> Trọng âm 2 (e-'rup-tion)\n\n**2. Dịch nghĩa:** Chọn từ có trọng âm khác.\n\n**3. Giải thích chi tiết:**\n- Các đáp án A, B, D có trọng âm rơi vào âm tiết thứ **2**.\n- Đáp án C có trọng âm rơi vào âm tiết thứ **1**.\n-> Chọn C."
    },
    {
      "questionNumber": 10,
      "question": "II. Choose the word that has different stress pattern: a. volunteer | b. violent | c. wonderful | d. terrible",
      "answerOptions": [
        { "text": "volunteer", "isCorrect": true },
        { "text": "violent", "isCorrect": false },
        { "text": "wonderful", "isCorrect": false },
        { "text": "terrible", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- volunteer (noun/verb): tình nguyện viên -> Trọng âm 3 (vol-un-'teer)\n- violent (adj): bạo lực -> Trọng âm 1 ('vio-lent)\n- wonderful (adj): tuyệt vời -> Trọng âm 1 ('won-der-ful)\n- terrible (adj): khủng khiếp -> Trọng âm 1 ('ter-ri-ble)\n\n**2. Dịch nghĩa:** Chọn từ có trọng âm khác.\n\n**3. Giải thích chi tiết:**\n- 'volunteer' nhấn âm **3** (quy tắc: hậu tố -eer nhận trọng âm).\n- Các từ còn lại nhấn âm **1**.\n-> Chọn A."
    },
    {
      "questionNumber": 11,
      "question": "II. Choose the word that has different stress pattern: a. victim | b. typhoon | c. damage | d. shelter",
      "answerOptions": [
        { "text": "victim", "isCorrect": false },
        { "text": "typhoon", "isCorrect": true },
        { "text": "damage", "isCorrect": false },
        { "text": "shelter", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- victim (noun): nạn nhân -> Trọng âm 1 ('vic-tim)\n- typhoon (noun): bão -> Trọng âm 2 (ty-'phoon)\n- damage (noun/verb): thiệt hại -> Trọng âm 1 ('da-mage)\n- shelter (noun): nơi trú ẩn -> Trọng âm 1 ('shel-ter)\n\n**2. Dịch nghĩa:** Chọn từ có trọng âm khác.\n\n**3. Giải thích chi tiết:**\n- 'typhoon' nhấn âm **2**, các từ còn lại nhấn âm **1**.\n-> Chọn B."
    },
    {
      "questionNumber": 12,
      "question": "III. Complete sentence: __________ are giant waves caused by earthquakes or undersea volcanic eruptions.",
      "answerOptions": [
        { "text": "Tsunamis", "isCorrect": true },
        { "text": "Tornadoes", "isCorrect": false },
        { "text": "Floods", "isCorrect": false },
        { "text": "Typhoons", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- Tsunamis (noun): Sóng thần\n- Tornadoes (noun): Lốc xoáy\n- Floods (noun): Lũ lụt\n- Typhoons (noun): Bão nhiệt đới\n\n**2. Dịch nghĩa toàn câu:** \"Sóng thần là những con sóng khổng lồ gây ra bởi động đất hoặc phun trào núi lửa dưới đáy biển.\"\n\n**3. Giải thích chi tiết:**\n- Từ khóa: \"giant waves\" (sóng khổng lồ) và \"undersea volcanic eruptions\" (phun trào dưới biển).\n-> Chỉ có sóng thần mới phù hợp với định nghĩa này."
    },
    {
      "questionNumber": 13,
      "question": "III. Complete sentence: __________ workers have freed people who were trapped in flooded homes.",
      "answerOptions": [
        { "text": "Rescue", "isCorrect": true },
        { "text": "Social", "isCorrect": false },
        { "text": "Office", "isCorrect": false },
        { "text": "Construction", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- Rescue (noun/adj): Cứu hộ\n- Social (adj): Xã hội\n- Office (noun): Văn phòng\n- Construction (noun): Xây dựng\n\n**2. Dịch nghĩa toàn câu:** \"Các nhân viên cứu hộ đã giải thoát những người bị mắc kẹt trong các ngôi nhà bị ngập lụt.\"\n\n**3. Giải thích chi tiết:**\n- Cụm từ \"Rescue workers\": Nhân viên cứu hộ.\n- Hành động \"freed people\" (giải thoát người) phù hợp với công việc cứu hộ."
    },
    {
      "questionNumber": 14,
      "question": "III. Complete sentence: Your __________ kit should be portable in case you need to evacuate.",
      "answerOptions": [
        { "text": "emergency", "isCorrect": true },
        { "text": "school", "isCorrect": false },
        { "text": "beauty", "isCorrect": false },
        { "text": "sport", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- emergency (noun): khẩn cấp\n- school (noun): trường học\n- beauty (noun): làm đẹp\n- sport (noun): thể thao\n\n**2. Dịch nghĩa toàn câu:** \"Bộ dụng cụ khẩn cấp của bạn nên nhỏ gọn/dễ mang theo phòng khi bạn cần sơ tán.\"\n\n**3. Giải thích chi tiết:**\n- Cụm từ \"Emergency kit\" hoặc \"Survival kit\": Bộ dụng cụ khẩn cấp/sinh tồn.\n- Ngữ cảnh \"evacuate\" (sơ tán) đòi hỏi đồ dùng khẩn cấp."
    },
    {
      "questionNumber": 15,
      "question": "III. Complete sentence: The Red Cross provided temporary housing to earthquake __________.",
      "answerOptions": [
        { "text": "victims", "isCorrect": true },
        { "text": "friends", "isCorrect": false },
        { "text": "builders", "isCorrect": false },
        { "text": "attackers", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- victims (noun): nạn nhân\n- friends (noun): bạn bè\n- builders (noun): thợ xây\n- attackers (noun): kẻ tấn công\n\n**2. Dịch nghĩa toàn câu:** \"Hội Chữ thập đỏ đã cung cấp nhà ở tạm thời cho các nạn nhân động đất.\"\n\n**3. Giải thích chi tiết:**\n- \"Earthquake victims\": Nạn nhân động đất. Đây là đối tượng cần được hỗ trợ nhà ở sau thảm họa."
    },
    {
      "questionNumber": 16,
      "question": "III. Complete sentence: The Kilauea volcano __________ last year, destroying an estimated 700 homes.",
      "answerOptions": [
        { "text": "erupted", "isCorrect": true },
        { "text": "burned", "isCorrect": false },
        { "text": "shook", "isCorrect": false },
        { "text": "flooded", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- erupted (verb): phun trào\n- burned (verb): cháy\n- shook (verb): rung lắc\n- flooded (verb): ngập lụt\n\n**2. Dịch nghĩa toàn câu:** \"Núi lửa Kilauea đã phun trào vào năm ngoái, phá hủy ước tính khoảng 700 ngôi nhà.\"\n\n**3. Giải thích chi tiết:**\n- Chủ ngữ là \"volcano\" (núi lửa) -> Động từ đặc trưng là \"erupt\" (phun trào)."
    },
    {
      "questionNumber": 17,
      "question": "III. Complete sentence: __________ eruptions occur when magma escapes from inside the earth.",
      "answerOptions": [
        { "text": "Volcanic", "isCorrect": true },
        { "text": "Water", "isCorrect": false },
        { "text": "Wind", "isCorrect": false },
        { "text": "Sand", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- Volcanic (adj): Thuộc về núi lửa\n- Water (noun): Nước\n- Wind (noun): Gió\n- Sand (noun): Cát\n\n**2. Dịch nghĩa toàn câu:** \"Sự phun trào núi lửa xảy ra khi magma thoát ra từ bên trong trái đất.\"\n\n**3. Giải thích chi tiết:**\n- \"Volcanic eruptions\": Sự phun trào núi lửa. Định nghĩa \"magma thoát ra\" chỉ liên quan đến núi lửa."
    },
    {
      "questionNumber": 18,
      "question": "III. Complete sentence: Firefighters are still trying to __________ out forest fires in Gori Municipality.",
      "answerOptions": [
        { "text": "put", "isCorrect": true },
        { "text": "take", "isCorrect": false },
        { "text": "make", "isCorrect": false },
        { "text": "get", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- put (verb): đặt -> put out: dập tắt\n- take (verb): lấy\n- make (verb): làm\n- get (verb): lấy\n\n**2. Dịch nghĩa toàn câu:** \"Lính cứu hỏa vẫn đang cố gắng dập tắt các đám cháy rừng ở đô thị Gori.\"\n\n**3. Giải thích chi tiết:**\n- Cụm động từ (Phrasal verb): **put out** = extinguish (dập tắt lửa)."
    },
    {
      "questionNumber": 19,
      "question": "III. Complete sentence: Last August, a 7-magnitude __________ hit Lombok island, Indonesia.",
      "answerOptions": [
        { "text": "earthquake", "isCorrect": true },
        { "text": "drought", "isCorrect": false },
        { "text": "fire", "isCorrect": false },
        { "text": "flood", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- earthquake (noun): động đất\n- drought (noun): hạn hán\n- fire (noun): đám cháy\n- flood (noun): lũ lụt\n\n**2. Dịch nghĩa toàn câu:** \"Tháng 8 năm ngoái, một trận động đất mạnh 7 độ richter đã tấn công đảo Lombok, Indonesia.\"\n\n**3. Giải thích chi tiết:**\n- \"7-magnitude\" (7 độ richter) là đơn vị đo lường đặc trưng của động đất."
    },
    {
      "questionNumber": 20,
      "question": "III. Complete sentence: Floods, hurricanes and earthquakes are natural __________.",
      "answerOptions": [
        { "text": "disasters", "isCorrect": true },
        { "text": "accidents", "isCorrect": false },
        { "text": "events", "isCorrect": false },
        { "text": "problems", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- disasters (noun): thảm họa\n- accidents (noun): tai nạn\n- events (noun): sự kiện\n- problems (noun): vấn đề\n\n**2. Dịch nghĩa toàn câu:** \"Lũ lụt, bão cuồng phong và động đất là những thảm họa thiên nhiên.\"\n\n**3. Giải thích chi tiết:**\n- Cụm từ cố định \"Natural disasters\" (Thảm họa thiên nhiên)."
    },
    {
      "questionNumber": 21,
      "question": "III. Complete sentence: Unfortunately, more than 50 people are still __________ after the landslide.",
      "answerOptions": [
        { "text": "missing", "isCorrect": true },
        { "text": "dead", "isCorrect": false },
        { "text": "safe", "isCorrect": false },
        { "text": "hungry", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- missing (adj): mất tích\n- dead (adj): đã chết\n- safe (adj): an toàn\n- hungry (adj): đói\n\n**2. Dịch nghĩa toàn câu:** \"Thật không may, hơn 50 người vẫn còn mất tích sau vụ sạt lở đất.\"\n\n**3. Giải thích chi tiết:**\n- Trong bối cảnh sạt lở đất (landslide) và \"still\" (vẫn), từ \"missing\" (mất tích) là hợp lý nhất để mô tả tình trạng chưa tìm thấy nạn nhân."
    },
    {
      "questionNumber": 22,
      "question": "IV. Choose the best answer: __________ September 1, 2019, Hurricane Dorian hit the northwestern Bahamas.",
      "answerOptions": [
        { "text": "On", "isCorrect": true },
        { "text": "In", "isCorrect": false },
        { "text": "At", "isCorrect": false },
        { "text": "During", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- In (prep): Vào (tháng, năm, buổi)\n- On (prep): Vào (ngày cụ thể)\n- At (prep): Vào (giờ)\n- During (prep): Trong suốt\n\n**2. Dịch nghĩa toàn câu:** \"Vào ngày 1 tháng 9 năm 2019, cơn bão Dorian đã đổ bộ vào phía tây bắc Bahamas.\"\n\n**3. Giải thích chi tiết:**\n- Quy tắc giới từ chỉ thời gian: Dùng **ON** trước ngày cụ thể (September 1)."
    },
    {
      "questionNumber": 23,
      "question": "IV. Choose the best answer: The earthquake caused damage __________ property estimated at $6 million.",
      "answerOptions": [
        { "text": "to", "isCorrect": true },
        { "text": "for", "isCorrect": false },
        { "text": "with", "isCorrect": false },
        { "text": "on", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- for (prep): cho\n- with (prep): với\n- on (prep): trên\n- to (prep): đối với/tới\n\n**2. Dịch nghĩa toàn câu:** \"Trận động đất đã gây thiệt hại về tài sản ước tính khoảng 6 triệu đô la.\"\n\n**3. Giải thích chi tiết:**\n- Cấu trúc cố định: **damage TO something** (thiệt hại đối với cái gì)."
    },
    {
      "questionNumber": 24,
      "question": "IV. Choose the best answer: Due to a lack of rainfall, California regularly has __________ in summertime.",
      "answerOptions": [
        { "text": "droughts", "isCorrect": true },
        { "text": "tornadoes", "isCorrect": false },
        { "text": "floods", "isCorrect": false },
        { "text": "tsunamis", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- tornadoes (noun): lốc xoáy\n- floods (noun): lũ lụt\n- droughts (noun): hạn hán\n- tsunamis (noun): sóng thần\n\n**2. Dịch nghĩa toàn câu:** \"Do thiếu lượng mưa, California thường xuyên xảy ra hạn hán vào mùa hè.\"\n\n**3. Giải thích chi tiết:**\n- Từ khóa \"lack of rainfall\" (thiếu mưa) -> Dẫn đến \"droughts\" (hạn hán)."
    },
    {
      "questionNumber": 25,
      "question": "IV. Choose the best answer: What a(n) __________ news! Thousands of people have died in the quake.",
      "answerOptions": [
        { "text": "terrible", "isCorrect": true },
        { "text": "wonderful", "isCorrect": false },
        { "text": "terrific", "isCorrect": false },
        { "text": "exciting", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- terrible (adj): khủng khiếp/tồi tệ\n- wonderful (adj): tuyệt vời\n- terrific (adj): tuyệt vời (lưu ý: terrific nghĩa tích cực, khác terror)\n- exciting (adj): thú vị\n\n**2. Dịch nghĩa toàn câu:** \"Thật là một tin tức khủng khiếp! Hàng ngàn người đã chết trong trận động đất.\"\n\n**3. Giải thích chi tiết:**\n- Vế sau \"Thousands of people have died\" (Hàng ngàn người chết) là tin xấu -> Cần tính từ mang nghĩa tiêu cực -> **terrible**."
    },
    {
      "questionNumber": 26,
      "question": "IV. Choose the best answer: Last night, many people felt the earth __________, but it wasn't an earthquake.",
      "answerOptions": [
        { "text": "tremble", "isCorrect": true },
        { "text": "collapse", "isCorrect": false },
        { "text": "destroy", "isCorrect": false },
        { "text": "damage", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- collapse (verb): sụp đổ\n- tremble (verb): rung lắc nhẹ\n- destroy (verb): phá hủy\n- damage (verb): gây hại\n\n**2. Dịch nghĩa toàn câu:** \"Đêm qua, nhiều người cảm thấy mặt đất rung chuyển, nhưng đó không phải là động đất.\"\n\n**3. Giải thích chi tiết:**\n- Cấu trúc: feel + object + V(inf)/V-ing.\n- \"Tremble\" (rung lắc) là từ phù hợp nhất để mô tả cảm giác mặt đất rung nhẹ. Collapse/Destroy/Damage quá mạnh và là hậu quả chứ không phải cảm giác rung."
    },
    {
      "questionNumber": 27,
      "question": "IV. Choose the best answer: Natural disasters are caused by nature and __________ we can't prevent them.",
      "answerOptions": [
        { "text": "therefore", "isCorrect": true },
        { "text": "however", "isCorrect": false },
        { "text": "moreover", "isCorrect": false },
        { "text": "whereas", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- therefore (adv): vì vậy (chỉ kết quả)\n- however (adv): tuy nhiên (chỉ đối lập)\n- moreover (adv): hơn nữa (bổ sung ý)\n- whereas (conj): trong khi (chỉ đối lập)\n\n**2. Dịch nghĩa toàn câu:** \"Thảm họa thiên nhiên gây ra bởi tự nhiên và vì vậy chúng ta không thể ngăn chặn chúng.\"\n\n**3. Giải thích chi tiết:**\n- Mối quan hệ giữa hai vế là Nguyên nhân (do thiên nhiên) -> Kết quả (không ngăn được). -> Dùng **therefore**."
    },
    {
      "questionNumber": 28,
      "question": "IV. Choose the best answer: At least 11 people were killed when a four-storey building __________ in the earthquake.",
      "answerOptions": [
        { "text": "collapsed", "isCorrect": true },
        { "text": "was collapsing", "isCorrect": false },
        { "text": "collapses", "isCorrect": false },
        { "text": "is collapsing", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- was collapsing (Past Continuous): đang sụp đổ\n- collapses (Present Simple): sụp đổ\n- collapsed (Past Simple): đã sụp đổ\n- is collapsing (Present Continuous): đang sụp đổ\n\n**2. Dịch nghĩa toàn câu:** \"Ít nhất 11 người đã thiệt mạng khi một tòa nhà 4 tầng sụp đổ trong trận động đất.\"\n\n**3. Giải thích chi tiết:**\n- Sự việc \"11 people were killed\" ở quá khứ -> Vế sau cũng phải ở quá khứ.\n- Hành động tòa nhà sập diễn ra nhanh và trọn vẹn (kết quả là người chết) -> Dùng thì Quá khứ đơn (Past Simple): **collapsed**."
    },
    {
      "questionNumber": 29,
      "question": "IV. Choose the best answer: __________ the tsunami warning, there were still lots of people on or near the beach.",
      "answerOptions": [
        { "text": "Despite", "isCorrect": true },
        { "text": "Due to", "isCorrect": false },
        { "text": "Although", "isCorrect": false },
        { "text": "Because", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- Due to (prep): Bởi vì (+ Noun Phrase)\n- Although (conj): Mặc dù (+ Clause)\n- Because (conj): Bởi vì (+ Clause)\n- Despite (prep): Mặc dù (+ Noun Phrase)\n\n**2. Dịch nghĩa toàn câu:** \"Mặc dù có cảnh báo sóng thần, vẫn có rất nhiều người ở trên hoặc gần bãi biển.\"\n\n**3. Giải thích chi tiết:**\n- Ngữ cảnh chỉ sự đối lập (có cảnh báo nhưng vẫn ở bãi biển) -> Loại Due to, Because.\n- Phía sau là cụm danh từ \"the tsunami warning\" (không phải mệnh đề) -> Dùng **Despite** (Although phải đi với mệnh đề S + V)."
    },
    {
      "questionNumber": 30,
      "question": "IV. Choose the best answer: We witnessed a tornado while we __________ past the paddy fields. It was terrible!",
      "answerOptions": [
        { "text": "were driving", "isCorrect": true },
        { "text": "drive", "isCorrect": false },
        { "text": "drove", "isCorrect": false },
        { "text": "are driving", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- drive (verb): lái xe\n- drove (Past Simple)\n- are driving (Present Continuous)\n- were driving (Past Continuous)\n\n**2. Dịch nghĩa toàn câu:** \"Chúng tôi đã chứng kiến một cơn lốc xoáy trong khi đang lái xe qua những cánh đồng lúa. Nó thật khủng khiếp!\"\n\n**3. Giải thích chi tiết:**\n- Cấu trúc: S + V-ed (hành động xen vào) + **while** + S + **was/were V-ing** (hành động đang diễn ra).\n- Chúng tôi nhìn thấy lốc xoáy (witnessed - quá khứ) trong khi *đang lái xe* -> **were driving**."
    },
    {
      "questionNumber": 31,
      "question": "IV. Choose the best answer: 'A 12-year-old boy was found alive after being buried in an avalanche for 40 minutes.' - '__________'",
      "answerOptions": [
        { "text": "That's awesome!", "isCorrect": true },
        { "text": "That's shocking!", "isCorrect": false },
        { "text": "That's awful!", "isCorrect": false },
        { "text": "Well done!", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích 4 đáp án:**\n- That's awesome! (phrase): Thật tuyệt vời/kỳ diệu!\n- That's shocking! (phrase): Thật chấn động/sốc!\n- That's awful! (phrase): Thật tồi tệ/kinh khủng!\n- Well done! (phrase): Làm tốt lắm!\n\n**2. Dịch nghĩa toàn câu:** \"Một cậu bé 12 tuổi được tìm thấy còn sống sau khi bị chôn vùi trong tuyết lở 40 phút.\" - \"Thật kỳ diệu!\"\n\n**3. Giải thích chi tiết:**\n- Tin tức \"được tìm thấy còn sống\" (found alive) là một tin tốt lành, kỳ tích -> Phản hồi tích cực **That's awesome!**."
    },
    {
      "questionNumber": 32,
      "question": "V. Find the mistake: The government should develop (A) a system to help (B) warning about (C) tsunamis (D).",
      "answerOptions": [
        { "text": "C", "isCorrect": true },
        { "text": "A", "isCorrect": false },
        { "text": "B", "isCorrect": false },
        { "text": "D", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích lỗi sai:**\n- Cấu trúc: help + (to) + Verb(inf). (Giúp làm gì đó).\n- Ở đây dùng \"warning\" (V-ing) là sai.\n\n**2. Dịch nghĩa toàn câu:** \"Chính phủ nên phát triển một hệ thống để giúp cảnh báo về sóng thần.\"\n\n**3. Sửa lỗi:**\n- warning -> **warn** (hoặc 'issue warnings').\n-> Chọn C."
    },
    {
      "questionNumber": 33,
      "question": "V. Find the mistake: The disastrous avalanche happened (A) while (B) a lot of visitors skied down (C) the slope (D).",
      "answerOptions": [
        { "text": "C", "isCorrect": true },
        { "text": "A", "isCorrect": false },
        { "text": "B", "isCorrect": false },
        { "text": "D", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích lỗi sai:**\n- Cấu trúc với \"while\": Diễn tả hành động đang xảy ra (background action) thì hành động khác xen vào.\n- Hành động đang trượt tuyết phải chia ở Quá khứ tiếp diễn (Past Continuous).\n\n**2. Dịch nghĩa toàn câu:** \"Trận lở tuyết thảm khốc xảy ra trong khi rất nhiều du khách đang trượt xuống dốc.\"\n\n**3. Sửa lỗi:**\n- skied down -> **were skiing down**.\n-> Chọn C."
    },
    {
      "questionNumber": 34,
      "question": "V. Find the mistake: Search teams were unable to reach (A) some areas because of (B) roads were blocked (C) by lots of debris (D).",
      "answerOptions": [
        { "text": "B", "isCorrect": true },
        { "text": "A", "isCorrect": false },
        { "text": "C", "isCorrect": false },
        { "text": "D", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích lỗi sai:**\n- because of + Noun Phrase (Cụm danh từ).\n- because + Clause (Mệnh đề: S + V).\n- Phía sau là \"roads were blocked\" (S + V) -> Là một mệnh đề.\n\n**2. Dịch nghĩa toàn câu:** \"Các đội tìm kiếm không thể tiếp cận một số khu vực bởi vì đường xá bị chặn bởi rất nhiều mảnh vỡ.\"\n\n**3. Sửa lỗi:**\n- because of -> **because**.\n-> Chọn B."
    },
    {
      "questionNumber": 35,
      "question": "V. Find the mistake: Everyone (A) was frightening (B) when (C) the apartment building started trembling (D) violently.",
      "answerOptions": [
        { "text": "B", "isCorrect": true },
        { "text": "A", "isCorrect": false },
        { "text": "C", "isCorrect": false },
        { "text": "D", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích lỗi sai:**\n- Frightening (adj): Đáng sợ (chủ động, dùng cho vật/sự việc gây sợ hãi).\n- Frightened (adj): Sợ hãi (bị động, dùng cho cảm xúc của người).\n- Ở đây chủ ngữ là \"Everyone\" (mọi người) cảm thấy sợ -> Dùng tính từ đuôi -ed.\n\n**2. Dịch nghĩa toàn câu:** \"Mọi người đều sợ hãi khi tòa nhà chung cư bắt đầu rung chuyển dữ dội.\"\n\n**3. Sửa lỗi:**\n- frightening -> **frightened**.\n-> Chọn B."
    },
    {
      "questionNumber": 36,
      "question": "V. Find the mistake: The victims lost (A) all of their property (B) after the volcano (C) eruption two months ago (D).",
      "answerOptions": [
        { "text": "C", "isCorrect": true },
        { "text": "A", "isCorrect": false },
        { "text": "B", "isCorrect": false },
        { "text": "D", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích lỗi sai:**\n- Volcano (noun): Núi lửa.\n- Volcanic (adj): Thuộc núi lửa.\n- Cụm từ đúng là \"Volcanic eruption\" (Sự phun trào núi lửa), dùng tính từ bổ nghĩa cho danh từ eruption.\n\n**2. Dịch nghĩa toàn câu:** \"Các nạn nhân đã mất tất cả tài sản sau vụ phun trào núi lửa hai tháng trước.\"\n\n**3. Sửa lỗi:**\n- volcano -> **volcanic**.\n-> Chọn C."
    },
    {
      "questionNumber": 37,
      "question": "V. Find the mistake: If (A) you hear a (B) tsunami warning, run out to (C) your houses and move to (D) higher places.",
      "answerOptions": [
        { "text": "C", "isCorrect": true },
        { "text": "A", "isCorrect": false },
        { "text": "B", "isCorrect": false },
        { "text": "D", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích lỗi sai:**\n- \"Run out to your houses\" nghĩa là chạy *đến* nhà bạn.\n- Ngữ cảnh sóng thần: Phải chạy *ra khỏi* nhà hoặc chạy đi sơ tán.\n- Cấu trúc: Run out **of** (chạy ra khỏi).\n\n**2. Dịch nghĩa toàn câu:** \"Nếu bạn nghe cảnh báo sóng thần, hãy chạy ra khỏi nhà và di chuyển đến nơi cao hơn.\"\n\n**3. Sửa lỗi:**\n- run out to -> **run out of**.\n-> Chọn C."
    },
    {
      "questionNumber": 38,
      "question": "V. Find the mistake: Many villagers were sleeping (A) inside their (B) houses while (C) the volcano suddenly erupted (D).",
      "answerOptions": [
        { "text": "C", "isCorrect": true },
        { "text": "A", "isCorrect": false },
        { "text": "B", "isCorrect": false },
        { "text": "D", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích lỗi sai:**\n- Cấu trúc: S + was/were V-ing (hành động đang xảy ra) + **WHEN** + S + V-ed (hành động xen vào).\n- \"While\" thường đi kèm với mệnh đề tiếp diễn (While S + was/were V-ing...).\n- Ở đây mệnh đề sau là \"the volcano suddenly erupted\" (đột ngột phun trào - hành động ngắn/xen vào) -> Phải dùng **When**.\n\n**2. Dịch nghĩa toàn câu:** \"Nhiều dân làng đang ngủ trong nhà thì núi lửa đột ngột phun trào.\"\n\n**3. Sửa lỗi:**\n- while -> **when**.\n-> Chọn C."
    },
    {
      "questionNumber": 39,
      "question": "V. Find the mistake: We are all working (A) hardly (B) to free people trapped (C) in the rubble of collapsed (D) buildings.",
      "answerOptions": [
        { "text": "B", "isCorrect": true },
        { "text": "A", "isCorrect": false },
        { "text": "C", "isCorrect": false },
        { "text": "D", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích lỗi sai:**\n- hard (adj/adv): chăm chỉ, vất vả.\n- hardly (adv): hầu như không (mang nghĩa phủ định).\n- Ngữ cảnh: Làm việc vất vả/nỗ lực để cứu người -> Phải dùng **hard**.\n\n**2. Dịch nghĩa toàn câu:** \"Tất cả chúng tôi đang làm việc cật lực để giải cứu những người bị mắc kẹt trong đống đổ nát của các tòa nhà bị sập.\"\n\n**3. Sửa lỗi:**\n- hardly -> **hard**.\n-> Chọn B."
    },
    {
      "questionNumber": 40,
      "question": "V. Find the mistake: Two tornadoes cut through (A) eastern Alabama and kill (B) at least 23 people last Sunday (D).",
      "answerOptions": [
        { "text": "B", "isCorrect": true },
        { "text": "A", "isCorrect": false },
        { "text": "C", "isCorrect": false },
        { "text": "D", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích lỗi sai:**\n- Trạng từ thời gian: \"last Sunday\" (Chủ nhật tuần trước) -> Thì Quá khứ đơn.\n- Động từ \"cut\" (A) là V2 (cut-cut-cut) đúng.\n- Động từ \"kill\" (B) đang ở hiện tại -> Sai.\n\n**2. Dịch nghĩa toàn câu:** \"Hai cơn lốc xoáy đã quét qua miền đông Alabama và giết chết ít nhất 23 người vào Chủ nhật tuần trước.\"\n\n**3. Sửa lỗi:**\n- kill -> **killed**.\n-> Chọn B."
    },
    {
      "questionNumber": 41,
      "question": "V. Find the mistake: After (A) the earthquake, thousands of people are left (B) homeless and in need (C) medical supplies (D) and health care.",
      "answerOptions": [
        { "text": "C", "isCorrect": true },
        { "text": "A", "isCorrect": false },
        { "text": "B", "isCorrect": false },
        { "text": "D", "isCorrect": false }
      ],
      "rationale": "**1. Phân tích lỗi sai:**\n- Cấu trúc: in need **of** something (cần cái gì đó).\n- Ở đây thiếu giới từ \"of\".\n\n**2. Dịch nghĩa toàn câu:** \"Sau trận động đất, hàng ngàn người bị mất nhà cửa và cần nhu yếu phẩm y tế và chăm sóc sức khỏe.\"\n\n**3. Sửa lỗi:**\n- in need -> **in need of**.\n-> Chọn C."
    }
  ];

    const quizContainer = document.getElementById('quiz-container');
    const scoreDisplay = document.getElementById('scoreDisplay');
    const resultMessage = document.getElementById('resultMessage');
    const resultFeedback = document.getElementById('resultFeedback');
    const resultModal = document.getElementById('resultModal');

    let score = 0;
    let answeredCount = 0;

    // AUDIO CONTEXT for Sound Effects (No external files needed)
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    
    function playSound(type) {
        if (audioCtx.state === 'suspended') {
            audioCtx.resume();
        }
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();
        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);

        if (type === 'correct') {
            // Ding sound (High pitch sine wave)
            oscillator.type = 'sine';
            oscillator.frequency.setValueAtTime(523.25, audioCtx.currentTime); // C5
            oscillator.frequency.exponentialRampToValueAtTime(1046.5, audioCtx.currentTime + 0.1); // C6
            gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
            oscillator.start();
            oscillator.stop(audioCtx.currentTime + 0.5);
        } else {
            // Buzz sound (Low pitch saw wave)
            oscillator.type = 'sawtooth';
            oscillator.frequency.setValueAtTime(150, audioCtx.currentTime);
            oscillator.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
            gainNode.gain.setValueAtTime(0.5, audioCtx.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
            oscillator.start();
            oscillator.stop(audioCtx.currentTime + 0.3);
        }
    }

    function renderQuiz() {
        quizData.forEach((item, index) => {
            const card = document.createElement('div');
            card.className = 'question-card';
            card.id = `q-${index}`;

            // Process Question Text for formatting
            let formattedQuestion = item.question;
            
            // Format Rationale (Markdown-ish to HTML)
            let formattedRationale = item.rationale
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>') // Bold
                .replace(/\n/g, '<br>'); // Line breaks

            const optionsHtml = item.answerOptions.map((opt, optIndex) => `
                <button class="option-btn" onclick="checkAnswer(${index}, ${optIndex}, ${opt.isCorrect})">
                    ${opt.text}
                </button>
            `).join('');

            card.innerHTML = `
                <div class="question-header">
                    <span class="question-badge">Câu ${item.questionNumber}</span>
                </div>
                <div class="question-text">${formattedQuestion}</div>
                <div class="options-grid">
                    ${optionsHtml}
                </div>
                <div class="explanation-box" id="explain-${index}">
                    <div class="explanation-title">
                        <span>💡</span> Ms Mai An giải thích:
                    </div>
                    <div class="explanation-content">
                        ${formattedRationale}
                    </div>
                </div>
            `;

            quizContainer.appendChild(card);
        });
    }

    function checkAnswer(questionIndex, optionIndex, isCorrect) {
        const card = document.getElementById(`q-${questionIndex}`);
        const buttons = card.querySelectorAll('.option-btn');
        const explanationBox = document.getElementById(`explain-${questionIndex}`);

        // Disable all buttons for this question
        buttons.forEach(btn => btn.disabled = true);

        // Styling
        if (isCorrect) {
            buttons[optionIndex].classList.add('correct');
            playSound('correct');
            score++;
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 }
            });
        } else {
            buttons[optionIndex].classList.add('incorrect');
            playSound('incorrect');
            // Highlight the correct answer automatically
            quizData[questionIndex].answerOptions.forEach((opt, idx) => {
                if(opt.isCorrect) buttons[idx].classList.add('correct');
            });
        }

        answeredCount++;
        
        // Show Explanation
        explanationBox.style.display = 'block';
    }

    function finishQuiz() {
        if(answeredCount < quizData.length) {
            if(!confirm(`Bạn mới làm ${answeredCount}/${quizData.length} câu. Bạn có chắc chắn muốn nộp bài không?`)) {
                return;
            }
        }
        
        scoreDisplay.textContent = `${score}/${quizData.length}`;
        
        const percentage = (score / quizData.length) * 100;
        
        if (percentage === 100) {
            resultMessage.textContent = "TUYỆT VỜI! XUẤT SẮC!";
            resultFeedback.textContent = "Bạn đã nắm chắc kiến thức Unit 9 rồi đó!";
            confetti({ particleCount: 300, spread: 180 });
        } else if (percentage >= 80) {
            resultMessage.textContent = "LÀM TỐT LẮM!";
            resultFeedback.textContent = "Kiến thức của bạn rất vững. Cố gắng thêm chút nữa nhé!";
        } else if (percentage >= 50) {
            resultMessage.textContent = "CỐ GẮNG HƠN NHÉ!";
            resultFeedback.textContent = "Hãy xem lại phần giải thích chi tiết của Ms Mai An để hiểu rõ hơn nha.";
        } else {
            resultMessage.textContent = "CẦN ÔN TẬP THÊM!";
            resultFeedback.textContent = "Đừng nản lòng, hãy đọc kỹ giải thích từng câu nhé.";
        }

        resultModal.style.display = 'flex';
    }

    function closeModal() {
        resultModal.style.display = 'none';
        // Optional: Scroll to top or reload
        // location.reload(); 
    }

    // Initialize
    renderQuiz();

</script>

</body>
</html>
