<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr·∫Øc nghi·ªám Thi√™n tai (Disasters) - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8854C0; /* T√≠m */
            --secondary: #00C9A7; /* Xanh ng·ªçc */
            --correct: #00D26A; /* Xanh l√° */
            --wrong: #FF4757; /* ƒê·ªè cam */
            --background: #f0f3f5;
            --card-bg: #ffffff;
            --text-main: #2f3542;
            --text-light: #57606f;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--background);
            background-image: radial-gradient(#dcdde1 15%, transparent 16%), radial-gradient(#dcdde1 15%, transparent 16%);
            background-size: 60px 60px;
            background-position: 0 0, 30px 30px;
            color: var(--text-main);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        .header-container {
            text-align: center;
            margin-bottom: 30px;
            animation: popIn 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }

        h1 {
            color: var(--primary);
            font-weight: 800;
            font-size: 2.2rem;
            margin: 0;
            text-shadow: 2px 2px 0px #fff, 4px 4px 0px rgba(0,0,0,0.1);
        }

        h3 {
            color: var(--text-light);
            font-weight: 600;
            margin-top: 5px;
            font-size: 1.1rem;
        }

        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
            padding-bottom: 80px;
        }

        /* Card Style */
        .question-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 0 rgba(0,0,0,0.1);
            border: 2px solid #eee;
            position: relative;
            transition: transform 0.3s;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            border-bottom: 2px dashed #f1f2f6;
            padding-bottom: 10px;
        }

        .q-tag {
            background: var(--secondary);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.9rem;
            box-shadow: 0 3px 0 rgba(0,0,0,0.1);
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--text-main);
            margin-bottom: 20px;
            line-height: 1.5;
        }

        /* Options Grid */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        .option-btn {
            background: white;
            border: 2px solid #e1e4e8;
            border-radius: 15px;
            padding: 15px 20px;
            font-family: 'Nunito', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-light);
            cursor: pointer;
            position: relative;
            transition: all 0.1s;
            box-shadow: 0 5px 0 #d1d8e0;
            text-align: left;
            display: flex;
            align-items: center;
        }

        .option-btn:active {
            box-shadow: 0 2px 0 #d1d8e0;
            transform: translateY(3px);
        }

        .option-btn:hover:not(:disabled) {
            background-color: #f7f9fa;
            transform: scale(1.02);
        }

        /* Correct/Wrong States */
        .option-btn.correct {
            background-color: var(--correct);
            color: white;
            border-color: #00b85c;
            box-shadow: 0 5px 0 #008f47;
        }

        .option-btn.wrong {
            background-color: var(--wrong);
            color: white;
            border-color: #ff2e40;
            box-shadow: 0 5px 0 #d61e30;
            animation: shake 0.5s;
        }

        .option-btn:disabled {
            cursor: default;
            opacity: 0.7;
            transform: none !important;
        }

        /* Explanation Box */
        .explanation-box {
            display: none;
            margin-top: 20px;
            background-color: #f8f0fc;
            border: 2px solid var(--primary);
            border-radius: 15px;
            padding: 20px;
            animation: slideDown 0.5s ease;
        }

        .explanation-header {
            color: var(--primary);
            font-weight: 800;
            font-size: 1.1rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .explanation-content {
            font-size: 1rem;
            line-height: 1.6;
            color: #4b4b4b;
            white-space: pre-wrap; /* Preserve line breaks from JSON */
        }

        /* Footer / Submit */
        .footer-controls {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: white;
            padding: 15px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            z-index: 100;
        }

        .submit-btn {
            background-color: var(--primary);
            color: white;
            border: none;
            padding: 12px 40px;
            font-size: 1.2rem;
            font-weight: 800;
            border-radius: 30px;
            box-shadow: 0 6px 0 #5f2a9e;
            cursor: pointer;
            transition: transform 0.1s;
        }

        .submit-btn:active {
            box-shadow: 0 3px 0 #5f2a9e;
            transform: translateY(3px);
        }

        .score-display {
            font-weight: 800;
            font-size: 1.2rem;
            color: var(--text-main);
        }

        /* Animations */
        @keyframes popIn {
            0% { transform: scale(0); opacity: 0; }
            80% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px) rotate(-5deg); }
            75% { transform: translateX(5px) rotate(5deg); }
        }

        /* Confetti Canvas */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
        }

        /* Result Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            animation: popIn 0.5s;
            border: 5px solid var(--secondary);
        }

        .final-score {
            font-size: 3rem;
            font-weight: 800;
            color: var(--primary);
            margin: 20px 0;
        }

        .feedback-text {
            font-size: 1.2rem;
            color: var(--text-light);
            margin-bottom: 30px;
        }

    </style>
</head>
<body>

    <canvas id="confetti-canvas"></canvas>

    <div class="header-container">
        <h1>B√ÄI KI·ªÇM TRA THI√äN TAI (DISASTERS)</h1>
        <h3>Gi√°o vi√™n t·∫°o: Ms Mai An ULIS</h3>
    </div>

    <div class="quiz-container" id="quiz-area">
        <!-- Questions will be injected here via JS -->
    </div>

    <div class="footer-controls">
        <div class="score-display">ƒê√£ l√†m: <span id="progress-text">0</span>/<span id="total-text">0</span></div>
        <button class="submit-btn" onclick="finishQuiz()">N·ªòP B√ÄI</button>
    </div>

    <!-- Result Modal -->
    <div class="modal-overlay" id="result-modal">
        <div class="modal-content">
            <h2 style="color: var(--secondary); font-weight: 800;">T·ªîNG K·∫æT</h2>
            <div class="final-score" id="final-score-display">0/0</div>
            <p class="feedback-text" id="feedback-msg">B·∫°n ƒë√£ l√†m r·∫•t t·ªët!</p>
            <button class="submit-btn" onclick="location.reload()">L√ÄM L·∫†I</button>
        </div>
    </div>

    <script>
        // --- DATA SOURCE (Embed from input) ---
        const quizData = [
            {
                "questionNumber": 1,
                "question": "Exercise 2 - Q1: The _______ blew lava and ash into the sky.",
                "answerOptions": [
                    { "text": "volcanic eruption", "rationale": "D·ªãch ƒë√°p √°n:\nA. volcanic eruption (noun phrase): s·ª± phun tr√†o n√∫i l·ª≠a\nB. earthquake (noun): ƒë·ªông ƒë·∫•t\nC. tornado (noun): l·ªëc xo√°y\nD. tsunami (noun): s√≥ng th·∫ßn\n\nGi·∫£i th√≠ch: T·ª´ kh√≥a 'lava and ash' (dung nham v√† tro b·ª•i) l√† ƒë·∫∑c ƒëi·ªÉm c·ªßa n√∫i l·ª≠a phun tr√†o.\n\nD·ªãch c√¢u: V·ª• phun tr√†o n√∫i l·ª≠a ƒë√£ th·ªïi dung nham v√† tro b·ª•i l√™n b·∫ßu tr·ªùi.", "isCorrect": true },
                    { "text": "earthquake", "isCorrect": false, "rationale": "Sai. ƒê·ªông ƒë·∫•t g√¢y rung l·∫Øc, kh√¥ng phun dung nham." },
                    { "text": "tornado", "isCorrect": false, "rationale": "Sai. L·ªëc xo√°y l√† gi√≥, kh√¥ng c√≥ dung nham." },
                    { "text": "tsunami", "isCorrect": false, "rationale": "Sai. S√≥ng th·∫ßn li√™n quan ƒë·∫øn n∆∞·ªõc." }
                ]
            },
            {
                "questionNumber": 2,
                "question": "Exercise 2 - Q2: The _______ with strong winds darkened the sky and rattled the windows.",
                "answerOptions": [
                    { "text": "storm", "rationale": "D·ªãch ƒë√°p √°n:\nA. wildfire (noun): ch√°y r·ª´ng\nB. storm (noun): c∆°n b√£o\nC. flood (noun): l≈© l·ª•t\nD. drought (noun): h·∫°n h√°n\n\nGi·∫£i th√≠ch: T·ª´ kh√≥a 'strong winds' (gi√≥ m·∫°nh), 'darkened the sky' (l√†m t·ªëi b·∫ßu tr·ªùi) v√† 'rattled the windows' (l√†m rung c·ª≠a s·ªï) mi√™u t·∫£ m·ªôt c∆°n b√£o.\n\nD·ªãch c√¢u: C∆°n b√£o v·ªõi gi√≥ m·∫°nh l√†m t·ªëi s·∫ßm b·∫ßu tr·ªùi v√† l√†m rung chuy·ªÉn c√°c c·ª≠a s·ªï.", "isCorrect": true },
                    { "text": "wildfire", "isCorrect": false, "rationale": "Sai. Ch√°y r·ª´ng g√¢y kh√≥i l·ª≠a, kh√¥ng ƒë·∫∑c tr∆∞ng b·ªüi gi√≥ l√†m t·ªëi tr·ªùi theo c√°ch n√†y." },
                    { "text": "flood", "isCorrect": false, "rationale": "Sai. L≈© l·ª•t l√† n∆∞·ªõc d√¢ng." },
                    { "text": "drought", "isCorrect": false, "rationale": "Sai. H·∫°n h√°n l√† thi·∫øu n∆∞·ªõc." }
                ]
            },
            {
                "questionNumber": 3,
                "question": "Exercise 2 - Q3: The sudden _______ caused the buildings to shake and people to run for cover.",
                "answerOptions": [
                    { "text": "earthquake", "rationale": "D·ªãch ƒë√°p √°n:\nA. earthquake (noun): ƒë·ªông ƒë·∫•t\nB. landslide (noun): s·∫°t l·ªü ƒë·∫•t\nC. tsunami (noun): s√≥ng th·∫ßn\nD. flood (noun): l≈© l·ª•t\n\nGi·∫£i th√≠ch: T·ª´ kh√≥a 'buildings to shake' (c√°c t√≤a nh√† rung l·∫Øc) l√† d·∫•u hi·ªáu r√µ nh·∫•t c·ªßa ƒë·ªông ƒë·∫•t.\n\nD·ªãch c√¢u: Tr·∫≠n ƒë·ªông ƒë·∫•t b·∫•t ng·ªù khi·∫øn c√°c t√≤a nh√† rung chuy·ªÉn v√† m·ªçi ng∆∞·ªùi ch·∫°y ƒëi t√¨m ch·ªó tr√∫ ·∫©n.", "isCorrect": true },
                    { "text": "landslide", "isCorrect": false, "rationale": "Sai. S·∫°t l·ªü ƒë·∫•t l√† ƒë·∫•t ƒë√° r∆°i xu·ªëng, th∆∞·ªùng kh√¥ng l√†m rung chuy·ªÉn c·∫£ t√≤a nh√† ·ªü v√πng b·∫±ng ph·∫≥ng." },
                    { "text": "tsunami", "isCorrect": false, "rationale": "Sai. S√≥ng th·∫ßn l√† n∆∞·ªõc bi·ªÉn d√¢ng cao." },
                    { "text": "flood", "isCorrect": false, "rationale": "Sai." }
                ]
            },
            {
                "questionNumber": 4,
                "question": "Exercise 2 - Q4: A _______ moved in a circle like a big funnel and hit the town last night.",
                "answerOptions": [
                    { "text": "tornado", "rationale": "D·ªãch ƒë√°p √°n:\nA. typhoon (noun): b√£o nhi·ªát ƒë·ªõi (th∆∞·ªùng ·ªü ch√¢u √Å)\nB. flood (noun): l≈© l·ª•t\nC. tornado (noun): l·ªëc xo√°y\nD. drought (noun): h·∫°n h√°n\n\nGi·∫£i th√≠ch: T·ª´ kh√≥a 'moved in a circle' (di chuy·ªÉn theo v√≤ng tr√≤n) v√† 'like a big funnel' (nh∆∞ m·ªôt c√°i ph·ªÖu l·ªõn) l√† h√¨nh ·∫£nh ƒë·∫∑c tr∆∞ng c·ªßa l·ªëc xo√°y.\n\nD·ªãch c√¢u: M·ªôt tr·∫≠n l·ªëc xo√°y di chuy·ªÉn theo v√≤ng tr√≤n nh∆∞ m·ªôt c√°i ph·ªÖu l·ªõn v√† ƒë√°nh v√†o th·ªã tr·∫•n ƒë√™m qua.", "isCorrect": true },
                    { "text": "typhoon", "isCorrect": false, "rationale": "Sai. Typhoon l√† b√£o di·ªán r·ªông, kh√¥ng c√≥ h√¨nh d·∫°ng c√°i ph·ªÖu (funnel)." },
                    { "text": "flood", "isCorrect": false, "rationale": "Sai." },
                    { "text": "drought", "isCorrect": false, "rationale": "Sai." }
                ]
            },
            {
                "questionNumber": 5,
                "question": "Exercise 2 - Q5: The heavy rainfall caused a _______, sending rocks and soil falling down the hillside.",
                "answerOptions": [
                    { "text": "landslide", "rationale": "D·ªãch ƒë√°p √°n:\nA. landslide (noun): s·∫°t l·ªü ƒë·∫•t\nB. drought (noun): h·∫°n h√°n\nC. volcanic eruption (noun phrase): phun tr√†o n√∫i l·ª≠a\nD. storm (noun): c∆°n b√£o\n\nGi·∫£i th√≠ch: T·ª´ kh√≥a 'rocks and soil falling down the hillside' (ƒë√° v√† ƒë·∫•t r∆°i xu·ªëng s∆∞·ªùn ƒë·ªìi) mi√™u t·∫£ s·∫°t l·ªü ƒë·∫•t.\n\nD·ªãch c√¢u: M∆∞a l·ªõn g√¢y ra m·ªôt v·ª• s·∫°t l·ªü ƒë·∫•t, khi·∫øn ƒë√° v√† ƒë·∫•t r∆°i xu·ªëng s∆∞·ªùn ƒë·ªìi.", "isCorrect": true },
                    { "text": "drought", "isCorrect": false, "rationale": "Sai. H·∫°n h√°n l√† do thi·∫øu m∆∞a." },
                    { "text": "volcanic eruption", "isCorrect": false, "rationale": "Sai. Phun tr√†o n√∫i l·ª≠a li√™n quan ƒë·∫øn dung nham." },
                    { "text": "storm", "isCorrect": false, "rationale": "Sai. Storm l√† nguy√™n nh√¢n g√¢y m∆∞a, kh√¥ng ph·∫£i k·∫øt qu·∫£ l√† ƒë·∫•t ƒë√° r∆°i." }
                ]
            },
            {
                "questionNumber": 6,
                "question": "Exercise 2 - Q6: The overflowing river led to a _______, submerging homes and streets in water.",
                "answerOptions": [
                    { "text": "flood", "rationale": "D·ªãch ƒë√°p √°n:\nA. drought (noun): h·∫°n h√°n\nB. earthquake (noun): ƒë·ªông ƒë·∫•t\nC. flood (noun): l≈© l·ª•t\nD. wildfire (noun): ch√°y r·ª´ng\n\nGi·∫£i th√≠ch: T·ª´ kh√≥a 'overflowing river' (s√¥ng tr√†n b·ªù) v√† 'submerging... in water' (nh·∫•n ch√¨m... trong n∆∞·ªõc) l√† m√¥ t·∫£ l≈© l·ª•t.\n\nD·ªãch c√¢u: Con s√¥ng tr√†n b·ªù d·∫´n ƒë·∫øn m·ªôt tr·∫≠n l≈© l·ª•t, nh·∫•n ch√¨m nh√† c·ª≠a v√† ƒë∆∞·ªùng ph·ªë trong n∆∞·ªõc.", "isCorrect": true },
                    { "text": "drought", "isCorrect": false, "rationale": "Sai. H·∫°n h√°n l√† thi·∫øu n∆∞·ªõc." },
                    { "text": "earthquake", "isCorrect": false, "rationale": "Sai." },
                    { "text": "wildfire", "isCorrect": false, "rationale": "Sai." }
                ]
            },
            {
                "questionNumber": 7,
                "question": "Exercise 3 - Q1: The volcanic _________ sent plumes of ash and smoke high into the sky.",
                "answerOptions": [
                    { "text": "eruption", "rationale": "D·ªãch ƒë√°p √°n:\nA. eruption (noun): s·ª± phun tr√†o\nB. outbreak (noun): s·ª± b√πng ph√°t (d·ªãch b·ªánh/chi·∫øn tranh)\nC. burst (noun/verb): s·ª± n·ªï tung/v·ª°\nD. discharge (noun/verb): s·ª± th·∫£i ra/x·∫£ ra\n\nGi·∫£i th√≠ch: C·ª•m t·ª´ c·ªë ƒë·ªãnh 'volcanic eruption' (s·ª± phun tr√†o n√∫i l·ª≠a).\n\nD·ªãch c√¢u: V·ª• phun tr√†o n√∫i l·ª≠a ƒë√£ ƒë·∫©y nh·ªØng c·ªôt tro v√† kh√≥i l√™n cao b·∫ßu tr·ªùi.", "isCorrect": true },
                    { "text": "outbreak", "isCorrect": false, "rationale": "Sai. Th∆∞·ªùng d√πng cho d·ªãch b·ªánh." },
                    { "text": "burst", "isCorrect": false, "rationale": "Sai ng·ªØ c·∫£nh." },
                    { "text": "discharge", "isCorrect": false, "rationale": "Sai ng·ªØ c·∫£nh." }
                ]
            },
            {
                "questionNumber": 8,
                "question": "Exercise 3 - Q2: The _________ shook the region, leaving buildings damaged and roads cracked.",
                "answerOptions": [
                    { "text": "earthquake", "rationale": "D·ªãch ƒë√°p √°n:\nA. earthquake (noun): ƒë·ªông ƒë·∫•t\nB. thunderstorm (noun): b√£o d√¥ng\nC. shock (noun): c√∫ s·ªëc\nD. tornado (noun): l·ªëc xo√°y\n\nGi·∫£i th√≠ch: ƒê·ªông t·ª´ 'shook' (rung chuy·ªÉn) v√† h·∫≠u qu·∫£ 'roads cracked' (ƒë∆∞·ªùng n·ª©t) l√† ƒë·∫∑c tr∆∞ng c·ªßa ƒë·ªông ƒë·∫•t.\n\nD·ªãch c√¢u: Tr·∫≠n ƒë·ªông ƒë·∫•t l√†m rung chuy·ªÉn khu v·ª±c, khi·∫øn c√°c t√≤a nh√† b·ªã h∆∞ h·∫°i v√† ƒë∆∞·ªùng x√° b·ªã n·ª©t.", "isCorrect": true },
                    { "text": "thunderstorm", "isCorrect": false, "rationale": "Sai. B√£o d√¥ng kh√¥ng l√†m n·ª©t ƒë∆∞·ªùng." },
                    { "text": "shock", "isCorrect": false, "rationale": "Sai. Shock l√† danh t·ª´ tr·ª´u t∆∞·ª£ng ho·∫∑c m·ªôt ph·∫ßn c·ªßa ƒë·ªông ƒë·∫•t (aftershock), kh√¥ng d√πng ƒë·ª©ng m·ªôt m√¨nh l√†m ch·ªß ng·ªØ g√¢y n·ª©t ƒë∆∞·ªùng." },
                    { "text": "tornado", "isCorrect": false, "rationale": "Sai. L·ªëc xo√°y g√¢y gi√≥ m·∫°nh, √≠t khi l√†m n·ª©t ƒë∆∞·ªùng." }
                ]
            },
            {
                "questionNumber": 9,
                "question": "Exercise 3 - Q3: A _________, with strong winds that move in a circle, touched down in the small town, causing damage to homes and businesses.",
                "answerOptions": [
                    { "text": "tornado", "rationale": "D·ªãch ƒë√°p √°n:\nA. lightning (noun): tia s√©t\nB. thunder (noun): s·∫•m\nC. tornado (noun): l·ªëc xo√°y\nD. tsunami (noun): s√≥ng th·∫ßn\n\nGi·∫£i th√≠ch: 'Strong winds that move in a circle' (gi√≥ m·∫°nh di chuy·ªÉn theo v√≤ng tr√≤n) v√† 'touched down' (ch·∫°m ƒë·∫•t) l√† m√¥ t·∫£ l·ªëc xo√°y.\n\nD·ªãch c√¢u: M·ªôt tr·∫≠n l·ªëc xo√°y, v·ªõi nh·ªØng c∆°n gi√≥ m·∫°nh di chuy·ªÉn theo v√≤ng tr√≤n, ƒë√£ ch·∫°m xu·ªëng th·ªã tr·∫•n nh·ªè, g√¢y thi·ªát h·∫°i cho nh√† c·ª≠a v√† doanh nghi·ªáp.", "isCorrect": true },
                    { "text": "lightning", "isCorrect": false, "rationale": "Sai." },
                    { "text": "thunder", "isCorrect": false, "rationale": "Sai." },
                    { "text": "tsunami", "isCorrect": false, "rationale": "Sai." }
                ]
            },
            {
                "questionNumber": 10,
                "question": "Exercise 3 - Q4: The heavy rains caused a _________ with huge rocks that blocked the mountain road.",
                "answerOptions": [
                    { "text": "landslide", "rationale": "D·ªãch ƒë√°p √°n:\nA. hurricane (noun): b√£o cu·ªìng phong\nB. landslide (noun): s·∫°t l·ªü ƒë·∫•t\nC. eruption (noun): s·ª± phun tr√†o\nD. earthquake (noun): ƒë·ªông ƒë·∫•t\n\nGi·∫£i th√≠ch: M∆∞a l·ªõn (heavy rains) th∆∞·ªùng d·∫´n ƒë·∫øn s·∫°t l·ªü ƒë·∫•t (landslide), k√©o theo ƒë√° l·ªõn (huge rocks) ch·∫Øn ƒë∆∞·ªùng.\n\nD·ªãch c√¢u: M∆∞a l·ªõn g√¢y ra m·ªôt v·ª• s·∫°t l·ªü ƒë·∫•t v·ªõi nh·ªØng t·∫£ng ƒë√° kh·ªïng l·ªì ch·∫∑n ngang con ƒë∆∞·ªùng n√∫i.", "isCorrect": true },
                    { "text": "hurricane", "isCorrect": false, "rationale": "Sai. B√£o l√† gi√≥, kh√¥ng ph·∫£i ƒë√° r∆°i." },
                    { "text": "eruption", "isCorrect": false, "rationale": "Sai. Li√™n quan ƒë·∫øn n√∫i l·ª≠a." },
                    { "text": "earthquake", "isCorrect": false, "rationale": "Sai. ƒê·ªông ƒë·∫•t do ki·∫øn t·∫°o ƒë·ªãa ch·∫•t, kh√¥ng tr·ª±c ti·∫øp do m∆∞a." }
                ]
            },
            {
                "questionNumber": 11,
                "question": "Exercise 3 - Q5: The floodwaters rose rapidly, forcing residents to _________ their homes and seek shelters.",
                "answerOptions": [
                    { "text": "evacuate", "rationale": "D·ªãch ƒë√°p √°n:\nA. quit (verb): t·ª´ b·ªè/ngh·ªâ vi·ªác\nB. discharge (verb): th·∫£i ra\nC. evacuate (verb): s∆° t√°n\nD. empty (verb): l√†m tr·ªëng r·ªóng\n\nGi·∫£i th√≠ch: Khi c√≥ thi√™n tai, ng∆∞·ªùi d√¢n ph·∫£i 's∆° t√°n' (evacuate) kh·ªèi nh√† ƒë·ªÉ ƒë·∫øn n∆°i an to√†n.\n\nD·ªãch c√¢u: N∆∞·ªõc l≈© d√¢ng nhanh, bu·ªôc ng∆∞·ªùi d√¢n ph·∫£i s∆° t√°n kh·ªèi nh√† v√† t√¨m n∆°i tr√∫ ·∫©n.", "isCorrect": true },
                    { "text": "quit", "isCorrect": false, "rationale": "Sai ng·ªØ c·∫£nh." },
                    { "text": "discharge", "isCorrect": false, "rationale": "Sai ng·ªØ c·∫£nh." },
                    { "text": "empty", "isCorrect": false, "rationale": "Sai. Empty mang nghƒ©a l·∫•y ƒë·ªì v·∫≠t ra kh·ªèi nh√†, evacuate mang nghƒ©a con ng∆∞·ªùi r·ªùi ƒëi ƒë·ªÉ l√°nh n·∫°n." }
                ]
            },
            {
                "questionNumber": 12,
                "question": "Exercise 3 - Q6: An immense volume of rocks and molten lava was _________ from Mount Vesuvius.",
                "answerOptions": [
                    { "text": "erupted", "rationale": "D·ªãch ƒë√°p √°n:\nA. caught (verb): b·∫Øt ƒë∆∞·ª£c\nB. occurred (verb): x·∫£y ra\nC. burned (verb): ƒë·ªët ch√°y\nD. erupted (verb): phun tr√†o\n\nGi·∫£i th√≠ch: 'Rocks and molten lava' (ƒë√° v√† dung nham n√≥ng ch·∫£y) ƒë∆∞·ª£c 'phun tr√†o' t·ª´ n√∫i l·ª≠a.\n\nD·ªãch c√¢u: M·ªôt l∆∞·ª£ng l·ªõn ƒë√° v√† dung nham n√≥ng ch·∫£y ƒë√£ ƒë∆∞·ª£c phun tr√†o t·ª´ n√∫i Vesuvius.", "isCorrect": true },
                    { "text": "caught", "isCorrect": false, "rationale": "Sai nghƒ©a." },
                    { "text": "occurred", "isCorrect": false, "rationale": "Sai. Occur l√† n·ªôi ƒë·ªông t·ª´, kh√¥ng d√πng th·ªÉ b·ªã ƒë·ªông 'was occurred'." },
                    { "text": "burned", "isCorrect": false, "rationale": "Sai nghƒ©a." }
                ]
            },
            {
                "questionNumber": 13,
                "question": "Exercise 3 - Q7: The hurricane hit the coastal village with incredible force, leaving a trail of _______ in its wake.",
                "answerOptions": [
                    { "text": "destruction", "rationale": "D·ªãch ƒë√°p √°n:\nA. warning (noun): c·∫£nh b√°o\nB. prediction (noun): d·ª± ƒëo√°n\nC. destruction (noun): s·ª± ph√° h·ªßy/t√†n ph√°\nD. property (noun): t√†i s·∫£n\n\nGi·∫£i th√≠ch: C·ª•m t·ª´ 'trail of destruction' (m·ªôt v·ªát t√†n ph√°/d·∫•u v·∫øt t√†n ph√°) l√† c√°ch di·ªÖn ƒë·∫°t ph·ªï bi·∫øn khi n√≥i v·ªÅ h·∫≠u qu·∫£ thi√™n tai.\n\nD·ªãch c√¢u: C∆°n b√£o ƒë√£ t·∫•n c√¥ng ng√¥i l√†ng ven bi·ªÉn v·ªõi s·ª©c m·∫°nh kh·ªßng khi·∫øp, ƒë·ªÉ l·∫°i m·ªôt v·ªát t√†n ph√° sau l∆∞ng n√≥.", "isCorrect": true },
                    { "text": "warning", "isCorrect": false, "rationale": "Sai nghƒ©a." },
                    { "text": "prediction", "isCorrect": false, "rationale": "Sai nghƒ©a." },
                    { "text": "property", "isCorrect": false, "rationale": "Sai nghƒ©a." }
                ]
            },
            {
                "questionNumber": 14,
                "question": "Exercise 3 - Q8: Many residents lost _________ in the wildfire that swept through the forested area.",
                "answerOptions": [
                    { "text": "property", "rationale": "D·ªãch ƒë√°p √°n:\nA. property (noun): t√†i s·∫£n/nh√† c·ª≠a\nB. ownership (noun): quy·ªÅn s·ªü h·ªØu\nC. materials (noun): v·∫≠t li·ªáu\nD. taxes (noun): thu·∫ø\n\nGi·∫£i th√≠ch: Trong thi√™n tai, ng∆∞·ªùi d√¢n th∆∞·ªùng m·∫•t 'property' (t√†i s·∫£n nh∆∞ nh√† c·ª≠a, xe c·ªô, ƒë·ªì ƒë·∫°c).\n\nD·ªãch c√¢u: Nhi·ªÅu c∆∞ d√¢n ƒë√£ m·∫•t t√†i s·∫£n trong v·ª• ch√°y r·ª´ng qu√©t qua khu v·ª±c r·ª´ng.", "isCorrect": true },
                    { "text": "ownership", "isCorrect": false, "rationale": "Sai. Quy·ªÅn s·ªü h·ªØu l√† kh√°i ni·ªám tr·ª´u t∆∞·ª£ng." },
                    { "text": "materials", "isCorrect": false, "rationale": "Sai nghƒ©a." },
                    { "text": "taxes", "isCorrect": false, "rationale": "Sai nghƒ©a." }
                ]
            },
            {
                "questionNumber": 15,
                "question": "Exercise 3 - Q9: It's important to have an _________ kit prepared with essential supplies in case of a natural disaster.",
                "answerOptions": [
                    { "text": "emergency", "rationale": "D·ªãch ƒë√°p √°n:\nA. protection (noun): s·ª± b·∫£o v·ªá\nB. emergency (noun/adj): kh·∫©n c·∫•p\nC. rescue (noun/verb): gi·∫£i c·ª©u\nD. warning (noun): c·∫£nh b√°o\n\nGi·∫£i th√≠ch: C·ª•m t·ª´ 'emergency kit' (b·ªô d·ª•ng c·ª• kh·∫©n c·∫•p/t√∫i c·ª©u th∆∞∆°ng) l√† v·∫≠t d·ª•ng chu·∫©n b·ªã cho thi√™n tai.\n\nD·ªãch c√¢u: Vi·ªác chu·∫©n b·ªã s·∫µn m·ªôt b·ªô d·ª•ng c·ª• kh·∫©n c·∫•p v·ªõi c√°c nhu y·∫øu ph·∫©m l√† r·∫•t quan tr·ªçng trong tr∆∞·ªùng h·ª£p x·∫£y ra thi√™n tai.", "isCorrect": true },
                    { "text": "protection", "isCorrect": false, "rationale": "Sai c·ª•m t·ª´." },
                    { "text": "rescue", "isCorrect": false, "rationale": "Sai c·ª•m t·ª´." },
                    { "text": "warning", "isCorrect": false, "rationale": "Sai c·ª•m t·ª´." }
                ]
            },
            {
                "questionNumber": 16,
                "question": "Exercise 3 - Q10: The earthquake left many _________ trapped beneath the broken stones and awaiting rescue.",
                "answerOptions": [
                    { "text": "victims", "rationale": "D·ªãch ƒë√°p √°n:\nA. sufferers (noun): ng∆∞·ªùi ƒëau kh·ªï (th∆∞·ªùng v√¨ b·ªánh t·∫≠t)\nB. patients (noun): b·ªánh nh√¢n\nC. victims (noun): n·∫°n nh√¢n\nD. researchers (noun): nh√† nghi√™n c·ª©u\n\nGi·∫£i th√≠ch: Nh·ªØng ng∆∞·ªùi b·ªã ·∫£nh h∆∞·ªüng, m·∫Øc k·∫πt trong thi√™n tai ƒë∆∞·ª£c g·ªçi l√† 'victims' (n·∫°n nh√¢n).\n\nD·ªãch c√¢u: Tr·∫≠n ƒë·ªông ƒë·∫•t ƒë√£ khi·∫øn nhi·ªÅu n·∫°n nh√¢n b·ªã m·∫Øc k·∫πt d∆∞·ªõi nh·ªØng t·∫£ng ƒë√° v·ª° v√† ch·ªù ƒë∆∞·ª£c gi·∫£i c·ª©u.", "isCorrect": true },
                    { "text": "sufferers", "isCorrect": false, "rationale": "√çt d√πng trong ng·ªØ c·∫£nh n√†y." },
                    { "text": "patients", "isCorrect": false, "rationale": "Sai nghƒ©a." },
                    { "text": "researchers", "isCorrect": false, "rationale": "Sai nghƒ©a." }
                ]
            },
            {
                "questionNumber": 17,
                "question": "Exercise 3 - Q11: The _________ workers tirelessly searched for survivors in the aftermath of the disaster.",
                "answerOptions": [
                    { "text": "rescue", "rationale": "D·ªãch ƒë√°p √°n:\nA. delivery (noun): giao h√†ng\nB. saving (noun/adj): ti·∫øt ki·ªám/c·ª©u\nC. recovery (noun): ph·ª•c h·ªìi\nD. rescue (noun/verb): gi·∫£i c·ª©u\n\nGi·∫£i th√≠ch: C·ª•m t·ª´ 'rescue workers' (nh√¢n vi√™n c·ª©u h·ªô) l√† nh·ªØng ng∆∞·ªùi t√¨m ki·∫øm ng∆∞·ªùi s·ªëng s√≥t.\n\nD·ªãch c√¢u: C√°c nh√¢n vi√™n c·ª©u h·ªô ƒë√£ kh√¥ng m·ªát m·ªèi t√¨m ki·∫øm nh·ªØng ng∆∞·ªùi s·ªëng s√≥t sau th·∫£m h·ªça.", "isCorrect": true },
                    { "text": "delivery", "isCorrect": false, "rationale": "Sai nghƒ©a." },
                    { "text": "saving", "isCorrect": false, "rationale": "Sai c·ª•m t·ª´." },
                    { "text": "recovery", "isCorrect": false, "rationale": "Recovery workers th∆∞·ªùng l√† ng∆∞·ªùi d·ªçn d·∫πp sau th·∫£m h·ªça, nh∆∞ng ng·ªØ c·∫£nh 'searched for survivors' (t√¨m ng∆∞·ªùi s·ªëng s√≥t) th√¨ 'rescue' ch√≠nh x√°c h∆°n." }
                ]
            },
            {
                "questionNumber": 18,
                "question": "Exercise 3 - Q12: The forest fire _________ for eight hours, killing all of the animals.",
                "answerOptions": [
                    { "text": "raged", "rationale": "D·ªãch ƒë√°p √°n:\nA. burst (verb): b√πng n·ªï/v·ª°\nB. occurred (verb): x·∫£y ra\nC. raged (verb): ho√†nh h√†nh/ch√°y d·ªØ d·ªôi\nD. spread (verb): lan r·ªông\n\nGi·∫£i th√≠ch: ƒê·ªông t·ª´ 'rage' th∆∞·ªùng d√πng ƒë·ªÉ mi√™u t·∫£ l·ª≠a ch√°y d·ªØ d·ªôi ho·∫∑c b√£o t·ªë ho√†nh h√†nh trong m·ªôt kho·∫£ng th·ªùi gian.\n\nD·ªãch c√¢u: Tr·∫≠n ch√°y r·ª´ng ƒë√£ ho√†nh h√†nh su·ªët t√°m gi·ªù, gi·∫øt ch·∫øt t·∫•t c·∫£ c√°c lo√†i ƒë·ªông v·∫≠t.", "isCorrect": true },
                    { "text": "burst", "isCorrect": false, "rationale": "Sai ng·ªØ c·∫£nh." },
                    { "text": "occurred", "isCorrect": false, "rationale": "Sai ng·ªØ ph√°p (occurred for 8 hours nghe kh√¥ng t·ª± nhi√™n b·∫±ng raged)." },
                    { "text": "spread", "isCorrect": false, "rationale": "Spread (lan ra) c≈©ng h·ª£p l√Ω nh∆∞ng 'raged' (ch√°y d·ªØ d·ªôi) mi√™u t·∫£ s·ª©c t√†n ph√° (killing all animals) t·ªët h∆°n." }
                ]
            },
            {
                "questionNumber": 19,
                "question": "Exercise 3 - Q13: Thousands of buildings and houses were completely destroyed when the earthquake ________ the city.",
                "answerOptions": [
                    { "text": "struck", "rationale": "D·ªãch ƒë√°p √°n:\nA. fought (verb): chi·∫øn ƒë·∫•u\nB. struck (verb - qu√° kh·ª© c·ªßa strike): t·∫•n c√¥ng/·∫≠p ƒë·∫øn\nC. happened (verb): x·∫£y ra\nD. arrived (verb): ƒë·∫øn\n\nGi·∫£i th√≠ch: D√πng ƒë·ªông t·ª´ 'strike' (qu√° kh·ª© l√† struck) cho thi√™n tai nh∆∞ ƒë·ªông ƒë·∫•t, b√£o l≈© khi ch√∫ng ·∫≠p v√†o m·ªôt ƒë·ªãa ƒëi·ªÉm.\n\nD·ªãch c√¢u: H√†ng ng√†n t√≤a nh√† v√† ng√¥i nh√† ƒë√£ b·ªã ph√° h·ªßy ho√†n to√†n khi tr·∫≠n ƒë·ªông ƒë·∫•t t·∫•n c√¥ng th√†nh ph·ªë.", "isCorrect": true },
                    { "text": "fought", "isCorrect": false, "rationale": "Sai nghƒ©a." },
                    { "text": "happened", "isCorrect": false, "rationale": "Sai. Happened kh√¥ng ƒëi tr·ª±c ti·∫øp v·ªõi t√¢n ng·ªØ 'the city'." },
                    { "text": "arrived", "isCorrect": false, "rationale": "Sai. Arrived c·∫ßn gi·ªõi t·ª´ (arrived in/at)." }
                ]
            },
            {
                "questionNumber": 20,
                "question": "Exercise 3 - Q14: New Zealand rescue services carried out several searches for _________.",
                "answerOptions": [
                    { "text": "survivors", "rationale": "D·ªãch ƒë√°p √°n:\nA. movers (noun): ng∆∞·ªùi chuy·ªÉn ƒë·ªì\nB. helpers (noun): ng∆∞·ªùi gi√∫p ƒë·ª°\nC. rescuers (noun): ng∆∞·ªùi gi·∫£i c·ª©u\nD. survivors (noun): ng∆∞·ªùi s·ªëng s√≥t\n\nGi·∫£i th√≠ch: ƒê·ªôi c·ª©u h·ªô (rescue services) ƒëi t√¨m ki·∫øm 'survivors' (ng∆∞·ªùi s·ªëng s√≥t).\n\nD·ªãch c√¢u: C√°c d·ªãch v·ª• c·ª©u h·ªô c·ªßa New Zealand ƒë√£ th·ª±c hi·ªán nhi·ªÅu cu·ªôc t√¨m ki·∫øm nh·ªØng ng∆∞·ªùi s·ªëng s√≥t.", "isCorrect": true },
                    { "text": "movers", "isCorrect": false, "rationale": "Sai nghƒ©a." },
                    { "text": "helpers", "isCorrect": false, "rationale": "Sai nghƒ©a." },
                    { "text": "rescuers", "isCorrect": false, "rationale": "Sai. Rescuers ƒëi t√¨m survivors, kh√¥ng ai ƒëi t√¨m rescuers (tr·ª´ khi h·ªç b·ªã l·∫°c)." }
                ]
            },
            {
                "questionNumber": 21,
                "question": "Exercise 3 - Q15: What can be done to protect people from _________ disasters?",
                "answerOptions": [
                    { "text": "environmental", "rationale": "D·ªãch ƒë√°p √°n:\nA. environment (noun): m√¥i tr∆∞·ªùng\nB. environmental (adjective): thu·ªôc v·ªÅ m√¥i tr∆∞·ªùng\nC. environmentally (adverb): v·ªÅ m·∫∑t m√¥i tr∆∞·ªùng\nD. environmentalist (noun): nh√† m√¥i tr∆∞·ªùng h·ªçc\n\nGi·∫£i th√≠ch: Tr∆∞·ªõc danh t·ª´ 'disasters' c·∫ßn m·ªôt t√≠nh t·ª´ b·ªï nghƒ©a. 'Environmental disasters' = th·∫£m h·ªça m√¥i tr∆∞·ªùng.\n\nD·ªãch c√¢u: C√≥ th·ªÉ l√†m g√¨ ƒë·ªÉ b·∫£o v·ªá m·ªçi ng∆∞·ªùi kh·ªèi c√°c th·∫£m h·ªça m√¥i tr∆∞·ªùng?", "isCorrect": true },
                    { "text": "environment", "isCorrect": false, "rationale": "Sai lo·∫°i t·ª´." },
                    { "text": "environmentally", "isCorrect": false, "rationale": "Sai lo·∫°i t·ª´." },
                    { "text": "environmentalist", "isCorrect": false, "rationale": "Sai lo·∫°i t·ª´." }
                ]
            },
            {
                "questionNumber": 22,
                "question": "Exercise 3 - Q16: The _________ from the plane crash was scattered over a wide area, making the search and recovery efforts challenging for the rescue teams.",
                "answerOptions": [
                    { "text": "debris", "rationale": "D·ªãch ƒë√°p √°n:\nA. debris (noun): m·∫£nh v·ª°/ƒë·ªëng ƒë·ªï n√°t\nB. dust (noun): b·ª•i\nC. piece (noun): m·∫£nh (s·ªë √≠t)\nD. waste (noun): r√°c th·∫£i\n\nGi·∫£i th√≠ch: 'Debris' l√† t·ª´ chuy√™n d√πng ch·ªâ c√°c m·∫£nh v·ª° v∆∞∆°ng v√£i sau tai n·∫°n ho·∫∑c th·∫£m h·ªça.\n\nD·ªãch c√¢u: C√°c m·∫£nh v·ª° t·ª´ v·ª• tai n·∫°n m√°y bay n·∫±m r·∫£i r√°c tr√™n m·ªôt khu v·ª±c r·ªông l·ªõn, khi·∫øn n·ªó l·ª±c t√¨m ki·∫øm v√† ph·ª•c h·ªìi tr·ªü n√™n kh√≥ khƒÉn ƒë·ªëi v·ªõi c√°c ƒë·ªôi c·ª©u h·ªô.", "isCorrect": true },
                    { "text": "dust", "isCorrect": false, "rationale": "Sai nghƒ©a." },
                    { "text": "piece", "isCorrect": false, "rationale": "Sai. Ph·∫£i l√† s·ªë nhi·ªÅu 'pieces' m·ªõi h·ª£p ng·ªØ ph√°p, nh∆∞ng 'debris' v·∫´n ch√≠nh x√°c h∆°n v·ªÅ thu·∫≠t ng·ªØ." },
                    { "text": "waste", "isCorrect": false, "rationale": "Sai nghƒ©a." }
                ]
            },
            {
                "questionNumber": 23,
                "question": "Exercise 3 - Q17: She is good ___________ meteorology.",
                "answerOptions": [
                    { "text": "at", "rationale": "D·ªãch ƒë√°p √°n:\nA. on (prep): tr√™n\nB. in (prep): trong\nC. at (prep): t·∫°i\nD. for (prep): cho\n\nGi·∫£i th√≠ch: C·∫•u tr√∫c 'be good at + Noun/V-ing' (gi·ªèi v·ªÅ c√°i g√¨).\n\nD·ªãch c√¢u: C√¥ ·∫•y gi·ªèi v·ªÅ kh√≠ t∆∞·ª£ng h·ªçc.", "isCorrect": true },
                    { "text": "on", "isCorrect": false, "rationale": "Sai gi·ªõi t·ª´." },
                    { "text": "in", "isCorrect": false, "rationale": "Sai gi·ªõi t·ª´." },
                    { "text": "for", "isCorrect": false, "rationale": "Sai gi·ªõi t·ª´ (good for = t·ªët cho s·ª©c kh·ªèe/l·ª£i √≠ch)." }
                ]
            },
            {
                "questionNumber": 24,
                "question": "Exercise 3 - Q18: Last night, volcano Maui ___________ and the large areas of land were affected.",
                "answerOptions": [
                    { "text": "erupted", "rationale": "D·ªãch ƒë√°p √°n:\nA. erupts (verb - hi·ªán t·∫°i ƒë∆°n): phun tr√†o\nB. erupted (verb - qu√° kh·ª© ƒë∆°n): ƒë√£ phun tr√†o\nC. erupting (verb - V-ing): ƒëang phun tr√†o\nD. erupt (verb - nguy√™n th·ªÉ): phun tr√†o\n\nGi·∫£i th√≠ch: Tr·∫°ng t·ª´ 'Last night' (t·ªëi qua) ch·ªâ th·ªùi gian trong qu√° kh·ª© -> D√πng th√¨ qu√° kh·ª© ƒë∆°n (erupted).\n\nD·ªãch c√¢u: T·ªëi qua, n√∫i l·ª≠a Maui ƒë√£ phun tr√†o v√† nh·ªØng v√πng ƒë·∫•t r·ªông l·ªõn ƒë√£ b·ªã ·∫£nh h∆∞·ªüng.", "isCorrect": true },
                    { "text": "erupts", "isCorrect": false, "rationale": "Sai th√¨." },
                    { "text": "erupting", "isCorrect": false, "rationale": "Sai ng·ªØ ph√°p (thi·∫øu to be)." },
                    { "text": "erupt", "isCorrect": false, "rationale": "Sai th√¨." }
                ]
            },
            {
                "questionNumber": 25,
                "question": "Exercise 3 - Q19: When a volcanic eruption occurs, the hot ___________ pours downhill.",
                "answerOptions": [
                    { "text": "lava", "rationale": "D·ªãch ƒë√°p √°n:\nA. ash (noun): tro\nB. smoke (noun): kh√≥i\nC. dirt (noun): ƒë·∫•t b·∫©n\nD. lava (noun): dung nham\n\nGi·∫£i th√≠ch: C√°i 'n√≥ng' (hot) v√† 'ch·∫£y xu·ªëng ƒë·ªìi' (pours downhill) l√† ƒë·∫∑c ƒëi·ªÉm c·ªßa 'lava' (dung nham).\n\nD·ªãch c√¢u: Khi n√∫i l·ª≠a phun tr√†o x·∫£y ra, dung nham n√≥ng ch·∫£y xu·ªëng ƒë·ªìi.", "isCorrect": true },
                    { "text": "ash", "isCorrect": false, "rationale": "Sai. Tro bay l√™n tr·ªùi, kh√¥ng ch·∫£y xu·ªëng ƒë·ªìi." },
                    { "text": "smoke", "isCorrect": false, "rationale": "Sai. Kh√≥i bay l√™n." },
                    { "text": "dirt", "isCorrect": false, "rationale": "Sai." }
                ]
            },
            {
                "questionNumber": 26,
                "question": "Exercise 3 - Q20: Since there are two villages located at the foot of the volcano, the local population was __________.",
                "answerOptions": [
                    { "text": "evacuated", "rationale": "D·ªãch ƒë√°p √°n:\nA. evacuated (verb - b·ªã ƒë·ªông): ƒë∆∞·ª£c s∆° t√°n\nB. killed (verb): b·ªã gi·∫øt\nC. died (verb): ch·∫øt\nD. injured (verb): b·ªã th∆∞∆°ng\n\nGi·∫£i th√≠ch: V√¨ l√†ng n·∫±m d∆∞·ªõi ch√¢n n√∫i l·ª≠a nguy hi·ªÉm, h√†nh ƒë·ªông h·ª£p l√Ω v√† th∆∞·ªùng x·∫£y ra nh·∫•t l√† 'ƒë∆∞·ª£c s∆° t√°n' (evacuated) ƒë·ªÉ ƒë·∫£m b·∫£o an to√†n.\n\nD·ªãch c√¢u: V√¨ c√≥ hai ng√¥i l√†ng n·∫±m d∆∞·ªõi ch√¢n n√∫i l·ª≠a, ng∆∞·ªùi d√¢n ƒë·ªãa ph∆∞∆°ng ƒë√£ ƒë∆∞·ª£c s∆° t√°n.", "isCorrect": true },
                    { "text": "killed", "isCorrect": false, "rationale": "Kh√¥ng h·ª£p l√Ω trong ng·ªØ c·∫£nh ph√≤ng ng·ª´a." },
                    { "text": "died", "isCorrect": false, "rationale": "Sai ng·ªØ ph√°p (die l√† n·ªôi ƒë·ªông t·ª´, kh√¥ng d√πng b·ªã ƒë·ªông 'was died')." },
                    { "text": "injured", "isCorrect": false, "rationale": "Kh√¥ng h·ª£p l√Ω b·∫±ng evacuated." }
                ]
            }
        ];

        let score = 0;
        let answeredCount = 0;
        const totalQuestions = quizData.length;

        // Sounds (Short Base64 for offline compatibility)
        const soundCorrect = new Audio("data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAAABmYWN0BAAAAAAAAABkYXRhAAAAAA=="); // Placeholder - using synthesized logic below
        const soundWrong = new Audio("data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBIAAAABAAEAQB8AAEAfAAABAAgAAABmYWN0BAAAAAAAAABkYXRhAAAAAA=="); // Placeholder

        // Better Sound synthesis using Web Audio API for consistency without external files
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            if (type === 'correct') {
                // High pitch Ding
                osc.type = 'sine';
                osc.frequency.setValueAtTime(800, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.1);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.5);
            } else {
                // Low pitch Buzz
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(150, audioCtx.currentTime);
                osc.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.3);
            }
        }

        function initQuiz() {
            const quizArea = document.getElementById('quiz-area');
            document.getElementById('total-text').innerText = totalQuestions;

            quizData.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'question-card';
                card.id = `card-${index}`;

                // Header
                let qNumber = `C√¢u ${index + 1}`;
                if(item.question.includes("Exercise 2")) qNumber = `B√†i 2 - C√¢u ${item.questionNumber}`;
                if(item.question.includes("Exercise 3")) qNumber = `B√†i 3 - C√¢u ${item.questionNumber}`;
                
                // Question Text (Handling placeholders)
                const displayText = item.question.replace("Exercise 2 - Q" + item.questionNumber + ": ", "").replace("Exercise 3 - Q" + item.questionNumber + ": ", "");

                // Options HTML
                // Find correct answer index
                const correctIndex = item.answerOptions.findIndex(opt => opt.isCorrect);

                let optionsHtml = '';
                item.answerOptions.forEach((opt, optIndex) => {
                    // Create a composite value to check: isCorrect
                    optionsHtml += `<button class="option-btn" onclick="checkAnswer(${index}, ${optIndex}, ${opt.isCorrect})">${String.fromCharCode(65+optIndex)}. ${opt.text}</button>`;
                });

                // Explanation text
                const rationale = item.answerOptions.find(opt => opt.isCorrect)?.rationale || "ƒêang c·∫≠p nh·∫≠t...";

                card.innerHTML = `
                    <div class="question-header">
                        <span class="q-tag">${qNumber}</span>
                    </div>
                    <div class="question-text">${displayText}</div>
                    <div class="options-grid" id="options-${index}">
                        ${optionsHtml}
                    </div>
                    <div class="explanation-box" id="explain-${index}">
                        <div class="explanation-header">
                            <span style="font-size: 1.5rem;">üí°</span> C√¥ Mai An gi·∫£i th√≠ch chi ti·∫øt:
                        </div>
                        <div class="explanation-content">${rationale}</div>
                    </div>
                `;

                quizArea.appendChild(card);
            });
        }

        function checkAnswer(cardIndex, btnIndex, isCorrect) {
            const optionsContainer = document.getElementById(`options-${cardIndex}`);
            const buttons = optionsContainer.getElementsByClassName('option-btn');
            
            // If already answered, do nothing
            if(optionsContainer.dataset.answered === "true") return;

            optionsContainer.dataset.answered = "true";
            answeredCount++;
            document.getElementById('progress-text').innerText = answeredCount;

            const selectedBtn = buttons[btnIndex];

            if (isCorrect) {
                // Correct
                selectedBtn.classList.add('correct');
                playSound('correct');
                triggerConfetti();
                score++;
            } else {
                // Wrong
                selectedBtn.classList.add('wrong');
                playSound('wrong');
                
                // Highlight the correct answer automatically
                const dataItem = quizData[cardIndex];
                const correctBtnIndex = dataItem.answerOptions.findIndex(o => o.isCorrect);
                if(correctBtnIndex !== -1) {
                    buttons[correctBtnIndex].classList.add('correct');
                }
            }

            // Disable all buttons
            for (let btn of buttons) {
                btn.disabled = true;
            }

            // Show explanation
            document.getElementById(`explain-${cardIndex}`).style.display = 'block';
        }

        function finishQuiz() {
            if(answeredCount < totalQuestions) {
                const confirmMsg = confirm(`B·∫°n m·ªõi l√†m ${answeredCount}/${totalQuestions} c√¢u. B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën n·ªôp b√†i kh√¥ng?`);
                if(!confirmMsg) return;
            }

            const modal = document.getElementById('result-modal');
            const scoreDisplay = document.getElementById('final-score-display');
            const feedback = document.getElementById('feedback-msg');

            scoreDisplay.innerText = `${score}/${totalQuestions}`;

            const percentage = (score / totalQuestions) * 100;
            if(percentage === 100) {
                feedback.innerText = "Xu·∫•t s·∫Øc! B·∫°n l√† thi√™n t√†i ng·ªØ ph√°p! üåü";
                triggerConfetti();
            } else if (percentage >= 80) {
                feedback.innerText = "L√†m t·ªët l·∫Øm! Ch·ªâ m·ªôt ch√∫t n·ªØa l√† ho√†n h·∫£o! üî•";
            } else if (percentage >= 50) {
                feedback.innerText = "Kh√° t·ªët, nh∆∞ng h√£y xem l·∫°i ph·∫ßn gi·∫£i th√≠ch k·ªπ h∆°n nh√©! üìö";
            } else {
                feedback.innerText = "ƒê·ª´ng bu·ªìn, h√£y √¥n t·∫≠p l·∫°i t·ª´ v·ª±ng v√† th·ª≠ l·∫°i nh√©! üí™";
            }

            modal.style.display = 'flex';
        }

        // --- Simple Confetti Logic ---
        function triggerConfetti() {
            const canvas = document.getElementById('confetti-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const particles = [];
            const colors = ['#8854C0', '#00C9A7', '#FF4757', '#FFD700', '#00D26A'];

            for (let i = 0; i < 100; i++) {
                particles.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height - canvas.height,
                    vx: Math.random() * 4 - 2,
                    vy: Math.random() * 5 + 2,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    size: Math.random() * 8 + 4
                });
            }

            let animationId;
            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                let active = false;
                particles.forEach(p => {
                    p.x += p.vx;
                    p.y += p.vy;
                    if (p.y < canvas.height) active = true;
                    
                    ctx.fillStyle = p.color;
                    ctx.fillRect(p.x, p.y, p.size, p.size);
                });

                if (active) {
                    animationId = requestAnimationFrame(animate);
                } else {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                }
            }
            animate();
            
            // Stop after 2 seconds to save resources
            setTimeout(() => cancelAnimationFrame(animationId), 2000);
        }

        // Initialize
        window.onload = initQuiz;

    </script>
</body>
</html>
