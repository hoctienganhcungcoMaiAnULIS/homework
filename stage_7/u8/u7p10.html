<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr·∫Øc nghi·ªám: Both, Either, Neither, Each other - Ms Mai An ULIS</title>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        :root {
            --primary-purple: #8854C0;
            --primary-teal: #00C9A7;
            --correct-green: #00D26A;
            --wrong-red: #FF4757;
            --bg-color: #f0f4f8;
            --card-bg: #ffffff;
            --text-color: #2d3436;
        }

        body {
            font-family: 'Nunito', sans-serif;
            background-color: var(--bg-color);
            background-image: radial-gradient(#e0e0e0 15%, transparent 16%), radial-gradient(#e0e0e0 15%, transparent 16%);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        /* Header Style */
        header {
            text-align: center;
            background: linear-gradient(135deg, var(--primary-purple), #a29bfe);
            color: white;
            padding: 20px;
            border-radius: 20px;
            box-shadow: 0 8px 0 #5f27cd;
            margin-bottom: 30px;
            position: relative;
        }

        header h1 {
            margin: 0;
            font-size: 2rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        header p {
            margin: 5px 0 0;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .teacher-badge {
            background: white;
            color: var(--primary-purple);
            padding: 5px 15px;
            border-radius: 50px;
            font-weight: 700;
            font-size: 0.9rem;
            display: inline-block;
            margin-top: 10px;
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
        }

        /* Question Card */
        .quiz-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 8px 0 #dfe6e9;
            border: 2px solid #b2bec3;
            transition: transform 0.3s ease;
            position: relative;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .q-number {
            background: var(--primary-purple);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.2rem;
            box-shadow: 0 4px 0 #5f27cd;
        }

        .question-text {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.5;
            color: #2d3436;
        }

        /* 3D Buttons for Answers */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        @media (max-width: 600px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
        }

        .option-btn {
            background: white;
            border: 2px solid #dfe6e9;
            border-radius: 15px;
            padding: 15px 20px;
            font-size: 1.1rem;
            font-family: 'Nunito', sans-serif;
            font-weight: 700;
            color: #636e72;
            cursor: pointer;
            text-align: left;
            position: relative;
            box-shadow: 0 5px 0 #b2bec3;
            transition: all 0.1s;
            outline: none;
            display: flex;
            align-items: center;
        }

        .option-btn:hover:not(.disabled) {
            transform: translateY(-2px);
            background-color: #f7f9fa;
        }

        .option-btn:active:not(.disabled) {
            transform: translateY(5px);
            box-shadow: 0 0 0 #b2bec3;
        }

        .option-label {
            background: #dfe6e9;
            width: 30px;
            height: 30px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: #636e72;
            font-weight: 800;
        }

        /* Correct/Wrong States */
        .option-btn.correct {
            background-color: var(--correct-green);
            border-color: #00b85c;
            color: white;
            box-shadow: 0 5px 0 #008f47;
        }
        .option-btn.correct .option-label {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        .option-btn.wrong {
            background-color: var(--wrong-red);
            border-color: #ff2e40;
            color: white;
            box-shadow: 0 5px 0 #c41e2e;
            animation: shake 0.5s;
        }
        .option-btn.wrong .option-label {
            background: rgba(255,255,255,0.3);
            color: white;
        }

        .option-btn.disabled {
            cursor: default;
            opacity: 0.7;
            pointer-events: none;
        }

        /* Explanation Box */
        .explanation-box {
            margin-top: 20px;
            background: #e8f8f5;
            border: 2px solid var(--primary-teal);
            border-radius: 15px;
            padding: 20px;
            display: none; /* Hidden by default */
            animation: slideDown 0.3s ease-out;
        }

        .exp-header {
            color: var(--primary-teal);
            font-weight: 800;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .exp-content {
            font-size: 1rem;
            line-height: 1.6;
            color: #4a4a4a;
        }
        
        /* Formatting for the explanation content */
        .exp-content strong {
            color: #8854C0;
            display: block;
            margin-top: 10px;
        }
        
        .exp-content strong:first-child {
            margin-top: 0;
        }

        .exp-content ul {
            margin: 5px 0 15px 20px;
            padding: 0;
        }

        /* Footer / Submit */
        .footer-controls {
            text-align: center;
            margin-top: 40px;
            padding-bottom: 40px;
        }

        .submit-btn {
            background: var(--primary-teal);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.5rem;
            font-weight: 800;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 8px 0 #009e82;
            transition: transform 0.2s;
            font-family: 'Nunito', sans-serif;
            text-transform: uppercase;
        }

        .submit-btn:hover {
            transform: scale(1.05);
        }
        .submit-btn:active {
            transform: scale(0.95) translateY(4px);
            box-shadow: 0 4px 0 #009e82;
        }

        /* Modal Score */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .score-card {
            background: white;
            padding: 40px;
            border-radius: 30px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            border: 4px solid var(--primary-purple);
            box-shadow: 0 15px 0 #6c3da8;
            animation: popIn 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .score-circle {
            width: 150px;
            height: 150px;
            background: var(--primary-teal);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 3rem;
            font-weight: 800;
            border: 5px solid white;
            box-shadow: 0 0 0 5px var(--primary-teal);
        }

        .message {
            font-size: 1.5rem;
            color: var(--primary-purple);
            font-weight: 700;
            margin-bottom: 20px;
        }

        /* Animations */
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px) rotate(-5deg); }
            50% { transform: translateX(10px) rotate(5deg); }
            75% { transform: translateX(-10px) rotate(-5deg); }
            100% { transform: translateX(0); }
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes popIn {
            0% { opacity: 0; transform: scale(0.5); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* Hints Styling */
        .hint-btn {
            background: none;
            border: none;
            color: #b2bec3;
            cursor: pointer;
            font-size: 1.2rem;
            transition: color 0.3s;
        }
        .hint-btn:hover {
            color: #f1c40f;
        }
        .hint-text {
            display: none;
            font-size: 0.9rem;
            color: #e67e22;
            margin-top: 5px;
            font-style: italic;
        }

    </style>
</head>
<body>

    <div class="container">
        <header>
            <h1><i class="fas fa-gamepad"></i> Grammar Challenge</h1>
            <p>Topic: Both, Either, Neither, Each other</p>
            <div class="teacher-badge">
                <i class="fas fa-chalkboard-teacher"></i> Ms Mai An ULIS
            </div>
        </header>

        <div id="quiz-container">
            <!-- Questions will be injected here via JS -->
        </div>

        <div class="footer-controls">
            <button class="submit-btn" onclick="finishQuiz()">
                <i class="fas fa-trophy"></i> N·ªôp B√†i & Xem ƒêi·ªÉm
            </button>
        </div>
    </div>

    <!-- Score Modal -->
    <div class="modal-overlay" id="scoreModal">
        <div class="score-card">
            <div class="score-circle" id="finalScore">0/0</div>
            <div class="message" id="finalMessage">Tuy·ªát v·ªùi!</div>
            <p id="finalFeedback">B·∫°n ƒë√£ l√†m r·∫•t t·ªët!</p>
            <button class="submit-btn" style="font-size: 1rem; padding: 10px 20px;" onclick="location.reload()">
                <i class="fas fa-redo"></i> L√†m l·∫°i
            </button>
        </div>
    </div>

    <script>
        // --- DATA FROM JSON ---
        const quizData = {
          "questions": [
            {
              "questionNumber": 1,
              "question": "__________ of the sisters are beautiful.",
              "answerOptions": [
                { "text": "Both", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- Both (det/pronoun): C·∫£ hai\n- Either (det/pronoun): M·ªôt trong hai\n- Neither (det/pronoun): Kh√¥ng ai trong hai\n- Each (det/pronoun): M·ªói\n\n**Gi·∫£i th√≠ch:** ƒê·ªông t·ª´ trong c√¢u l√† 'are' (s·ªë nhi·ªÅu). Theo quy t·∫Øc, 'Both' lu√¥n ƒëi v·ªõi ƒë·ªông t·ª´ s·ªë nhi·ªÅu, trong khi 'Either' v√† 'Neither' th∆∞·ªùng ƒëi v·ªõi ƒë·ªông t·ª´ s·ªë √≠t.\n**D·ªãch c√¢u:** C·∫£ hai ch·ªã em ƒë·ªÅu xinh ƒë·∫πp.", "isCorrect": true },
                { "text": "Either", "rationale": "", "isCorrect": false },
                { "text": "Neither", "rationale": "", "isCorrect": false },
                { "text": "Each", "rationale": "", "isCorrect": false }
              ],
              "hint": "Ch√∫ √Ω ƒë·ªông t·ª´ 'are' ƒëang chia ·ªü s·ªë nhi·ªÅu."
            },
            {
              "questionNumber": 2,
              "question": "Neither of the answers __________ correct.",
              "answerOptions": [
                { "text": "is", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- is (verb): l√† (s·ªë √≠t)\n- are (verb): l√† (s·ªë nhi·ªÅu)\n- be (verb): l√† (nguy√™n th·ªÉ)\n- were (verb): l√† (qu√° kh·ª© s·ªë nhi·ªÅu)\n\n**Gi·∫£i th√≠ch:** 'Neither' (kh√¥ng c√°i n√†o trong hai) ƒë√≥ng vai tr√≤ ch·ªß ng·ªØ th√¨ ƒë·ªông t·ª´ ƒëi k√®m ph·∫£i chia ·ªü s·ªë √≠t (Singular).\n**D·ªãch c√¢u:** Kh√¥ng c√¢u tr·∫£ l·ªùi n√†o trong hai c√¢u l√† ƒë√∫ng c·∫£.", "isCorrect": true },
                { "text": "are", "rationale": "", "isCorrect": false },
                { "text": "be", "rationale": "", "isCorrect": false },
                { "text": "were", "rationale": "", "isCorrect": false }
              ],
              "hint": "ƒê·ªông t·ª´ ƒëi sau 'Neither' th∆∞·ªùng chia ·ªü s·ªë √≠t."
            },
            {
              "questionNumber": 3,
              "question": "We have two cars, but __________ of them works properly.",
              "answerOptions": [
                { "text": "neither", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- neither (pronoun): kh√¥ng c√°i n√†o\n- either (pronoun): c√°i n√†o c≈©ng ƒë∆∞·ª£c/m·ªôt trong hai\n- both (pronoun): c·∫£ hai\n- none (pronoun): kh√¥ng c√°i n√†o (cho 3 ƒë·ªëi t∆∞·ª£ng tr·ªü l√™n)\n\n**Gi·∫£i th√≠ch:** C√¢u c√≥ √Ω nghƒ©a t∆∞∆°ng ph·∫£n (d√πng 'but'). C√≥ 2 xe nh∆∞ng kh√¥ng xe n√†o ho·∫°t ƒë·ªông t·ªët. 'Neither' d√πng ƒë·ªÉ ph·ªß ƒë·ªãnh cho 2 ƒë·ªëi t∆∞·ª£ng.\n**D·ªãch c√¢u:** Ch√∫ng t√¥i c√≥ hai chi·∫øc xe, nh∆∞ng kh√¥ng chi·∫øc n√†o ho·∫°t ƒë·ªông t·ªët c·∫£.", "isCorrect": true },
                { "text": "either", "rationale": "", "isCorrect": false },
                { "text": "both", "rationale": "", "isCorrect": false },
                { "text": "none", "rationale": "", "isCorrect": false }
              ],
              "hint": "D√πng t·ª´ n√†o ƒë·ªÉ ph·ªß ƒë·ªãnh cho 2 ƒë·ªëi t∆∞·ª£ng?"
            },
            {
              "questionNumber": 4,
              "question": "Would you like tea or coffee? - You can have __________.",
              "answerOptions": [
                { "text": "either", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- either (pronoun): m·ªôt trong hai (c√°i n√†o c≈©ng ƒë∆∞·ª£c)\n- neither (pronoun): kh√¥ng c√°i n√†o\n- both (pronoun): c·∫£ hai\n- all (pronoun): t·∫•t c·∫£\n\n**Gi·∫£i th√≠ch:** Ng∆∞·ªùi n√≥i ƒë∆∞a ra s·ª± l·ª±a ch·ªçn (choice). 'Either' mang nghƒ©a l√† b·∫°n c√≥ th·ªÉ ch·ªçn m·ªôt trong hai lo·∫°i.\n**D·ªãch c√¢u:** B·∫°n mu·ªën d√πng tr√† hay c√† ph√™? - B·∫°n c√≥ th·ªÉ d√πng lo·∫°i n√†o c≈©ng ƒë∆∞·ª£c.", "isCorrect": true },
                { "text": "neither", "rationale": "", "isCorrect": false },
                { "text": "both", "rationale": "", "isCorrect": false },
                { "text": "all", "rationale": "", "isCorrect": false }
              ],
              "hint": "T·ª´ n√†y d√πng khi n√≥i v·ªÅ s·ª± l·ª±a ch·ªçn: c√°i n√†y ho·∫∑c c√°i kia ƒë·ªÅu ƒë∆∞·ª£c."
            },
            {
              "questionNumber": 5,
              "question": "Both of __________ are going to the party tonight.",
              "answerOptions": [
                { "text": "us", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- us (object pronoun): ch√∫ng t√¥i\n- we (subject pronoun): ch√∫ng t√¥i\n- our (possessive adj): c·ªßa ch√∫ng t√¥i\n- ours (possessive pronoun): c√°i c·ªßa ch√∫ng t√¥i\n\n**Gi·∫£i th√≠ch:** Sau gi·ªõi t·ª´ 'of', ta b·∫Øt bu·ªôc ph·∫£i d√πng ƒë·∫°i t·ª´ t√¢n ng·ªØ (object pronoun). 'Us' l√† ƒë·∫°i t·ª´ t√¢n ng·ªØ c·ªßa 'We'.\n**D·ªãch c√¢u:** C·∫£ hai ch√∫ng t√¥i ƒë·ªÅu s·∫Ω ƒëi d·ª± ti·ªác t·ªëi nay.", "isCorrect": true },
                { "text": "we", "rationale": "", "isCorrect": false },
                { "text": "our", "rationale": "", "isCorrect": false },
                { "text": "ours", "rationale": "", "isCorrect": false }
              ],
              "hint": "Sau gi·ªõi t·ª´ 'of' ph·∫£i d√πng ƒë·∫°i t·ª´ t√¢n ng·ªØ (us, you, them)."
            },
            {
              "questionNumber": 6,
              "question": "My parents __________ love gardening.",
              "answerOptions": [
                { "text": "both", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- both (pronoun): c·∫£ hai\n- either (pronoun): ho·∫∑c (c√°i n√†y/c√°i kia)\n- neither (pronoun): kh√¥ng c√°i n√†o\n- all (pronoun): t·∫•t c·∫£\n\n**Gi·∫£i th√≠ch:** 'Both' c√≥ th·ªÉ ƒë·ª©ng tr∆∞·ªõc ƒë·ªông t·ª´ th∆∞·ªùng (love) ƒë·ªÉ nh·∫•n m·∫°nh c·∫£ hai ch·ªß ng·ªØ ƒë·ªÅu th·ª±c hi·ªán h√†nh ƒë·ªông. C√¢u kh·∫≥ng ƒë·ªãnh n√™n d√πng 'Both'.\n**D·ªãch c√¢u:** B·ªë m·∫π t√¥i c·∫£ hai ƒë·ªÅu y√™u th√≠ch l√†m v∆∞·ªùn.", "isCorrect": true },
                { "text": "either", "rationale": "", "isCorrect": false },
                { "text": "neither", "rationale": "", "isCorrect": false },
                { "text": "all", "rationale": "", "isCorrect": false }
              ],
              "hint": "T·ª´ n√†y ƒë·ª©ng tr∆∞·ªõc ƒë·ªông t·ª´ th∆∞·ªùng ƒë·ªÉ ch·ªâ 'c·∫£ hai'."
            },
            {
              "questionNumber": 7,
              "question": "Jane and I have known __________ for ten years.",
              "answerOptions": [
                { "text": "each other", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- each other (pronoun): nhau (l·∫´n nhau)\n- themselves (reflexive pronoun): ch√≠nh h·ªç\n- ourselves (reflexive pronoun): ch√≠nh ch√∫ng t√¥i\n- together (adverb): c√πng nhau\n\n**Gi·∫£i th√≠ch:** 'Each other' d√πng ƒë·ªÉ ch·ªâ h√†nh ƒë·ªông qua l·∫°i gi·ªØa hai ng∆∞·ªùi (Jane bi·∫øt t√¥i v√† t√¥i bi·∫øt Jane). 'Together' l√† tr·∫°ng t·ª´, kh√¥ng l√†m t√¢n ng·ªØ ƒë∆∞·ª£c.\n**D·ªãch c√¢u:** Jane v√† t√¥i ƒë√£ bi·∫øt nhau ƒë∆∞·ª£c m∆∞·ªùi nƒÉm r·ªìi.", "isCorrect": true },
                { "text": "themselves", "rationale": "", "isCorrect": false },
                { "text": "ourselves", "rationale": "", "isCorrect": false },
                { "text": "together", "rationale": "", "isCorrect": false }
              ],
              "hint": "D√πng t·ª´ ch·ªâ h√†nh ƒë·ªông qua l·∫°i gi·ªØa hai ng∆∞·ªùi (nhau)."
            },
            {
              "questionNumber": 8,
              "question": "I haven't met __________ of his two brothers.",
              "answerOptions": [
                { "text": "either", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- either (pronoun): m·ªôt trong hai (d√πng trong c√¢u ph·ªß ƒë·ªãnh)\n- neither (pronoun): kh√¥ng c√°i n√†o\n- both (pronoun): c·∫£ hai\n- all (pronoun): t·∫•t c·∫£\n\n**Gi·∫£i th√≠ch:** C√¢u ƒë√£ c√≥ 'not' (haven't), n√™n ta ph·∫£i d√πng c·∫•u tr√∫c 'not ... either' (kh√¥ng ai trong hai). Kh√¥ng d√πng 'Neither' v√¨ 'Neither' ƒë√£ mang nghƒ©a ph·ªß ƒë·ªãnh, kh√¥ng ƒëi k√®m v·ªõi 'not' n·ªØa.\n**D·ªãch c√¢u:** T√¥i ch∆∞a g·∫∑p ng∆∞·ªùi n√†o trong s·ªë hai anh em c·ªßa c·∫≠u ·∫•y.", "isCorrect": true },
                { "text": "neither", "rationale": "", "isCorrect": false },
                { "text": "both", "rationale": "", "isCorrect": false },
                { "text": "all", "rationale": "", "isCorrect": false }
              ],
              "hint": "Trong c√¢u ph·ªß ƒë·ªãnh (c√≥ not), d√πng 'either' ƒë·ªÉ n√≥i 'kh√¥ng c√°i n√†o trong hai'."
            },
            {
              "questionNumber": 9,
              "question": "__________ of the students passed the exam. It was too difficult.",
              "answerOptions": [
                { "text": "Neither", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- Neither (pronoun): Kh√¥ng ai trong hai\n- Both (pronoun): C·∫£ hai\n- Either (pronoun): M·ªôt trong hai\n- All (pronoun): T·∫•t c·∫£\n\n**Gi·∫£i th√≠ch:** V·∫ø sau n√≥i 'It was too difficult' (N√≥ qu√° kh√≥), ng·ª• √Ω l√† kh√¥ng ai l√†m ƒë∆∞·ª£c. 'Neither' mang nghƒ©a ph·ªß ƒë·ªãnh (c·∫£ hai ƒë·ªÅu kh√¥ng).\n**D·ªãch c√¢u:** Kh√¥ng ai trong hai h·ªçc sinh ƒë·∫≠u k·ª≥ thi c·∫£. N√≥ qu√° kh√≥.", "isCorrect": true },
                { "text": "Both", "rationale": "", "isCorrect": false },
                { "text": "Either", "rationale": "", "isCorrect": false },
                { "text": "All", "rationale": "", "isCorrect": false }
              ],
              "hint": "C·∫ßn m·ªôt t·ª´ ph·ªß ƒë·ªãnh v√¨ b√†i thi qu√° kh√≥."
            },
            {
              "questionNumber": 10,
              "question": "The students helped __________ with their homework.",
              "answerOptions": [
                { "text": "one another", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- one another (pronoun): l·∫´n nhau\n- themselves (reflexive pronoun): ch√≠nh h·ªç\n- together (adverb): c√πng nhau\n- other (adj/pronoun): kh√°c\n\n**Gi·∫£i th√≠ch:** 'One another' ƒë·ªìng nghƒ©a v·ªõi 'Each other', di·ªÖn t·∫£ h√†nh ƒë·ªông gi√∫p ƒë·ª° qua l·∫°i gi·ªØa nhi·ªÅu ng∆∞·ªùi.\n**D·ªãch c√¢u:** C√°c h·ªçc sinh ƒë√£ gi√∫p ƒë·ª° l·∫´n nhau l√†m b√†i t·∫≠p v·ªÅ nh√†.", "isCorrect": true },
                { "text": "themselves", "rationale": "", "isCorrect": false },
                { "text": "together", "rationale": "", "isCorrect": false },
                { "text": "other", "rationale": "", "isCorrect": false }
              ],
              "hint": "'One another' c√≥ nghƒ©a gi·ªëng v·ªõi 'Each other'."
            },
            {
              "questionNumber": 11,
              "question": "They are __________ tired after the long trip.",
              "answerOptions": [
                { "text": "both", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- both (pronoun): c·∫£ hai\n- either (pronoun): ho·∫∑c (c√°i n√†y/c√°i kia)\n- neither (pronoun): kh√¥ng ai\n- each (pronoun): m·ªói\n\n**Gi·∫£i th√≠ch:** 'Both' ƒë·ª©ng sau ƒë·ªông t·ª´ to be (are) ƒë·ªÉ ch·ªâ c·∫£ hai ch·ªß ng·ªØ ƒë·ªÅu c√≥ tr·∫°ng th√°i ƒë√≥.\n**D·ªãch c√¢u:** C·∫£ hai h·ªç ƒë·ªÅu m·ªát m·ªèi sau chuy·∫øn ƒëi d√†i.", "isCorrect": true },
                { "text": "either", "rationale": "", "isCorrect": false },
                { "text": "neither", "rationale": "", "isCorrect": false },
                { "text": "each", "rationale": "", "isCorrect": false }
              ],
              "hint": "V·ªã tr√≠ c·ªßa 'both' l√† ƒë·ª©ng sau ƒë·ªông t·ª´ to be."
            },
            {
              "questionNumber": 12,
              "question": "__________ of the pens works. They are out of ink.",
              "answerOptions": [
                { "text": "Neither", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- Neither (pronoun): Kh√¥ng c√°i n√†o trong hai\n- Either (pronoun): M·ªôt trong hai\n- Both (pronoun): C·∫£ hai\n- All (pronoun): T·∫•t c·∫£\n\n**Gi·∫£i th√≠ch:** 'They are out of ink' (Ch√∫ng h·∫øt m·ª±c) nghƒ©a l√† kh√¥ng c√°i b√∫t n√†o d√πng ƒë∆∞·ª£c. 'Neither' mang nghƒ©a ph·ªß ƒë·ªãnh. Ch√∫ √Ω ƒë·ªông t·ª´ 'works' ƒëang chia s·ªë √≠t (h·ª£p v·ªõi Neither).\n**D·ªãch c√¢u:** Kh√¥ng chi·∫øc b√∫t n√†o trong hai chi·∫øc d√πng ƒë∆∞·ª£c c·∫£. Ch√∫ng ƒë·ªÅu h·∫øt m·ª±c.", "isCorrect": true },
                { "text": "Either", "rationale": "", "isCorrect": false },
                { "text": "Both", "rationale": "", "isCorrect": false },
                { "text": "All", "rationale": "", "isCorrect": false }
              ],
              "hint": "C·∫£ hai ƒë·ªÅu h·∫øt m·ª±c, nghƒ©a l√† 'kh√¥ng c√°i n√†o' ho·∫°t ƒë·ªông."
            },
            {
              "questionNumber": 13,
              "question": "Can __________ of you speak French?",
              "answerOptions": [
                { "text": "either", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- either (pronoun): m·ªôt trong hai\n- neither (pronoun): kh√¥ng ai trong hai\n- both (pronoun): c·∫£ hai\n- all (pronoun): t·∫•t c·∫£\n\n**Gi·∫£i th√≠ch:** Trong c√¢u h·ªèi, 'Either' ƒë∆∞·ª£c d√πng ƒë·ªÉ h·ªèi xem c√≥ 'ai trong s·ªë hai ng∆∞·ªùi' l√†m ƒë∆∞·ª£c vi·ªác g√¨ ƒë√≥ kh√¥ng. ƒê·ªông t·ª´ 'speak' nguy√™n th·ªÉ do ƒëi sau 'Can', nh∆∞ng √Ω nghƒ©a ·ªü ƒë√¢y l√† h·ªèi s·ª± l·ª±a ch·ªçn/kh·∫£ nƒÉng c·ªßa 1 trong 2.\n**D·ªãch c√¢u:** C√≥ ai trong hai b·∫°n n√≥i ƒë∆∞·ª£c ti·∫øng Ph√°p kh√¥ng?", "isCorrect": true },
                { "text": "neither", "rationale": "", "isCorrect": false },
                { "text": "both", "rationale": "", "isCorrect": false },
                { "text": "all", "rationale": "", "isCorrect": false }
              ],
              "hint": "D√πng 'either' trong c√¢u h·ªèi ƒë·ªÉ √Ω ch·ªâ 'ng∆∞·ªùi n√†o ƒë√≥ trong hai ng∆∞·ªùi'."
            },
            {
              "questionNumber": 14,
              "question": "Both __________ very smart.",
              "answerOptions": [
                { "text": "boys are", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- boys are (noun + verb): nh·ªØng c·∫≠u b√© l√†\n- boy is (noun + verb): c·∫≠u b√© l√†\n- boys is (noun + verb): sai ng·ªØ ph√°p\n- of boys are (phrase + verb): thi·∫øu t·ª´ h·∫°n ƒë·ªãnh (the/my)\n\n**Gi·∫£i th√≠ch:** 'Both' ƒëi tr·ª±c ti·∫øp v·ªõi danh t·ª´ s·ªë nhi·ªÅu (boys) v√† ƒë·ªông t·ª´ s·ªë nhi·ªÅu (are).\n**D·ªãch c√¢u:** C·∫£ hai c·∫≠u b√© ƒë·ªÅu r·∫•t th√¥ng minh.", "isCorrect": true },
                { "text": "boy is", "rationale": "", "isCorrect": false },
                { "text": "boys is", "rationale": "", "isCorrect": false },
                { "text": "of boys are", "rationale": "", "isCorrect": false }
              ],
              "hint": "C·∫•u tr√∫c: Both + N(s·ªë nhi·ªÅu) + V(s·ªë nhi·ªÅu)."
            },
            {
              "questionNumber": 15,
              "question": "We should listen to __________.",
              "answerOptions": [
                { "text": "each other", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- each other (pronoun): l·∫´n nhau\n- together (adverb): c√πng nhau\n- both (pronoun): c·∫£ hai\n- ourselves (reflexive pronoun): ch√≠nh ch√∫ng ta\n\n**Gi·∫£i th√≠ch:** 'Listen to' c·∫ßn m·ªôt t√¢n ng·ªØ. 'Each other' ƒë√≥ng vai tr√≤ t√¢n ng·ªØ ch·ªâ s·ª± t∆∞∆°ng t√°c qua l·∫°i (ng∆∞·ªùi n√†y nghe ng∆∞·ªùi kia).\n**D·ªãch c√¢u:** Ch√∫ng ta n√™n l·∫Øng nghe l·∫´n nhau.", "isCorrect": true },
                { "text": "together", "rationale": "", "isCorrect": false },
                { "text": "both", "rationale": "", "isCorrect": false },
                { "text": "ourselves", "rationale": "", "isCorrect": false }
              ],
              "hint": "H√†nh ƒë·ªông qua l·∫°i: A nghe B v√† B nghe A."
            },
            {
              "questionNumber": 16,
              "question": "Neither of them __________ a car.",
              "answerOptions": [
                { "text": "has", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- has (verb): c√≥ (s·ªë √≠t)\n- have (verb): c√≥ (s·ªë nhi·ªÅu)\n- having (verb): ƒëang c√≥\n- to have (verb): ƒë·ªÉ c√≥\n\n**Gi·∫£i th√≠ch:** 'Neither' ƒë√≥ng vai tr√≤ ch·ªß ng·ªØ y√™u c·∫ßu ƒë·ªông t·ª´ chia ·ªü ng√¥i th·ª© 3 s·ªë √≠t (Singular).\n**D·ªãch c√¢u:** Kh√¥ng ai trong hai ng∆∞·ªùi h·ªç c√≥ xe h∆°i c·∫£.", "isCorrect": true },
                { "text": "have", "rationale": "", "isCorrect": false },
                { "text": "having", "rationale": "", "isCorrect": false },
                { "text": "to have", "rationale": "", "isCorrect": false }
              ],
              "hint": "'Neither' ƒëi v·ªõi ƒë·ªông t·ª´ s·ªë √≠t."
            },
            {
              "questionNumber": 17,
              "question": "__________ of the shirts is clean.",
              "answerOptions": [
                { "text": "Neither", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- Neither (pronoun): Kh√¥ng c√°i n√†o\n- Both (pronoun): C·∫£ hai\n- All (pronoun): T·∫•t c·∫£\n- Some (pronoun): M·ªôt v√†i\n\n**Gi·∫£i th√≠ch:** ƒê·ªông t·ª´ 'is' chia ·ªü s·ªë √≠t, n√™n ta ph·∫£i ch·ªçn 'Neither' (v√¨ Both, All, Some ƒëi v·ªõi ƒë·ªông t·ª´ s·ªë nhi·ªÅu).\n**D·ªãch c√¢u:** Kh√¥ng chi·∫øc √°o n√†o trong hai chi·∫øc l√† s·∫°ch c·∫£.", "isCorrect": true },
                { "text": "Both", "rationale": "", "isCorrect": false },
                { "text": "All", "rationale": "", "isCorrect": false },
                { "text": "Some", "rationale": "", "isCorrect": false }
              ],
              "hint": "ƒê·ªông t·ª´ 'is' l√† s·ªë √≠t."
            },
            {
              "questionNumber": 18,
              "question": "Does __________ of the parents know about this?",
              "answerOptions": [
                { "text": "either", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- either (pronoun): m·ªôt trong hai\n- both (pronoun): c·∫£ hai\n- all (pronoun): t·∫•t c·∫£\n- some (pronoun): m·ªôt v√†i\n\n**Gi·∫£i th√≠ch:** Tr·ª£ ƒë·ªông t·ª´ 'Does' l√† s·ªë √≠t, n√™n ch·ªß ng·ªØ ph·∫£i l√† 'either'. N·∫øu d√πng 'Both' th√¨ tr·ª£ ƒë·ªông t·ª´ ph·∫£i l√† 'Do'.\n**D·ªãch c√¢u:** C√≥ ai trong hai b·ªë m·∫π bi·∫øt v·ªÅ vi·ªác n√†y kh√¥ng?", "isCorrect": true },
                { "text": "both", "rationale": "", "isCorrect": false },
                { "text": "all", "rationale": "", "isCorrect": false },
                { "text": "some", "rationale": "", "isCorrect": false }
              ],
              "hint": "Tr·ª£ ƒë·ªông t·ª´ 'Does' d√πng cho ch·ªß ng·ªØ s·ªë √≠t."
            },
            {
              "questionNumber": 19,
              "question": "Both of the girls __________ cakes.",
              "answerOptions": [
                { "text": "baked", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- baked (verb): ƒë√£ n∆∞·ªõng (qu√° kh·ª©)\n- bakes (verb): n∆∞·ªõng (hi·ªán t·∫°i s·ªë √≠t)\n- baking (verb): ƒëang n∆∞·ªõng\n- to bake (verb): ƒë·ªÉ n∆∞·ªõng\n\n**Gi·∫£i th√≠ch:** 'Both' lu√¥n ƒëi v·ªõi ƒë·ªông t·ª´ s·ªë nhi·ªÅu. 'Bakes' l√† s·ªë √≠t (sai). 'Baked' l√† qu√° kh·ª© ƒë∆°n (ƒë√∫ng cho c·∫£ s·ªë √≠t v√† nhi·ªÅu).\n**D·ªãch c√¢u:** C·∫£ hai c√¥ g√°i ƒë·ªÅu ƒë√£ n∆∞·ªõng b√°nh.", "isCorrect": true },
                { "text": "bakes", "rationale": "", "isCorrect": false },
                { "text": "baking", "rationale": "", "isCorrect": false },
                { "text": "to bake", "rationale": "", "isCorrect": false }
              ],
              "hint": "ƒê·ªông t·ª´ ph·∫£i chia ph√π h·ª£p v·ªõi ch·ªß ng·ªØ s·ªë nhi·ªÅu."
            },
            {
              "questionNumber": 20,
              "question": "My two best friends always help __________.",
              "answerOptions": [
                { "text": "one another", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- one another (pronoun): l·∫´n nhau\n- themselves (reflexive pronoun): ch√≠nh h·ªç\n- together (adverb): c√πng nhau\n- both (pronoun): c·∫£ hai\n\n**Gi·∫£i th√≠ch:** Di·ªÖn t·∫£ h√†nh ƒë·ªông gi√∫p ƒë·ª° qua l·∫°i (ng∆∞·ªùi n√†y gi√∫p ng∆∞·ªùi kia) -> d√πng 'one another' (ho·∫∑c 'each other').\n**D·ªãch c√¢u:** Hai ng∆∞·ªùi b·∫°n th√¢n nh·∫•t c·ªßa t√¥i lu√¥n gi√∫p ƒë·ª° l·∫´n nhau.", "isCorrect": true },
                { "text": "themselves", "rationale": "", "isCorrect": false },
                { "text": "together", "rationale": "", "isCorrect": false },
                { "text": "both", "rationale": "", "isCorrect": false }
              ],
              "hint": "ƒê·ªìng nghƒ©a v·ªõi 'each other'."
            },
            {
              "questionNumber": 21,
              "question": "I don't like __________ of those movies.",
              "answerOptions": [
                { "text": "either", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- either (pronoun): c√°i n√†o trong hai\n- neither (pronoun): kh√¥ng c√°i n√†o\n- both (pronoun): c·∫£ hai\n- all (pronoun): t·∫•t c·∫£\n\n**Gi·∫£i th√≠ch:** C·∫•u tr√∫c 'don't ... either' = 'neither'. V√¨ ƒë√£ c√≥ 'don't', kh√¥ng d√πng 'neither' n·ªØa. Kh√¥ng d√πng 'both' v√¨ 'don't like both' nghƒ©a l√† kh√¥ng th√≠ch c·∫£ hai (nh∆∞ng c√≥ th·ªÉ th√≠ch 1), trong khi √Ω c√¢u n√†y th∆∞·ªùng l√† kh√¥ng th√≠ch c√°i n√†o c·∫£.\n**D·ªãch c√¢u:** T√¥i kh√¥ng th√≠ch b·ªô phim n√†o trong hai b·ªô phim ƒë√≥ c·∫£.", "isCorrect": true },
                { "text": "neither", "rationale": "", "isCorrect": false },
                { "text": "both", "rationale": "", "isCorrect": false },
                { "text": "all", "rationale": "", "isCorrect": false }
              ],
              "hint": "C·∫•u tr√∫c: Not ... either."
            },
            {
              "questionNumber": 22,
              "question": "Both of the __________ are expensive.",
              "answerOptions": [
                { "text": "dresses", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- dresses (noun): nh·ªØng chi·∫øc v√°y (s·ªë nhi·ªÅu)\n- dress (noun): chi·∫øc v√°y (s·ªë √≠t)\n- dressing (noun): s·ª± ƒÉn m·∫∑c\n- dressed (adj/verb): ƒë√£ m·∫∑c\n\n**Gi·∫£i th√≠ch:** 'Both of' + 'the' + Danh t·ª´ s·ªë nhi·ªÅu (Plural Noun).\n**D·ªãch c√¢u:** C·∫£ hai chi·∫øc v√°y ƒë·ªÅu ƒë·∫Øt ti·ªÅn.", "isCorrect": true },
                { "text": "dress", "rationale": "", "isCorrect": false },
                { "text": "dressing", "rationale": "", "isCorrect": false },
                { "text": "dressed", "rationale": "", "isCorrect": false }
              ],
              "hint": "Sau 'Both of the' ph·∫£i l√† danh t·ª´ s·ªë nhi·ªÅu."
            },
            {
              "questionNumber": 23,
              "question": "They looked at __________ and smiled.",
              "answerOptions": [
                { "text": "each other", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- each other (pronoun): nhau\n- themselves (reflexive pronoun): ch√≠nh h·ªç\n- together (adverb): c√πng nhau\n- both (pronoun): c·∫£ hai\n\n**Gi·∫£i th√≠ch:** H√†nh ƒë·ªông 'nh√¨n' v√† 'm·ªâm c∆∞·ªùi' l√† t∆∞∆°ng t√°c qua l·∫°i gi·ªØa hai ng∆∞·ªùi -> d√πng 'each other'.\n**D·ªãch c√¢u:** H·ªç nh√¨n nhau v√† m·ªâm c∆∞·ªùi.", "isCorrect": true },
                { "text": "themselves", "rationale": "", "isCorrect": false },
                { "text": "together", "rationale": "", "isCorrect": false },
                { "text": "both", "rationale": "", "isCorrect": false }
              ],
              "hint": "H√†nh ƒë·ªông qua l·∫°i: A nh√¨n B v√† B nh√¨n A."
            },
            {
              "questionNumber": 24,
              "question": "Neither of my friends __________ to go.",
              "answerOptions": [
                { "text": "wants", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- wants (verb): mu·ªën (s·ªë √≠t)\n- want (verb): mu·ªën (s·ªë nhi·ªÅu)\n- to want (verb): ƒë·ªÉ mu·ªën\n- wanting (verb): ƒëang mu·ªën\n\n**Gi·∫£i th√≠ch:** 'Neither' l√†m ch·ªß ng·ªØ, ƒë·ªông t·ª´ chia ·ªü s·ªë √≠t (th√™m 's').\n**D·ªãch c√¢u:** Kh√¥ng ng∆∞·ªùi b·∫°n n√†o c·ªßa t√¥i mu·ªën ƒëi c·∫£.", "isCorrect": true },
                { "text": "want", "rationale": "", "isCorrect": false },
                { "text": "to want", "rationale": "", "isCorrect": false },
                { "text": "wanting", "rationale": "", "isCorrect": false }
              ],
              "hint": "ƒê·ªông t·ª´ theo sau 'Neither' chia ·ªü s·ªë √≠t."
            },
            {
              "questionNumber": 25,
              "question": "Can I have __________ of these cakes?",
              "answerOptions": [
                { "text": "either", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- either (pronoun): m·ªôt trong hai\n- neither (pronoun): kh√¥ng c√°i n√†o\n- both (pronoun): c·∫£ hai\n- every (pronoun): m·ªçi\n\n**Gi·∫£i th√≠ch:** ƒê√¢y l√† c√¢u xin ph√©p ch·ªçn m·ªôt trong hai c√°i (c√°i n√†o c≈©ng ƒë∆∞·ª£c). 'Either of' + danh t·ª´ s·ªë nhi·ªÅu.\n**D·ªãch c√¢u:** T√¥i c√≥ th·ªÉ l·∫•y m·ªôt trong hai c√°i b√°nh n√†y ƒë∆∞·ª£c kh√¥ng?", "isCorrect": true },
                { "text": "neither", "rationale": "", "isCorrect": false },
                { "text": "both", "rationale": "", "isCorrect": false },
                { "text": "every", "rationale": "", "isCorrect": false }
              ],
              "hint": "Ch·ªçn m·ªôt trong hai."
            },
            {
              "questionNumber": 26,
              "question": "I don't think __________ of the twins is awake.",
              "answerOptions": [
                { "text": "either", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- either (pronoun): m·ªôt trong hai\n- neither (pronoun): kh√¥ng ai\n- both (pronoun): c·∫£ hai\n- all (pronoun): t·∫•t c·∫£\n\n**Gi·∫£i th√≠ch:** C√≥ 'don't' (ph·ªß ƒë·ªãnh) th√¨ ƒëi v·ªõi 'either'. C·ª•m 'not ... either' nghƒ©a l√† 'kh√¥ng ai trong hai'.\n**D·ªãch c√¢u:** T√¥i kh√¥ng nghƒ© l√† c√≥ ai trong c·∫∑p song sinh ƒë√£ th·ª©c d·∫≠y.", "isCorrect": true },
                { "text": "neither", "rationale": "", "isCorrect": false },
                { "text": "both", "rationale": "", "isCorrect": false },
                { "text": "all", "rationale": "", "isCorrect": false }
              ],
              "hint": "C√¢u ph·ªß ƒë·ªãnh + 'either'."
            },
            {
              "questionNumber": 27,
              "question": "We __________ went to the market.",
              "answerOptions": [
                { "text": "both", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- both (pronoun): c·∫£ hai\n- either (pronoun): m·ªôt trong hai\n- neither (pronoun): kh√¥ng ai\n- all (pronoun): t·∫•t c·∫£\n\n**Gi·∫£i th√≠ch:** 'Both' ƒë·ª©ng tr∆∞·ªõc ƒë·ªông t·ª´ th∆∞·ªùng (went) ƒë·ªÉ nh·∫•n m·∫°nh c·∫£ hai ch·ªß ng·ªØ ƒë·ªÅu th·ª±c hi·ªán h√†nh ƒë·ªông.\n**D·ªãch c√¢u:** C·∫£ hai ch√∫ng t√¥i ƒë·ªÅu ƒë√£ ƒëi ch·ª£.", "isCorrect": true },
                { "text": "either", "rationale": "", "isCorrect": false },
                { "text": "neither", "rationale": "", "isCorrect": false },
                { "text": "all", "rationale": "", "isCorrect": false }
              ],
              "hint": "V·ªã tr√≠ c·ªßa 'both' khi ƒëi v·ªõi ƒë·ªông t·ª´ th∆∞·ªùng."
            },
            {
              "questionNumber": 28,
              "question": "__________ of the computers is broken.",
              "answerOptions": [
                { "text": "Neither", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- Neither (pronoun): Kh√¥ng c√°i n√†o\n- Both (pronoun): C·∫£ hai\n- All (pronoun): T·∫•t c·∫£\n- Many (pronoun): Nhi·ªÅu\n\n**Gi·∫£i th√≠ch:** ƒê·ªông t·ª´ 'is' chia s·ªë √≠t -> Ch·ªçn 'Neither'. (Both, All, Many ƒëi v·ªõi ƒë·ªông t·ª´ s·ªë nhi·ªÅu).\n**D·ªãch c√¢u:** Kh√¥ng c√°i m√°y t√≠nh n√†o trong hai c√°i b·ªã h·ªèng c·∫£.", "isCorrect": true },
                { "text": "Both", "rationale": "", "isCorrect": false },
                { "text": "All", "rationale": "", "isCorrect": false },
                { "text": "Many", "rationale": "", "isCorrect": false }
              ],
              "hint": "Ch·ªâ c√≥ 'Neither' ƒëi v·ªõi ƒë·ªông t·ª´ s·ªë √≠t 'is'."
            },
            {
              "questionNumber": 29,
              "question": "They respect __________.",
              "answerOptions": [
                { "text": "one another", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- one another (pronoun): l·∫´n nhau\n- themselves (reflexive pronoun): b·∫£n th√¢n h·ªç\n- together (adverb): c√πng nhau\n- both (pronoun): c·∫£ hai\n\n**Gi·∫£i th√≠ch:** 'Respect' (t√¥n tr·ªçng) l√† h√†nh ƒë·ªông qua l·∫°i -> d√πng 'one another' ho·∫∑c 'each other'.\n**D·ªãch c√¢u:** H·ªç t√¥n tr·ªçng l·∫´n nhau.", "isCorrect": true },
                { "text": "themselves", "rationale": "", "isCorrect": false },
                { "text": "together", "rationale": "", "isCorrect": false },
                { "text": "both", "rationale": "", "isCorrect": false }
              ],
              "hint": "ƒê·ªìng nghƒ©a v·ªõi 'each other'."
            },
            {
              "questionNumber": 30,
              "question": "__________ of us knows the answer.",
              "answerOptions": [
                { "text": "Neither", "rationale": "**D·ªãch & Lo·∫°i t·ª´:**\n- Neither (pronoun): Kh√¥ng ai\n- Both (pronoun): C·∫£ hai\n- All (pronoun): T·∫•t c·∫£\n- Some (pronoun): M·ªôt v√†i\n\n**Gi·∫£i th√≠ch:** ƒê·ªông t·ª´ 'knows' chia ·ªü s·ªë √≠t -> D√πng 'Neither'. N·∫øu d√πng 'Both' th√¨ ƒë·ªông t·ª´ ph·∫£i l√† 'know'.\n**D·ªãch c√¢u:** Kh√¥ng ai trong hai ch√∫ng t√¥i bi·∫øt c√¢u tr·∫£ l·ªùi c·∫£.", "isCorrect": true },
                { "text": "Both", "rationale": "", "isCorrect": false },
                { "text": "All", "rationale": "", "isCorrect": false },
                { "text": "Some", "rationale": "", "isCorrect": false }
              ],
              "hint": "Ch√∫ √Ω ƒë·ªông t·ª´ 'knows' c√≥ 's' (s·ªë √≠t)."
            }
          ]
        };

        let score = 0;
        let answeredCount = 0;
        const totalQuestions = quizData.questions.length;
        // Shuffle questions
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        const shuffledQuestions = shuffle([...quizData.questions]);

        // Render functions
        const container = document.getElementById('quiz-container');

        shuffledQuestions.forEach((item, index) => {
            // Find the rationale text from the correct answer to display in the explanation box
            const correctOption = item.answerOptions.find(opt => opt.isCorrect);
            let explanationText = correctOption ? correctOption.rationale : "Kh√¥ng c√≥ gi·∫£i th√≠ch chi ti·∫øt.";
            
            // Format Markdown to HTML for explanation
            explanationText = explanationText.replace(/\*\*(.*?)\*\*:/g, '<strong><i class="fas fa-star" style="font-size:0.8em; margin-right:5px;"></i>$1:</strong>');
            explanationText = explanationText.replace(/\n/g, '<br>');

            const card = document.createElement('div');
            card.className = 'quiz-card';
            
            // SHUFFLE OPTIONS HERE
            const shuffledOptions = shuffle([...item.answerOptions]);

            // Generate Options HTML
            let optionsHTML = '';
            const letters = ['A', 'B', 'C', 'D'];
            
            shuffledOptions.forEach((opt, optIndex) => {
                optionsHTML += `
                    <button class="option-btn" onclick="checkAnswer(this, ${opt.isCorrect}, 'q${index}-exp')">
                        <span class="option-label">${letters[optIndex]}</span>
                        ${opt.text}
                    </button>
                `;
            });

            card.innerHTML = `
                <div class="question-header">
                    <div class="q-number">${index + 1}</div>
                    <button class="hint-btn" onclick="toggleHint('q${index}-hint')">
                        <i class="far fa-lightbulb"></i> G·ª£i √Ω
                    </button>
                </div>
                <div class="question-text">${item.question}</div>
                <div class="options-grid">
                    ${optionsHTML}
                </div>
                <div id="q${index}-hint" class="hint-text">
                    <i class="fas fa-info-circle"></i> ${item.hint}
                </div>
                <div id="q${index}-exp" class="explanation-box">
                    <div class="exp-header"><i class="fas fa-glasses"></i> Gi·∫£i th√≠ch chi ti·∫øt t·ª´ c√¥ Mai An:</div>
                    <div class="exp-content">${explanationText}</div>
                </div>
            `;
            container.appendChild(card);
        });

        // Audio Logic (Synthesized sounds to keep single file)
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            osc.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            if (type === 'correct') {
                // High pitch ding
                osc.type = 'sine';
                osc.frequency.setValueAtTime(800, audioCtx.currentTime);
                osc.frequency.exponentialRampToValueAtTime(1200, audioCtx.currentTime + 0.1);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.5);
            } else {
                // Low pitch buzz
                osc.type = 'sawtooth';
                osc.frequency.setValueAtTime(150, audioCtx.currentTime);
                osc.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
                gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                osc.start();
                osc.stop(audioCtx.currentTime + 0.3);
            }
        }

        // Interaction Logic
        function checkAnswer(btn, isCorrect, expId) {
            // Prevent multiple clicks in same card
            const parentGrid = btn.parentElement;
            if (parentGrid.classList.contains('locked')) return;
            parentGrid.classList.add('locked');

            // Disable all buttons in this card
            const buttons = parentGrid.querySelectorAll('.option-btn');
            buttons.forEach(b => b.classList.add('disabled'));

            // Highlight Correct Answer regardless of choice
            buttons.forEach(b => {
                 // Check logic based on onclick attribute which contains the truth value
                 if (b.getAttribute('onclick').includes('true')) {
                     b.classList.add('correct');
                 }
            });

            if (isCorrect) {
                btn.classList.add('correct'); // Reinforce visual
                score++;
                playSound('correct');
                confetti({
                    particleCount: 100,
                    spread: 70,
                    origin: { y: 0.6 },
                    colors: ['#00C9A7', '#8854C0', '#FFD700']
                });
            } else {
                btn.classList.add('wrong');
                playSound('wrong');
            }

            answeredCount++;
            
            // Show explanation
            document.getElementById(expId).style.display = 'block';
        }

        function toggleHint(id) {
            const hint = document.getElementById(id);
            hint.style.display = hint.style.display === 'block' ? 'none' : 'block';
        }

        function finishQuiz() {
            const modal = document.getElementById('scoreModal');
            const scoreEl = document.getElementById('finalScore');
            const msgEl = document.getElementById('finalMessage');
            const feedbackEl = document.getElementById('finalFeedback');

            scoreEl.innerText = `${score}/${totalQuestions}`;
            
            const percentage = (score / totalQuestions) * 100;
            
            if (percentage === 100) {
                msgEl.innerText = "Tuy·ªát ƒë·ªânh Kungfu! üèÜ";
                feedbackEl.innerText = "C√¥ Mai An r·∫•t t·ª± h√†o v·ªÅ em! Kh√¥ng sai c√¢u n√†o lu√¥n.";
                playSound('correct');
            } else if (percentage >= 80) {
                msgEl.innerText = "Gi·ªèi l·∫Øm! üåü";
                feedbackEl.innerText = "Ki·∫øn th·ª©c c·ªßa em r·∫•t v·ªØng. C·ªë g·∫Øng th√™m ch√∫t n·ªØa l√† ho√†n h·∫£o!";
            } else if (percentage >= 50) {
                msgEl.innerText = "Kh√° t·ªët! üëç";
                feedbackEl.innerText = "Em ƒë√£ hi·ªÉu b√†i, nh∆∞ng h√£y xem l·∫°i ph·∫ßn gi·∫£i th√≠ch ƒë·ªÉ n·∫Øm ch·∫Øc h∆°n nh√©.";
            } else {
                msgEl.innerText = "C·ªë l√™n nh√©! üí™";
                feedbackEl.innerText = "ƒê·ª´ng n·∫£n l√≤ng. H√£y ƒë·ªçc k·ªπ ph·∫ßn gi·∫£i th√≠ch chi ti·∫øt c√¥ ƒë√£ so·∫°n ƒë·ªÉ l√†m t·ªët h∆°n l·∫ßn sau.";
            }

            modal.style.display = 'flex';
            confetti({
                particleCount: 200,
                spread: 100,
                origin: { y: 0.6 }
            });
        }
    </script>
</body>
</html>
