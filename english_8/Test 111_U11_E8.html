<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNIT 11 ‚Äì SCIENCE AND TECHNOLOGY TEST 01 | Ms Mai An ULIS</title>
    <style>
        :root {
            --primary: #0056b3; /* Xanh d∆∞∆°ng ƒë·∫≠m ch·ªß ƒë·∫°o */
            --secondary: #003d80;
            --success: #28a745; /* Xanh l√° */
            --danger: #dc3545; /* ƒê·ªè */
            --warning: #fff3cd; /* N·ªÅn v√†ng nh·∫°t cho b√†i ƒë·ªçc */
            --text-dark: #212529;
            --light-bg: #f8f9fa;
            --font-main: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            --shadow-card: 0 4px 6px rgba(0,0,0,0.08);
        }

        * { box-sizing: border-box; }

        body {
            font-family: var(--font-main);
            background-color: #ebedef;
            color: var(--text-dark);
            margin: 0;
            padding-bottom: 100px;
            line-height: 1.6;
        }

        /* HEADER */
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2rem 1rem;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        header h1 { margin: 0; font-size: 1.8rem; font-weight: 800; letter-spacing: 1px; }
        header p { margin: 10px 0 0; opacity: 0.9; font-size: 1.1rem; }
        header .badge {
            background: #ffc107; color: #000; padding: 4px 10px; 
            border-radius: 4px; font-weight: bold; font-size: 0.8rem; text-transform: uppercase;
        }

        /* CONTAINER */
        .container {
            max-width: 900px;
            margin: -30px auto 0;
            padding: 0 15px;
            position: relative;
            z-index: 10;
        }

        /* SECTIONS */
        .section-header {
            background: white;
            padding: 15px 20px;
            margin-top: 30px;
            border-radius: 8px;
            border-left: 5px solid var(--primary);
            font-weight: 700;
            color: var(--primary);
            text-transform: uppercase;
            box-shadow: var(--shadow-card);
            display: flex;
            align-items: center;
        }
        .section-header::before { content: 'üìë'; margin-right: 10px; font-size: 1.2rem; }

        /* DATA BOX (READING TEXT) */
        .data-box {
            background-color: white;
            padding: 25px;
            margin: 20px 0;
            border-radius: 8px;
            border: 1px solid #dee2e6;
            border-top: 4px solid #ffc107;
            box-shadow: var(--shadow-card);
            font-size: 1.05rem;
            line-height: 1.8;
            text-align: justify;
        }
        .data-box h4 { margin-top: 0; color: #856404; text-transform: uppercase; border-bottom: 1px dashed #ccc; padding-bottom: 10px; }

        /* GLOSSARY TABLE */
        .glossary-box {
            margin-top: 20px;
            background: #eef7fc;
            padding: 15px;
            border-radius: 6px;
            border: 1px dashed var(--primary);
        }
        .glossary-title { font-weight: bold; color: var(--secondary); margin-bottom: 10px; display: block; }
        .glossary-table { width: 100%; border-collapse: collapse; font-size: 0.95rem; background: white; }
        .glossary-table th { background: var(--primary); color: white; padding: 8px; text-align: left; font-size: 0.85rem; }
        .glossary-table td { border: 1px solid #dee2e6; padding: 8px; vertical-align: middle; }
        .cefr-tag {
            font-size: 0.7rem; padding: 2px 6px; border-radius: 4px; color: white; font-weight: bold; display: inline-block; margin-right: 5px;
        }
        .b1 { background-color: #17a2b8; }
        .b2 { background-color: #007bff; }
        .c1 { background-color: #6610f2; }

        /* QUESTION CARD */
        .question-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-card);
            border-left: 5px solid transparent;
            transition: all 0.3s ease;
        }
        .question-card:hover { transform: translateY(-3px); }
        
        .q-header { display: flex; margin-bottom: 15px; font-weight: 600; font-size: 1.05rem; }
        .q-num { color: var(--primary); margin-right: 8px; white-space: nowrap; }

        /* OPTIONS */
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        @media (max-width: 600px) { .options-grid { grid-template-columns: 1fr; } }

        .option-label {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            background: white;
        }
        .option-label:hover { background-color: #e2e6ea; border-color: #adb5bd; }
        .option-label input { margin-right: 12px; transform: scale(1.3); accent-color: var(--primary); }
        .option-text { font-weight: 500; }

        /* EXPLANATION AREA */
        .explanation {
            display: none; /* Hidden by default */
            margin-top: 15px;
            padding: 15px;
            background-color: #f1f9ff;
            border-radius: 6px;
            border-left: 4px solid var(--secondary);
            font-size: 0.95rem;
            animation: fadeIn 0.5s;
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .exp-title { font-weight: bold; color: var(--secondary); display: block; margin-bottom: 8px; text-transform: uppercase; font-size: 0.85rem; }
        .vocab-row { display: flex; justify-content: space-between; border-bottom: 1px dashed #ddd; padding: 4px 0; }
        .vocab-row:last-child { border-bottom: none; }
        .vocab-word { font-weight: bold; color: #333; }
        .vocab-mean { color: #555; font-style: italic; }
        .is-correct { color: var(--success); font-weight: bold; }
        
        /* INSTANT CHECK BTN */
        .btn-check-instant {
            margin-top: 12px;
            background: white;
            border: 1px solid var(--primary);
            color: var(--primary);
            padding: 6px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: 0.2s;
        }
        .btn-check-instant:hover { background: var(--primary); color: white; }

        /* VISUALS */
        .visual-container { display: flex; justify-content: center; margin: 20px 0; }
        .blue-sign {
            width: 220px; background-color: #0056b3; color: white; border: 4px solid white; outline: 3px solid #333;
            border-radius: 10px; padding: 20px; text-align: center; font-family: Arial, sans-serif; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        .blue-sign h3 { margin: 0; font-size: 20px; text-transform: uppercase; border-bottom: 2px solid white; padding-bottom: 8px; margin-bottom: 8px;}
        
        .yellow-note {
            background-color: #fff9c4; border: 1px solid #fbc02d; border-left: 6px solid #fbc02d;
            padding: 20px; width: 100%; max-width: 450px; box-shadow: 3px 3px 10px rgba(0,0,0,0.1);
            font-family: 'Segoe UI', sans-serif; position: relative;
        }
        .yellow-note::before { content: 'üìå'; position: absolute; top: -15px; left: -10px; font-size: 2rem; }

        /* FOOTER */
        .sticky-footer {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: white; padding: 15px 20px;
            box-shadow: 0 -4px 20px rgba(0,0,0,0.1);
            display: flex; justify-content: space-between; align-items: center; z-index: 100;
        }
        .score-info { font-weight: bold; font-size: 1.1rem; }
        .btn-submit {
            background: var(--primary); color: white; border: none; padding: 12px 30px;
            border-radius: 50px; font-weight: bold; font-size: 1rem; cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,86,179,0.3); transition: transform 0.2s;
        }
        .btn-submit:hover { transform: scale(1.05); background: var(--secondary); }

    </style>
</head>
<body>

<header>
    <span class="badge">L·ªõp h·ªçc Ms Mai An</span>
    <h1>UNIT 11 ‚Äì SCIENCE AND TECHNOLOGY</h1>
    <p>TEST 01 - Full Explanation & Glossary</p>
</header>

<div class="container" id="quiz-container">
    </div>

<div class="sticky-footer">
    <div class="score-info" id="score-text">ƒêang l√†m b√†i...</div>
    <button class="btn-submit" onclick="submitAll()">N·ªòP B√ÄI & XEM GI·∫¢I TH√çCH</button>
</div>

<script>
// --- DATABASE ---
const quizData = [
    // --- PHONETICS ---
    {
        id: 1, type: 'simple', section: 'PRONUNCIATION',
        text: "Choose the word whose underlined part differs from the other three in pronunciation.",
        options: [
            { id: 'A', text: "<u>g</u>entle", trans: "/d í/", mean: "d·ªãu d√†ng" },
            { id: 'B', text: "<u>k</u>ennel", trans: "/k/", mean: "chu·ªìng ch√≥" },
            { id: 'C', text: "<u>g</u>enerate", trans: "/d í/", mean: "t·∫°o ra" },
            { id: 'D', text: "<u>g</u>enetics", trans: "/d í/", mean: "di truy·ªÅn h·ªçc" }
        ],
        correct: 'B',
        detail: "Ph·∫ßn g·∫°ch ch√¢n c·ªßa 'kennel' ph√°t √¢m l√† /k/. C√°c t·ª´ c√≤n l·∫°i ph√°t √¢m l√† /d í/."
    },
    {
        id: 2, type: 'simple', section: 'PRONUNCIATION',
        text: "Choose the word whose underlined part differs from the other three in pronunciation.",
        options: [
            { id: 'A', text: "<u>ch</u>olera", trans: "/k/", mean: "b·ªánh t·∫£" },
            { id: 'B', text: "ma<u>ch</u>inery", trans: "/ É/", mean: "m√°y m√≥c" },
            { id: 'C', text: "me<u>ch</u>anic", trans: "/k/", mean: "th·ª£ m√°y" },
            { id: 'D', text: "<u>ch</u>emist", trans: "/k/", mean: "nh√† h√≥a h·ªçc" }
        ],
        correct: 'B',
        detail: "'Machinery' c√≥ 'ch' ph√°t √¢m l√† / É/ (nh∆∞ 'sh'). C√°c t·ª´ c√≤n l·∫°i ph√°t √¢m l√† /k/."
    },
    // --- STRESS ---
    {
        id: 3, type: 'simple', section: 'STRESS',
        text: "Indicate the word that differs in the position of primary stress.",
        options: [
            { id: 'A', text: "platform", trans: "1st", mean: "n·ªÅn t·∫£ng" },
            { id: 'B', text: "airport", trans: "1st", mean: "s√¢n bay" },
            { id: 'C', text: "repeat", trans: "2nd", mean: "l·∫∑p l·∫°i" },
            { id: 'D', text: "practice", trans: "1st", mean: "th·ª±c h√†nh" }
        ],
        correct: 'C',
        detail: "'Repeat' tr·ªçng √¢m r∆°i v√†o √¢m ti·∫øt th·ª© 2. C√°c t·ª´ c√≤n l·∫°i tr·ªçng √¢m 1."
    },
    {
        id: 4, type: 'simple', section: 'STRESS',
        text: "Indicate the word that differs in the position of primary stress.",
        options: [
            { id: 'A', text: "application", trans: "3rd", mean: "·ª©ng d·ª•ng" },
            { id: 'B', text: "entertainment", trans: "3rd", mean: "gi·∫£i tr√≠" },
            { id: 'C', text: "scientific", trans: "3rd", mean: "thu·ªôc khoa h·ªçc" },
            { id: 'D', text: "identity", trans: "2nd", mean: "danh t√≠nh" }
        ],
        correct: 'D',
        detail: "'Identity' (/a…™Ààdent…ôti/) tr·ªçng √¢m 2. C√°c t·ª´ c√≤n l·∫°i tr·ªçng √¢m 3."
    },
    // --- GRAMMAR & VOCAB ---
    {
        id: 5, type: 'simple', section: 'VOCABULARY & GRAMMAR',
        text: "There are a lot of benefits to doing ____ research.",
        options: [
            { id: 'A', text: "Scientific", type: "adj", mean: "thu·ªôc khoa h·ªçc" },
            { id: 'B', text: "enormous", type: "adj", mean: "to l·ªõn" },
            { id: 'C', text: "precise", type: "adj", mean: "ch√≠nh x√°c" },
            { id: 'D', text: "technical", type: "adj", mean: "k·ªπ thu·∫≠t" }
        ],
        correct: 'A',
        detail: "Collocation: 'Scientific research' (Nghi√™n c·ª©u khoa h·ªçc). C√¢u n√†y n√≥i v·ªÅ l·ª£i √≠ch c·ªßa vi·ªác l√†m nghi√™n c·ª©u khoa h·ªçc."
    },
    {
        id: 6, type: 'simple', section: 'VOCABULARY & GRAMMAR',
        text: "To check ______, students now just scan their fingerprints on those machines.",
        options: [
            { id: 'A', text: "Attentive", type: "adj", mean: "chƒÉm ch√∫" },
            { id: 'B', text: "attention", type: "n", mean: "s·ª± ch√∫ √Ω" },
            { id: 'C', text: "attendant", type: "n", mean: "ng∆∞·ªùi ph·ª•c v·ª•" },
            { id: 'D', text: "attendance", type: "n", mean: "s·ª± ƒëi·ªÉm danh" }
        ],
        correct: 'D',
        detail: "C·ª•m t·ª´: 'Check attendance' = ƒêi·ªÉm danh. H·ªçc sinh qu√©t v√¢n tay ƒë·ªÉ ƒëi·ªÉm danh."
    },
    {
        id: 7, type: 'simple', section: 'VOCABULARY & GRAMMAR',
        text: "Fingerprint ____ sometimes need more time than usual to read your fingerprints.",
        options: [
            { id: 'A', text: "Screens", mean: "m√†n h√¨nh" },
            { id: 'B', text: "computers", mean: "m√°y t√≠nh" },
            { id: 'C', text: "scanners", mean: "m√°y qu√©t" },
            { id: 'D', text: "printers", mean: "m√°y in" }
        ],
        correct: 'C',
        detail: "Thi·∫øt b·ªã ƒë·ªÉ 'ƒë·ªçc' v√¢n tay g·ªçi l√† 'Fingerprint scanner' (M√°y qu√©t v√¢n tay)."
    },
    {
        id: 8, type: 'simple', section: 'VOCABULARY & GRAMMAR',
        text: "He said that Emily was wearing a brown dress she‚Äôd bought ______.",
        options: [
            { id: 'A', text: "Yesterday", mean: "h√¥m qua (ch∆∞a l√πi)" },
            { id: 'B', text: "the previous day", mean: "ng√†y h√¥m tr∆∞·ªõc" },
            { id: 'C', text: "the following day", mean: "ng√†y h√¥m sau" },
            { id: 'D', text: "tomorrow", mean: "ng√†y mai" }
        ],
        correct: 'B',
        detail: "C√¢u t∆∞·ªùng thu·∫≠t (He said that...), tr·∫°ng t·ª´ th·ªùi gian ph·∫£i bi·∫øn ƒë·ªïi. 'Yesterday' -> 'the previous day' ho·∫∑c 'the day before'."
    },
    {
        id: 9, type: 'simple', section: 'VOCABULARY & GRAMMAR',
        text: "The workers said that robots _______ them on assembly lines.",
        options: [
            { id: 'A', text: "were replacing", mean: "ƒëang thay th·∫ø (QKTD)" },
            { id: 'B', text: "are replacing", mean: "ƒëang thay th·∫ø (HTTD)" },
            { id: 'C', text: "have been replace", mean: "sai ng·ªØ ph√°p" },
            { id: 'D', text: "replace", mean: "thay th·∫ø (HTƒê)" }
        ],
        correct: 'A',
        detail: "L√πi th√¨ trong c√¢u gi√°n ti·∫øp: 'are replacing' (Hi·ªán t·∫°i ti·∫øp di·ªÖn) -> 'were replacing' (Qu√° kh·ª© ti·∫øp di·ªÖn)."
    },
    {
        id: 10, type: 'simple', section: 'VOCABULARY & GRAMMAR',
        text: "They said that Valentina was the first woman ___ into space.",
        options: [
            { id: 'A', text: "Traveling", mean: "V-ing" },
            { id: 'B', text: "to travel", mean: "to V" },
            { id: 'C', text: "travels", mean: "V-s" },
            { id: 'D', text: "was traveling", mean: "V chia th√¨" }
        ],
        correct: 'B',
        detail: "R√∫t g·ªçn m·ªánh ƒë·ªÅ quan h·ªá sau s·ªë th·ª© t·ª± (the first, the second...): d√πng 'to V'. (...the first woman who traveled -> to travel)."
    },
    {
        id: 11, type: 'simple', section: 'VOCABULARY & GRAMMAR',
        text: "We need _______ evidence to confirm the existence of aliens.",
        options: [
            { id: 'A', text: "Science", type: "n", mean: "khoa h·ªçc" },
            { id: 'B', text: "scientist", type: "n", mean: "nh√† khoa h·ªçc" },
            { id: 'C', text: "scientific", type: "adj", mean: "thu·ªôc khoa h·ªçc" },
            { id: 'D', text: "sci-fi", type: "n", mean: "khoa h·ªçc vi·ªÖn t∆∞·ªüng" }
        ],
        correct: 'C',
        detail: "C·∫ßn t√≠nh t·ª´ b·ªï nghƒ©a cho danh t·ª´ 'evidence' (b·∫±ng ch·ª©ng). Scientific evidence = B·∫±ng ch·ª©ng khoa h·ªçc."
    },
    {
        id: 12, type: 'simple', section: 'VOCABULARY & GRAMMAR',
        text: "Teacher: ‚ÄúWhat do you think robots will replace humans in the future?<br>Student: ‚Äú ______‚Äù",
        options: [
            { id: 'A', text: "Thank you", mean: "C·∫£m ∆°n" },
            { id: 'B', text: "I don‚Äôt know", mean: "Em kh√¥ng bi·∫øt" },
            { id: 'C', text: "I can‚Äôt agree with you more", mean: "Em ho√†n to√†n ƒë·ªìng √Ω (d√πng cho c√¢u kh·∫≥ng ƒë·ªãnh)" },
            { id: 'D', text: "I think they can not", mean: "Em nghƒ© l√† kh√¥ng th·ªÉ" }
        ],
        correct: 'D',
        detail: "C√¢u h·ªèi 'What do you think...' (Em nghƒ© g√¨...) y√™u c·∫ßu ƒë∆∞a ra quan ƒëi·ªÉm. ƒê√°p √°n D ƒë∆∞a ra √Ω ki·∫øn c√° nh√¢n tr·ª±c ti·∫øp nh·∫•t."
    },
    // --- ANNOUNCEMENT ---
    {
        id: '13-16', type: 'cloze', section: 'ANNOUNCEMENT',
        context: `<strong>PUBLIC TRANSPORT ANNOUNCEMENT</strong><br>
        Welcome to City Bus Service! To have a safe trip, please (13) _____ these rules:<br>
        * Always have your (14) ____ ready for checking<br>
        * (15) _____ to the announcements for important news<br>
        * If you (16) _____ any bags left alone, tell the staff right away.`,
        questions: [
            {
                id: 13, text: "please (13) _____ these rules",
                options: [ {id:'A', text:'ignore', mean:'ph·ªõt l·ªù'}, {id:'B', text:'follow', mean:'tu√¢n theo'}, {id:'C', text:'break', mean:'ph√° v·ª°'}, {id:'D', text:'forget', mean:'qu√™n'} ],
                correct: 'B',
                detail: "'Follow rules': Tu√¢n th·ªß quy ƒë·ªãnh."
            },
            {
                id: 14, text: "have your (14) ____ ready for checking",
                options: [ {id:'A', text:'bag', mean:'t√∫i'}, {id:'B', text:'money', mean:'ti·ªÅn'}, {id:'C', text:'ticket', mean:'v√©'}, {id:'D', text:'map', mean:'b·∫£n ƒë·ªì'} ],
                correct: 'C',
                detail: "Khi ƒëi xe bu√Ωt c·∫ßn chu·∫©n b·ªã 'ticket' (v√©) ƒë·ªÉ ki·ªÉm tra."
            },
            {
                id: 15, text: "(15) _____ to the announcements",
                options: [ {id:'A', text:'Shout', mean:'H√©t'}, {id:'B', text:'Listen', mean:'Nghe'}, {id:'C', text:'Speak', mean:'N√≥i'}, {id:'D', text:'Turn', mean:'Xoay'} ],
                correct: 'B',
                detail: "'Listen to announcements': L·∫Øng nghe th√¥ng b√°o."
            },
            {
                id: 16, text: "If you (16) _____ any bags left alone",
                options: [ {id:'A', text:'see', mean:'th·∫•y'}, {id:'B', text:'hide', mean:'gi·∫•u'}, {id:'C', text:'lose', mean:'l√†m m·∫•t'}, {id:'D', text:'forget', mean:'qu√™n'} ],
                correct: 'A',
                detail: "N·∫øu b·∫°n 'nh√¨n th·∫•y' (see) t√∫i v√¥ ch·ªß."
            }
        ]
    },
    // --- SENTENCE ARRANGEMENT ---
    {
        id: 17, type: 'simple', section: 'SENTENCE ARRANGEMENT',
        text: "<b>Context:</b> A new sports center opened in our city last week. It has been popular.<br>a. The center offers various sports facilities like a swimming pool and a gym.<br>b. Many people are excited to use the new sports center<br>c. The city built the center to encourage people to be more active.",
        options: [
            { id: 'A', text: "a-b-c", mean: "" },
            { id: 'B', text: "c-a-b", mean: "" },
            { id: 'C', text: "b-c-a", mean: "" },
            { id: 'D', text: "c-b-a", mean: "" }
        ],
        correct: 'B',
        detail: "Tr·∫≠t t·ª± logic: (c) M·ª•c ƒë√≠ch x√¢y d·ª±ng -> (a) C√≥ c√°i g√¨ b√™n trong -> (b) Ph·∫£n ·ª©ng ng∆∞·ªùi d√¢n (H√†o h·ª©ng)."
    },
    {
        id: 18, type: 'simple', section: 'SENTENCE ARRANGEMENT',
        text: "Choose the sentence that can end the text (in question 17) most appropriately.",
        options: [
            { id: 'A', text: "The sports center has become a favorite place for families and athletes.", mean: "Tr·ªü th√†nh n∆°i y√™u th√≠ch (K·∫øt t√≠ch c·ª±c)" },
            { id: 'B', text: "Some people were disappointed with the opening hours of the center", mean: "M·ªôt s·ªë ng∆∞·ªùi th·∫•t v·ªçng (Ti√™u c·ª±c)" },
            { id: 'C', text: "The center also provides free sports equipment for everyone", mean: "Cung c·∫•p ƒë·ªì mi·ªÖn ph√≠ (Chi ti·∫øt ph·ª•)" },
            { id: 'D', text: "There were some problems with the center‚Äôs facilities initially.", mean: "C√≥ v·∫•n ƒë·ªÅ ban ƒë·∫ßu (Ti√™u c·ª±c)" }
        ],
        correct: 'A',
        detail: "C√¢u k·∫øt n√™n mang t√≠nh t·ªïng k·∫øt v√† gi·ªØ th√°i ƒë·ªô t√≠ch c·ª±c c·ªßa ƒëo·∫°n vƒÉn. ƒê√°p √°n A ph√π h·ª£p nh·∫•t."
    },
    // --- READING CLOZE ---
    {
        id: '19-24', type: 'cloze', section: 'READING COMPREHENSION (CLOZE)',
        context: `Developments in science and technology have brought a number of advantages in education. First, it increases efficiency and motivation for students. Students learn more (19) _____ through visual presentations or videos. They can also feel more motivated to learn in this way. Secondly, digital search and internet (20) _____ have a positive impact on the research habits of learners. Technology has opened doors for learners to access information sources to find (21) _____ to problems by themselves. Thus, students feel willing (22) ____ research on their own. Third, students can access more information when they study. For example, learners who desire to write quality essays can find samples to guide them in their writing process. They can learn the best ways to present and structure their essays. Moreover, (23)_____ in science and technology can increase flexibility for learning. With online classes, students don't need to (24)_____ lessons at specific times, especially when there is a pandemic or in stormy weather. They can read materials online and complete their assignments when they have time.`,
        glossary: [
            { word: "Efficiency", mean: "Hi·ªáu su·∫•t, nƒÉng su·∫•t", level: "B2" },
            { word: "Motivation", mean: "ƒê·ªông l·ª±c", level: "B2" },
            { word: "Visual presentation", mean: "B√†i thuy·∫øt tr√¨nh tr·ª±c quan", level: "B2" },
            { word: "Flexibility", mean: "S·ª± linh ho·∫°t", level: "B2" },
            { word: "Pandemic", mean: "ƒê·∫°i d·ªãch", level: "C1" }
        ],
        questions: [
            {
                id: 19, text: "Students learn more (19) _____",
                options: [ {id:'A', text:'effectively', type:'adv', mean:'hi·ªáu qu·∫£'}, {id:'B', text:'effect', type:'n', mean:'hi·ªáu ·ª©ng'}, {id:'C', text:'efficiency', type:'n', mean:'hi·ªáu su·∫•t'}, {id:'D', text:'affected', type:'v', mean:'b·ªã ·∫£nh h∆∞·ªüng'} ],
                correct: 'A',
                detail: "Sau ƒë·ªông t·ª´ 'learn', c·∫ßn tr·∫°ng t·ª´ ƒë·ªÉ b·ªï nghƒ©a. 'Learn effectively' = H·ªçc t·∫≠p hi·ªáu qu·∫£."
            },
            {
                id: 20, text: "digital search and internet (20) _____",
                options: [ {id:'A', text:'utensils', mean:'d·ª•ng c·ª• b·∫øp'}, {id:'B', text:'tools', mean:'c√¥ng c·ª•'}, {id:'C', text:'equipment', mean:'thi·∫øt b·ªã'}, {id:'D', text:'gadgets', mean:'ti·ªán √≠ch nh·ªè'} ],
                correct: 'B',
                detail: "'Internet tools': C√°c c√¥ng c·ª• internet."
            },
            {
                id: 21, text: "find (21) _____ to problems",
                options: [ {id:'A', text:'answers', mean:'c√¢u tr·∫£ l·ªùi'}, {id:'B', text:'questions', mean:'c√¢u h·ªèi'}, {id:'C', text:'progress', mean:'s·ª± ti·∫øn b·ªô'}, {id:'D', text:'development', mean:'s·ª± ph√°t tri·ªÉn'} ],
                correct: 'A',
                detail: "C·∫•u tr√∫c: 'Find answers to problems' (T√¨m l·ªùi gi·∫£i cho c√°c v·∫•n ƒë·ªÅ)."
            },
            {
                id: 22, text: "students feel willing (22) ____ research",
                options: [ {id:'A', text:'to do', mean:'(to V)'}, {id:'B', text:'do', mean:'(V)'}, {id:'C', text:'doing', mean:'(V-ing)'}, {id:'D', text:'did', mean:'(V-ed)'} ],
                correct: 'A',
                detail: "C·∫•u tr√∫c: 'Be willing to do something' (S·∫µn l√≤ng l√†m g√¨)."
            },
            {
                id: 23, text: "Moreover, (23)_____ in science and technology",
                options: [ {id:'A', text:'growth', mean:'s·ª± l·ªõn l√™n'}, {id:'B', text:'increase', mean:'s·ª± tƒÉng l√™n'}, {id:'C', text:'progress', mean:'s·ª± ti·∫øn b·ªô'}, {id:'D', text:'development', mean:'s·ª± ph√°t tri·ªÉn'} ],
                correct: 'C',
                detail: "'Progress in science' (S·ª± ti·∫øn b·ªô trong khoa h·ªçc) mang √Ω nghƒ©a t√≠ch c·ª±c v·ªÅ s·ª± c·∫£i ti·∫øn ch·∫•t l∆∞·ª£ng."
            },
            {
                id: 24, text: "students don't need to (24)_____ lessons",
                options: [ {id:'A', text:'come', mean:'ƒë·∫øn'}, {id:'B', text:'attend', mean:'tham d·ª±'}, {id:'C', text:'learn', mean:'h·ªçc'}, {id:'D', text:'study', mean:'nghi√™n c·ª©u'} ],
                correct: 'B',
                detail: "Collocation: 'Attend lessons/classes' (Tham d·ª± bu·ªïi h·ªçc)."
            }
        ]
    },
    // --- TRANSFORMATION ---
    {
        id: 25, type: 'simple', section: 'SENTENCE TRANSFORMATION',
        text: "NASA said that they could send people to Mars the following year.",
        options: [
            { id: 'A', text: "‚ÄúWe will send people to Mars next year.‚Äù NASA said", mean: "Will -> Would (Sai v√¨ ƒë·ªÅ d√πng Could)" },
            { id: 'B', text: "‚ÄúWe can send people to Mars next year.‚Äù NASA said", mean: "Can -> Could, Next year -> The following year (ƒê√öNG)" },
            { id: 'C', text: "‚ÄúWe could send people to Mars last year.‚Äù NASA said", mean: "Sai th·ªùi gian (last year)" },
            { id: 'D', text: "‚ÄúWe would send people to Mars last year.‚Äù NASA said", mean: "Sai ng·ªØ ph√°p v√† th·ªùi gian" }
        ],
        correct: 'B',
        detail: "C√¢u g·ªëc l√† gi√°n ti·∫øp (Could ... following year). Chuy·ªÉn v·ªÅ tr·ª±c ti·∫øp: 'Could' -> 'Can', 'Following year' -> 'Next year'."
    },
    {
        id: 26, type: 'simple', section: 'SENTENCE TRANSFORMATION',
        text: "My roommate told me ‚ÄúWhile you are away, I‚Äôll do the cleaning.‚Äù",
        options: [
            { id: 'A', text: "My roommate told me that while she was away, I would have to do the cleaning.", mean: "Sai ng√¥i (she was away -> t√¥i ƒëi v·∫Øng m·ªõi ƒë√∫ng)" },
            { id: 'B', text: "My roommate told me that while I was away, I would have to do the cleaning.", mean: "Sai ng√¥i (I would do -> c√¥ ·∫•y l√†m m·ªõi ƒë√∫ng)" },
            { id: 'C', text: "My roommate told me that while I was away, she would do the cleaning", mean: "ƒê√öNG: you -> I; I -> she; will -> would" },
            { id: 'D', text: "My roommate told me that while I am away, she will do the cleaning.", mean: "Sai th√¨ (ch∆∞a l√πi th√¨)" }
        ],
        correct: 'C',
        detail: "Quy t·∫Øc: L√πi th√¨ (will -> would), ƒë·ªïi ng√¥i (you -> me/I, I -> she)."
    },
    {
        id: 27, type: 'simple', section: 'SENTENCE TRANSFORMATION',
        text: "Schools/ use/ advanced technology/ monitor/ students/ better.",
        options: [
            { id: 'A', text: "Schools use advanced technology to monitor students better.", mean: "C√°c tr∆∞·ªùng d√πng c√¥ng ngh·ªá cao ƒë·ªÉ gi√°m s√°t t·ªët h∆°n (ƒê√öNG)" },
            { id: 'B', text: "Advanced technology uses schools to monitor better students.", mean: "C√¥ng ngh·ªá d√πng tr∆∞·ªùng h·ªçc (Sai nghƒ©a)" },
            { id: 'C', text: "Better schools use technology to monitor students advanced.", mean: "Sai tr·∫≠t t·ª± t·ª´" },
            { id: 'D', text: "Students use advanced technology in schools to monitor better.", mean: "H·ªçc sinh d√πng c√¥ng ngh·ªá (Sai nghƒ©a)" }
        ],
        correct: 'A',
        detail: "C√¢u A ƒë√∫ng ng·ªØ ph√°p: S (Schools) + V (use) + O (advanced tech) + to V (m·ª•c ƒë√≠ch)."
    },
    {
        id: 28, type: 'simple', section: 'SENTENCE TRANSFORMATION',
        text: "The scientists/ say/ they/ work/ a vehicle/ look like/ flying cars.",
        options: [
            { id: 'A', text: "The scientists said they were working on a vehicle that looks like flying cars.", mean: "ƒê√öNG (QKTD + M·ªánh ƒë·ªÅ quan h·ªá)" },
            { id: 'B', text: "The scientists said they work a vehicle that looks like flying cars.", mean: "Sai ng·ªØ ph√°p (work a vehicle -> work ON)" },
            { id: 'C', text: "The scientists worked on a vehicle that they say looks like flying cars.", mean: "Kh√°c nghƒ©a g·ªëc m·ªôt ch√∫t" },
            { id: 'D', text: "The scientists said they work on a vehicle looking like flying cars.", mean: "Sai th√¨ (work ch∆∞a l√πi)" }
        ],
        correct: 'A',
        detail: "S·ª≠ d·ª•ng th√¨ qu√° kh·ª© ti·∫øp di·ªÖn (were working on) ƒë·ªÉ di·ªÖn t·∫£ h√†nh ƒë·ªông ƒëang nghi√™n c·ª©u trong qu√° kh·ª© t∆∞·ªùng thu·∫≠t."
    },
    // --- VISUALS ---
    {
        id: 29, type: 'visual', section: 'SIGN & NOTICE',
        visualType: 'sign',
        text: "What does the sign instruct?",
        options: [
            { id: 'A', text: "Wash your hands only if they look dirty before eating", mean: "Ch·ªâ r·ª≠a n·∫øu th·∫•y b·∫©n" },
            { id: 'B', text: "It is fine to eat without washing your hands first.", mean: "ƒÇn kh√¥ng r·ª≠a tay c≈©ng ƒë∆∞·ª£c" },
            { id: 'C', text: "Wash your hands before you eat to keep everything clean", mean: "R·ª≠a tay tr∆∞·ªõc khi ƒÉn ƒë·ªÉ gi·ªØ v·ªá sinh" },
            { id: 'D', text: "Wash your hands after eating, not before you start.", mean: "R·ª≠a tay sau khi ƒÉn" }
        ],
        correct: 'C',
        detail: "Bi·ªÉn b√°o ghi 'WASH YOUR HANDS BEFORE EATING' -> R·ª≠a tay tr∆∞·ªõc khi ƒÉn."
    },
    {
        id: 30, type: 'visual', section: 'SIGN & NOTICE',
        visualType: 'note',
        text: "What should you bring?",
        options: [
            { id: 'A', text: "A picnic basket", mean: "Gi·ªè picnic" },
            { id: 'B', text: "Gloves and a bottle of water", mean: "GƒÉng tay v√† chai n∆∞·ªõc" },
            { id: 'C', text: "A towel", mean: "C√°i khƒÉn" },
            { id: 'D', text: "Sunglasses", mean: "K√≠nh r√¢m" }
        ],
        correct: 'B',
        detail: "Th√¥ng b√°o ghi r√µ: 'Please bring gloves and a bottle of water'."
    },
    // --- READING COMPREHENSION ---
    {
        id: '31-36', type: 'reading', section: 'READING COMPREHENSION',
        context: `When you ask more people about the benefits of apps on their smartphone, they say they use them to play games, surf the net, keep in touch with people and organise social events. But Jenny Harlow, a scientist from London, has got an app that does something much more important: it warns her when she is in danger. The app is called Safety Tips and it gives users real-time earthquake and tsunami warnings. The Japan Tourist Agency had the idea for the app after the 2011 earthquake in Japan, when many foreign tourists in the country were confused about what was happening and what they should do. Jenny was on a business trip to Japan when the earthquake struck. 'Although there are a lot of earthquakes in Japan, it was the first time I experienced one. All the warnings and information on the internet, radio and TV were in Japanese, and I couldn't understand. It was really confusing and I didn't know what to do.' She had to rely on Japanese colleagues to help her. The Safety Tips app sends an alert to users when a major earthquake happens, and also tells them if a tsunami is likely to arrive at the coast. The app gives lots of tips about what to do, where to go and how to stay safe, as well as a list of useful Japanese phrases such as 'Is this an earthquake?' and 'Is it safe here?' Importantly, all the information is in English, and there are plans to add other languages. The Japan Tourist Agency plans to advertise the app at airports and tourist information centres in Japan. In order to get the app, people visit a website and download it. 'I'm coming to Japan again next year and I will definitely watch out for alerts from the app,' says Jenny.`,
        glossary: [
            { word: "Earthquake", mean: "ƒê·ªông ƒë·∫•t", level: "B1" },
            { word: "Tsunami", mean: "S√≥ng th·∫ßn", level: "C1" },
            { word: "Real-time", mean: "Th·ªùi gian th·ª±c", level: "B2" },
            { word: "Confused", mean: "B·ªëi r·ªëi, hoang mang", level: "B1" },
            { word: "Rely on", mean: "D·ª±a v√†o, tin c·∫≠y", level: "B2" },
            { word: "Alert", mean: "C·∫£nh b√°o", level: "B2" },
            { word: "Coast", mean: "B·ªù bi·ªÉn", level: "B1" }
        ],
        questions: [
            {
                id: 31, text: "What is the main purpose of the Safety Tips app?",
                options: [
                    { id: 'A', text: "To help users organize social events", mean: "Gi√∫p t·ªï ch·ª©c s·ª± ki·ªán" },
                    { id: 'B', text: "To provide real-time earthquake and tsunami warnings", mean: "Cung c·∫•p c·∫£nh b√°o ƒë·ªông ƒë·∫•t/s√≥ng th·∫ßn" },
                    { id: 'C', text: "To help users play games and surf the net", mean: "Gi√∫p ch∆°i game/l∆∞·ªõt web" },
                    { id: 'D', text: "To teach Japanese language", mean: "D·∫°y ti·∫øng Nh·∫≠t" }
                ],
                correct: 'B',
                detail: "D·∫´n ch·ª©ng: 'it gives users real-time earthquake and tsunami warnings'."
            },
            {
                id: 32, text: "Which word has the same meaning as \"confused\" in the text?",
                options: [
                    { id: 'A', text: "Alerted", mean: "ƒê∆∞·ª£c b√°o ƒë·ªông" },
                    { id: 'B', text: "Uncertain", mean: "Kh√¥ng ch·∫Øc ch·∫Øn/Hoang mang" },
                    { id: 'C', text: "Safe", mean: "An to√†n" },
                    { id: 'D', text: "Simple", mean: "ƒê∆°n gi·∫£n" }
                ],
                correct: 'B',
                detail: "Confused (b·ªëi r·ªëi, kh√¥ng hi·ªÉu chuy·ªán g√¨) g·∫ßn nghƒ©a nh·∫•t v·ªõi Uncertain (kh√¥ng ch·∫Øc ch·∫Øn)."
            },
            {
                id: 33, text: "Which word is the OPPOSITE of ‚ÄúSAFE‚Äù as used in the text?",
                options: [
                    { id: 'A', text: "Confusing", mean: "G√¢y b·ªëi r·ªëi" },
                    { id: 'B', text: "Dangerous", mean: "Nguy hi·ªÉm" },
                    { id: 'C', text: "Helpful", mean: "H·ªØu √≠ch" },
                    { id: 'D', text: "Important", mean: "Quan tr·ªçng" }
                ],
                correct: 'B',
                detail: "Tr√°i nghƒ©a v·ªõi Safe (An to√†n) l√† Dangerous (Nguy hi·ªÉm)."
            },
            {
                id: 34, text: "Which of the following is NOT TRUE according to the text?",
                options: [
                    { id: 'A', text: "The Safety Tips app was created after the 2011 earthquake.", mean: "App ƒë∆∞·ª£c t·∫°o sau nƒÉm 2011 (ƒê√∫ng)" },
                    { id: 'B', text: "Jenny understood Japanese warnings during the earthquake.", mean: "Jenny hi·ªÉu c·∫£nh b√°o ti·∫øng Nh·∫≠t (SAI)" },
                    { id: 'C', text: "The app provides alerts in English.", mean: "App cung c·∫•p c·∫£nh b√°o ti·∫øng Anh (ƒê√∫ng)" },
                    { id: 'D', text: "Jenny plans to use the app on her next trip.", mean: "Jenny ƒë·ªãnh d√πng app l·∫ßn t·ªõi (ƒê√∫ng)" }
                ],
                correct: 'B',
                detail: "Trong b√†i Jenny n√≥i: 'All the warnings... were in Japanese, and I couldn't understand' (T√¥i kh√¥ng th·ªÉ hi·ªÉu)."
            },
            {
                id: 35, text: "Why did Jenny find the 2011 earthquake confusing?",
                options: [
                    { id: 'A', text: "She didn‚Äôt know earthquakes were common in Japan.", mean: "C√¥ kh√¥ng bi·∫øt ƒë·ªông ƒë·∫•t ph·ªï bi·∫øn" },
                    { id: 'B', text: "The warnings were in Japanese, which she couldn't understand.", mean: "C·∫£nh b√°o to√†n ti·∫øng Nh·∫≠t, c√¥ kh√¥ng hi·ªÉu" },
                    { id: 'C', text: "She didn‚Äôt have a smartphone to get alerts.", mean: "C√¥ kh√¥ng c√≥ smartphone" },
                    { id: 'D', text: "She wasn‚Äôt in Japan during the earthquake.", mean: "C√¥ kh√¥ng ·ªü Nh·∫≠t l√∫c ƒë√≥" }
                ],
                correct: 'B',
                detail: "D·∫´n ch·ª©ng: 'warnings... in Japanese, and I couldn't understand. It was really confusing'."
            },
            {
                id: 36, text: "What does the Safety Tips app provide besides alerts?",
                options: [
                    { id: 'A', text: "Weather forecasts for Japan", mean: "D·ª± b√°o th·ªùi ti·∫øt" },
                    { id: 'B', text: "A list of helpful Japanese phrases", mean: "Danh s√°ch c√¢u ti·∫øng Nh·∫≠t h·ªØu √≠ch" },
                    { id: 'C', text: "Social event organization tools", mean: "C√¥ng c·ª• t·ªï ch·ª©c s·ª± ki·ªán" },
                    { id: 'D', text: "Directions for downloading other apps", mean: "H∆∞·ªõng d·∫´n t·∫£i app kh√°c" }
                ],
                correct: 'B',
                detail: "D·∫´n ch·ª©ng: 'as well as a list of useful Japanese phrases such as...'"
            }
        ]
    },
    // --- SENTENCE INSERTION ---
    {
        id: '37-40', type: 'cloze', section: 'SENTENCE INSERTION',
        context: `Computers are helpful in many ways. First, they are fast. They can work with information even more quickly than a person. (37) ______. Third, they can keep information for a long time. They do not forget things that the common people do. (38) ______. They are not perfect, (39) _____. Recently, it is important to know about computers. There are a number of things to learn. Some companies have classes at work. In addition, most universities offer day and night courses in Computer Science. Another way to learn is from a book, or from a friend. After a few hours of practice, (40) _____. You may not be an expert, but you can have fun.`,
        glossary: [], // Simple text
        questions: [
            {
                id: 37, text: "Select the sentence for blank (37)",
                options: [
                    {id:'A', text:'See option B'}, 
                    {id:'B', text:'Second, computers can work with a lot of information at the same time', mean:'Th·ª© hai, m√°y t√≠nh x·ª≠ l√Ω nhi·ªÅu tin c√πng l√∫c (ƒê√öNG)'},
                    {id:'C', text:'See option B'}, 
                    {id:'D', text:'See option B'} 
                ],
                // Special handling for insertion display in render
                correct: 'B',
                detail: "V·ªã tr√≠ n√†y n·∫±m gi·ªØa 'First' (Th·ª© nh·∫•t) v√† 'Third' (Th·ª© ba). C·∫ßn m·ªôt c√¢u b·∫Øt ƒë·∫ßu b·∫±ng 'Second' (Th·ª© hai)."
            },
            {
                id: 38, text: "Select the sentence for blank (38)",
                options: [
                    {id:'A', text:'Moreover, computers are almost always correct', mean:'H∆°n n·ªØa, m√°y t√≠nh lu√¥n ƒë√∫ng (ƒê√öNG)'}, 
                    {id:'B', text:'...'}, {id:'C', text:'...'}, {id:'D', text:'...'} 
                ],
                correct: 'A',
                detail: "C√¢u sau (39) b·∫Øt ƒë·∫ßu ph·∫£n bi·ªán 'They are not perfect' (Ch√∫ng kh√¥ng ho√†n h·∫£o). V·∫≠y (38) ph·∫£i l√† m·ªôt l·ªùi khen m·∫°nh m·∫Ω ƒë·ªÉ t·∫°o ƒë√† t∆∞∆°ng ph·∫£n. 'Moreover...' l√† ph√π h·ª£p nh·∫•t."
            },
            {
                id: 39, text: "Select the sentence for blank (39)",
                options: [
                    {id:'A', text:'...'}, {id:'B', text:'...'}, 
                    {id:'C', text:'but they usually do not make mistakes', mean:'nh∆∞ng ch√∫ng th∆∞·ªùng kh√¥ng m·∫Øc l·ªói (ƒê√öNG)'}, 
                    {id:'D', text:'...'} 
                ],
                correct: 'C',
                detail: "C√¢u tr∆∞·ªõc: 'They are not perfect' (Ch√∫ng kh√¥ng ho√†n h·∫£o). C·∫ßn m·ªôt m·ªánh ƒë·ªÅ 'but' ƒë·ªÉ l√†m r√µ: Tuy kh√¥ng ho√†n h·∫£o nh∆∞ng √≠t m·∫Øc l·ªói."
            },
            {
                id: 40, text: "Select the sentence for blank (40)",
                options: [
                    {id:'A', text:'...'}, {id:'B', text:'...'}, {id:'C', text:'...'}, 
                    {id:'D', text:'you can work with computers', mean:'b·∫°n c√≥ th·ªÉ l√†m vi·ªác v·ªõi m√°y t√≠nh (ƒê√öNG)'} 
                ],
                correct: 'D',
                detail: "K·∫øt qu·∫£ c·ªßa vi·ªác 'practice' (th·ª±c h√†nh) l√† c√≥ th·ªÉ s·ª≠ d·ª•ng m√°y t√≠nh."
            }
        ]
    }
];

// Special override for Insertion Options list to display once
const insertionOptions = [
    {id: 'A', text: "Moreover, computers are almost always correct"},
    {id: 'B', text: "Second, computers can work with a lot of information at the same time"},
    {id: 'C', text: "but they usually do not make mistakes"},
    {id: 'D', text: "you can work with computers"}
];

// --- RENDER FUNCTION ---
function renderQuiz() {
    const container = document.getElementById('quiz-container');
    let html = '';

    quizData.forEach((item, index) => {
        // Section Header
        if (index === 0 || item.section !== quizData[index-1].section) {
            html += `<div class="section-header">${item.section}</div>`;
        }

        // 1. SIMPLE MC
        if (item.type === 'simple') {
            html += createCard(item);
        }
        
        // 2. CLOZE / READING / INSERTION
        else if (item.type === 'cloze' || item.type === 'reading') {
            // Insertion Special Header
            if (item.section === 'SENTENCE INSERTION') {
                html += `<div class="data-box" style="background:#e9f7ef; border-color:#28a745;">
                    <h4>üî∑ Missing Sentences:</h4>
                    ${insertionOptions.map(opt => `<div><b>${opt.id}</b>. ${opt.text}</div>`).join('')}
                </div>`;
            }
            
            // The Context Text
            html += `<div class="data-box">
                <h4>üìñ Reading Text</h4>
                ${item.context}
            </div>`;

            // Glossary Table
            if (item.glossary && item.glossary.length > 0) {
                html += `<div class="glossary-box">
                    <span class="glossary-title">üìö VOCABULARY GLOSSARY (B1-C1)</span>
                    <table class="glossary-table">
                        <tr><th>Word</th><th>Meaning</th><th>Level</th></tr>
                        ${item.glossary.map(w => `
                            <tr>
                                <td><b>${w.word}</b></td>
                                <td>${w.mean}</td>
                                <td><span class="cefr-tag ${w.level.toLowerCase()}">${w.level}</span></td>
                            </tr>
                        `).join('')}
                    </table>
                </div><br>`;
            }

            // Questions
            item.questions.forEach(q => {
                // For Insertion questions, use the global options list
                if (item.section === 'SENTENCE INSERTION') {
                    q.options = insertionOptions.map(opt => ({
                        id: opt.id,
                        text: opt.text,
                        mean: opt.id === 'A' ? "H∆°n n·ªØa, m√°y t√≠nh lu√¥n ƒë√∫ng" : 
                              opt.id === 'B' ? "Th·ª© hai, m√°y t√≠nh x·ª≠ l√Ω nhi·ªÅu tin..." : 
                              opt.id === 'C' ? "nh∆∞ng ch√∫ng th∆∞·ªùng kh√¥ng m·∫Øc l·ªói" : 
                              "b·∫°n c√≥ th·ªÉ l√†m vi·ªác v·ªõi m√°y t√≠nh"
                    }));
                }
                html += createCard(q);
            });
        }

        // 3. VISUALS
        else if (item.type === 'visual') {
            let visualHTML = '';
            if (item.visualType === 'sign') {
                visualHTML = `
                <div class="visual-container">
                    <div class="blue-sign">
                        <h3>AVOID<br>CONTAMINATION</h3>
                        <div style="background:white; color:black; padding:10px; border-radius:4px;">
                            <small><b>WASH YOUR HANDS<br>BEFORE EATING,<br>DRINKING<br>OR SMOKING</b></small>
                            <div style="font-size:2rem; margin-top:5px;">üëêüö∞</div>
                        </div>
                    </div>
                </div>`;
            } else {
                visualHTML = `
                <div class="visual-container">
                    <div class="yellow-note">
                        <p style="margin-top:0;"><strong>Join us for a beach clean-up day!</strong></p>
                        <p>Meet at the main entrance at 8 a.m. Please bring <strong>gloves and a bottle of water</strong>.</p>
                    </div>
                </div>`;
            }
            html += visualHTML + createCard(item);
        }
    });

    container.innerHTML = html;
}

function createCard(q) {
    return `
    <div class="question-card" id="card-${q.id}">
        <div class="q-header">
            <span class="q-num">Question ${q.id}:</span>
            <span>${q.text}</span>
        </div>
        <div class="options-grid">
            ${q.options.map(opt => `
                <label class="option-label">
                    <input type="radio" name="q${q.id}" value="${opt.id}">
                    <span class="option-text"><b>${opt.id}.</b> ${opt.text}</span>
                </label>
            `).join('')}
        </div>
        <button class="btn-check-instant" onclick="checkInstant('${q.id}', '${q.correct}')">Ki·ªÉm tra ngay</button>
        <div class="explanation" id="exp-${q.id}">
            <span class="exp-title">Gi·∫£i th√≠ch chi ti·∫øt:</span>
            <div style="margin-bottom:10px;">
                ${q.options.map(opt => `
                    <div class="vocab-row">
                        <span class="vocab-word ${opt.id === q.correct ? 'is-correct' : ''}">
                            ${opt.id}. ${opt.text}
                        </span>
                        <span class="vocab-mean">‚ûú ${opt.mean}</span>
                    </div>
                `).join('')}
            </div>
            <div style="background:white; padding:10px; border-radius:4px; border:1px solid #ddd;">
                <b>üí° T·∫°i sao ƒë√∫ng?</b><br> ${q.detail}
            </div>
        </div>
    </div>`;
}

// --- LOGIC ---

window.checkInstant = function(qId, correct) {
    const card = document.getElementById(`card-${qId}`);
    const selected = document.querySelector(`input[name="q${qId}"]:checked`);
    const exp = document.getElementById(`exp-${qId}`);
    
    exp.style.display = 'block';

    if (selected) {
        if (selected.value === correct) {
            card.style.borderLeftColor = 'var(--success)';
            selected.parentElement.style.background = '#d4edda';
            selected.parentElement.style.borderColor = '#c3e6cb';
        } else {
            card.style.borderLeftColor = 'var(--danger)';
            selected.parentElement.style.background = '#f8d7da';
            selected.parentElement.style.borderColor = '#f5c6cb';
        }
    }
    
    // Highlight Correct Answer
    const correctInput = card.querySelector(`input[value="${correct}"]`);
    if(correctInput) {
        correctInput.parentElement.style.boxShadow = '0 0 0 2px var(--success)';
        correctInput.parentElement.querySelector('b').style.color = 'var(--success)';
    }
};

window.submitAll = function() {
    let score = 0;
    let total = 0;
    
    // Scan all questions
    const inputs = document.querySelectorAll('input[type="radio"]');
    const processedQs = new Set();
    
    inputs.forEach(inp => {
        const qName = inp.name;
        if(processedQs.has(qName)) return;
        processedQs.add(qName);
        total++;
        
        const qId = qName.replace('q', '');
        // Find correct answer from data
        let correct = '';
        quizData.forEach(item => {
            if(item.id == qId) correct = item.correct;
            if(item.questions) {
                const sub = item.questions.find(s => s.id == qId);
                if(sub) correct = sub.correct;
            }
        });
        
        checkInstant(qId, correct);
        
        const selected = document.querySelector(`input[name="${qName}"]:checked`);
        if(selected && selected.value === correct) score++;
    });

    const scoreText = document.getElementById('score-text');
    scoreText.innerHTML = `K·∫øt qu·∫£: <span style="color:${score/total >= 0.5 ? 'green':'red'}">${score}/${total}</span>`;
    
    alert(`B·∫°n ƒë√£ ho√†n th√†nh b√†i thi!\nƒêi·ªÉm s·ªë: ${score}/${total}`);
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Init
renderQuiz();

</script>
</body>
</html>


